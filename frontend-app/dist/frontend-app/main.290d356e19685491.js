(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[179],{9933:($e,F,G)=>{"use strict";function C(t){return"function"==typeof t}function Y(t){const e=t(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const W=Y(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function X(t,i){if(t){const e=t.indexOf(i);0<=e&&t.splice(e,1)}}class H{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(C(n))try{n()}catch(o){i=o instanceof W?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{d(o)}catch(s){i=i??[],s instanceof W?i=[...i,...s.errors]:i.push(s)}}if(i)throw new W(i)}}add(i){var e;if(i&&i!==this)if(this.closed)d(i);else{if(i instanceof H){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(i)}}_hasParent(i){const{_parentage:e}=this;return e===i||Array.isArray(e)&&e.includes(i)}_addParent(i){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(i),e):e?[e,i]:i}_removeParent(i){const{_parentage:e}=this;e===i?this._parentage=null:Array.isArray(e)&&X(e,i)}remove(i){const{_finalizers:e}=this;e&&X(e,i),i instanceof H&&i._removeParent(this)}}H.EMPTY=(()=>{const t=new H;return t.closed=!0,t})();const B=H.EMPTY;function y(t){return t instanceof H||t&&"closed"in t&&C(t.remove)&&C(t.add)&&C(t.unsubscribe)}function d(t){C(t)?t():t.unsubscribe()}const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},g={setTimeout(t,i,...e){const{delegate:n}=g;return n?.setTimeout?n.setTimeout(t,i,...e):setTimeout(t,i,...e)},clearTimeout(t){const{delegate:i}=g;return(i?.clearTimeout||clearTimeout)(t)},delegate:void 0};function u(t){g.setTimeout(()=>{const{onUnhandledError:i}=m;if(!i)throw t;i(t)})}function c(){}const a=f("C",void 0,void 0);function f(t,i,e){return{kind:t,value:i,error:e}}let v=null;function w(t){if(m.useDeprecatedSynchronousErrorHandling){const i=!v;if(i&&(v={errorThrown:!1,error:null}),t(),i){const{errorThrown:e,error:n}=v;if(v=null,e)throw n}}else t()}class x extends H{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,y(i)&&i.add(this)):this.destination=ie}static create(i,e,n){return new L(i,e,n)}next(i){this.isStopped?ne(function p(t){return f("N",t,void 0)}(i),this):this._next(i)}error(i){this.isStopped?ne(function h(t){return f("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?ne(a,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const D=Function.prototype.bind;function E(t,i){return D.call(t,i)}class k{constructor(i){this.partialObserver=i}next(i){const{partialObserver:e}=this;if(e.next)try{e.next(i)}catch(n){$(n)}}error(i){const{partialObserver:e}=this;if(e.error)try{e.error(i)}catch(n){$(n)}else $(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(e){$(e)}}}class L extends x{constructor(i,e,n){let r;if(super(),C(i)||!i)r={next:i??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&m.useDeprecatedNextContext?(o=Object.create(i),o.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&E(i.next,o),error:i.error&&E(i.error,o),complete:i.complete&&E(i.complete,o)}):r=i}this.destination=new k(r)}}function $(t){m.useDeprecatedSynchronousErrorHandling?function b(t){m.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=t)}(t):u(t)}function ne(t,i){const{onStoppedNotification:e}=m;e&&g.setTimeout(()=>e(t,i))}const ie={closed:!0,next:c,error:function V(t){throw t},complete:c},se="function"==typeof Symbol&&Symbol.observable||"@@observable";function de(t){return t}function J(t){return 0===t.length?de:1===t.length?t[0]:function(e){return t.reduce((n,r)=>r(n),e)}}let te=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(e,n,r){const o=function Q(t){return t&&t instanceof x||function R(t){return t&&C(t.next)&&C(t.error)&&C(t.complete)}(t)&&y(t)}(e)?e:new L(e,n,r);return w(()=>{const{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=fe(n))((r,o)=>{const s=new L({next:l=>{try{e(l)}catch(_){o(_),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[se](){return this}pipe(...e){return J(e)(this)}toPromise(e){return new(e=fe(e))((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return t.create=i=>new t(i),t})();function fe(t){var i;return null!==(i=t??m.Promise)&&void 0!==i?i:Promise}const K=Y(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let q=(()=>{class t extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new ye(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new K}next(e){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:o}=this;return n||r?B:(this.currentObservers=null,o.push(e),new H(()=>{this.currentObservers=null,X(o,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){const e=new te;return e.source=this,e}}return t.create=(i,e)=>new ye(i,e),t})();class ye extends q{constructor(i,e){super(),this.destination=i,this.source=e}next(i){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,i)}error(i){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,i)}complete(){var i,e;null===(e=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===e||e.call(i)}_subscribe(i){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(i))&&void 0!==n?n:B}}function oe(t){return C(t?.lift)}function Z(t){return i=>{if(oe(i))return i.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,i,e,n,r){return new re(t,i,e,n,r)}class re extends x{constructor(i,e,n,r,o,s){super(i),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(l){try{e(l)}catch(_){i.error(_)}}:super._next,this._error=r?function(l){try{r(l)}catch(_){i.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){i.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function ue(t,i){return Z((e,n)=>{let r=0;e.subscribe(ge(n,o=>{n.next(t.call(i,o,r++))}))})}function Nt(t){return this instanceof Nt?(this.v=t,this):new Nt(t)}function $t(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=function qe(t){var i="function"==typeof Symbol&&Symbol.iterator,e=i&&t[i],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=t[o]&&function(s){return new Promise(function(l,_){!function r(o,s,l,_){Promise.resolve(_).then(function(S){o({value:S,done:l})},s)}(l,_,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Kp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Zb(t){return C(t?.then)}function ey(t){return C(t[se])}function ty(t){return Symbol.asyncIterator&&C(t?.[Symbol.asyncIterator])}function iy(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ny=function _k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ry(t){return C(t?.[ny])}function oy(t){return function Ti(t,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e.apply(t,i||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(U){n[U]&&(r[U]=function(ee){return new Promise(function(he,be){o.push([U,ee,he,be])>1||l(U,ee)})})}function l(U,ee){try{!function _(U){U.value instanceof Nt?Promise.resolve(U.value.v).then(S,T):I(o[0][2],U)}(n[U](ee))}catch(he){I(o[0][3],he)}}function S(U){l("next",U)}function T(U){l("throw",U)}function I(U,ee){U(ee),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:n,done:r}=yield Nt(e.read());if(r)return yield Nt(void 0);yield yield Nt(n)}}finally{e.releaseLock()}})}function sy(t){return C(t?.getReader)}function Qi(t){if(t instanceof te)return t;if(null!=t){if(ey(t))return function vk(t){return new te(i=>{const e=t[se]();if(C(e.subscribe))return e.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Kp(t))return function bk(t){return new te(i=>{for(let e=0;e<t.length&&!i.closed;e++)i.next(t[e]);i.complete()})}(t);if(Zb(t))return function yk(t){return new te(i=>{t.then(e=>{i.closed||(i.next(e),i.complete())},e=>i.error(e)).then(null,u)})}(t);if(ty(t))return ay(t);if(ry(t))return function Ak(t){return new te(i=>{for(const e of t)if(i.next(e),i.closed)return;i.complete()})}(t);if(sy(t))return function Ck(t){return ay(oy(t))}(t)}throw iy(t)}function ay(t){return new te(i=>{(function wk(t,i){var e,n,r,o;return function Ne(t,i,e,n){return new(e||(e=Promise))(function(o,s){function l(T){try{S(n.next(T))}catch(I){s(I)}}function _(T){try{S(n.throw(T))}catch(I){s(I)}}function S(T){T.done?o(T.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(T.value).then(l,_)}S((n=n.apply(t,i||[])).next())})}(this,void 0,void 0,function*(){try{for(e=$t(t);!(n=yield e.next()).done;)if(i.next(n.value),i.closed)return}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}i.complete()})})(t,i).catch(e=>i.error(e))})}function Ho(t,i,e,n=0,r=!1){const o=i.schedule(function(){e(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!r)return o}function sn(t,i,e=1/0){return C(i)?sn((n,r)=>ue((o,s)=>i(n,o,r,s))(Qi(t(n,r))),e):("number"==typeof i&&(e=i),Z((n,r)=>function xk(t,i,e,n,r,o,s,l){const _=[];let S=0,T=0,I=!1;const U=()=>{I&&!_.length&&!S&&i.complete()},ee=be=>S<n?he(be):_.push(be),he=be=>{o&&i.next(be),S++;let we=!1;Qi(e(be,T++)).subscribe(ge(i,De=>{r?.(De),o?ee(De):i.next(De)},()=>{we=!0},void 0,()=>{if(we)try{for(S--;_.length&&S<n;){const De=_.shift();s?Ho(i,s,()=>he(De)):he(De)}U()}catch(De){i.error(De)}}))};return t.subscribe(ge(i,ee,()=>{I=!0,U()})),()=>{l?.()}}(n,r,t,e)))}function Ba(t=1/0){return sn(de,t)}const pr=new te(t=>t.complete());function ly(t){return t&&C(t.schedule)}function qp(t){return t[t.length-1]}function mu(t){return C(qp(t))?t.pop():void 0}function hc(t){return ly(qp(t))?t.pop():void 0}function cy(t,i=0){return Z((e,n)=>{e.subscribe(ge(n,r=>Ho(n,t,()=>n.next(r),i),()=>Ho(n,t,()=>n.complete(),i),r=>Ho(n,t,()=>n.error(r),i)))})}function dy(t,i=0){return Z((e,n)=>{n.add(t.schedule(()=>e.subscribe(n),i))})}function uy(t,i){if(!t)throw new Error("Iterable cannot be null");return new te(e=>{Ho(e,i,()=>{const n=t[Symbol.asyncIterator]();Ho(e,i,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Ki(t,i){return i?function kk(t,i){if(null!=t){if(ey(t))return function Dk(t,i){return Qi(t).pipe(dy(i),cy(i))}(t,i);if(Kp(t))return function Mk(t,i){return new te(e=>{let n=0;return i.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}(t,i);if(Zb(t))return function Ek(t,i){return Qi(t).pipe(dy(i),cy(i))}(t,i);if(ty(t))return uy(t,i);if(ry(t))return function Ik(t,i){return new te(e=>{let n;return Ho(e,i,()=>{n=t[ny](),Ho(e,i,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>C(n?.return)&&n.return()})}(t,i);if(sy(t))return function Ok(t,i){return uy(oy(t),i)}(t,i)}throw iy(t)}(t,i):Qi(t)}function Wr(...t){const i=hc(t),e=function Tk(t,i){return"number"==typeof qp(t)?t.pop():i}(t,1/0),n=t;return n.length?1===n.length?Qi(n[0]):Ba(e)(Ki(n,i)):pr}function hy(t={}){const{connector:i=(()=>new q),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,l,_,S=0,T=!1,I=!1;const U=()=>{l?.unsubscribe(),l=void 0},ee=()=>{U(),s=_=void 0,T=I=!1},he=()=>{const be=s;ee(),be?.unsubscribe()};return Z((be,we)=>{S++,!I&&!T&&U();const De=_=_??i();we.add(()=>{S--,0===S&&!I&&!T&&(l=Jp(he,r))}),De.subscribe(we),!s&&S>0&&(s=new L({next:Ve=>De.next(Ve),error:Ve=>{I=!0,U(),l=Jp(ee,e,Ve),De.error(Ve)},complete:()=>{T=!0,U(),l=Jp(ee,n),De.complete()}}),Qi(be).subscribe(s))})(o)}}function Jp(t,i,...e){if(!0===i)return void t();if(!1===i)return;const n=new L({next:()=>{n.unsubscribe(),t()}});return Qi(i(...e)).subscribe(n)}function bi(t){for(let i in t)if(t[i]===bi)return i;throw Error("Could not find renamed property on target object.")}function Zp(t,i){for(const e in i)i.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=i[e])}function Ai(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ai).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const e=i.indexOf("\n");return-1===e?i:i.substring(0,e)}function em(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const Pk=bi({__forward_ref__:bi});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return Ai(this())},t}function wt(t){return tm(t)?t():t}function tm(t){return"function"==typeof t&&t.hasOwnProperty(Pk)&&t.__forward_ref__===Ct}function im(t){return t&&!!t.\u0275providers}const gu="https://g.co/ng/security#xss";class Ue extends Error{constructor(i,e){super(_u(i,e)),this.code=i}}function _u(t,i){return`NG0${Math.abs(t)}${i?": "+i.trim():""}`}function Et(t){return"string"==typeof t?t:null==t?"":String(t)}function vu(t,i){throw new Ue(-201,!1)}function ci(t,i,e,n){throw new Error(`ASSERTION ERROR: ${t}`+(null==n?"":` [Expected=> ${e} ${n} ${i} <=Actual]`))}function Le(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function bu(t){return fy(t,yu)||fy(t,my)}function fy(t,i){return t.hasOwnProperty(i)?t[i]:null}function py(t){return t&&(t.hasOwnProperty(nm)||t.hasOwnProperty(jk))?t[nm]:null}const yu=bi({\u0275prov:bi}),nm=bi({\u0275inj:bi}),my=bi({ngInjectableDef:bi}),jk=bi({ngInjectorDef:bi});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let rm;function kr(t){const i=rm;return rm=t,i}function gy(t,i,e){const n=bu(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&xt.Optional?null:void 0!==i?i:void vu(Ai(t))}const Di=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fc={},om="__NG_DI_FLAG__",Au="ngTempTokenPath",Gk="ngTokenPath",zk=/\n/gm,Wk="\u0275",_y="__source";let pc;function Va(t){const i=pc;return pc=t,i}function $k(t,i=xt.Default){if(void 0===pc)throw new Ue(-203,!1);return null===pc?gy(t,void 0,i):pc.get(t,i&xt.Optional?null:void 0,i)}function Ce(t,i=xt.Default){return(function Uk(){return rm}()||$k)(wt(t),i)}function _t(t,i=xt.Default){return Ce(t,Cu(i))}function Cu(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sm(t){const i=[];for(let e=0;e<t.length;e++){const n=wt(t[e]);if(Array.isArray(n)){if(0===n.length)throw new Ue(900,!1);let r,o=xt.Default;for(let s=0;s<n.length;s++){const l=n[s],_=Yk(l);"number"==typeof _?-1===_?r=l.token:o|=_:r=l}i.push(Ce(r,o))}else i.push(Ce(n))}return i}function mc(t,i){return t[om]=i,t.prototype[om]=i,t}function Yk(t){return t[om]}function jo(t){return{toString:t}.toString()}var fo=(()=>((fo=fo||{})[fo.OnPush=0]="OnPush",fo[fo.Default=1]="Default",fo))(),$r=(()=>{return(t=$r||($r={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",$r;var t})();const Uo={},oi=[],wu=bi({\u0275cmp:bi}),am=bi({\u0275dir:bi}),lm=bi({\u0275pipe:bi}),by=bi({\u0275mod:bi}),Go=bi({\u0275fac:bi}),gc=bi({__NG_ELEMENT_ID__:bi});let Kk=0;function Xe(t){return jo(()=>{const i=Ay(t),e={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||$r.Emulated,id:"c"+Kk++,styles:t.styles||oi,_:null,schemas:t.schemas||null,tView:null};Cy(e);const n=t.dependencies;return e.directiveDefs=xu(n,!1),e.pipeDefs=xu(n,!0),e})}function Jk(t){return di(t)||Ln(t)}function Zk(t){return null!==t}function pt(t){return jo(()=>({type:t.type,bootstrap:t.bootstrap||oi,declarations:t.declarations||oi,imports:t.imports||oi,exports:t.exports||oi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yy(t,i){if(null==t)return Uo;const e={};for(const n in t)if(t.hasOwnProperty(n)){let r=t[n],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=n,i&&(i[r]=o)}return e}function He(t){return jo(()=>{const i=Ay(t);return Cy(i),i})}function er(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function di(t){return t[wu]||null}function Ln(t){return t[am]||null}function tr(t){return t[lm]||null}function gr(t,i){const e=t[by]||null;if(!e&&!0===i)throw new Error(`Type ${Ai(t)} does not have '\u0275mod' property.`);return e}function Ay(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||oi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yy(t.inputs,i),outputs:yy(t.outputs)}}function Cy(t){t.features?.forEach(i=>i(t))}function xu(t,i){if(!t)return null;const e=i?tr:Jk;return()=>("function"==typeof t?t():t).map(n=>e(n)).filter(Zk)}const zo=0,st=1,Vt=2,Vi=3,Yr=4,Vs=5,Bn=6,ja=7,Wi=8,Su=9,Tu=10,Ut=11,cm=12,_c=13,wy=14,Ua=15,Vn=16,vc=17,Ga=18,po=19,bc=20,xy=21,Ei=22,dm=1,Sy=2,Du=7,Eu=8,za=9,$n=10;function _r(t){return Array.isArray(t)&&"object"==typeof t[dm]}function Xr(t){return Array.isArray(t)&&!0===t[dm]}function um(t){return 0!=(4&t.flags)}function yc(t){return t.componentOffset>-1}function Mu(t){return 1==(1&t.flags)}function Qr(t){return!!t.template}function tP(t){return 0!=(256&t[Vt])}function Hs(t,i){return t.hasOwnProperty(Go)?t[Go]:null}class rP{constructor(i,e,n){this.previousValue=i,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function gi(){return Ey}function Ey(t){return t.type.prototype.ngOnChanges&&(t.setInput=sP),oP}function oP(){const t=Iy(this),i=t?.current;if(i){const e=t.previous;if(e===Uo)t.previous=i;else for(let n in i)e[n]=i[n];t.current=null,this.ngOnChanges(i)}}function sP(t,i,e,n){const r=this.declaredInputs[e],o=Iy(t)||function aP(t,i){return t[My]=i}(t,{previous:Uo,current:null}),s=o.current||(o.current={}),l=o.previous,_=l[r];s[r]=new rP(_&&_.currentValue,i,l===Uo),t[n]=i}gi.ngInherit=!0;const My="__ngSimpleChanges__";function Iy(t){return t[My]||null}const Pr=function(t,i,e){},Oy="svg";function An(t){for(;Array.isArray(t);)t=t[zo];return t}function Iu(t,i){return An(i[t])}function vr(t,i){return An(i[t.index])}function Py(t,i){return t.data[i]}function Wa(t,i){return t[i]}function ir(t,i){const e=i[t];return _r(e)?e:e[zo]}function Ou(t){return 64==(64&t[Vt])}function gs(t,i){return null==i?null:t[i]}function Ry(t){t[Ga]=0}function fm(t,i){t[Vs]+=i;let e=t,n=t[Vi];for(;null!==n&&(1===i&&1===e[Vs]||-1===i&&0===e[Vs]);)n[Vs]+=i,e=n,n=n[Vi]}const Mt={lFrame:zy(null),bindingsEnabled:!0};function Ny(){return Mt.bindingsEnabled}function We(){return Mt.lFrame.lView}function Zt(){return Mt.lFrame.tView}function Ie(t){return Mt.lFrame.contextLView=t,t[Wi]}function Oe(t){return Mt.lFrame.contextLView=null,t}function Cn(){let t=Ly();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ly(){return Mt.lFrame.currentTNode}function Ac(){const t=Mt.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}function mo(t,i){const e=Mt.lFrame;e.currentTNode=t,e.isParent=i}function pm(){return Mt.lFrame.isParent}function mm(){Mt.lFrame.isParent=!1}function Yn(){const t=Mt.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function Wo(){return Mt.lFrame.bindingIndex}function $a(){return Mt.lFrame.bindingIndex++}function $o(t){const i=Mt.lFrame,e=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,e}function Hy(t){Mt.lFrame.inI18n=t}function yP(t,i){const e=Mt.lFrame;e.bindingIndex=e.bindingRootIndex=t,gm(i)}function gm(t){Mt.lFrame.currentDirectiveIndex=t}function _m(t){const i=Mt.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function jy(){return Mt.lFrame.currentQueryIndex}function vm(t){Mt.lFrame.currentQueryIndex=t}function CP(t){const i=t[st];return 2===i.type?i.declTNode:1===i.type?t[Bn]:null}function Uy(t,i,e){if(e&xt.SkipSelf){let r=i,o=t;for(;!(r=r.parent,null!==r||e&xt.Host||(r=CP(o),null===r||(o=o[Ua],10&r.type))););if(null===r)return!1;i=r,t=o}const n=Mt.lFrame=Gy();return n.currentTNode=i,n.lView=t,!0}function bm(t){const i=Gy(),e=t[st];Mt.lFrame=i,i.currentTNode=e.firstChild,i.lView=t,i.tView=e,i.contextLView=t,i.bindingIndex=e.bindingStartIndex,i.inI18n=!1}function Gy(){const t=Mt.lFrame,i=null===t?null:t.child;return null===i?zy(t):i}function zy(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Wy(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $y=Wy;function ym(){const t=Wy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xn(){return Mt.lFrame.selectedIndex}function js(t){Mt.lFrame.selectedIndex=t}function Pi(){const t=Mt.lFrame;return Py(t.tView,t.selectedIndex)}function ku(t,i){for(let e=i.directiveStart,n=i.directiveEnd;e<n;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:_,ngAfterViewChecked:S,ngOnDestroy:T}=o;s&&(t.contentHooks??(t.contentHooks=[])).push(-e,s),l&&((t.contentHooks??(t.contentHooks=[])).push(e,l),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(e,l)),_&&(t.viewHooks??(t.viewHooks=[])).push(-e,_),S&&((t.viewHooks??(t.viewHooks=[])).push(e,S),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(e,S)),null!=T&&(t.destroyHooks??(t.destroyHooks=[])).push(e,T)}}function Pu(t,i,e){Xy(t,i,3,e)}function Ru(t,i,e,n){(3&t[Vt])===e&&Xy(t,i,e,n)}function Am(t,i){let e=t[Vt];(3&e)===i&&(e&=2047,e+=1,t[Vt]=e)}function Xy(t,i,e,n){const o=n??-1,s=i.length-1;let l=0;for(let _=void 0!==n?65535&t[Ga]:0;_<s;_++)if("number"==typeof i[_+1]){if(l=i[_],null!=n&&l>=n)break}else i[_]<0&&(t[Ga]+=65536),(l<o||-1==o)&&(IP(t,e,i,_),t[Ga]=(4294901760&t[Ga])+_+2),_++}function IP(t,i,e,n){const r=e[n]<0,o=e[n+1],l=t[r?-e[n]:e[n]];if(r){if(t[Vt]>>11<t[Ga]>>16&&(3&t[Vt])===i){t[Vt]+=2048,Pr(4,l,o);try{o.call(l)}finally{Pr(5,l,o)}}}else{Pr(4,l,o);try{o.call(l)}finally{Pr(5,l,o)}}}const Ya=-1;class Cc{constructor(i,e,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function wm(t,i,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const o=e[n++],s=e[n++],l=e[n++];t.setAttribute(i,s,l,o)}else{const o=r,s=e[++n];Ky(o)?t.setProperty(i,o,s):t.setAttribute(i,o,s),n++}}return n}function Qy(t){return 3===t||4===t||6===t}function Ky(t){return 64===t.charCodeAt(0)}function wc(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let e=-1;for(let n=0;n<i.length;n++){const r=i[n];"number"==typeof r?e=r:0===e||qy(t,e,r,null,-1===e||2===e?i[++n]:null)}}return t}function qy(t,i,e,n,r){let o=0,s=t.length;if(-1===i)s=-1;else for(;o<t.length;){const l=t[o++];if("number"==typeof l){if(l===i){s=-1;break}if(l>i){s=o-1;break}}}for(;o<t.length;){const l=t[o];if("number"==typeof l)break;if(l===e){if(null===n)return void(null!==r&&(t[o+1]=r));if(n===t[o+1])return void(t[o+2]=r)}o++,null!==n&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,i),o=s+1),t.splice(o++,0,e),null!==n&&t.splice(o++,0,n),null!==r&&t.splice(o++,0,r)}function Jy(t){return t!==Ya}function Fu(t){return 32767&t}function Nu(t,i){let e=function RP(t){return t>>16}(t),n=i;for(;e>0;)n=n[Ua],e--;return n}let xm=!0;function Lu(t){const i=xm;return xm=t,i}const Zy=255,e1=5;let FP=0;const go={};function Bu(t,i){const e=t1(t,i);if(-1!==e)return e;const n=i[st];n.firstCreatePass&&(t.injectorIndex=i.length,Sm(n.data,t),Sm(i,null),Sm(n.blueprint,null));const r=Tm(t,i),o=t.injectorIndex;if(Jy(r)){const s=Fu(r),l=Nu(r,i),_=l[st].data;for(let S=0;S<8;S++)i[o+S]=l[s+S]|_[s+S]}return i[o+8]=r,o}function Sm(t,i){t.push(0,0,0,0,0,0,0,0,i)}function t1(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Tm(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,n=null,r=i;for(;null!==r;){if(n=c1(r),null===n)return Ya;if(e++,r=r[Ua],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return Ya}function Dm(t,i,e){!function NP(t,i,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(gc)&&(n=e[gc]),null==n&&(n=e[gc]=FP++);const r=n&Zy;i.data[t+(r>>e1)]|=1<<r}(t,i,e)}function n1(t,i,e){if(e&xt.Optional||void 0!==t)return t;vu()}function r1(t,i,e,n){if(e&xt.Optional&&void 0===n&&(n=null),!(e&(xt.Self|xt.Host))){const r=t[Su],o=kr(void 0);try{return r?r.get(i,n,e&xt.Optional):gy(i,n,e&xt.Optional)}finally{kr(o)}}return n1(n,0,e)}function o1(t,i,e,n=xt.Default,r){if(null!==t){if(1024&i[Vt]){const s=function jP(t,i,e,n,r){let o=t,s=i;for(;null!==o&&null!==s&&1024&s[Vt]&&!(256&s[Vt]);){const l=s1(o,s,e,n|xt.Self,go);if(l!==go)return l;let _=o.parent;if(!_){const S=s[xy];if(S){const T=S.get(e,go,n);if(T!==go)return T}_=c1(s),s=s[Ua]}o=_}return r}(t,i,e,n,go);if(s!==go)return s}const o=s1(t,i,e,n,go);if(o!==go)return o}return r1(i,e,n,r)}function s1(t,i,e,n,r){const o=function VP(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(gc)?t[gc]:void 0;return"number"==typeof i?i>=0?i&Zy:HP:i}(e);if("function"==typeof o){if(!Uy(i,t,n))return n&xt.Host?n1(r,0,n):r1(i,e,n,r);try{const s=o(n);if(null!=s||n&xt.Optional)return s;vu()}finally{$y()}}else if("number"==typeof o){let s=null,l=t1(t,i),_=Ya,S=n&xt.Host?i[Vn][Bn]:null;for((-1===l||n&xt.SkipSelf)&&(_=-1===l?Tm(t,i):i[l+8],_!==Ya&&l1(n,!1)?(s=i[st],l=Fu(_),i=Nu(_,i)):l=-1);-1!==l;){const T=i[st];if(a1(o,l,T.data)){const I=BP(l,i,e,s,n,S);if(I!==go)return I}_=i[l+8],_!==Ya&&l1(n,i[st].data[l+8]===S)&&a1(o,l,i)?(s=T,l=Fu(_),i=Nu(_,i)):l=-1}}return r}function BP(t,i,e,n,r,o){const s=i[st],l=s.data[t+8],T=Vu(l,s,e,null==n?yc(l)&&xm:n!=s&&0!=(3&l.type),r&xt.Host&&o===l);return null!==T?Us(i,s,T,l):go}function Vu(t,i,e,n,r){const o=t.providerIndexes,s=i.data,l=1048575&o,_=t.directiveStart,T=o>>20,U=r?l+T:t.directiveEnd;for(let ee=n?l:l+T;ee<U;ee++){const he=s[ee];if(ee<_&&e===he||ee>=_&&he.type===e)return ee}if(r){const ee=s[_];if(ee&&Qr(ee)&&ee.type===e)return _}return null}function Us(t,i,e,n){let r=t[e];const o=i.data;if(function OP(t){return t instanceof Cc}(r)){const s=r;s.resolving&&function Rk(t,i){const e=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${t}${e}`)}(function li(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Et(t)}(o[e]));const l=Lu(s.canSeeViewProviders);s.resolving=!0;const _=s.injectImpl?kr(s.injectImpl):null;Uy(t,n,xt.Default);try{r=t[e]=s.factory(void 0,o,t,n),i.firstCreatePass&&e>=n.directiveStart&&function MP(t,i,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=i.type.prototype;if(n){const s=Ey(i);(e.preOrderHooks??(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t,s)}r&&(e.preOrderHooks??(e.preOrderHooks=[])).push(0-t,r),o&&((e.preOrderHooks??(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t,o))}(e,o[e],i)}finally{null!==_&&kr(_),Lu(l),s.resolving=!1,$y()}}return r}function a1(t,i,e){return!!(e[i+(t>>e1)]&1<<t)}function l1(t,i){return!(t&xt.Self||t&xt.Host&&i)}class Xa{constructor(i,e){this._tNode=i,this._lView=e}get(i,e,n){return o1(this._tNode,this._lView,i,Cu(n),e)}}function HP(){return new Xa(Cn(),We())}function fi(t){return jo(()=>{const i=t.prototype.constructor,e=i[Go]||Em(i),n=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){const o=r[Go]||Em(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Em(t){return tm(t)?()=>{const i=Em(wt(t));return i&&i()}:Hs(t)}function c1(t){const i=t[st],e=i.type;return 2===e?i.declTNode:1===e?t[Bn]:null}function Yo(t){return function LP(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const e=t.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const o=e[r];if(Qy(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(o===i)return e[r+1];r+=2}}}return null}(Cn(),t)}const Ka="__parameters__";function Ja(t,i,e){return jo(()=>{const n=function Mm(t){return function(...e){if(t){const n=t(...e);for(const r in n)this[r]=n[r]}}}(i);function r(...o){if(this instanceof r)return n.apply(this,o),this;const s=new r(...o);return l.annotation=s,l;function l(_,S,T){const I=_.hasOwnProperty(Ka)?_[Ka]:Object.defineProperty(_,Ka,{value:[]})[Ka];for(;I.length<=T;)I.push(null);return(I[T]=I[T]||[]).push(s),_}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Ge{constructor(i,e){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Le({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gs(t,i){t.forEach(e=>Array.isArray(e)?Gs(e,i):i(e))}function u1(t,i,e){i>=t.length?t.push(e):t.splice(i,0,e)}function Hu(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Tc(t,i){const e=[];for(let n=0;n<t;n++)e.push(i);return e}function br(t,i,e){let n=Za(t,i);return n>=0?t[1|n]=e:(n=~n,function WP(t,i,e,n){let r=t.length;if(r==i)t.push(e,n);else if(1===r)t.push(n,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>i;)t[r]=t[r-2],r--;t[i]=e,t[i+1]=n}}(t,n,i,e)),n}function Om(t,i){const e=Za(t,i);if(e>=0)return t[1|e]}function Za(t,i){return function h1(t,i,e){let n=0,r=t.length>>e;for(;r!==n;){const o=n+(r-n>>1),s=t[o<<e];if(i===s)return o<<e;s>i?r=o:n=o+1}return~(r<<e)}(t,i,1)}const Uu=mc(Ja("Inject",t=>({token:t})),-1),_o=mc(Ja("Optional"),8),zs=mc(Ja("SkipSelf"),4);var nr=(()=>((nr=nr||{})[nr.Important=1]="Important",nr[nr.DashCase=2]="DashCase",nr))();const dR=/^>|^->|<!--|-->|--!>|<!-$/g,uR=/(<|>)/,hR="\u200b$1\u200b";const Nm=new Map;let fR=0;const Bm="__ngContext__";function Hn(t,i){_r(i)?(t[Bm]=i[bc],function mR(t){Nm.set(t[bc],t)}(i)):t[Bm]=i}let Vm;function Hm(t,i){return Vm(t,i)}function Ic(t){const i=t[Vi];return Xr(i)?i[Vi]:i}function jm(t){return k1(t[_c])}function Um(t){return k1(t[Yr])}function k1(t){for(;null!==t&&!Xr(t);)t=t[Yr];return t}function tl(t,i,e,n,r){if(null!=n){let o,s=!1;Xr(n)?o=n:_r(n)&&(s=!0,n=n[zo]);const l=An(n);0===t&&null!==e?null==r?B1(i,e,l):Ws(i,e,l,r||null,!0):1===t&&null!==e?Ws(i,e,l,r||null,!0):2===t?Qm(i,l,s):3===t&&i.destroyNode(l),null!=o&&function BR(t,i,e,n,r){const o=e[Du];o!==An(e)&&tl(i,t,n,o,r);for(let l=$n;l<e.length;l++){const _=e[l];Oc(_[st],_,t,i,n,o)}}(i,t,o,e,r)}}function Gm(t,i){return t.createText(i)}function P1(t,i,e){t.setValue(i,e)}function TR(t,i){return t.createComment(function x1(t){return t.replace(dR,i=>i.replace(uR,hR))}(i))}function zm(t,i,e){return t.createElement(i,e)}function R1(t,i){const e=t[za],n=e.indexOf(i),r=i[Vi];512&i[Vt]&&(i[Vt]&=-513,fm(r,-1)),e.splice(n,1)}function Wm(t,i){if(t.length<=$n)return;const e=$n+i,n=t[e];if(n){const r=n[vc];null!==r&&r!==t&&R1(r,n),i>0&&(t[e-1][Yr]=n[Yr]);const o=Hu(t,$n+i);!function DR(t,i){Oc(t,i,i[Ut],2,null,null),i[zo]=null,i[Bn]=null}(n[st],n);const s=o[po];null!==s&&s.detachView(o[st]),n[Vi]=null,n[Yr]=null,n[Vt]&=-65}return n}function F1(t,i){if(!(128&i[Vt])){const e=i[Ut];e.destroyNode&&Oc(t,i,e,3,null,null),function IR(t){let i=t[_c];if(!i)return $m(t[st],t);for(;i;){let e=null;if(_r(i))e=i[_c];else{const n=i[$n];n&&(e=n)}if(!e){for(;i&&!i[Yr]&&i!==t;)_r(i)&&$m(i[st],i),i=i[Vi];null===i&&(i=t),_r(i)&&$m(i[st],i),e=i&&i[Yr]}i=e}}(i)}}function $m(t,i){if(!(128&i[Vt])){i[Vt]&=-65,i[Vt]|=128,function RR(t,i){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let n=0;n<e.length;n+=2){const r=i[e[n]];if(!(r instanceof Cc)){const o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const l=r[o[s]],_=o[s+1];Pr(4,l,_);try{_.call(l)}finally{Pr(5,l,_)}}else{Pr(4,r,o);try{o.call(r)}finally{Pr(5,r,o)}}}}}(t,i),function PR(t,i){const e=t.cleanup,n=i[ja];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?n[r=s]():n[r=-s].unsubscribe(),o+=2}else{const s=n[r=e[o+1]];e[o].call(s)}if(null!==n){for(let o=r+1;o<n.length;o++)(0,n[o])();i[ja]=null}}(t,i),1===i[st].type&&i[Ut].destroy();const e=i[vc];if(null!==e&&Xr(i[Vi])){e!==i[Vi]&&R1(e,i);const n=i[po];null!==n&&n.detachView(t)}!function gR(t){Nm.delete(t[bc])}(i)}}function N1(t,i,e){return L1(t,i.parent,e)}function L1(t,i,e){let n=i;for(;null!==n&&40&n.type;)n=(i=n).parent;if(null===n)return e[zo];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:o}=t.data[n.directiveStart+r];if(o===$r.None||o===$r.Emulated)return null}return vr(n,e)}}function Ws(t,i,e,n,r){t.insertBefore(i,e,n,r)}function B1(t,i,e){t.appendChild(i,e)}function V1(t,i,e,n,r){null!==n?Ws(t,i,e,n,r):B1(t,i,e)}function Wu(t,i){return t.parentNode(i)}function H1(t,i,e){return U1(t,i,e)}function j1(t,i,e){return 40&t.type?vr(t,e):null}let Ym,Xu,Jm,Qu,U1=j1;function G1(t,i){U1=t,Ym=i}function $u(t,i,e,n){const r=N1(t,n,i),o=i[Ut],l=H1(n.parent||i[Bn],n,i);if(null!=r)if(Array.isArray(e))for(let _=0;_<e.length;_++)V1(o,r,e[_],l,!1);else V1(o,r,e,l,!1);void 0!==Ym&&Ym(o,n,i,e,r)}function Yu(t,i){if(null!==i){const e=i.type;if(3&e)return vr(i,t);if(4&e)return Xm(-1,t[i.index]);if(8&e){const n=i.child;if(null!==n)return Yu(t,n);{const r=t[i.index];return Xr(r)?Xm(-1,r):An(r)}}if(32&e)return Hm(i,t)()||An(t[i.index]);{const n=z1(t,i);return null!==n?Array.isArray(n)?n[0]:Yu(Ic(t[Vn]),n):Yu(t,i.next)}}return null}function z1(t,i){return null!==i?t[Vn][Bn].projection[i.projection]:null}function Xm(t,i){const e=$n+t+1;if(e<i.length){const n=i[e],r=n[st].firstChild;if(null!==r)return Yu(n,r)}return i[Du]}function Qm(t,i,e){const n=Wu(t,i);n&&function FR(t,i,e,n){t.removeChild(i,e,n)}(t,n,i,e)}function Km(t,i,e,n,r,o,s){for(;null!=e;){const l=n[e.index],_=e.type;if(s&&0===i&&(l&&Hn(An(l),n),e.flags|=2),32!=(32&e.flags))if(8&_)Km(t,i,e.child,n,r,o,!1),tl(i,t,r,l,o);else if(32&_){const S=Hm(e,n);let T;for(;T=S();)tl(i,t,r,T,o);tl(i,t,r,l,o)}else 16&_?W1(t,i,n,e,r,o):tl(i,t,r,l,o);e=s?e.projectionNext:e.next}}function Oc(t,i,e,n,r,o){Km(e,n,t.firstChild,i,r,o,!1)}function W1(t,i,e,n,r,o){const s=e[Vn],_=s[Bn].projection[n.projection];if(Array.isArray(_))for(let S=0;S<_.length;S++)tl(i,t,r,_[S],o);else Km(t,i,_,s[Vi],r,o,!0)}function $1(t,i,e){""===e?t.removeAttribute(i,"class"):t.setAttribute(i,"class",e)}function Y1(t,i,e){const{mergedAttrs:n,classes:r,styles:o}=e;null!==n&&wm(t,i,n),null!==r&&$1(t,i,r),null!==o&&function HR(t,i,e){t.setAttribute(i,"style",e)}(t,i,o)}function il(t){return function qm(){if(void 0===Xu&&(Xu=null,Di.trustedTypes))try{Xu=Di.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xu}()?.createHTML(t)||t}function q1(t){return function Zm(){if(void 0===Qu&&(Qu=null,Di.trustedTypes))try{Qu=Di.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qu}()?.createScriptURL(t)||t}class $s{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gu})`}}class WR extends $s{getTypeName(){return"HTML"}}class $R extends $s{getTypeName(){return"Style"}}class YR extends $s{getTypeName(){return"Script"}}class XR extends $s{getTypeName(){return"URL"}}class QR extends $s{getTypeName(){return"ResourceURL"}}function yr(t){return t instanceof $s?t.changingThisBreaksApplicationSecurity:t}function vo(t,i){const e=function KR(t){return t instanceof $s&&t.getTypeName()||null}(t);if(null!=e&&e!==i){if("ResourceURL"===e&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${e} (see ${gu})`)}return e===i}function J1(t){const i=new nF(t);return function rF(){try{return!!(new window.DOMParser).parseFromString(il(""),"text/html")}catch{return!1}}()?new iF(i):i}class iF{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const e=(new window.DOMParser).parseFromString(il(i),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(i):(e.removeChild(e.firstChild),e)}catch{return null}}}class nF{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const e=this.inertDocument.createElement("template");return e.innerHTML=il(i),e}}const oF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ku(t){return(t=String(t)).match(oF)?t:"unsafe:"+t}function Xo(t){const i={};for(const e of t.split(","))i[e]=!0;return i}function kc(...t){const i={};for(const e of t)for(const n in e)e.hasOwnProperty(n)&&(i[n]=!0);return i}const Z1=Xo("area,br,col,hr,img,wbr"),eA=Xo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tA=Xo("rp,rt"),eg=kc(Z1,kc(eA,Xo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kc(tA,Xo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kc(tA,eA)),tg=Xo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iA=kc(tg,Xo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sF=Xo("script,style,template");class aF{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let e=i.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(i){const e=i.nodeName.toLowerCase();if(!eg.hasOwnProperty(e))return this.sanitizedSomething=!0,!sF.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=i.attributes;for(let r=0;r<n.length;r++){const o=n.item(r),s=o.name,l=s.toLowerCase();if(!iA.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let _=o.value;tg[l]&&(_=Ku(_)),this.buf.push(" ",s,'="',nA(_),'"')}return this.buf.push(">"),!0}endElement(i){const e=i.nodeName.toLowerCase();eg.hasOwnProperty(e)&&!Z1.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(i){this.buf.push(nA(i))}checkClobberedElement(i,e){if(e&&(i.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return e}}const lF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cF=/([^\#-~ |!])/g;function nA(t){return t.replace(/&/g,"&amp;").replace(lF,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(cF,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qu;function ig(t){return"content"in t&&function dF(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var si=(()=>((si=si||{})[si.NONE=0]="NONE",si[si.HTML=1]="HTML",si[si.STYLE=2]="STYLE",si[si.SCRIPT=3]="SCRIPT",si[si.URL=4]="URL",si[si.RESOURCE_URL=5]="RESOURCE_URL",si))();function ai(t){const i=Pc();return i?i.sanitize(si.URL,t)||"":vo(t,"URL")?yr(t):Ku(Et(t))}function ng(t){const i=Pc();if(i)return q1(i.sanitize(si.RESOURCE_URL,t)||"");if(vo(t,"ResourceURL"))return q1(yr(t));throw new Ue(904,!1)}function Pc(){const t=We();return t&&t[cm]}const Ju=new Ge("ENVIRONMENT_INITIALIZER"),sA=new Ge("INJECTOR",-1),aA=new Ge("INJECTOR_DEF_TYPES");class lA{get(i,e=fc){if(e===fc){const n=new Error(`NullInjectorError: No provider for ${Ai(i)}!`);throw n.name="NullInjectorError",n}return e}}function vF(...t){return{\u0275providers:cA(0,t),\u0275fromNgModule:!0}}function cA(t,...i){const e=[],n=new Set;let r;return Gs(i,o=>{const s=o;rg(s,e,[],n)&&(r||(r=[]),r.push(s))}),void 0!==r&&dA(r,e),e}function dA(t,i){for(let e=0;e<t.length;e++){const{providers:r}=t[e];og(r,o=>{i.push(o)})}}function rg(t,i,e,n){if(!(t=wt(t)))return!1;let r=null,o=py(t);const s=!o&&di(t);if(o||s){if(s&&!s.standalone)return!1;r=t}else{const _=t.ngModule;if(o=py(_),!o)return!1;r=_}const l=n.has(r);if(s){if(l)return!1;if(n.add(r),s.dependencies){const _="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const S of _)rg(S,i,e,n)}}else{if(!o)return!1;{if(null!=o.imports&&!l){let S;n.add(r);try{Gs(o.imports,T=>{rg(T,i,e,n)&&(S||(S=[]),S.push(T))})}finally{}void 0!==S&&dA(S,i)}if(!l){const S=Hs(r)||(()=>new r);i.push({provide:r,useFactory:S,deps:oi},{provide:aA,useValue:r,multi:!0},{provide:Ju,useValue:()=>Ce(r),multi:!0})}const _=o.providers;null==_||l||og(_,T=>{i.push(T)})}}return r!==t&&void 0!==t.providers}function og(t,i){for(let e of t)im(e)&&(e=e.\u0275providers),Array.isArray(e)?og(e,i):i(e)}const bF=bi({provide:String,useValue:bi});function sg(t){return null!==t&&"object"==typeof t&&bF in t}function Ys(t){return"function"==typeof t}const ag=new Ge("Set Injector scope."),Zu={},AF={};let lg;function eh(){return void 0===lg&&(lg=new lA),lg}class Fr{}class fA extends Fr{get destroyed(){return this._destroyed}constructor(i,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dg(i,s=>this.processProvider(s)),this.records.set(sA,nl(void 0,this)),r.has("environment")&&this.records.set(Fr,nl(void 0,this));const o=this.records.get(ag);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(aA.multi,oi,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const e=Va(this),n=kr(void 0);try{return i()}finally{Va(e),kr(n)}}get(i,e=fc,n=xt.Default){this.assertNotDestroyed(),n=Cu(n);const r=Va(this),o=kr(void 0);try{if(!(n&xt.SkipSelf)){let l=this.records.get(i);if(void 0===l){const _=function TF(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ge}(i)&&bu(i);l=_&&this.injectableDefInScope(_)?nl(cg(i),Zu):null,this.records.set(i,l)}if(null!=l)return this.hydrate(i,l)}return(n&xt.Self?eh():this.parent).get(i,e=n&xt.Optional&&e===fc?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Au]=s[Au]||[]).unshift(Ai(i)),r)throw s;return function Xk(t,i,e,n){const r=t[Au];throw i[_y]&&r.unshift(i[_y]),t.message=function Qk(t,i,e,n=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Wk?t.slice(2):t;let r=Ai(i);if(Array.isArray(i))r=i.map(Ai).join(" -> ");else if("object"==typeof i){let o=[];for(let s in i)if(i.hasOwnProperty(s)){let l=i[s];o.push(s+":"+("string"==typeof l?JSON.stringify(l):Ai(l)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${t.replace(zk,"\n  ")}`}("\n"+t.message,r,e,n),t[Gk]=r,t[Au]=null,t}(s,i,"R3InjectorError",this.source)}throw s}finally{kr(o),Va(r)}}resolveInjectorInitializers(){const i=Va(this),e=kr(void 0);try{const n=this.get(Ju.multi,oi,xt.Self);for(const r of n)r()}finally{Va(i),kr(e)}}toString(){const i=[],e=this.records;for(const n of e.keys())i.push(Ai(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(i){let e=Ys(i=wt(i))?i:wt(i&&i.provide);const n=function wF(t){return sg(t)?nl(void 0,t.useValue):nl(pA(t),Zu)}(i);if(Ys(i)||!0!==i.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=nl(void 0,Zu,!0),r.factory=()=>sm(r.multi),this.records.set(e,r)),e=i,r.multi.push(i)}this.records.set(e,n)}hydrate(i,e){return e.value===Zu&&(e.value=AF,e.value=e.factory()),"object"==typeof e.value&&e.value&&function SF(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(i){if(!i.providedIn)return!1;const e=wt(i.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function cg(t){const i=bu(t),e=null!==i?i.factory:Hs(t);if(null!==e)return e;if(t instanceof Ge)throw new Ue(204,!1);if(t instanceof Function)return function CF(t){const i=t.length;if(i>0)throw Tc(i,"?"),new Ue(204,!1);const e=function Hk(t){return t&&(t[yu]||t[my])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Ue(204,!1)}function pA(t,i,e){let n;if(Ys(t)){const r=wt(t);return Hs(r)||cg(r)}if(sg(t))n=()=>wt(t.useValue);else if(function hA(t){return!(!t||!t.useFactory)}(t))n=()=>t.useFactory(...sm(t.deps||[]));else if(function uA(t){return!(!t||!t.useExisting)}(t))n=()=>Ce(wt(t.useExisting));else{const r=wt(t&&(t.useClass||t.provide));if(!function xF(t){return!!t.deps}(t))return Hs(r)||cg(r);n=()=>new r(...sm(t.deps))}return n}function nl(t,i,e=!1){return{factory:t,value:i,multi:e?[]:void 0}}function dg(t,i){for(const e of t)Array.isArray(e)?dg(e,i):e&&im(e)?dg(e.\u0275providers,i):i(e)}class DF{}class mA{}class MF{resolveComponentFactory(i){throw function EF(t){const i=Error(`No component factory found for ${Ai(t)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=t,i}(i)}}let _s=(()=>{class t{}return t.NULL=new MF,t})();function IF(){return rl(Cn(),We())}function rl(t,i){return new Je(vr(t,i))}let Je=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=IF,t})();function OF(t){return t instanceof Je?t.nativeElement:t}class ol{}let or=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function kF(){const t=We(),e=ir(Cn().index,t);return(_r(e)?e:t)[Ut]}(),t})(),PF=(()=>{class t{}return t.\u0275prov=Le({token:t,providedIn:"root",factory:()=>null}),t})();class Xs{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const RF=new Xs("15.2.9"),ug={},hg="ngOriginalError";function fg(t){return t[hg]}class Qo{constructor(){this._console=console}handleError(i){const e=this._findOriginalError(i);this._console.error("ERROR",i),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(i){let e=i&&fg(i);for(;e&&fg(e);)e=fg(e);return e||null}}function pg(t){return t.ownerDocument.defaultView}function mg(t){return t.ownerDocument}function Ko(t){return t instanceof Function?t():t}function vA(t,i,e){let n=t.length;for(;;){const r=t.indexOf(i,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=i.length;if(r+o===n||t.charCodeAt(r+o)<=32)return r}e=r+1}}const bA="ng-template";function GF(t,i,e){let n=0,r=!0;for(;n<t.length;){let o=t[n++];if("string"==typeof o&&r){const s=t[n++];if(e&&"class"===o&&-1!==vA(s.toLowerCase(),i,0))return!0}else{if(1===o){for(;n<t.length&&"string"==typeof(o=t[n++]);)if(o.toLowerCase()===i)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function yA(t){return 4===t.type&&t.value!==bA}function zF(t,i,e){return i===(4!==t.type||e?t.value:bA)}function WF(t,i,e){let n=4;const r=t.attrs||[],o=function XF(t){for(let i=0;i<t.length;i++)if(Qy(t[i]))return i;return t.length}(r);let s=!1;for(let l=0;l<i.length;l++){const _=i[l];if("number"!=typeof _){if(!s)if(4&n){if(n=2|1&n,""!==_&&!zF(t,_,e)||""===_&&1===i.length){if(Kr(n))return!1;s=!0}}else{const S=8&n?_:i[++l];if(8&n&&null!==t.attrs){if(!GF(t.attrs,S,e)){if(Kr(n))return!1;s=!0}continue}const I=$F(8&n?"class":_,r,yA(t),e);if(-1===I){if(Kr(n))return!1;s=!0;continue}if(""!==S){let U;U=I>o?"":r[I+1].toLowerCase();const ee=8&n?U:null;if(ee&&-1!==vA(ee,S,0)||2&n&&S!==U){if(Kr(n))return!1;s=!0}}}}else{if(!s&&!Kr(n)&&!Kr(_))return!1;if(s&&Kr(_))continue;s=!1,n=_|1&n}}return Kr(n)||s}function Kr(t){return 0==(1&t)}function $F(t,i,e,n){if(null===i)return-1;let r=0;if(n||!e){let o=!1;for(;r<i.length;){const s=i[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let l=i[++r];for(;"string"==typeof l;)l=i[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function QF(t,i){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const n=t[e];if("number"==typeof n)return-1;if(n===i)return e;e++}return-1}(i,t)}function AA(t,i,e=!1){for(let n=0;n<i.length;n++)if(WF(t,i[n],e))return!0;return!1}function KF(t,i){e:for(let e=0;e<i.length;e++){const n=i[e];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function CA(t,i){return t?":not("+i.trim()+")":i}function qF(t){let i=t[0],e=1,n=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&n){const l=t[++e];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&n?r+="."+s:4&n&&(r+=" "+s);else""!==r&&!Kr(s)&&(i+=CA(o,r),r=""),n=s,o=o||!Kr(n);e++}return""!==r&&(i+=CA(o,r)),i}const It={};function j(t){wA(Zt(),We(),Xn()+t,!1)}function wA(t,i,e,n){if(!n)if(3==(3&i[Vt])){const o=t.preOrderCheckHooks;null!==o&&Pu(i,o,e)}else{const o=t.preOrderHooks;null!==o&&Ru(i,o,0,e)}js(e)}function DA(t,i=null,e=null,n){const r=EA(t,i,e,n);return r.resolveInjectorInitializers(),r}function EA(t,i=null,e=null,n,r=new Set){const o=[e||oi,vF(t)];return n=n||("object"==typeof t?void 0:Ai(t)),new fA(o,i||eh(),n||null,r)}let Mi=(()=>{class t{static create(e,n){if(Array.isArray(e))return DA({name:""},n,e,"");{const r=e.name??"";return DA({name:r},e.parent,e.providers,r)}}}return t.THROW_IF_NOT_FOUND=fc,t.NULL=new lA,t.\u0275prov=Le({token:t,providedIn:"any",factory:()=>Ce(sA)}),t.__NG_ELEMENT_ID__=-1,t})();function M(t,i=xt.Default){const e=We();return null===e?Ce(t,i):o1(Cn(),e,wt(t),i)}function Rc(){throw new Error("invalid")}function FA(t,i){const e=t.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const o=e[n+1];if(-1!==o){const s=t.data[o];vm(e[n]),s.contentQueries(2,i[o],o)}}}function ih(t,i,e,n,r,o,s,l,_,S,T){const I=i.blueprint.slice();return I[zo]=r,I[Vt]=76|n,(null!==T||t&&1024&t[Vt])&&(I[Vt]|=1024),Ry(I),I[Vi]=I[Ua]=t,I[Wi]=e,I[Tu]=s||t&&t[Tu],I[Ut]=l||t&&t[Ut],I[cm]=_||t&&t[cm]||null,I[Su]=S||t&&t[Su]||null,I[Bn]=o,I[bc]=function pR(){return fR++}(),I[xy]=T,I[Vn]=2==i.type?t[Vn]:I,I}function ll(t,i,e,n,r){let o=t.data[i];if(null===o)o=yg(t,i,e,n,r),function bP(){return Mt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=n,o.attrs=r;const s=Ac();o.injectorIndex=null===s?-1:s.injectorIndex}return mo(o,!0),o}function yg(t,i,e,n,r){const o=Ly(),s=pm(),_=t.data[i]=function wN(t,i,e,n,r,o){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,i,n,r);return null===t.firstChild&&(t.firstChild=_),null!==o&&(s?null==o.child&&null!==_.parent&&(o.child=_):null===o.next&&(o.next=_,_.prev=o)),_}function Fc(t,i,e,n){if(0===e)return-1;const r=i.length;for(let o=0;o<e;o++)i.push(n),t.blueprint.push(n),t.data.push(null);return r}function Ag(t,i,e){bm(i);try{const n=t.viewQuery;null!==n&&Ig(1,n,e);const r=t.template;null!==r&&NA(t,i,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&FA(t,i),t.staticViewQueries&&Ig(2,t.viewQuery,e);const o=t.components;null!==o&&function yN(t,i){for(let e=0;e<i.length;e++)GN(t,i[e])}(i,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{i[Vt]&=-5,ym()}}function nh(t,i,e,n){const r=i[Vt];if(128!=(128&r)){bm(i);try{Ry(i),function Vy(t){return Mt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&NA(t,i,e,2,n);const s=3==(3&r);if(s){const S=t.preOrderCheckHooks;null!==S&&Pu(i,S,null)}else{const S=t.preOrderHooks;null!==S&&Ru(i,S,0,null),Am(i,0)}if(function jN(t){for(let i=jm(t);null!==i;i=Um(i)){if(!i[Sy])continue;const e=i[za];for(let n=0;n<e.length;n++){const r=e[n];512&r[Vt]||fm(r[Vi],1),r[Vt]|=512}}}(i),function HN(t){for(let i=jm(t);null!==i;i=Um(i))for(let e=$n;e<i.length;e++){const n=i[e],r=n[st];Ou(n)&&nh(r,n,r.template,n[Wi])}}(i),null!==t.contentQueries&&FA(t,i),s){const S=t.contentCheckHooks;null!==S&&Pu(i,S)}else{const S=t.contentHooks;null!==S&&Ru(i,S,1),Am(i,1)}!function vN(t,i){const e=t.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const r=e[n];if(r<0)js(~r);else{const o=r,s=e[++n],l=e[++n];yP(s,o),l(2,i[o])}}}finally{js(-1)}}(t,i);const l=t.components;null!==l&&function bN(t,i){for(let e=0;e<i.length;e++)UN(t,i[e])}(i,l);const _=t.viewQuery;if(null!==_&&Ig(2,_,n),s){const S=t.viewCheckHooks;null!==S&&Pu(i,S)}else{const S=t.viewHooks;null!==S&&Ru(i,S,2),Am(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Vt]&=-41,512&i[Vt]&&(i[Vt]&=-513,fm(i[Vi],-1))}finally{ym()}}}function NA(t,i,e,n,r){const o=Xn(),s=2&n;try{js(-1),s&&i.length>Ei&&wA(t,i,Ei,!1),Pr(s?2:0,r),e(n,r)}finally{js(o),Pr(s?3:1,r)}}function Cg(t,i,e){if(um(i)){const r=i.directiveEnd;for(let o=i.directiveStart;o<r;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function wg(t,i,e){Ny()&&(function IN(t,i,e,n){const r=e.directiveStart,o=e.directiveEnd;yc(e)&&function LN(t,i,e){const n=vr(i,t),r=LA(e),o=t[Tu],s=rh(t,ih(t,r,null,e.onPush?32:16,n,i,o,o.createRenderer(n,e),null,null,null));t[i.index]=s}(i,e,t.data[r+e.componentOffset]),t.firstCreatePass||Bu(e,i),Hn(n,i);const s=e.initialInputs;for(let l=r;l<o;l++){const _=t.data[l],S=Us(i,t,l,e);Hn(S,i),null!==s&&BN(0,l-r,S,_,0,s),Qr(_)&&(ir(e.index,i)[Wi]=Us(i,t,l,e))}}(t,i,e,vr(e,i)),64==(64&e.flags)&&UA(t,i,e))}function xg(t,i,e=vr){const n=i.localNames;if(null!==n){let r=i.index+1;for(let o=0;o<n.length;o+=2){const s=n[o+1],l=-1===s?e(i,t):t[s];t[r++]=l}}}function LA(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Sg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):i}function Sg(t,i,e,n,r,o,s,l,_,S){const T=Ei+n,I=T+r,U=function AN(t,i){const e=[];for(let n=0;n<i;n++)e.push(n<t?null:It);return e}(T,I),ee="function"==typeof S?S():S;return U[st]={type:t,blueprint:U,template:e,queries:null,viewQuery:l,declTNode:i,data:U.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:_,consts:ee,incompleteFirstPass:!1}}function BA(t,i,e,n){const r=zA(i);null===e?r.push(n):(r.push(e),t.firstCreatePass&&WA(t).push(n,r.length-1))}function VA(t,i,e,n){for(let r in t)if(t.hasOwnProperty(r)){e=null===e?{}:e;const o=t[r];null===n?HA(e,i,r,o):n.hasOwnProperty(r)&&HA(e,i,n[r],o)}return e}function HA(t,i,e,n){t.hasOwnProperty(e)?t[e].push(i,n):t[e]=[i,n]}function Ar(t,i,e,n,r,o,s,l){const _=vr(i,e);let T,S=i.inputs;!l&&null!=S&&(T=S[n])?(Og(t,e,T,n,r),yc(i)&&function TN(t,i){const e=ir(i,t);16&e[Vt]||(e[Vt]|=32)}(e,i.index)):3&i.type&&(n=function SN(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),r=null!=s?s(r,i.value||"",n):r,o.setProperty(_,n,r))}function Tg(t,i,e,n){if(Ny()){const r=null===n?null:{"":-1},o=function kN(t,i){const e=t.directiveRegistry;let n=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(AA(i,s.selectors,!1))if(n||(n=[]),Qr(s))if(null!==s.findHostDirectiveDefs){const l=[];r=r||new Map,s.findHostDirectiveDefs(s,l,r),n.unshift(...l,s),Dg(t,i,l.length)}else n.unshift(s),Dg(t,i,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return null===n?null:[n,r]}(t,e);let s,l;null===o?s=l=null:[s,l]=o,null!==s&&jA(t,i,e,s,r,l),r&&function PN(t,i,e){if(i){const n=t.localNames=[];for(let r=0;r<i.length;r+=2){const o=e[i[r+1]];if(null==o)throw new Ue(-301,!1);n.push(i[r],o)}}}(e,n,r)}e.mergedAttrs=wc(e.mergedAttrs,e.attrs)}function jA(t,i,e,n,r,o){for(let S=0;S<n.length;S++)Dm(Bu(e,i),t,n[S].type);!function FN(t,i,e){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+e,t.providerIndexes=i}(e,t.data.length,n.length);for(let S=0;S<n.length;S++){const T=n[S];T.providersResolver&&T.providersResolver(T)}let s=!1,l=!1,_=Fc(t,i,n.length,null);for(let S=0;S<n.length;S++){const T=n[S];e.mergedAttrs=wc(e.mergedAttrs,T.hostAttrs),NN(t,e,i,_,T),RN(_,T,r),null!==T.contentQueries&&(e.flags|=4),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(e.flags|=64);const I=T.type.prototype;!s&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(e.index),s=!0),!l&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e.index),l=!0),_++}!function xN(t,i,e){const r=i.directiveEnd,o=t.data,s=i.attrs,l=[];let _=null,S=null;for(let T=i.directiveStart;T<r;T++){const I=o[T],U=e?e.get(I):null,he=U?U.outputs:null;_=VA(I.inputs,T,_,U?U.inputs:null),S=VA(I.outputs,T,S,he);const be=null===_||null===s||yA(i)?null:VN(_,T,s);l.push(be)}null!==_&&(_.hasOwnProperty("class")&&(i.flags|=8),_.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=l,i.inputs=_,i.outputs=S}(t,e,o)}function UA(t,i,e){const n=e.directiveStart,r=e.directiveEnd,o=e.index,s=function AP(){return Mt.lFrame.currentDirectiveIndex}();try{js(o);for(let l=n;l<r;l++){const _=t.data[l],S=i[l];gm(l),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&ON(_,S)}}finally{js(-1),gm(s)}}function ON(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function Dg(t,i,e){i.componentOffset=e,(t.components??(t.components=[])).push(i.index)}function RN(t,i,e){if(e){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)e[i.exportAs[n]]=t;Qr(i)&&(e[""]=t)}}function NN(t,i,e,n,r){t.data[n]=r;const o=r.factory||(r.factory=Hs(r.type)),s=new Cc(o,Qr(r),M);t.blueprint[n]=s,e[n]=s,function EN(t,i,e,n,r){const o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const l=~i.index;(function MN(t){let i=t.length;for(;i>0;){const e=t[--i];if("number"==typeof e&&e<0)return e}return 0})(s)!=l&&s.push(l),s.push(e,n,o)}}(t,i,n,Fc(t,e,r.hostVars,It),r)}function Eg(t,i,e,n,r,o,s){if(null==o)t.removeAttribute(i,r,e);else{const l=null==s?Et(o):s(o,n||"",r);t.setAttribute(i,r,l,e)}}function BN(t,i,e,n,r,o){const s=o[i];if(null!==s){const l=n.setInput;for(let _=0;_<s.length;){const S=s[_++],T=s[_++],I=s[_++];null!==l?n.setInput(e,I,S,T):e[T]=I}}}function VN(t,i,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===n&&(n=[]);const s=t[o];for(let l=0;l<s.length;l+=2)if(s[l]===i){n.push(o,s[l+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function GA(t,i,e,n){return[t,!0,!1,i,null,0,n,e,null,null]}function UN(t,i){const e=ir(i,t);if(Ou(e)){const n=e[st];48&e[Vt]?nh(n,e,n.template,e[Wi]):e[Vs]>0&&Mg(e)}}function Mg(t){for(let n=jm(t);null!==n;n=Um(n))for(let r=$n;r<n.length;r++){const o=n[r];if(Ou(o))if(512&o[Vt]){const s=o[st];nh(s,o,s.template,o[Wi])}else o[Vs]>0&&Mg(o)}const e=t[st].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ir(e[n],t);Ou(r)&&r[Vs]>0&&Mg(r)}}function GN(t,i){const e=ir(i,t),n=e[st];(function zN(t,i){for(let e=i.length;e<t.blueprint.length;e++)i.push(t.blueprint[e])})(n,e),Ag(n,e,e[Wi])}function rh(t,i){return t[_c]?t[wy][Yr]=i:t[_c]=i,t[wy]=i,i}function oh(t){for(;t;){t[Vt]|=32;const i=Ic(t);if(tP(t)&&!i)return t;t=i}return null}function sh(t,i,e,n=!0){const r=i[Tu];r.begin&&r.begin();try{nh(t,i,t.template,e)}catch(s){throw n&&YA(i,s),s}finally{r.end&&r.end()}}function Ig(t,i,e){vm(0),i(t,e)}function zA(t){return t[ja]||(t[ja]=[])}function WA(t){return t.cleanup||(t.cleanup=[])}function $A(t,i,e){return(null===t||Qr(t))&&(e=function cP(t){for(;Array.isArray(t);){if("object"==typeof t[dm])return t;t=t[zo]}return null}(e[i.index])),e[Ut]}function YA(t,i){const e=t[Su],n=e?e.get(Qo,null):null;n&&n.handleError(i)}function Og(t,i,e,n,r){for(let o=0;o<e.length;){const s=e[o++],l=e[o++],_=i[s],S=t.data[s];null!==S.setInput?S.setInput(_,r,n,l):_[l]=r}}function qo(t,i,e){const n=Iu(i,t);P1(t[Ut],n,e)}function ah(t,i,e){let n=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==i)for(let s=0;s<i.length;s++){const l=i[s];"number"==typeof l?o=l:1==o?r=em(r,l):2==o&&(n=em(n,l+": "+i[++s]+";"))}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=r:t.classesWithoutHost=r}function lh(t,i,e,n,r=!1){for(;null!==e;){const o=i[e.index];if(null!==o&&n.push(An(o)),Xr(o))for(let l=$n;l<o.length;l++){const _=o[l],S=_[st].firstChild;null!==S&&lh(_[st],_,S,n)}const s=e.type;if(8&s)lh(t,i,e.child,n);else if(32&s){const l=Hm(e,i);let _;for(;_=l();)n.push(_)}else if(16&s){const l=z1(i,e);if(Array.isArray(l))n.push(...l);else{const _=Ic(i[Vn]);lh(_[st],_,l,n,!0)}}e=r?e.projectionNext:e.next}return n}class Nc{get rootNodes(){const i=this._lView,e=i[st];return lh(e,i,e.firstChild,[])}constructor(i,e){this._lView=i,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wi]}set context(i){this._lView[Wi]=i}get destroyed(){return 128==(128&this._lView[Vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Vi];if(Xr(i)){const e=i[Eu],n=e?e.indexOf(this):-1;n>-1&&(Wm(i,n),Hu(e,n))}this._attachedToViewContainer=!1}F1(this._lView[st],this._lView)}onDestroy(i){BA(this._lView[st],this._lView,null,i)}markForCheck(){oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vt]&=-65}reattach(){this._lView[Vt]|=64}detectChanges(){sh(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function MR(t,i){Oc(t,i,i[Ut],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=i}}class WN extends Nc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;sh(i[st],i,i[Wi],!1)}checkNoChanges(){}get context(){return null}}class XA extends _s{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const e=di(i);return new Lc(e,this.ngModule)}}function QA(t){const i=[];for(let e in t)t.hasOwnProperty(e)&&i.push({propName:t[e],templateName:e});return i}class YN{constructor(i,e){this.injector=i,this.parentInjector=e}get(i,e,n){n=Cu(n);const r=this.injector.get(i,ug,n);return r!==ug||e===ug?r:this.parentInjector.get(i,e,n)}}class Lc extends mA{get inputs(){return QA(this.componentDef.inputs)}get outputs(){return QA(this.componentDef.outputs)}constructor(i,e){super(),this.componentDef=i,this.ngModule=e,this.componentType=i.type,this.selector=function JF(t){return t.map(qF).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!e}create(i,e,n,r){let o=(r=r||this.ngModule)instanceof Fr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new YN(i,o):i,l=s.get(ol,null);if(null===l)throw new Ue(407,!1);const _=s.get(PF,null),S=l.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",I=n?function CN(t,i,e){return t.selectRootElement(i,e===$r.ShadowDom)}(S,n,this.componentDef.encapsulation):zm(S,T,function $N(t){const i=t.toLowerCase();return"svg"===i?Oy:"math"===i?"math":null}(T)),U=this.componentDef.onPush?288:272,ee=Sg(0,null,null,1,0,null,null,null,null,null),he=ih(null,ee,null,U,null,null,l,S,_,s,null);let be,we;bm(he);try{const De=this.componentDef;let Ve,Pe=null;De.findHostDirectiveDefs?(Ve=[],Pe=new Map,De.findHostDirectiveDefs(De,Ve,Pe),Ve.push(De)):Ve=[De];const ze=function QN(t,i){const e=t[st],n=Ei;return t[n]=i,ll(e,n,2,"#host",null)}(he,I),rt=function KN(t,i,e,n,r,o,s,l){const _=r[st];!function qN(t,i,e,n){for(const r of t)i.mergedAttrs=wc(i.mergedAttrs,r.hostAttrs);null!==i.mergedAttrs&&(ah(i,i.mergedAttrs,!0),null!==e&&Y1(n,e,i))}(n,t,i,s);const S=o.createRenderer(i,e),T=ih(r,LA(e),null,e.onPush?32:16,r[t.index],t,o,S,l||null,null,null);return _.firstCreatePass&&Dg(_,t,n.length-1),rh(r,T),r[t.index]=T}(ze,I,De,Ve,he,l,S);we=Py(ee,Ei),I&&function ZN(t,i,e,n){if(n)wm(t,e,["ng-version",RF.full]);else{const{attrs:r,classes:o}=function ZF(t){const i=[],e=[];let n=1,r=2;for(;n<t.length;){let o=t[n];if("string"==typeof o)2===r?""!==o&&i.push(o,t[++n]):8===r&&e.push(o);else{if(!Kr(r))break;r=o}n++}return{attrs:i,classes:e}}(i.selectors[0]);r&&wm(t,e,r),o&&o.length>0&&$1(t,e,o.join(" "))}}(S,De,I,n),void 0!==e&&function e3(t,i,e){const n=t.projection=[];for(let r=0;r<i.length;r++){const o=e[r];n.push(null!=o?Array.from(o):null)}}(we,this.ngContentSelectors,e),be=function JN(t,i,e,n,r,o){const s=Cn(),l=r[st],_=vr(s,r);jA(l,r,s,e,null,n);for(let T=0;T<e.length;T++)Hn(Us(r,l,s.directiveStart+T,s),r);UA(l,r,s),_&&Hn(_,r);const S=Us(r,l,s.directiveStart+s.componentOffset,s);if(t[Wi]=r[Wi]=S,null!==o)for(const T of o)T(S,i);return Cg(l,s,t),S}(rt,De,Ve,Pe,he,[t3]),Ag(ee,he,null)}finally{ym()}return new XN(this.componentType,be,rl(we,he),he,we)}}class XN extends DF{constructor(i,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new WN(r),this.componentType=i}setInput(i,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[i])){const o=this._rootLView;Og(o[st],o,r,i,e),oh(ir(this._tNode.index,o))}}get injector(){return new Xa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function t3(){const t=Cn();ku(We()[st],t)}function at(t){let i=function KA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const n=[t];for(;i;){let r;if(Qr(t))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ue(903,!1);r=i.\u0275dir}if(r){if(e){n.push(r);const s=t;s.inputs=kg(t.inputs),s.declaredInputs=kg(t.declaredInputs),s.outputs=kg(t.outputs);const l=r.hostBindings;l&&s3(t,l);const _=r.viewQuery,S=r.contentQueries;if(_&&r3(t,_),S&&o3(t,S),Zp(t.inputs,r.inputs),Zp(t.declaredInputs,r.declaredInputs),Zp(t.outputs,r.outputs),Qr(r)&&r.data.animation){const T=t.data;T.animation=(T.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const l=o[s];l&&l.ngInherit&&l(t),l===at&&(e=!1)}}i=Object.getPrototypeOf(i)}!function n3(t){let i=0,e=null;for(let n=t.length-1;n>=0;n--){const r=t[n];r.hostVars=i+=r.hostVars,r.hostAttrs=wc(r.hostAttrs,e=wc(e,r.hostAttrs))}}(n)}function kg(t){return t===Uo?{}:t===oi?[]:t}function r3(t,i){const e=t.viewQuery;t.viewQuery=e?(n,r)=>{i(n,r),e(n,r)}:i}function o3(t,i){const e=t.contentQueries;t.contentQueries=e?(n,r,o)=>{i(n,r,o),e(n,r,o)}:i}function s3(t,i){const e=t.hostBindings;t.hostBindings=e?(n,r)=>{i(n,r),e(n,r)}:i}function ch(t){return!!Pg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Pg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function yo(t,i,e){return t[i]=e}function jn(t,i,e){return!Object.is(t[i],e)&&(t[i]=e,!0)}function Qs(t,i,e,n){const r=jn(t,i,e);return jn(t,i+1,n)||r}function dh(t,i,e,n,r){const o=Qs(t,i,e,n);return jn(t,i+2,r)||o}function mt(t,i,e,n){const r=We();return jn(r,$a(),i)&&(Zt(),function bo(t,i,e,n,r,o){const s=vr(t,i);Eg(i[Ut],s,o,t.value,e,n,r)}(Pi(),r,t,i,e,n)),mt}function dl(t,i,e,n){return jn(t,$a(),e)?i+Et(e)+n:It}function ul(t,i,e,n,r,o){const l=Qs(t,Wo(),e,r);return $o(2),l?i+Et(e)+n+Et(r)+o:It}function fl(t,i,e,n,r,o,s,l,_,S){const I=function Nr(t,i,e,n,r,o){const s=Qs(t,i,e,n);return Qs(t,i+2,r,o)||s}(t,Wo(),e,r,s,_);return $o(4),I?i+Et(e)+n+Et(r)+o+Et(s)+l+Et(_)+S:It}function pe(t,i,e,n,r,o,s,l){const _=We(),S=Zt(),T=t+Ei,I=S.firstCreatePass?function m3(t,i,e,n,r,o,s,l,_){const S=i.consts,T=ll(i,t,4,s||null,gs(S,l));Tg(i,e,T,gs(S,_)),ku(i,T);const I=T.tView=Sg(2,T,n,r,o,i.directiveRegistry,i.pipeRegistry,null,i.schemas,S);return null!==i.queries&&(i.queries.template(i,T),I.queries=i.queries.embeddedTView(T)),T}(T,S,_,i,e,n,r,o,s):S.data[T];mo(I,!1);const U=_[Ut].createComment("");$u(S,_,U,I),Hn(U,_),rh(_,_[T]=GA(U,_,U,I)),Mu(I)&&wg(S,_,I),null!=s&&xg(_,I,l)}function _i(t){return Wa(function vP(){return Mt.lFrame.contextLView}(),Ei+t)}function z(t,i,e){const n=We();return jn(n,$a(),i)&&Ar(Zt(),Pi(),n,t,i,n[Ut],e,!1),z}function Rg(t,i,e,n,r){const s=r?"class":"style";Og(t,e,i.inputs[s],s,n)}function O(t,i,e,n){const r=We(),o=Zt(),s=Ei+t,l=r[Ut],_=o.firstCreatePass?function _3(t,i,e,n,r,o){const s=i.consts,_=ll(i,t,2,n,gs(s,r));return Tg(i,e,_,gs(s,o)),null!==_.attrs&&ah(_,_.attrs,!1),null!==_.mergedAttrs&&ah(_,_.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,_),_}(s,o,r,i,e,n):o.data[s],S=r[s]=zm(l,i,function EP(){return Mt.lFrame.currentNamespace}()),T=Mu(_);return mo(_,!0),Y1(l,S,_),32!=(32&_.flags)&&$u(o,r,S,_),0===function fP(){return Mt.lFrame.elementDepthCount}()&&Hn(S,r),function pP(){Mt.lFrame.elementDepthCount++}(),T&&(wg(o,r,_),Cg(o,_,r)),null!==n&&xg(r,_),O}function N(){let t=Cn();pm()?mm():(t=t.parent,mo(t,!1));const i=t;!function mP(){Mt.lFrame.elementDepthCount--}();const e=Zt();return e.firstCreatePass&&(ku(e,t),um(t)&&e.queries.elementEnd(t)),null!=i.classesWithoutHost&&function kP(t){return 0!=(8&t.flags)}(i)&&Rg(e,i,We(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function PP(t){return 0!=(16&t.flags)}(i)&&Rg(e,i,We(),i.stylesWithoutHost,!1),N}function Ee(t,i,e,n){return O(t,i,e,n),N(),Ee}function wn(t,i,e){const n=We(),r=Zt(),o=t+Ei,s=r.firstCreatePass?function v3(t,i,e,n,r){const o=i.consts,s=gs(o,n),l=ll(i,t,8,"ng-container",s);return null!==s&&ah(l,s,!0),Tg(i,e,l,gs(o,r)),null!==i.queries&&i.queries.elementStart(i,l),l}(o,r,n,i,e):r.data[o];mo(s,!0);const l=n[o]=n[Ut].createComment("");return $u(r,n,l,s),Hn(l,n),Mu(s)&&(wg(r,n,s),Cg(r,s,n)),null!=e&&xg(n,s),wn}function xn(){let t=Cn();const i=Zt();return pm()?mm():(t=t.parent,mo(t,!1)),i.firstCreatePass&&(ku(i,t),um(t)&&i.queries.elementEnd(t)),xn}function Jo(t,i,e){return wn(t,i,e),xn(),Jo}function Qe(){return We()}function Hc(t){return!!t&&"function"==typeof t.then}function cC(t){return!!t&&"function"==typeof t.subscribe}const Fg=cC;function Ae(t,i,e,n){const r=We(),o=Zt(),s=Cn();return dC(o,r,r[Ut],s,t,i,n),Ae}function Ng(t,i){const e=Cn(),n=We(),r=Zt();return dC(r,n,$A(_m(r.data),e,n),e,t,i),Ng}function dC(t,i,e,n,r,o,s){const l=Mu(n),S=t.firstCreatePass&&WA(t),T=i[Wi],I=zA(i);let U=!0;if(3&n.type||s){const be=vr(n,i),we=s?s(be):be,De=I.length,Ve=s?ze=>s(An(ze[n.index])):n.index;let Pe=null;if(!s&&l&&(Pe=function b3(t,i,e,n){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===n){const l=i[ja],_=r[o+2];return l.length>_?l[_]:null}"string"==typeof s&&(o+=2)}return null}(t,i,r,n.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=o,Pe.__ngLastListenerFn__=o,U=!1;else{o=hC(n,i,T,o,!1);const ze=e.listen(we,r,o);I.push(o,ze),S&&S.push(r,Ve,De,De+1)}}else o=hC(n,i,T,o,!1);const ee=n.outputs;let he;if(U&&null!==ee&&(he=ee[r])){const be=he.length;if(be)for(let we=0;we<be;we+=2){const rt=i[he[we]][he[we+1]].subscribe(o),ht=I.length;I.push(o,rt),S&&S.push(r,n.index,ht,-(ht+1))}}}function uC(t,i,e,n){try{return Pr(6,i,e),!1!==e(n)}catch(r){return YA(t,r),!1}finally{Pr(7,i,e)}}function hC(t,i,e,n,r){return function o(s){if(s===Function)return n;oh(t.componentOffset>-1?ir(t.index,i):i);let _=uC(i,e,n,s),S=o.__ngNextListenerFn__;for(;S;)_=uC(i,e,S,s)&&_,S=S.__ngNextListenerFn__;return r&&!1===_&&(s.preventDefault(),s.returnValue=!1),_}}function ae(t=1){return function wP(t){return(Mt.lFrame.contextLView=function xP(t,i){for(;t>0;)i=i[Ua],t--;return i}(t,Mt.lFrame.contextLView))[Wi]}(t)}function y3(t,i){let e=null;const n=function YF(t){const i=t.attrs;if(null!=i){const e=i.indexOf(5);if(!(1&e))return i[e+1]}return null}(t);for(let r=0;r<i.length;r++){const o=i[r];if("*"!==o){if(null===n?AA(t,o,!0):KF(n,o))return r}else e=r}return e}function ln(t){const i=We()[Vn][Bn];if(!i.projection){const n=i.projection=Tc(t?t.length:1,null),r=n.slice();let o=i.child;for(;null!==o;){const s=t?y3(o,t):0;null!==s&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function Oi(t,i=0,e){const n=We(),r=Zt(),o=ll(r,Ei+t,16,null,e||null);null===o.projection&&(o.projection=i),mm(),32!=(32&o.flags)&&function LR(t,i,e){W1(i[Ut],0,i,e,N1(t,e,i),H1(e.parent||i[Bn],e,i))}(r,n,o)}function vs(t,i,e){return uh(t,"",i,"",e),vs}function uh(t,i,e,n,r){const o=We(),s=dl(o,i,e,n);return s!==It&&Ar(Zt(),Pi(),o,t,s,o[Ut],r,!1),uh}function hh(t,i){return t<<17|i<<2}function bs(t){return t>>17&32767}function Lg(t){return 2|t}function Ks(t){return(131068&t)>>2}function Bg(t,i){return-131069&t|i<<2}function Vg(t){return 1|t}function AC(t,i,e,n,r){const o=t[e+1],s=null===i;let l=n?bs(o):Ks(o),_=!1;for(;0!==l&&(!1===_||s);){const T=t[l+1];T3(t[l],i)&&(_=!0,t[l+1]=n?Vg(T):Lg(T)),l=n?bs(T):Ks(T)}_&&(t[e+1]=n?Lg(o):Vg(o))}function T3(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Za(t,i)>=0}const cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CC(t){return t.substring(cn.key,cn.keyEnd)}function wC(t,i){const e=cn.textEnd;return e===i?-1:(i=cn.keyEnd=function I3(t,i,e){for(;i<e&&t.charCodeAt(i)>32;)i++;return i}(t,cn.key=i,e),vl(t,i,e))}function vl(t,i,e){for(;i<e&&t.charCodeAt(i)<=32;)i++;return i}function Zo(t,i,e){return qr(t,i,e,!1),Zo}function tt(t,i){return qr(t,i,null,!0),tt}function es(t){Jr(V3,Co,t,!0)}function Co(t,i){for(let e=function E3(t){return function SC(t){cn.key=0,cn.keyEnd=0,cn.value=0,cn.valueEnd=0,cn.textEnd=t.length}(t),wC(t,vl(t,0,cn.textEnd))}(i);e>=0;e=wC(i,e))br(t,CC(i),!0)}function qr(t,i,e,n){const r=We(),o=Zt(),s=$o(2);o.firstUpdatePass&&MC(o,t,s,n),i!==It&&jn(r,s,i)&&OC(o,o.data[Xn()],r,r[Ut],t,r[s+1]=function j3(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Ai(yr(t)))),t}(i,e),n,s)}function Jr(t,i,e,n){const r=Zt(),o=$o(2);r.firstUpdatePass&&MC(r,null,o,n);const s=We();if(e!==It&&jn(s,o,e)){const l=r.data[Xn()];if(PC(l,n)&&!EC(r,o)){let _=n?l.classesWithoutHost:l.stylesWithoutHost;null!==_&&(e=em(_,e||"")),Rg(r,l,s,e,n)}else!function H3(t,i,e,n,r,o,s,l){r===It&&(r=oi);let _=0,S=0,T=0<r.length?r[0]:null,I=0<o.length?o[0]:null;for(;null!==T||null!==I;){const U=_<r.length?r[_+1]:void 0,ee=S<o.length?o[S+1]:void 0;let be,he=null;T===I?(_+=2,S+=2,U!==ee&&(he=I,be=ee)):null===I||null!==T&&T<I?(_+=2,he=T):(S+=2,he=I,be=ee),null!==he&&OC(t,i,e,n,he,be,s,l),T=_<r.length?r[_]:null,I=S<o.length?o[S]:null}}(r,l,s,s[Ut],s[o+1],s[o+1]=function B3(t,i,e){if(null==e||""===e)return oi;const n=[],r=yr(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(n,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(n,o,r[o]);else"string"==typeof r&&i(n,r);return n}(t,i,e),n,o)}}function EC(t,i){return i>=t.expandoStartIndex}function MC(t,i,e,n){const r=t.data;if(null===r[e+1]){const o=r[Xn()],s=EC(t,e);PC(o,n)&&null===i&&!s&&(i=!1),i=function R3(t,i,e,n){const r=_m(t);let o=n?i.residualClasses:i.residualStyles;if(null===r)0===(n?i.classBindings:i.styleBindings)&&(e=jc(e=Hg(null,t,i,e,n),i.attrs,n),o=null);else{const s=i.directiveStylingLast;if(-1===s||t[s]!==r)if(e=Hg(r,t,i,e,n),null===o){let _=function F3(t,i,e){const n=e?i.classBindings:i.styleBindings;if(0!==Ks(n))return t[bs(n)]}(t,i,n);void 0!==_&&Array.isArray(_)&&(_=Hg(null,t,i,_[1],n),_=jc(_,i.attrs,n),function N3(t,i,e,n){t[bs(e?i.classBindings:i.styleBindings)]=n}(t,i,n,_))}else o=function L3(t,i,e){let n;const r=i.directiveEnd;for(let o=1+i.directiveStylingLast;o<r;o++)n=jc(n,t[o].hostAttrs,e);return jc(n,i.attrs,e)}(t,i,n)}return void 0!==o&&(n?i.residualClasses=o:i.residualStyles=o),e}(r,o,i,n),function x3(t,i,e,n,r,o){let s=o?i.classBindings:i.styleBindings,l=bs(s),_=Ks(s);t[n]=e;let T,S=!1;if(Array.isArray(e)?(T=e[1],(null===T||Za(e,T)>0)&&(S=!0)):T=e,r)if(0!==_){const U=bs(t[l+1]);t[n+1]=hh(U,l),0!==U&&(t[U+1]=Bg(t[U+1],n)),t[l+1]=function C3(t,i){return 131071&t|i<<17}(t[l+1],n)}else t[n+1]=hh(l,0),0!==l&&(t[l+1]=Bg(t[l+1],n)),l=n;else t[n+1]=hh(_,0),0===l?l=n:t[_+1]=Bg(t[_+1],n),_=n;S&&(t[n+1]=Lg(t[n+1])),AC(t,T,n,!0),AC(t,T,n,!1),function S3(t,i,e,n,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof i&&Za(o,i)>=0&&(e[n+1]=Vg(e[n+1]))}(i,T,t,n,o),s=hh(l,_),o?i.classBindings=s:i.styleBindings=s}(r,o,i,e,s,n)}}function Hg(t,i,e,n,r){let o=null;const s=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<s&&(o=i[l],n=jc(n,o.hostAttrs,r),o!==t);)l++;return null!==t&&(e.directiveStylingLast=l),n}function jc(t,i,e){const n=e?1:2;let r=-1;if(null!==i)for(let o=0;o<i.length;o++){const s=i[o];"number"==typeof s?r=s:r===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),br(t,s,!!e||i[++o]))}return void 0===t?null:t}function V3(t,i,e){const n=String(i);""!==n&&!n.includes(" ")&&br(t,n,e)}function OC(t,i,e,n,r,o,s,l){if(!(3&i.type))return;const _=t.data,S=_[l+1],T=function w3(t){return 1==(1&t)}(S)?kC(_,i,e,r,Ks(S),s):void 0;fh(T)||(fh(o)||function A3(t){return 2==(2&t)}(S)&&(o=kC(_,null,e,r,l,s)),function VR(t,i,e,n,r){if(i)r?t.addClass(e,n):t.removeClass(e,n);else{let o=-1===n.indexOf("-")?void 0:nr.DashCase;null==r?t.removeStyle(e,n,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=nr.Important),t.setStyle(e,n,r,o))}}(n,s,Iu(Xn(),e),r,o))}function kC(t,i,e,n,r,o){const s=null===i;let l;for(;r>0;){const _=t[r],S=Array.isArray(_),T=S?_[1]:_,I=null===T;let U=e[r+1];U===It&&(U=I?oi:void 0);let ee=I?Om(U,n):T===n?U:void 0;if(S&&!fh(ee)&&(ee=Om(_,n)),fh(ee)&&(l=ee,s))return l;const he=t[r+1];r=s?bs(he):Ks(he)}if(null!==i){let _=o?i.residualClasses:i.residualStyles;null!=_&&(l=Om(_,n))}return l}function fh(t){return void 0!==t}function PC(t,i){return 0!=(t.flags&(i?8:16))}function ce(t,i=""){const e=We(),n=Zt(),r=t+Ei,o=n.firstCreatePass?ll(n,r,1,i,null):n.data[r],s=e[r]=Gm(e[Ut],i);$u(n,e,s,o),mo(o,!1)}function ct(t){return Tt("",t,""),ct}function Tt(t,i,e){const n=We(),r=dl(n,t,i,e);return r!==It&&qo(n,Xn(),r),Tt}function ys(t,i,e,n,r){const o=We(),s=ul(o,t,i,e,n,r);return s!==It&&qo(o,Xn(),s),ys}function wo(t,i,e,n,r,o,s){const l=We(),_=function hl(t,i,e,n,r,o,s,l){const S=dh(t,Wo(),e,r,s);return $o(3),S?i+Et(e)+n+Et(r)+o+Et(s)+l:It}(l,t,i,e,n,r,o,s);return _!==It&&qo(l,Xn(),_),wo}function jg(t,i,e,n,r,o,s,l,_){const S=We(),T=fl(S,t,i,e,n,r,o,s,l,_);return T!==It&&qo(S,Xn(),T),jg}function Ug(t,i,e){Jr(br,Co,dl(We(),t,i,e),!0)}function gn(t,i,e){const n=We();return jn(n,$a(),i)&&Ar(Zt(),Pi(),n,t,i,n[Ut],e,!0),gn}function Gg(t,i,e){const n=We();if(jn(n,$a(),i)){const o=Zt(),s=Pi();Ar(o,s,n,t,i,$A(_m(o.data),s,n),e,!0)}return Gg}const qs=void 0;var s5=["en",[["a","p"],["AM","PM"],qs],[["AM","PM"],qs,qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qs,"{1} 'at' {0}",qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function o5(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let bl={};function Qn(t){const i=function a5(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=KC(i);if(e)return e;const n=i.split("-")[0];if(e=KC(n),e)return e;if("en"===n)return s5;throw new Ue(701,!1)}function KC(t){return t in bl||(bl[t]=Di.ng&&Di.ng.common&&Di.ng.common.locales&&Di.ng.common.locales[t]),bl[t]}var nt=(()=>((nt=nt||{})[nt.LocaleId=0]="LocaleId",nt[nt.DayPeriodsFormat=1]="DayPeriodsFormat",nt[nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",nt[nt.DaysFormat=3]="DaysFormat",nt[nt.DaysStandalone=4]="DaysStandalone",nt[nt.MonthsFormat=5]="MonthsFormat",nt[nt.MonthsStandalone=6]="MonthsStandalone",nt[nt.Eras=7]="Eras",nt[nt.FirstDayOfWeek=8]="FirstDayOfWeek",nt[nt.WeekendRange=9]="WeekendRange",nt[nt.DateFormat=10]="DateFormat",nt[nt.TimeFormat=11]="TimeFormat",nt[nt.DateTimeFormat=12]="DateTimeFormat",nt[nt.NumberSymbols=13]="NumberSymbols",nt[nt.NumberFormats=14]="NumberFormats",nt[nt.CurrencyCode=15]="CurrencyCode",nt[nt.CurrencySymbol=16]="CurrencySymbol",nt[nt.CurrencyName=17]="CurrencyName",nt[nt.Currencies=18]="Currencies",nt[nt.Directionality=19]="Directionality",nt[nt.PluralCase=20]="PluralCase",nt[nt.ExtraData=21]="ExtraData",nt))();const l5=["zero","one","two","few","many"],yl="en-US",ph={marker:"element"},mh={marker:"ICU"};var Hi=(()=>((Hi=Hi||{})[Hi.SHIFT=2]="SHIFT",Hi[Hi.APPEND_EAGERLY=1]="APPEND_EAGERLY",Hi[Hi.COMMENT=2]="COMMENT",Hi))();let qC=yl;function JC(t){(function Or(t,i){null==t&&ci(i,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(qC=t.toLowerCase().replace(/_/g,"-"))}function ZC(t,i,e){const n=i.insertBeforeIndex,r=Array.isArray(n)?n[0]:n;return null===r?j1(t,0,e):An(e[r])}function ew(t,i,e,n,r){const o=i.insertBeforeIndex;if(Array.isArray(o)){let s=n,l=null;if(3&i.type||(l=s,s=r),null!==s&&-1===i.componentOffset)for(let _=1;_<o.length;_++)Ws(t,s,e[o[_]],l,!1)}}function tw(t,i){if(t.push(i),t.length>1)for(let e=t.length-2;e>=0;e--){const n=t[e];iw(n)||h5(n,i)&&null===f5(n)&&p5(n,i.index)}}function iw(t){return!(64&t.type)}function h5(t,i){return iw(i)||t.index>i.index}function f5(t){const i=t.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function p5(t,i){const e=t.insertBeforeIndex;Array.isArray(e)?e[0]=i:(G1(ZC,ew),t.insertBeforeIndex=i)}function Uc(t,i){const e=t.data[i];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function _5(t,i,e){const n=yg(t,e,64,null,null);return tw(i,n),n}function gh(t,i){const e=i[t.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function nw(t){return t>>>17}function rw(t){return(131070&t)>>>1}let Gc=0,zc=0;function sw(t,i,e,n){const r=e[Ut];let s,o=null;for(let l=0;l<i.length;l++){const _=i[l];if("string"==typeof _){const S=i[++l];null===e[S]&&(e[S]=Gm(r,_))}else if("number"==typeof _)switch(1&_){case 0:const S=nw(_);let T,I;if(null===o&&(o=S,s=Wu(r,n)),S===o?(T=n,I=s):(T=null,I=An(e[S])),null!==I){const be=rw(_);Ws(r,I,e[be],T,!1);const De=Uc(t,be);if(null!==De&&"object"==typeof De){const Ve=gh(De,e);null!==Ve&&sw(t,De.create[Ve],e,e[De.anchorIdx])}}break;case 1:const ee=i[++l],he=i[++l];Eg(r,Iu(_>>>1,e),null,null,ee,he,null)}else switch(_){case mh:const S=i[++l],T=i[++l];null===e[T]&&Hn(e[T]=TR(r,S),e);break;case ph:const I=i[++l],U=i[++l];null===e[U]&&Hn(e[U]=zm(r,I,null),e)}}}function aw(t,i,e,n,r){for(let o=0;o<e.length;o++){const s=e[o],l=e[++o];if(s&r){let _="";for(let S=o+1;S<=o+l;S++){const T=e[S];if("string"==typeof T)_+=T;else if("number"==typeof T)if(T<0)_+=Et(i[n-T]);else{const I=T>>>2;switch(3&T){case 1:const U=e[++S],ee=e[++S],he=t.data[I];"string"==typeof he?Eg(i[Ut],i[I],null,he,U,_,ee):Ar(t,he,i,U,_,i[Ut],ee,!1);break;case 0:const be=i[I];null!==be&&P1(i[Ut],be,_);break;case 2:C5(t,Uc(t,I),i,_);break;case 3:lw(t,Uc(t,I),n,i)}}}}else{const _=e[o+1];if(_>0&&3==(3&_)){const T=Uc(t,_>>>2);i[T.currentCaseLViewIndex]<0&&lw(t,T,n,i)}}o+=l}}function lw(t,i,e,n){let r=n[i.currentCaseLViewIndex];if(null!==r){let o=Gc;r<0&&(r=n[i.currentCaseLViewIndex]=~r,o=-1),aw(t,n,i.update[r],e,o)}}function C5(t,i,e,n){const r=function w5(t,i){let e=t.cases.indexOf(i);if(-1===e)switch(t.type){case 1:{const n=function c5(t,i){const e=function QC(t){return Qn(t)[nt.PluralCase]}(i)(parseInt(t,10)),n=l5[e];return void 0!==n?n:"other"}(i,function u5(){return qC}());e=t.cases.indexOf(n),-1===e&&"other"!==n&&(e=t.cases.indexOf("other"));break}case 0:e=t.cases.indexOf("other")}return-1===e?null:e}(i,n);if(gh(i,e)!==r&&(cw(t,i,e),e[i.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const s=e[i.anchorIdx];s&&sw(t,i.create[r],e,s)}}function cw(t,i,e){let n=gh(i,e);if(null!==n){const r=i.remove[n];for(let o=0;o<r.length;o++){const s=r[o];if(s>0){const l=Iu(s,e);null!==l&&Qm(e[Ut],l)}else cw(t,Uc(t,~s),e)}}}function x5(){const t=[];let e,n,i=-1;function o(l,_){i=0;const S=gh(l,_);n=null!==S?l.remove[S]:oi}function s(){if(i<n.length){const l=n[i++];return l>0?e[l]:(t.push(i,n),o(e[st].data[~l],e),s())}return 0===t.length?null:(n=t.pop(),i=t.pop(),s())}return function r(l,_){for(e=_;t.length;)t.pop();return o(l.value,_),s}}const _h=/\ufffd(\d+):?\d*\ufffd/gi,T5=/\ufffd(\d+)\ufffd/,uw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Wc="\ufffd",D5=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,E5=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,M5=/\uE500/g;function hw(t,i,e,n,r,o,s){const l=Fc(t,n,1,null);let _=l<<Hi.SHIFT,S=Ac();i===S&&(S=null),null===S&&(_|=Hi.APPEND_EAGERLY),s&&(_|=Hi.COMMENT,function wR(t){void 0===Vm&&(Vm=t())}(x5)),r.push(_,null===o?"":o);const T=yg(t,l,s?32:1,null===o?"":o,null);tw(e,T);const I=T.index;return mo(T,!1),null!==S&&i!==S&&function g5(t,i){let e=t.insertBeforeIndex;null===e?(G1(ZC,ew),e=t.insertBeforeIndex=[null,i]):(function ms(t,i,e){t!=i&&ci(e,t,i,"==")}(Array.isArray(e),!0,"Expecting array here"),e.push(i))}(S,I),T}function k5(t,i,e,n,r,o,s){const l=s.match(_h),_=hw(t,i,e,o,n,l?null:s,!1);l&&$c(r,s,_.index,null,0,null)}function $c(t,i,e,n,r,o){const s=t.length,l=s+1;t.push(null,null);const _=s+2,S=i.split(_h);let T=0;for(let I=0;I<S.length;I++){const U=S[I];if(1&I){const ee=r+parseInt(U,10);t.push(-1-ee),T|=fw(ee)}else""!==U&&t.push(U)}return t.push(e<<2|(n?1:0)),n&&t.push(n,o),t[s]=T,t[l]=t.length-_,T}function fw(t){return 1<<Math.min(t,31)}function pw(t){let i,o,e="",n=0,r=!1;for(;null!==(i=D5.exec(t));)r?i[0]===`${Wc}/*${o}${Wc}`&&(n=i.index,r=!1):(e+=t.substring(n,i.index+i[0].length),o=i[1],r=!0);return e+=t.slice(n),e}function mw(t,i,e,n,r,o){let s=0;const l={type:r.type,currentCaseLViewIndex:Fc(t,i,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function H5(t,i,e){t.push(fw(i.mainBinding),2,-1-i.mainBinding,e<<2|2)})(e,r,o),function m5(t,i,e){const n=t.data[i];null===n?t.data[i]=e:n.value=e}(t,o,l);const _=r.values;for(let S=0;S<_.length;S++){const T=_[S],I=[];for(let U=0;U<T.length;U++){const ee=T[U];if("string"!=typeof ee){const he=I.push(ee)-1;T[U]=`\x3c!--\ufffd${he}\ufffd--\x3e`}}s=B5(t,l,i,e,n,r.cases[S],T.join(""),I)|s}s&&function j5(t,i,e){t.push(i,1,e<<2|3)}(e,s,o)}function L5(t){const i=[],e=[];let n=1,r=0;const o=zg(t=t.replace(uw,function(s,l,_){return n="select"===_?0:1,r=parseInt(l.slice(1),10),""}));for(let s=0;s<o.length;){let l=o[s++].trim();1===n&&(l=l.replace(/\s*(?:=)?(\w+)\s*/,"$1")),l.length&&i.push(l);const _=zg(o[s++]);i.length>e.length&&e.push(_)}return{type:n,mainBinding:r,cases:i,values:e}}function zg(t){if(!t)return[];let i=0;const e=[],n=[],r=/[{}]/g;let o;for(r.lastIndex=0;o=r.exec(t);){const l=o.index;if("}"==o[0]){if(e.pop(),0==e.length){const _=t.substring(i,l);uw.test(_)?n.push(L5(_)):n.push(_),i=l+1}}else{if(0==e.length){const _=t.substring(i,l);n.push(_),i=l+1}e.push("{")}}const s=t.substring(i);return n.push(s),n}function B5(t,i,e,n,r,o,s,l){const _=[],S=[],T=[];i.cases.push(o),i.create.push(_),i.remove.push(S),i.update.push(T);const U=J1(function X1(){return void 0!==Jm?Jm:typeof document<"u"?document:void 0}()).getInertBodyElement(s),ee=ig(U)||U;return ee?gw(t,i,e,n,_,S,T,ee,r,l,0):0}function gw(t,i,e,n,r,o,s,l,_,S,T){let I=0,U=l.firstChild;for(;U;){const ee=Fc(t,e,1,null);switch(U.nodeType){case Node.ELEMENT_NODE:const he=U,be=he.tagName.toLowerCase();if(eg.hasOwnProperty(be)){Wg(r,ph,be,_,ee),t.data[ee]=be;const Pe=he.attributes;for(let ze=0;ze<Pe.length;ze++){const rt=Pe.item(ze),ht=rt.name.toLowerCase();rt.value.match(_h)?iA.hasOwnProperty(ht)&&$c(s,rt.value,ee,rt.name,0,tg[ht]?Ku:null):U5(r,ee,rt)}I=gw(t,i,e,n,r,o,s,U,ee,S,T+1)|I,_w(o,ee,T)}break;case Node.TEXT_NODE:const we=U.textContent||"",De=we.match(_h);Wg(r,null,De?"":we,_,ee),_w(o,ee,T),De&&(I=$c(s,we,ee,null,0,null)|I);break;case Node.COMMENT_NODE:const Ve=T5.exec(U.textContent||"");if(Ve){const ze=S[parseInt(Ve[1],10)];Wg(r,mh,"",_,ee),mw(t,e,n,_,ze,ee),V5(o,ee,T)}}U=U.nextSibling}return I}function _w(t,i,e){0===e&&t.push(i)}function V5(t,i,e){0===e&&(t.push(~i),t.push(i))}function Wg(t,i,e,n,r){null!==i&&t.push(i),t.push(e,r,function v5(t,i,e){return t|i<<17|e<<1}(0,n,r))}function U5(t,i,e){t.push(i<<1|1,e.name,e.value)}function bw(t,i,e=-1){const n=Zt(),r=We(),o=Ei+t,s=gs(n.consts,i),l=Ac();n.firstCreatePass&&function O5(t,i,e,n,r,o){const s=Ac(),l=[],_=[],S=[[]];r=function N5(t,i){if(function F5(t){return-1===t}(i))return pw(t);{const e=t.indexOf(`:${i}${Wc}`)+2+i.toString().length,n=t.search(new RegExp(`${Wc}\\/\\*\\d+:${i}${Wc}`));return pw(t.substring(e,n))}}(r,o);const T=function I5(t){return t.replace(M5," ")}(r).split(E5);for(let I=0;I<T.length;I++){let U=T[I];if(1&I){const ee=47===U.charCodeAt(0),be=(U.charCodeAt(ee?1:0),Ei+Number.parseInt(U.substring(ee?2:1)));if(ee)S.shift(),mo(Ac(),!1);else{const we=_5(t,S[0],be);S.unshift([]),mo(we,!0)}}else{const ee=zg(U);for(let he=0;he<ee.length;he++){let be=ee[he];if(1&he){const we=be;if("object"!=typeof we)throw new Error(`Unable to parse ICU expression in "${r}" message.`);mw(t,e,_,i,we,hw(t,s,S[0],e,l,"",!0).index)}else""!==be&&k5(t,s,S[0],l,_,e,be)}}}t.data[n]={create:l,update:_}}(n,null===l?0:l.index,r,o,s,e);const _=n.data[o],T=L1(n,l===r[Bn]?null:l,r);(function A5(t,i,e,n){const r=t[Ut];for(let o=0;o<i.length;o++){const s=i[o++],l=i[o],S=(s&Hi.APPEND_EAGERLY)===Hi.APPEND_EAGERLY,T=s>>>Hi.SHIFT;let I=t[T];null===I&&(I=t[T]=(s&Hi.COMMENT)===Hi.COMMENT?r.createComment(l):Gm(r,l)),S&&null!==e&&Ws(r,e,I,n,!1)}})(r,_.create,T,l&&8&l.type?r[l.index]:null),Hy(!0)}function Sn(t,i,e){bw(t,i,e),function yw(){Hy(!1)}()}function Al(t){return function b5(t){t&&(Gc|=1<<Math.min(zc,31)),zc++}(jn(We(),$a(),t)),Al}function Yc(t){!function y5(t,i,e){if(zc>0){const n=t.data[e];aw(t,i,Array.isArray(n)?n:n.update,Wo()-zc-1,Gc)}Gc=0,zc=0}(Zt(),We(),t+Ei)}function $g(t,i,e,n,r){if(t=wt(t),Array.isArray(t))for(let o=0;o<t.length;o++)$g(t[o],i,e,n,r);else{const o=Zt(),s=We();let l=Ys(t)?t:wt(t.provide),_=pA(t);const S=Cn(),T=1048575&S.providerIndexes,I=S.directiveStart,U=S.providerIndexes>>20;if(Ys(t)||!t.multi){const ee=new Cc(_,r,M),he=Xg(l,i,r?T:T+U,I);-1===he?(Dm(Bu(S,s),o,l),Yg(o,t,i.length),i.push(l),S.directiveStart++,S.directiveEnd++,r&&(S.providerIndexes+=1048576),e.push(ee),s.push(ee)):(e[he]=ee,s[he]=ee)}else{const ee=Xg(l,i,T+U,I),he=Xg(l,i,T,T+U),we=he>=0&&e[he];if(r&&!we||!r&&!(ee>=0&&e[ee])){Dm(Bu(S,s),o,l);const De=function n4(t,i,e,n,r){const o=new Cc(t,e,M);return o.multi=[],o.index=i,o.componentProviders=0,Aw(o,r,n&&!e),o}(r?t4:e4,e.length,r,n,_);!r&&we&&(e[he].providerFactory=De),Yg(o,t,i.length,0),i.push(l),S.directiveStart++,S.directiveEnd++,r&&(S.providerIndexes+=1048576),e.push(De),s.push(De)}else Yg(o,t,ee>-1?ee:he,Aw(e[r?he:ee],_,!r&&n));!r&&n&&we&&e[he].componentProviders++}}}function Yg(t,i,e,n){const r=Ys(i),o=function yF(t){return!!t.useClass}(i);if(r||o){const _=(o?wt(i.useClass):i).prototype.ngOnDestroy;if(_){const S=t.destroyHooks||(t.destroyHooks=[]);if(!r&&i.multi){const T=S.indexOf(e);-1===T?S.push(e,[n,_]):S[T+1].push(n,_)}else S.push(e,_)}}}function Aw(t,i,e){return e&&t.componentProviders++,t.multi.push(i)-1}function Xg(t,i,e,n){for(let r=e;r<n;r++)if(i[r]===t)return r;return-1}function e4(t,i,e,n){return Qg(this.multi,[])}function t4(t,i,e,n){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=Us(e,e[st],this.providerFactory.index,n);o=l.slice(0,s),Qg(r,o);for(let _=s;_<l.length;_++)o.push(l[_])}else o=[],Qg(r,o);return o}function Qg(t,i){for(let e=0;e<t.length;e++)i.push((0,t[e])());return i}function Pt(t,i=[]){return e=>{e.providersResolver=(n,r)=>function Z5(t,i,e){const n=Zt();if(n.firstCreatePass){const r=Qr(t);$g(e,n.data,n.blueprint,r,!0),$g(i,n.data,n.blueprint,r,!1)}}(n,r?r(t):t,i)}}class Cl{}class Cw{}class ww extends Cl{constructor(i,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XA(this);const n=gr(i);this._bootstrapComponents=Ko(n.bootstrap),this._r3Injector=EA(i,e,[{provide:Cl,useValue:this},{provide:_s,useValue:this.componentFactoryResolver}],Ai(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Kg extends Cw{constructor(i){super(),this.moduleType=i}create(i){return new ww(this.moduleType,i)}}class o4 extends Cl{constructor(i,e,n){super(),this.componentFactoryResolver=new XA(this),this.instance=null;const r=new fA([...i,{provide:Cl,useValue:this},{provide:_s,useValue:this.componentFactoryResolver}],e||eh(),n,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function vh(t,i,e=null){return new o4(t,i,e).injector}let s4=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const n=cA(0,e.type),r=n.length>0?vh([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Le({token:t,providedIn:"environment",factory:()=>new t(Ce(Fr))}),t})();function qi(t){t.getStandaloneInjector=i=>i.get(s4).getOrCreateStandaloneInjector(t)}function Lt(t,i,e,n){return Ow(We(),Yn(),t,i,e,n)}function Lr(t,i,e,n,r){return function kw(t,i,e,n,r,o,s){const l=i+e;return Qs(t,l,r,o)?yo(t,l+2,s?n.call(s,r,o):n(r,o)):Xc(t,l+2)}(We(),Yn(),t,i,e,n,r)}function wl(t,i,e,n,r,o){return Pw(We(),Yn(),t,i,e,n,r,o)}function Xc(t,i){const e=t[i];return e===It?void 0:e}function Ow(t,i,e,n,r,o){const s=i+e;return jn(t,s,r)?yo(t,s+1,o?n.call(o,r):n(r)):Xc(t,s+1)}function Pw(t,i,e,n,r,o,s,l){const _=i+e;return dh(t,_,r,o,s)?yo(t,_+3,l?n.call(l,r,o,s):n(r,o,s)):Xc(t,_+3)}function Tn(t,i){const e=Zt();let n;const r=t+Ei;e.firstCreatePass?(n=function A4(t,i){if(i)for(let e=i.length-1;e>=0;e--){const n=i[e];if(t===n.name)return n}}(i,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks??(e.destroyHooks=[])).push(r,n.onDestroy)):n=e.data[r];const o=n.factory||(n.factory=Hs(n.type)),s=kr(M);try{const l=Lu(!1),_=o();return Lu(l),function g3(t,i,e,n){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),i[e]=n}(e,We(),r,_),_}finally{kr(s)}}function Cr(t,i,e){const n=t+Ei,r=We(),o=Wa(r,n);return Kc(r,n)?Ow(r,Yn(),i,o.transform,e,o):o.transform(e)}function Qc(t,i,e,n,r){const o=t+Ei,s=We(),l=Wa(s,o);return Kc(s,o)?Pw(s,Yn(),i,l.transform,e,n,r,l):l.transform(e,n,r)}function Kc(t,i){return t[st].data[i].pure}function Jg(t){return i=>{setTimeout(t,void 0,i)}}const Ye=class S4 extends q{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,e,n){let r=i,o=e||(()=>null),s=n;if(i&&"object"==typeof i){const _=i;r=_.next?.bind(_),o=_.error?.bind(_),s=_.complete?.bind(_)}this.__isAsync&&(o=Jg(o),r&&(r=Jg(r)),s&&(s=Jg(s)));const l=super.subscribe({next:r,error:o,complete:s});return i instanceof H&&i.add(l),l}};function T4(){return this._results[Symbol.iterator]()}class xo{get changes(){return this._changes||(this._changes=new Ye)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xo.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=T4)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,e){return this._results.reduce(i,e)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,e){const n=this;n.dirty=!1;const r=function Rr(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function GP(t,i,e){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=i[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gt=(()=>{class t{}return t.__NG_ELEMENT_ID__=M4,t})();const D4=Gt,E4=class extends D4{constructor(i,e,n){super(),this._declarationLView=i,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(i,e){const n=this._declarationTContainer.tView,r=ih(this._declarationLView,n,i,16,null,n.declTNode,null,null,null,null,e||null);r[vc]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[po];return null!==s&&(r[po]=s.createEmbeddedView(n)),Ag(n,r,i),new Nc(r)}};function M4(){return bh(Cn(),We())}function bh(t,i){return 4&t.type?new E4(i,t,rl(t,i)):null}let Ji=(()=>{class t{}return t.__NG_ELEMENT_ID__=I4,t})();function I4(){return Bw(Cn(),We())}const O4=Ji,Nw=class extends O4{constructor(i,e,n){super(),this._lContainer=i,this._hostTNode=e,this._hostLView=n}get element(){return rl(this._hostTNode,this._hostLView)}get injector(){return new Xa(this._hostTNode,this._hostLView)}get parentInjector(){const i=Tm(this._hostTNode,this._hostLView);if(Jy(i)){const e=Nu(i,this._hostLView),n=Fu(i);return new Xa(e[st].data[n+8],e)}return new Xa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const e=Lw(this._lContainer);return null!==e&&e[i]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(i,e,n){let r,o;"number"==typeof n?r=n:null!=n&&(r=n.index,o=n.injector);const s=i.createEmbeddedView(e||{},o);return this.insert(s,r),s}createComponent(i,e,n,r,o){const s=i&&!function Sc(t){return"function"==typeof t}(i);let l;if(s)l=e;else{const I=e||{};l=I.index,n=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const _=s?i:new Lc(di(i)),S=n||this.parentInjector;if(!o&&null==_.ngModule){const U=(s?S:this.parentInjector).get(Fr,null);U&&(o=U)}const T=_.create(S,r,void 0,o);return this.insert(T.hostView,l),T}insert(i,e){const n=i._lView,r=n[st];if(function hP(t){return Xr(t[Vi])}(n)){const T=this.indexOf(i);if(-1!==T)this.detach(T);else{const I=n[Vi],U=new Nw(I,I[Bn],I[Vi]);U.detach(U.indexOf(i))}}const o=this._adjustIndex(e),s=this._lContainer;!function OR(t,i,e,n){const r=$n+n,o=e.length;n>0&&(e[r-1][Yr]=i),n<o-$n?(i[Yr]=e[r],u1(e,$n+n,i)):(e.push(i),i[Yr]=null),i[Vi]=e;const s=i[vc];null!==s&&e!==s&&function kR(t,i){const e=t[za];i[Vn]!==i[Vi][Vi][Vn]&&(t[Sy]=!0),null===e?t[za]=[i]:e.push(i)}(s,i);const l=i[po];null!==l&&l.insertView(t),i[Vt]|=64}(r,n,s,o);const l=Xm(o,s),_=n[Ut],S=Wu(_,s[Du]);return null!==S&&function ER(t,i,e,n,r,o){n[zo]=r,n[Bn]=i,Oc(t,n,e,1,r,o)}(r,s[Bn],_,n,S,l),i.attachToViewContainerRef(),u1(Zg(s),o,i),i}move(i,e){return this.insert(i,e)}indexOf(i){const e=Lw(this._lContainer);return null!==e?e.indexOf(i):-1}remove(i){const e=this._adjustIndex(i,-1),n=Wm(this._lContainer,e);n&&(Hu(Zg(this._lContainer),e),F1(n[st],n))}detach(i){const e=this._adjustIndex(i,-1),n=Wm(this._lContainer,e);return n&&null!=Hu(Zg(this._lContainer),e)?new Nc(n):null}_adjustIndex(i,e=0){return i??this.length+e}};function Lw(t){return t[Eu]}function Zg(t){return t[Eu]||(t[Eu]=[])}function Bw(t,i){let e;const n=i[t.index];if(Xr(n))e=n;else{let r;if(8&t.type)r=An(n);else{const o=i[Ut];r=o.createComment("");const s=vr(t,i);Ws(o,Wu(o,s),r,function NR(t,i){return t.nextSibling(i)}(o,s),!1)}i[t.index]=e=GA(n,i,r,t),rh(i,e)}return new Nw(e,t,i)}class e_{constructor(i){this.queryList=i,this.matches=null}clone(){return new e_(this.queryList)}setDirty(){this.queryList.setDirty()}}class t_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const e=i.queries;if(null!==e){const n=null!==i.contentQueries?i.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new t_(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let e=0;e<this.queries.length;e++)null!==Gw(i,e).matches&&this.queries[e].setDirty()}}class Vw{constructor(i,e,n=null){this.predicate=i,this.flags=e,this.read=n}}class i_{constructor(i=[]){this.queries=i}elementStart(i,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,e)}elementEnd(i){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(i)}embeddedTView(i){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(i,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new i_(e):null}template(i,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,e)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class n_{constructor(i,e=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(i,e){this.isApplyingToNode(e)&&this.matchTNode(i,e)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,e){this.elementStart(i,e)}embeddedTView(i,e){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,e),new n_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=i.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(i,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(i,e,k4(e,o)),this.matchTNodeWithReadOption(i,e,Vu(e,i,o,!1,!1))}else n===Gt?4&e.type&&this.matchTNodeWithReadOption(i,e,-1):this.matchTNodeWithReadOption(i,e,Vu(e,i,n,!1,!1))}matchTNodeWithReadOption(i,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Je||r===Ji||r===Gt&&4&e.type)this.addMatch(e.index,-2);else{const o=Vu(e,i,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(i,e){null===this.matches?this.matches=[i,e]:this.matches.push(i,e)}}function k4(t,i){const e=t.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===i)return e[n+1];return null}function R4(t,i,e,n){return-1===e?function P4(t,i){return 11&t.type?rl(t,i):4&t.type?bh(t,i):null}(i,t):-2===e?function F4(t,i,e){return e===Je?rl(i,t):e===Gt?bh(i,t):e===Ji?Bw(i,t):void 0}(t,i,n):Us(t,t[st],e,i)}function Hw(t,i,e,n){const r=i[po].queries[n];if(null===r.matches){const o=t.data,s=e.matches,l=[];for(let _=0;_<s.length;_+=2){const S=s[_];l.push(S<0?null:R4(i,o[S],s[_+1],e.metadata.read))}r.matches=l}return r.matches}function r_(t,i,e,n){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=Hw(t,i,r,e);for(let l=0;l<o.length;l+=2){const _=o[l];if(_>0)n.push(s[l/2]);else{const S=o[l+1],T=i[-_];for(let I=$n;I<T.length;I++){const U=T[I];U[vc]===U[Vi]&&r_(U[st],U,S,n)}if(null!==T[za]){const I=T[za];for(let U=0;U<I.length;U++){const ee=I[U];r_(ee[st],ee,S,n)}}}}}return n}function Ze(t){const i=We(),e=Zt(),n=jy();vm(n+1);const r=Gw(e,n);if(t.dirty&&function uP(t){return 4==(4&t[Vt])}(i)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?r_(e,i,n,[]):Hw(e,i,r,n);t.reset(o,OF),t.notifyOnChanges()}return!0}return!1}function Xt(t,i,e){const n=Zt();n.firstCreatePass&&(Uw(n,new Vw(t,i,e),-1),2==(2&i)&&(n.staticViewQueries=!0)),jw(n,We(),i)}function Dt(t,i,e,n){const r=Zt();if(r.firstCreatePass){const o=Cn();Uw(r,new Vw(i,e,n),o.index),function L4(t,i){const e=t.contentQueries||(t.contentQueries=[]);i!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,i)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}jw(r,We(),e)}function et(){return function N4(t,i){return t[po].queries[i].queryList}(We(),jy())}function jw(t,i,e){const n=new xo(4==(4&e));BA(t,i,n,n.destroy),null===i[po]&&(i[po]=new t_),i[po].queries.push(new e_(n))}function Uw(t,i,e){null===t.queries&&(t.queries=new i_),t.queries.track(new n_(i,e))}function Gw(t,i){return t.queries.getByIndex(i)}function Dn(t,i){return bh(t,i)}function Ah(...t){}const Ch=new Ge("Application Initializer");let wh=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Ah,this.reject=Ah,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Hc(o))e.push(o);else if(Fg(o)){const s=new Promise((l,_)=>{o.subscribe({complete:l,error:_})});e.push(s)}}Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Ce(Ch,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Tl=new Ge("AppId",{providedIn:"root",factory:function ax(){return`${d_()}${d_()}${d_()}`}});function d_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lx=new Ge("Platform Initializer"),Js=new Ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),En=new Ge("AnimationModuleType");let r8=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const sr=new Ge("LocaleId",{providedIn:"root",factory:()=>_t(sr,xt.Optional|xt.SkipSelf)||function o8(){return typeof $localize<"u"&&$localize.locale||yl}()});class a8{constructor(i,e){this.ngModuleFactory=i,this.componentFactories=e}}let cx=(()=>{class t{compileModuleSync(e){return new Kg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),o=Ko(gr(e).declarations).reduce((s,l)=>{const _=di(l);return _&&s.push(new Lc(_)),s},[]);return new a8(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const d8=(()=>Promise.resolve(0))();function u_(t){typeof Zone>"u"?d8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ot{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function u8(){let t=Di.requestAnimationFrame,i=Di.cancelAnimationFrame;if(typeof Zone<"u"&&t&&i){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const n=i[Zone.__symbol__("OriginalDelegate")];n&&(i=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function p8(t){const i=()=>{!function f8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Di,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,f_(t),t.isCheckStableRunning=!0,h_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),f_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,s,l)=>{try{return hx(t),e.invokeTask(r,o,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&i(),fx(t)}},onInvoke:(e,n,r,o,s,l,_)=>{try{return hx(t),e.invoke(r,o,s,l,_)}finally{t.shouldCoalesceRunChangeDetection&&i(),fx(t)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,f_(t),h_(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ot.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(ot.isInAngularZone())throw new Ue(909,!1)}run(i,e,n){return this._inner.run(i,e,n)}runTask(i,e,n,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,i,h8,Ah,Ah);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(i,e,n){return this._inner.runGuarded(i,e,n)}runOutsideAngular(i){return this._outer.run(i)}}const h8={};function h_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function f_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fx(t){t._nesting--,h_(t)}class m8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(i,e,n){return i.apply(e,n)}runGuarded(i,e,n){return i.apply(e,n)}runOutsideAngular(i){return i()}runTask(i,e,n,r){return i.apply(e,n)}}const px=new Ge(""),xh=new Ge("");let g_,p_=(()=>{class t{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,g_||(function g8(t){g_=t}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ot.assertNotInAngularZone(),u_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())u_(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}}return t.\u0275fac=function(e){return new(e||t)(Ce(ot),Ce(m_),Ce(xh))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),m_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return g_?.findTestabilityInTree(this,e,n)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ts=!1;let As=null;const mx=new Ge("AllowMultipleToken"),__=new Ge("PlatformDestroyListeners"),gx=new Ge("appBootstrapListener");class _x{constructor(i,e){this.name=i,this.token=e}}function bx(t,i,e=[]){const n=`Platform: ${i}`,r=new Ge(n);return(o=[])=>{let s=v_();if(!s||s.injector.get(mx,!1)){const l=[...e,...o,{provide:r,useValue:!0}];t?t(l):function b8(t){if(As&&!As.get(mx,!1))throw new Ue(400,!1);As=t;const i=t.get(Ax);(function vx(t){const i=t.get(lx,null);i&&i.forEach(e=>e())})(t)}(function yx(t=[],i){return Mi.create({name:i,providers:[{provide:ag,useValue:"platform"},{provide:__,useValue:new Set([()=>As=null])},...t]})}(l,n))}return function A8(t){const i=v_();if(!i)throw new Ue(401,!1);return i}()}}function v_(){return As?.get(Ax)??null}let Ax=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function wx(t,i){let e;return e="noop"===t?new m8:("zone.js"===t?void 0:t)||new ot(i),e}(n?.ngZone,function Cx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(n)),o=[{provide:ot,useValue:r}];return r.run(()=>{const s=Mi.create({providers:o,parent:this.injector,name:e.moduleType.name}),l=e.create(s),_=l.injector.get(Qo,null);if(!_)throw new Ue(402,!1);return r.runOutsideAngular(()=>{const S=r.onError.subscribe({next:T=>{_.handleError(T)}});l.onDestroy(()=>{Sh(this._modules,l),S.unsubscribe()})}),function xx(t,i,e){try{const n=e();return Hc(n)?n.catch(r=>{throw i.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw i.runOutsideAngular(()=>t.handleError(n)),n}}(_,r,()=>{const S=l.injector.get(wh);return S.runInitializers(),S.donePromise.then(()=>(JC(l.injector.get(sr,yl)||yl),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,n=[]){const r=Sx({},n);return function _8(t,i,e){const n=new Kg(e);return Promise.resolve(n)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const n=e.injector.get(Cs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Ue(-403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(__,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Ce(Mi))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Sx(t,i){return Array.isArray(i)?i.reduce(Sx,t):{...t,...i}}let Cs=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,n,r){this._zone=e,this._injector=n,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new te(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),s=new te(l=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{ot.assertNotInAngularZone(),u_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{ot.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{_.unsubscribe(),S.unsubscribe()}});this.isStable=Wr(o,s.pipe(hy()))}bootstrap(e,n){const r=e instanceof mA;if(!this._injector.get(wh).done){!r&&function Ha(t){const i=di(t)||Ln(t)||tr(t);return null!==i&&i.standalone}(e);throw new Ue(405,ts)}let s;s=r?e:this._injector.get(_s).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const l=function v8(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Cl),S=s.create(Mi.NULL,[],n||s.selector,l),T=S.location.nativeElement,I=S.injector.get(px,null);return I?.registerApplication(T),S.onDestroy(()=>{this.detachView(S.hostView),Sh(this.components,S),I?.unregisterApplication(T)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ue(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;Sh(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(gx,[]);n.push(...this._bootstrapListeners),n.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Sh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ue(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(Ce(ot),Ce(Fr),Ce(Qo))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Sh(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}let zt=(()=>{class t{}return t.__NG_ELEMENT_ID__=w8,t})();function w8(t){return function x8(t,i,e){if(yc(t)&&!e){const n=ir(t.index,i);return new Nc(n,n)}return 47&t.type?new Nc(i[Vn],i):null}(Cn(),We(),16==(16&t))}class Ix{constructor(){}supports(i){return ch(i)}create(i){return new I8(i)}}const M8=(t,i)=>i;class I8{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||M8}forEachItem(i){let e;for(e=this._itHead;null!==e;e=e._next)i(e)}forEachOperation(i){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const s=!n||e&&e.currentIndex<kx(n,r,o)?e:n,l=kx(s,r,o),_=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const S=l-r,T=_-r;if(S!=T){for(let U=0;U<S;U++){const ee=U<o.length?o[U]:o[U]=0,he=ee+U;T<=he&&he<S&&(o[U]=ee+1)}o[s.previousIndex]=T-S}}l!==_&&i(s,l,_)}}forEachPreviousItem(i){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)i(e)}forEachMovedItem(i){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)i(e)}forEachIdentityChange(i){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)i(e)}diff(i){if(null==i&&(i=[]),!ch(i))throw new Ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r,o,s,e=this._itHead,n=!1;if(Array.isArray(i)){this.length=i.length;for(let l=0;l<this.length;l++)o=i[l],s=this._trackByFn(l,o),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,o,s,l)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,l),n=!0),e=e._next}else r=0,function h3(t,i){if(Array.isArray(t))for(let e=0;e<t.length;e++)i(t[e]);else{const e=t[Symbol.iterator]();let n;for(;!(n=e.next()).done;)i(n.value)}}(i,l=>{s=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,l,s,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,s,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,e,n,r){let o;return null===i?o=this._itTail:(o=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._reinsertAfter(i,o,r)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._moveAfter(i,o,r)):i=this._addAfter(new O8(e,n),o,r),i}_verifyReinsertion(i,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?i=this._reinsertAfter(o,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;null!==i;){const e=i._next;this._addToRemovals(this._unlink(i)),i=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const r=i._prevRemoved,o=i._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(i,e,n),this._addToMoves(i,n),i}_moveAfter(i,e,n){return this._unlink(i),this._insertAfter(i,e,n),this._addToMoves(i,n),i}_addAfter(i,e,n){return this._insertAfter(i,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,e,n){const r=null===e?this._itHead:e._next;return i._next=r,i._prev=e,null===r?this._itTail=i:r._prev=i,null===e?this._itHead=i:e._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ox),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const e=i._prev,n=i._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,i}_addToMoves(i,e){return i.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ox),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,e){return i.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class O8{constructor(i,e){this.item=i,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class k8{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){const e=i._prevDup,n=i._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ox{constructor(){this.map=new Map}put(i){const e=i.trackById;let n=this.map.get(e);n||(n=new k8,this.map.set(e,n)),n.add(i)}get(i,e){const r=this.map.get(i);return r?r.get(i,e):null}remove(i){const e=i.trackById;return this.map.get(e).remove(i)&&this.map.delete(e),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kx(t,i,e){const n=t.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+i+r}class Px{constructor(){}supports(i){return i instanceof Map||Pg(i)}create(){return new P8}}class P8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let e;for(e=this._mapHead;null!==e;e=e._next)i(e)}forEachPreviousItem(i){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)i(e)}forEachChangedItem(i){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)i(e)}diff(i){if(i){if(!(i instanceof Map||Pg(i)))throw new Ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(i,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,e){if(i){const n=i._prev;return e._next=i,e._prev=n,i._prev=e,n&&(n._next=e),i===this._mapHead&&(this._mapHead=e),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(i,e){if(this._records.has(i)){const r=this._records.get(i);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const n=new R8(i);return this._records.set(i,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,e){Object.is(e,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=e,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,e){i instanceof Map?i.forEach(e):Object.keys(i).forEach(n=>e(i[n],n))}}class R8{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rx(){return new Eh([new Ix])}let Eh=(()=>{class t{constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Rx()),deps:[[t,new zs,new _o]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new Ue(901,!1)}}return t.\u0275prov=Le({token:t,providedIn:"root",factory:Rx}),t})();function Fx(){return new Jc([new Px])}let Jc=(()=>{class t{constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Fx()),deps:[[t,new zs,new _o]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new Ue(901,!1)}}return t.\u0275prov=Le({token:t,providedIn:"root",factory:Fx}),t})();const L8=bx(null,"core",[]);let B8=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Ce(Cs))},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})();function Dl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function w_(t,i){const e=di(t),n=i.elementInjector||eh();return new Lc(e).create(n,i.projectableNodes,i.hostElement,i.environmentInjector)}let x_=null;function is(){return x_}class j8{}const gt=new Ge("DocumentToken");let S_=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return function U8(){return Ce(Nx)}()},providedIn:"platform"}),t})();const G8=new Ge("Location Initialized");let Nx=(()=>{class t extends S_{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return is().getBaseHref(this._doc)}onPopState(e){const n=is().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=is().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){Lx()?this._history.pushState(e,n,r):this._location.hash=r}replaceState(e,n,r){Lx()?this._history.replaceState(e,n,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt))},t.\u0275prov=Le({token:t,factory:function(){return function z8(){return new Nx(Ce(gt))}()},providedIn:"platform"}),t})();function Lx(){return!!window.history.pushState}function T_(t,i){if(0==t.length)return i;if(0==i.length)return t;let e=0;return t.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?t+i.substring(1):1==e?t+i:t+"/"+i}function Bx(t){const i=t.match(/#|\?|$/),e=i&&i.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ns(t){return t&&"?"!==t[0]?"?"+t:t}let ea=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return _t(Hx)},providedIn:"root"}),t})();const Vx=new Ge("appBaseHref");let Hx=(()=>{class t extends ea{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??_t(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return T_(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+ns(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const s=this.prepareExternalUrl(r+ns(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){const s=this.prepareExternalUrl(r+ns(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(S_),Ce(Vx,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),W8=(()=>{class t extends ea{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=T_(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+ns(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+ns(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(S_),Ce(Vx,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),Zc=(()=>{class t{constructor(e){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function X8(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(Bx(jx(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+ns(n))}normalize(e){return t.stripTrailingSlash(function Y8(t,i){if(!t||!i.startsWith(t))return i;const e=i.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:i}(this._basePath,jx(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ns(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ns(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}}return t.normalizeQueryParams=ns,t.joinWithSlash=T_,t.stripTrailingSlash=Bx,t.\u0275fac=function(e){return new(e||t)(Ce(ea))},t.\u0275prov=Le({token:t,factory:function(){return function $8(){return new Zc(Ce(ea))}()},providedIn:"root"}),t})();function jx(t){return t.replace(/\/index.html$/,"")}var ar=(()=>((ar=ar||{})[ar.Decimal=0]="Decimal",ar[ar.Percent=1]="Percent",ar[ar.Currency=2]="Currency",ar[ar.Scientific=3]="Scientific",ar))(),Ii=(()=>((Ii=Ii||{})[Ii.Format=0]="Format",Ii[Ii.Standalone=1]="Standalone",Ii))(),Ot=(()=>((Ot=Ot||{})[Ot.Narrow=0]="Narrow",Ot[Ot.Abbreviated=1]="Abbreviated",Ot[Ot.Wide=2]="Wide",Ot[Ot.Short=3]="Short",Ot))(),Ri=(()=>((Ri=Ri||{})[Ri.Short=0]="Short",Ri[Ri.Medium=1]="Medium",Ri[Ri.Long=2]="Long",Ri[Ri.Full=3]="Full",Ri))(),At=(()=>((At=At||{})[At.Decimal=0]="Decimal",At[At.Group=1]="Group",At[At.List=2]="List",At[At.PercentSign=3]="PercentSign",At[At.PlusSign=4]="PlusSign",At[At.MinusSign=5]="MinusSign",At[At.Exponential=6]="Exponential",At[At.SuperscriptingExponent=7]="SuperscriptingExponent",At[At.PerMille=8]="PerMille",At[At.Infinity=9]="Infinity",At[At.NaN=10]="NaN",At[At.TimeSeparator=11]="TimeSeparator",At[At.CurrencyDecimal=12]="CurrencyDecimal",At[At.CurrencyGroup=13]="CurrencyGroup",At))();function Gx(t,i,e){const n=Qn(t),o=Vr([n[nt.DayPeriodsFormat],n[nt.DayPeriodsStandalone]],i);return Vr(o,e)}function zx(t,i,e){const n=Qn(t),o=Vr([n[nt.DaysFormat],n[nt.DaysStandalone]],i);return Vr(o,e)}function D_(t,i,e){const n=Qn(t),o=Vr([n[nt.MonthsFormat],n[nt.MonthsStandalone]],i);return Vr(o,e)}function Mh(t,i){return Vr(Qn(t)[nt.DateFormat],i)}function Ih(t,i){return Vr(Qn(t)[nt.TimeFormat],i)}function Oh(t,i){return Vr(Qn(t)[nt.DateTimeFormat],i)}function Br(t,i){const e=Qn(t),n=e[nt.NumberSymbols][i];if(typeof n>"u"){if(i===At.CurrencyDecimal)return e[nt.NumberSymbols][At.Decimal];if(i===At.CurrencyGroup)return e[nt.NumberSymbols][At.Group]}return n}function Wx(t){if(!t[nt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[nt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vr(t,i){for(let e=i;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function M_(t){const[i,e]=t.split(":");return{hours:+i,minutes:+e}}const rL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ed={},oL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var dn=(()=>((dn=dn||{})[dn.Short=0]="Short",dn[dn.ShortGMT=1]="ShortGMT",dn[dn.Long=2]="Long",dn[dn.Extended=3]="Extended",dn))(),St=(()=>((St=St||{})[St.FullYear=0]="FullYear",St[St.Month=1]="Month",St[St.Date=2]="Date",St[St.Hours=3]="Hours",St[St.Minutes=4]="Minutes",St[St.Seconds=5]="Seconds",St[St.FractionalSeconds=6]="FractionalSeconds",St[St.Day=7]="Day",St))(),Ht=(()=>((Ht=Ht||{})[Ht.DayPeriods=0]="DayPeriods",Ht[Ht.Days=1]="Days",Ht[Ht.Months=2]="Months",Ht[Ht.Eras=3]="Eras",Ht))();function $x(t,i,e,n){let r=function pL(t){if(Qx(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,o=1,s=1]=t.split("-").map(l=>+l);return kh(r,o-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(rL))return function mL(t){const i=new Date(0);let e=0,n=0;const r=t[8]?i.setUTCFullYear:i.setFullYear,o=t[8]?i.setUTCHours:i.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(i,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,l=Number(t[5]||0)-n,_=Number(t[6]||0),S=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(i,s,l,_,S),i}(n)}const i=new Date(t);if(!Qx(i))throw new Error(`Unable to convert "${t}" into a date`);return i}(t);i=rs(e,i)||i;let l,s=[];for(;i;){if(l=oL.exec(i),!l){s.push(i);break}{s=s.concat(l.slice(1));const T=s.pop();if(!T)break;i=T}}let _=r.getTimezoneOffset();n&&(_=Xx(n,_),r=function fL(t,i,e){const n=e?-1:1,r=t.getTimezoneOffset();return function hL(t,i){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+i),t}(t,n*(Xx(i,r)-r))}(r,n,!0));let S="";return s.forEach(T=>{const I=function uL(t){if(O_[t])return O_[t];let i;switch(t){case"G":case"GG":case"GGG":i=Ci(Ht.Eras,Ot.Abbreviated);break;case"GGGG":i=Ci(Ht.Eras,Ot.Wide);break;case"GGGGG":i=Ci(Ht.Eras,Ot.Narrow);break;case"y":i=en(St.FullYear,1,0,!1,!0);break;case"yy":i=en(St.FullYear,2,0,!0,!0);break;case"yyy":i=en(St.FullYear,3,0,!1,!0);break;case"yyyy":i=en(St.FullYear,4,0,!1,!0);break;case"Y":i=Nh(1);break;case"YY":i=Nh(2,!0);break;case"YYY":i=Nh(3);break;case"YYYY":i=Nh(4);break;case"M":case"L":i=en(St.Month,1,1);break;case"MM":case"LL":i=en(St.Month,2,1);break;case"MMM":i=Ci(Ht.Months,Ot.Abbreviated);break;case"MMMM":i=Ci(Ht.Months,Ot.Wide);break;case"MMMMM":i=Ci(Ht.Months,Ot.Narrow);break;case"LLL":i=Ci(Ht.Months,Ot.Abbreviated,Ii.Standalone);break;case"LLLL":i=Ci(Ht.Months,Ot.Wide,Ii.Standalone);break;case"LLLLL":i=Ci(Ht.Months,Ot.Narrow,Ii.Standalone);break;case"w":i=I_(1);break;case"ww":i=I_(2);break;case"W":i=I_(1,!0);break;case"d":i=en(St.Date,1);break;case"dd":i=en(St.Date,2);break;case"c":case"cc":i=en(St.Day,1);break;case"ccc":i=Ci(Ht.Days,Ot.Abbreviated,Ii.Standalone);break;case"cccc":i=Ci(Ht.Days,Ot.Wide,Ii.Standalone);break;case"ccccc":i=Ci(Ht.Days,Ot.Narrow,Ii.Standalone);break;case"cccccc":i=Ci(Ht.Days,Ot.Short,Ii.Standalone);break;case"E":case"EE":case"EEE":i=Ci(Ht.Days,Ot.Abbreviated);break;case"EEEE":i=Ci(Ht.Days,Ot.Wide);break;case"EEEEE":i=Ci(Ht.Days,Ot.Narrow);break;case"EEEEEE":i=Ci(Ht.Days,Ot.Short);break;case"a":case"aa":case"aaa":i=Ci(Ht.DayPeriods,Ot.Abbreviated);break;case"aaaa":i=Ci(Ht.DayPeriods,Ot.Wide);break;case"aaaaa":i=Ci(Ht.DayPeriods,Ot.Narrow);break;case"b":case"bb":case"bbb":i=Ci(Ht.DayPeriods,Ot.Abbreviated,Ii.Standalone,!0);break;case"bbbb":i=Ci(Ht.DayPeriods,Ot.Wide,Ii.Standalone,!0);break;case"bbbbb":i=Ci(Ht.DayPeriods,Ot.Narrow,Ii.Standalone,!0);break;case"B":case"BB":case"BBB":i=Ci(Ht.DayPeriods,Ot.Abbreviated,Ii.Format,!0);break;case"BBBB":i=Ci(Ht.DayPeriods,Ot.Wide,Ii.Format,!0);break;case"BBBBB":i=Ci(Ht.DayPeriods,Ot.Narrow,Ii.Format,!0);break;case"h":i=en(St.Hours,1,-12);break;case"hh":i=en(St.Hours,2,-12);break;case"H":i=en(St.Hours,1);break;case"HH":i=en(St.Hours,2);break;case"m":i=en(St.Minutes,1);break;case"mm":i=en(St.Minutes,2);break;case"s":i=en(St.Seconds,1);break;case"ss":i=en(St.Seconds,2);break;case"S":i=en(St.FractionalSeconds,1);break;case"SS":i=en(St.FractionalSeconds,2);break;case"SSS":i=en(St.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=Rh(dn.Short);break;case"ZZZZZ":i=Rh(dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=Rh(dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=Rh(dn.Long);break;default:return null}return O_[t]=i,i}(T);S+=I?I(r,e,_):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function kh(t,i,e){const n=new Date(0);return n.setFullYear(t,i,e),n.setHours(0,0,0),n}function rs(t,i){const e=function Q8(t){return Qn(t)[nt.LocaleId]}(t);if(ed[e]=ed[e]||{},ed[e][i])return ed[e][i];let n="";switch(i){case"shortDate":n=Mh(t,Ri.Short);break;case"mediumDate":n=Mh(t,Ri.Medium);break;case"longDate":n=Mh(t,Ri.Long);break;case"fullDate":n=Mh(t,Ri.Full);break;case"shortTime":n=Ih(t,Ri.Short);break;case"mediumTime":n=Ih(t,Ri.Medium);break;case"longTime":n=Ih(t,Ri.Long);break;case"fullTime":n=Ih(t,Ri.Full);break;case"short":const r=rs(t,"shortTime"),o=rs(t,"shortDate");n=Ph(Oh(t,Ri.Short),[r,o]);break;case"medium":const s=rs(t,"mediumTime"),l=rs(t,"mediumDate");n=Ph(Oh(t,Ri.Medium),[s,l]);break;case"long":const _=rs(t,"longTime"),S=rs(t,"longDate");n=Ph(Oh(t,Ri.Long),[_,S]);break;case"full":const T=rs(t,"fullTime"),I=rs(t,"fullDate");n=Ph(Oh(t,Ri.Full),[T,I])}return n&&(ed[e][i]=n),n}function Ph(t,i){return i&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return null!=i&&n in i?i[n]:e})),t}function eo(t,i,e="-",n,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=e));let s=String(t);for(;s.length<i;)s="0"+s;return n&&(s=s.slice(s.length-i)),o+s}function en(t,i,e=0,n=!1,r=!1){return function(o,s){let l=function aL(t,i){switch(t){case St.FullYear:return i.getFullYear();case St.Month:return i.getMonth();case St.Date:return i.getDate();case St.Hours:return i.getHours();case St.Minutes:return i.getMinutes();case St.Seconds:return i.getSeconds();case St.FractionalSeconds:return i.getMilliseconds();case St.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((e>0||l>-e)&&(l+=e),t===St.Hours)0===l&&-12===e&&(l=12);else if(t===St.FractionalSeconds)return function sL(t,i){return eo(t,3).substring(0,i)}(l,i);const _=Br(s,At.MinusSign);return eo(l,i,_,n,r)}}function Ci(t,i,e=Ii.Format,n=!1){return function(r,o){return function lL(t,i,e,n,r,o){switch(e){case Ht.Months:return D_(i,r,n)[t.getMonth()];case Ht.Days:return zx(i,r,n)[t.getDay()];case Ht.DayPeriods:const s=t.getHours(),l=t.getMinutes();if(o){const S=function Z8(t){const i=Qn(t);return Wx(i),(i[nt.ExtraData][2]||[]).map(n=>"string"==typeof n?M_(n):[M_(n[0]),M_(n[1])])}(i),T=function eL(t,i,e){const n=Qn(t);Wx(n);const o=Vr([n[nt.ExtraData][0],n[nt.ExtraData][1]],i)||[];return Vr(o,e)||[]}(i,r,n),I=S.findIndex(U=>{if(Array.isArray(U)){const[ee,he]=U,be=s>=ee.hours&&l>=ee.minutes,we=s<he.hours||s===he.hours&&l<he.minutes;if(ee.hours<he.hours){if(be&&we)return!0}else if(be||we)return!0}else if(U.hours===s&&U.minutes===l)return!0;return!1});if(-1!==I)return T[I]}return Gx(i,r,n)[s<12?0:1];case Ht.Eras:return function K8(t,i){return Vr(Qn(t)[nt.Eras],i)}(i,n)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,t,i,e,n)}}function Rh(t){return function(i,e,n){const r=-1*n,o=Br(e,At.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case dn.Short:return(r>=0?"+":"")+eo(s,2,o)+eo(Math.abs(r%60),2,o);case dn.ShortGMT:return"GMT"+(r>=0?"+":"")+eo(s,1,o);case dn.Long:return"GMT"+(r>=0?"+":"")+eo(s,2,o)+":"+eo(Math.abs(r%60),2,o);case dn.Extended:return 0===n?"Z":(r>=0?"+":"")+eo(s,2,o)+":"+eo(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const cL=0,Fh=4;function Yx(t){return kh(t.getFullYear(),t.getMonth(),t.getDate()+(Fh-t.getDay()))}function I_(t,i=!1){return function(e,n){let r;if(i){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=Yx(e),s=function dL(t){const i=kh(t,cL,1).getDay();return kh(t,0,1+(i<=Fh?Fh:Fh+7)-i)}(o.getFullYear()),l=o.getTime()-s.getTime();r=1+Math.round(l/6048e5)}return eo(r,t,Br(n,At.MinusSign))}}function Nh(t,i=!1){return function(e,n){return eo(Yx(e).getFullYear(),t,Br(n,At.MinusSign),i)}}const O_={};function Xx(t,i){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?i:e}function Qx(t){return t instanceof Date&&!isNaN(t.valueOf())}const gL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Kx=22,Lh=".",td="0",_L=";",vL=",",k_="#";function F_(t){const i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}function Zx(t,i){i=encodeURIComponent(i);for(const e of t.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===i)return decodeURIComponent(o)}return null}const L_=/\s+/,eS=[];let So=(()=>{class t{constructor(e,n,r,o){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=o,this.initialClasses=eS,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(L_):eS}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(L_):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,Boolean(e[n]));this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(L_).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return t.\u0275fac=function(e){return new(e||t)(M(Eh),M(Jc),M(Je),M(or))},t.\u0275dir=He({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class EL{constructor(i,e,n,r){this.$implicit=i,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new EL(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)n.remove(null===o?void 0:o);else if(null!==o){const l=n.get(o);n.move(l,s),nS(l,r)}});for(let r=0,o=n.length;r<o;r++){const l=n.get(r).context;l.index=r,l.count=o,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{nS(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}}return t.\u0275fac=function(e){return new(e||t)(M(Ji),M(Gt),M(Eh))},t.\u0275dir=He({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function nS(t,i){t.context.$implicit=i.item}let vt=(()=>{class t{constructor(e,n){this._viewContainer=e,this._context=new IL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){rS("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){rS("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return t.\u0275fac=function(e){return new(e||t)(M(Ji),M(Gt))},t.\u0275dir=He({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class IL{constructor(){this.$implicit=null,this.ngIf=null}}function rS(t,i){if(i&&!i.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ai(i)}'.`)}class B_{constructor(i,e){this._viewContainerRef=i,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let id=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),V_=(()=>{class t{constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new B_(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(M(Ji),M(Gt),M(id,9))},t.\u0275dir=He({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),oS=(()=>{class t{constructor(e,n,r){r._addDefault(new B_(e,n))}}return t.\u0275fac=function(e){return new(e||t)(M(Ji),M(Gt),M(id,9))},t.\u0275dir=He({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})(),H_=(()=>{class t{constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:nr.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${n}${o}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Jc),M(or))},t.\u0275dir=He({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),Hr=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=n.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(M(Ji))},t.\u0275dir=He({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[gi]}),t})();function to(t,i){return new Ue(2100,!1)}class kL{createSubscription(i,e){return i.subscribe({next:e,error:n=>{throw n}})}dispose(i){i.unsubscribe()}}class PL{createSubscription(i,e){return i.then(e,n=>{throw n})}dispose(i){}}const RL=new PL,FL=new kL;let os=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(Hc(e))return RL;if(cC(e))return FL;throw to()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(M(zt,16))},t.\u0275pipe=er({name:"async",type:t,pure:!1,standalone:!0}),t})();const jL=new Ge("DATE_PIPE_DEFAULT_TIMEZONE"),UL=new Ge("DATE_PIPE_DEFAULT_OPTIONS");let j_=(()=>{class t{constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,o){if(null==e||""===e||e!=e)return null;try{return $x(e,n??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw to()}}}return t.\u0275fac=function(e){return new(e||t)(M(sr,16),M(jL,24),M(UL,24))},t.\u0275pipe=er({name:"date",type:t,pure:!0,standalone:!0}),t})(),aS=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=lS}transform(e,n=lS){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function YL(t,i){return{key:t,value:i}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(M(Jc,16))},t.\u0275pipe=er({name:"keyvalue",type:t,pure:!1,standalone:!0}),t})();function lS(t,i){const e=t.key,n=i.key;if(e===n)return 0;if(void 0===e)return 1;if(void 0===n)return-1;if(null===e)return 1;if(null===n)return-1;if("string"==typeof e&&"string"==typeof n)return e<n?-1:1;if("number"==typeof e&&"number"==typeof n)return e-n;if("boolean"==typeof e&&"boolean"==typeof n)return e<n?-1:1;const r=String(e),o=String(n);return r==o?0:r<o?-1:1}let cS=(()=>{class t{constructor(e){this._locale=e}transform(e,n,r){if(!function U_(t){return!(null==t||""===t||t!=t)}(e))return null;r=r||this._locale;try{return function AL(t,i,e){return function P_(t,i,e,n,r,o,s=!1){let l="",_=!1;if(isFinite(t)){let S=function xL(t){let n,r,o,s,l,i=Math.abs(t)+"",e=0;for((r=i.indexOf(Lh))>-1&&(i=i.replace(Lh,"")),(o=i.search(/e/i))>0?(r<0&&(r=o),r+=+i.slice(o+1),i=i.substring(0,o)):r<0&&(r=i.length),o=0;i.charAt(o)===td;o++);if(o===(l=i.length))n=[0],r=1;else{for(l--;i.charAt(l)===td;)l--;for(r-=o,n=[],s=0;o<=l;o++,s++)n[s]=Number(i.charAt(o))}return r>Kx&&(n=n.splice(0,Kx-1),e=r-1,r=1),{digits:n,exponent:e,integerLen:r}}(t);s&&(S=function wL(t){if(0===t.digits[0])return t;const i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===i?t.digits.push(0,0):1===i&&t.digits.push(0),t.integerLen+=2),t}(S));let T=i.minInt,I=i.minFrac,U=i.maxFrac;if(o){const Ve=o.match(gL);if(null===Ve)throw new Error(`${o} is not a valid digit info`);const Pe=Ve[1],ze=Ve[3],rt=Ve[5];null!=Pe&&(T=F_(Pe)),null!=ze&&(I=F_(ze)),null!=rt?U=F_(rt):null!=ze&&I>U&&(U=I)}!function SL(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let n=t.digits,r=n.length-t.integerLen;const o=Math.min(Math.max(i,r),e);let s=o+t.integerLen,l=n[s];if(s>0){n.splice(Math.max(t.integerLen,s));for(let I=s;I<n.length;I++)n[I]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let I=1;I<s;I++)n[I]=0}if(l>=5)if(s-1<0){for(let I=0;I>s;I--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[s-1]++;for(;r<Math.max(0,o);r++)n.push(0);let _=0!==o;const S=i+t.integerLen,T=n.reduceRight(function(I,U,ee,he){return he[ee]=(U+=I)<10?U:U-10,_&&(0===he[ee]&&ee>=S?he.pop():_=!1),U>=10?1:0},0);T&&(n.unshift(T),t.integerLen++)}(S,I,U);let ee=S.digits,he=S.integerLen;const be=S.exponent;let we=[];for(_=ee.every(Ve=>!Ve);he<T;he++)ee.unshift(0);for(;he<0;he++)ee.unshift(0);he>0?we=ee.splice(he,ee.length):(we=ee,ee=[0]);const De=[];for(ee.length>=i.lgSize&&De.unshift(ee.splice(-i.lgSize,ee.length).join(""));ee.length>i.gSize;)De.unshift(ee.splice(-i.gSize,ee.length).join(""));ee.length&&De.unshift(ee.join("")),l=De.join(Br(e,n)),we.length&&(l+=Br(e,r)+we.join("")),be&&(l+=Br(e,At.Exponential)+"+"+be)}else l=Br(e,At.Infinity);return l=t<0&&!_?i.negPre+l+i.negSuf:i.posPre+l+i.posSuf,l}(t,function R_(t,i="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(_L),r=n[0],o=n[1],s=-1!==r.indexOf(Lh)?r.split(Lh):[r.substring(0,r.lastIndexOf(td)+1),r.substring(r.lastIndexOf(td)+1)],l=s[0],_=s[1]||"";e.posPre=l.substring(0,l.indexOf(k_));for(let T=0;T<_.length;T++){const I=_.charAt(T);I===td?e.minFrac=e.maxFrac=T+1:I===k_?e.maxFrac=T+1:e.posSuf+=I}const S=l.split(vL);if(e.gSize=S[1]?S[1].length:0,e.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,o){const T=r.length-e.posPre.length-e.posSuf.length,I=o.indexOf(k_);e.negPre=o.substring(0,I).replace(/'/g,""),e.negSuf=o.slice(I+T).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}(function E_(t,i){return Qn(t)[nt.NumberFormats][i]}(i,ar.Percent),Br(i,At.MinusSign)),i,At.Group,At.Decimal,e,!0).replace(new RegExp("%","g"),Br(i,At.PercentSign))}(function G_(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),r,n)}catch(o){throw to()}}}return t.\u0275fac=function(e){return new(e||t)(M(sr,16))},t.\u0275pipe=er({name:"percent",type:t,pure:!0,standalone:!0}),t})();let z_=(()=>{class t{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw to();return e.slice(n,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=er({name:"slice",type:t,pure:!1,standalone:!0}),t})(),lr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})();const dS="browser";function nd(t){return t===dS}let ZL=(()=>{class t{}return t.\u0275prov=Le({token:t,providedIn:"root",factory:()=>new eB(Ce(gt),window)}),t})();class eB{constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const e=function tB(t,i){const e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(i)||o.querySelector(`[name="${i}"]`);if(s)return s}r=n.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=i)}}scrollToElement(i){const e=i.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=uS(this.window.history)||uS(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function uS(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class hS{}class EB extends j8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Y_ extends EB{static makeCurrent(){!function H8(t){x_||(x_=t)}(new Y_)}onAndCancel(i,e,n){return i.addEventListener(e,n,!1),()=>{i.removeEventListener(e,n,!1)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=function MB(){return od=od||document.querySelector("base"),od?od.getAttribute("href"):null}();return null==e?null:function IB(t){Hh=Hh||document.createElement("a"),Hh.setAttribute("href",t);const i=Hh.pathname;return"/"===i.charAt(0)?i:`/${i}`}(e)}resetBaseElement(){od=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return Zx(document.cookie,i)}}let Hh,od=null;const _S=new Ge("TRANSITION_ID"),kB=[{provide:Ch,useFactory:function OB(t,i,e){return()=>{e.get(wh).donePromise.then(()=>{const n=is(),r=i.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<r.length;o++)n.remove(r[o])})}},deps:[_S,gt,Mi],multi:!0}];let RB=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();const jh=new Ge("EventManagerPlugins");let Uh=(()=>{class t{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}addGlobalEventListener(e,n,r){return this._findPluginFor(n).addGlobalEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Ce(jh),Ce(ot))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();class vS{constructor(i){this._doc=i}addGlobalEventListener(i,e,n){const r=is().getGlobalEventTarget(this._doc,i);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let bS=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)0===this.changeUsageCount(n,-1)&&this.onStyleRemoved(n)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,n){const r=this.usageCount;let o=r.get(e)??0;return o+=n,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),sd=(()=>{class t extends bS{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.forEach(o=>o.remove()),n.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,n){const r=this.doc.createElement("style");r.textContent=n,e.appendChild(r);const o=this.styleRef.get(n);o?o.push(r):this.styleRef.set(n,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();const X_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Q_=/%COMP%/g,CS=new Ge("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function wS(t,i){return i.flat(100).map(e=>e.replace(Q_,t))}function xS(t){return i=>{if("__ngUnwrap__"===i)return t;!1===t(i)&&(i.preventDefault(),i.returnValue=!1)}}let Gh=(()=>{class t{constructor(e,n,r,o){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new K_(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,n);return r instanceof DS?r.applyToHost(e):r instanceof q_&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let o=r.get(n.id);if(!o){const s=this.eventManager,l=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(n.encapsulation){case $r.Emulated:o=new DS(s,l,n,this.appId,_);break;case $r.ShadowDom:return new jB(s,l,e,n);default:o=new q_(s,l,n,_)}o.onDestroy=()=>r.delete(n.id),r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Ce(Uh),Ce(sd),Ce(Tl),Ce(CS))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();class K_{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,e){return e?document.createElementNS(X_[e]||e,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,e){(TS(i)?i.content:i).appendChild(e)}insertBefore(i,e,n){i&&(TS(i)?i.content:i).insertBefore(e,n)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let n="string"==typeof i?document.querySelector(i):i;if(!n)throw new Error(`The selector "${i}" did not match any elements`);return e||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,n,r){if(r){e=r+":"+e;const o=X_[r];o?i.setAttributeNS(o,e,n):i.setAttribute(e,n)}else i.setAttribute(e,n)}removeAttribute(i,e,n){if(n){const r=X_[n];r?i.removeAttributeNS(r,e):i.removeAttribute(`${n}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,n,r){r&(nr.DashCase|nr.Important)?i.style.setProperty(e,n,r&nr.Important?"important":""):i.style[e]=n}removeStyle(i,e,n){n&nr.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,n){i[e]=n}setValue(i,e){i.nodeValue=e}listen(i,e,n){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,e,xS(n)):this.eventManager.addEventListener(i,e,xS(n))}}function TS(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class jB extends K_{constructor(i,e,n,r){super(i),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=wS(r.id,r.styles);for(const s of o){const l=document.createElement("style");l.textContent=s,this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,n){return super.insertBefore(this.nodeOrShadowRoot(i),e,n)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class q_ extends K_{constructor(i,e,n,r,o=n.id){super(i),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=wS(o,n.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class DS extends q_{constructor(i,e,n,r,o){const s=r+"-"+n.id;super(i,e,n,o,s),this.contentAttr=function BB(t){return"_ngcontent-%COMP%".replace(Q_,t)}(s),this.hostAttr=function VB(t){return"_nghost-%COMP%".replace(Q_,t)}(s)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){const n=super.createElement(i,e);return super.setAttribute(n,this.contentAttr,""),n}}let UB=(()=>{class t extends vS{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();const ES=["alt","control","meta","shift"],GB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let WB=(()=>{class t extends vS{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const o=t.parseEventName(n),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>is().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(n.pop());let s="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),s="code."),ES.forEach(S=>{const T=n.indexOf(S);T>-1&&(n.splice(T,1),s+=S+".")}),s+=o,0!=n.length||0===o.length)return null;const _={};return _.domEventName=r,_.fullKey=s,_}static matchEventFullKeyCode(e,n){let r=GB[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ES.forEach(s=>{s!==r&&(0,zB[s])(e)&&(o+=s+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();const QB=bx(L8,"browser",[{provide:Js,useValue:dS},{provide:lx,useValue:function $B(){Y_.makeCurrent()},multi:!0},{provide:gt,useFactory:function XB(){return function zR(t){Jm=t}(document),document},deps:[]}]),OS=new Ge(""),kS=[{provide:xh,useClass:class PB{addToWindow(i){Di.getAngularTestability=(n,r=!0)=>{const o=i.findTestabilityInTree(n,r);if(null==o)throw new Error("Could not find testability for element.");return o},Di.getAllAngularTestabilities=()=>i.getAllTestabilities(),Di.getAllAngularRootElements=()=>i.getAllRootElements(),Di.frameworkStabilizers||(Di.frameworkStabilizers=[]),Di.frameworkStabilizers.push(n=>{const r=Di.getAllAngularTestabilities();let o=r.length,s=!1;const l=function(_){s=s||_,o--,0==o&&n(s)};r.forEach(function(_){_.whenStable(l)})})}findTestabilityInTree(i,e,n){return null==e?null:i.getTestability(e)??(n?is().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},deps:[]},{provide:px,useClass:p_,deps:[ot,m_,xh]},{provide:p_,useClass:p_,deps:[ot,m_,xh]}],PS=[{provide:ag,useValue:"root"},{provide:Qo,useFactory:function YB(){return new Qo},deps:[]},{provide:jh,useClass:UB,multi:!0,deps:[gt,ot,Js]},{provide:jh,useClass:WB,multi:!0,deps:[gt]},{provide:Gh,useClass:Gh,deps:[Uh,sd,Tl,CS]},{provide:ol,useExisting:Gh},{provide:bS,useExisting:sd},{provide:sd,useClass:sd,deps:[gt]},{provide:Uh,useClass:Uh,deps:[jh,ot]},{provide:hS,useClass:RB,deps:[]},[]];let RS=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Tl,useValue:e.appId},{provide:_S,useExisting:Tl},kB]}}}return t.\u0275fac=function(e){return new(e||t)(Ce(OS,12))},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[...PS,...kS],imports:[lr,B8]}),t})(),FS=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt))},t.\u0275prov=Le({token:t,factory:function(e){let n=null;return n=e?new e:function qB(){return new FS(Ce(gt))}(),n},providedIn:"root"}),t})();typeof window<"u"&&window;let ad=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(e){let n=null;return n=e?new(e||t):Ce(BS),n},providedIn:"root"}),t})(),BS=(()=>{class t extends ad{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case si.NONE:return n;case si.HTML:return vo(n,"HTML")?yr(n):function rA(t,i){let e=null;try{qu=qu||J1(t);let n=i?String(i):"";e=qu.getInertBodyElement(n);let r=5,o=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=qu.getInertBodyElement(n)}while(n!==o);return il((new aF).sanitizeChildren(ig(e)||e))}finally{if(e){const n=ig(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}(this._doc,String(n)).toString();case si.STYLE:return vo(n,"Style")?yr(n):n;case si.SCRIPT:if(vo(n,"Script"))return yr(n);throw new Error("unsafe value used in a script context");case si.URL:return vo(n,"URL")?yr(n):Ku(String(n));case si.RESOURCE_URL:if(vo(n,"ResourceURL"))return yr(n);throw new Error(`unsafe value used in a resource URL context (see ${gu})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${gu})`)}}bypassSecurityTrustHtml(e){return function qR(t){return new WR(t)}(e)}bypassSecurityTrustStyle(e){return function JR(t){return new $R(t)}(e)}bypassSecurityTrustScript(e){return function ZR(t){return new YR(t)}(e)}bypassSecurityTrustUrl(e){return function eF(t){return new XR(t)}(e)}bypassSecurityTrustResourceUrl(e){return function tF(t){return new QR(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt))},t.\u0275prov=Le({token:t,factory:function(e){let n=null;return n=e?new e:function i6(t){return new BS(t.get(gt))}(Ce(Mi)),n},providedIn:"root"}),t})();function lt(...t){return Ki(t,hc(t))}function xs(t,i){return C(i)?sn(t,i,1):sn(t,1)}function Kt(t,i){return Z((e,n)=>{let r=0;e.subscribe(ge(n,o=>t.call(i,o,r++)&&n.next(o)))})}class zh{}class e0{}class wi{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),s=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{let r;if(r="string"==typeof n?[n]:"number"==typeof n?[n.toString()]:n.map(o=>o.toString()),r.length>0){const o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof wi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new wi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof wi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,e);const r=("a"===i.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=i.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(l=>-1===o.indexOf(l)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class n6{encodeKey(i){return VS(i)}encodeValue(i){return VS(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const o6=/%(\d[a-f0-9])/gi,s6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VS(t){return encodeURIComponent(t).replace(o6,(i,e)=>s6[e]??i)}function Wh(t){return`${t}`}class io{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new n6,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function r6(t,i){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,l]=-1==o?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,o)),i.decodeValue(r.slice(o+1))],_=e.get(s)||[];_.push(l),e.set(s,_)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const n=i.fromObject[e],r=Array.isArray(n)?n.map(Wh):[Wh(n)];this.map.set(e,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(n=>{const r=i[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new io({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(Wh(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const r=n.indexOf(Wh(i.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class a6{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function HS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function jS(t){return typeof Blob<"u"&&t instanceof Blob}function US(t){return typeof FormData<"u"&&t instanceof FormData}class ld{constructor(i,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function l6(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new wi),this.context||(this.context=new a6),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+s}}else this.params=new io,this.urlWithParams=e}serializeBody(){return null===this.body?null:HS(this.body)||jS(this.body)||US(this.body)||function c6(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof io?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||US(this.body)?null:jS(this.body)?this.body.type||null:HS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof io?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const e=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,o=void 0!==i.body?i.body:this.body,s=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,l=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let _=i.headers||this.headers,S=i.params||this.params;const T=i.context??this.context;return void 0!==i.setHeaders&&(_=Object.keys(i.setHeaders).reduce((I,U)=>I.set(U,i.setHeaders[U]),_)),i.setParams&&(S=Object.keys(i.setParams).reduce((I,U)=>I.set(U,i.setParams[U]),S)),new ld(e,n,o,{params:S,headers:_,context:T,reportProgress:l,responseType:r,withCredentials:s})}}var tn=(()=>((tn=tn||{})[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn))();class t0{constructor(i,e=200,n="OK"){this.headers=i.headers||new wi,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class n0 extends t0{constructor(i={}){super(i),this.type=tn.ResponseHeader}clone(i={}){return new n0({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class $h extends t0{constructor(i={}){super(i),this.type=tn.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new $h({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class GS extends t0{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function r0(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let To=(()=>{class t{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof ld)o=e;else{let _,S;_=r.headers instanceof wi?r.headers:new wi(r.headers),r.params&&(S=r.params instanceof io?r.params:new io({fromObject:r.params})),o=new ld(e,n,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:S,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=lt(o).pipe(xs(_=>this.handler.handle(_)));if(e instanceof ld||"events"===r.observe)return s;const l=s.pipe(Kt(_=>_ instanceof $h));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ue(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return l.pipe(ue(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return l.pipe(ue(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return l.pipe(ue(_=>_.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new io).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,r0(r,n))}post(e,n,r={}){return this.request("POST",e,r0(r,n))}put(e,n,r={}){return this.request("PUT",e,r0(r,n))}}return t.\u0275fac=function(e){return new(e||t)(Ce(zh))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();function zS(t,i){return i(t)}function d6(t,i){return(e,n)=>i.intercept(e,{handle:r=>t(r,n)})}const o0=new Ge("HTTP_INTERCEPTORS"),cd=new Ge("HTTP_INTERCEPTOR_FNS");function h6(){let t=null;return(i,e)=>(null===t&&(t=(_t(o0,{optional:!0})??[]).reduceRight(d6,zS)),t(i,e))}let WS=(()=>{class t extends zh{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const n=Array.from(new Set(this.injector.get(cd)));this.chain=n.reduceRight((r,o)=>function u6(t,i,e){return(n,r)=>e.runInContext(()=>i(n,o=>t(o,r)))}(r,o,this.injector),zS)}return this.chain(e,n=>this.backend.handle(n))}}return t.\u0275fac=function(e){return new(e||t)(Ce(e0),Ce(Fr))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();const g6=/^\)\]\}',?\n/;let YS=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new te(n=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((ee,he)=>r.setRequestHeader(ee,he.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ee=e.detectContentTypeHeader();null!==ee&&r.setRequestHeader("Content-Type",ee)}if(e.responseType){const ee=e.responseType.toLowerCase();r.responseType="json"!==ee?ee:"text"}const o=e.serializeBody();let s=null;const l=()=>{if(null!==s)return s;const ee=r.statusText||"OK",he=new wi(r.getAllResponseHeaders()),be=function _6(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new n0({headers:he,status:r.status,statusText:ee,url:be}),s},_=()=>{let{headers:ee,status:he,statusText:be,url:we}=l(),De=null;204!==he&&(De=typeof r.response>"u"?r.responseText:r.response),0===he&&(he=De?200:0);let Ve=he>=200&&he<300;if("json"===e.responseType&&"string"==typeof De){const Pe=De;De=De.replace(g6,"");try{De=""!==De?JSON.parse(De):null}catch(ze){De=Pe,Ve&&(Ve=!1,De={error:ze,text:De})}}Ve?(n.next(new $h({body:De,headers:ee,status:he,statusText:be,url:we||void 0})),n.complete()):n.error(new GS({error:De,headers:ee,status:he,statusText:be,url:we||void 0}))},S=ee=>{const{url:he}=l(),be=new GS({error:ee,status:r.status||0,statusText:r.statusText||"Unknown Error",url:he||void 0});n.error(be)};let T=!1;const I=ee=>{T||(n.next(l()),T=!0);let he={type:tn.DownloadProgress,loaded:ee.loaded};ee.lengthComputable&&(he.total=ee.total),"text"===e.responseType&&r.responseText&&(he.partialText=r.responseText),n.next(he)},U=ee=>{let he={type:tn.UploadProgress,loaded:ee.loaded};ee.lengthComputable&&(he.total=ee.total),n.next(he)};return r.addEventListener("load",_),r.addEventListener("error",S),r.addEventListener("timeout",S),r.addEventListener("abort",S),e.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",U)),r.send(o),n.next({type:tn.Sent}),()=>{r.removeEventListener("error",S),r.removeEventListener("abort",S),r.removeEventListener("load",_),r.removeEventListener("timeout",S),e.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",U)),r.readyState!==r.DONE&&r.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Ce(hS))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();const s0=new Ge("XSRF_ENABLED"),XS=new Ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),QS=new Ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class KS{}let y6=(()=>{class t{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zx(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt),Ce(Js),Ce(XS))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();function A6(t,i){const e=t.url.toLowerCase();if(!_t(s0)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return i(t);const n=_t(KS).getToken(),r=_t(QS);return null!=n&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),i(t)}var Yi=(()=>((Yi=Yi||{})[Yi.Interceptors=0]="Interceptors",Yi[Yi.LegacyInterceptors=1]="LegacyInterceptors",Yi[Yi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Yi[Yi.NoXsrfProtection=3]="NoXsrfProtection",Yi[Yi.JsonpSupport=4]="JsonpSupport",Yi[Yi.RequestsMadeViaParent=5]="RequestsMadeViaParent",Yi))();function El(t,i){return{\u0275kind:t,\u0275providers:i}}function C6(...t){const i=[To,YS,WS,{provide:zh,useExisting:WS},{provide:e0,useExisting:YS},{provide:cd,useValue:A6,multi:!0},{provide:s0,useValue:!0},{provide:KS,useClass:y6}];for(const e of t)i.push(...e.\u0275providers);return function _F(t){return{\u0275providers:t}}(i)}const qS=new Ge("LEGACY_INTERCEPTOR_FN");let JS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[C6(El(Yi.LegacyInterceptors,[{provide:qS,useFactory:h6},{provide:cd,useExisting:qS,multi:!0}]))]}),t})();class nn extends q{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const e=super._subscribe(i);return!e.closed&&i.next(this._value),e}getValue(){const{hasError:i,thrownError:e,_value:n}=this;if(i)throw e;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}const dd=Y(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:x6}=Array,{getPrototypeOf:S6,prototype:T6,keys:D6}=Object;function ZS(t){if(1===t.length){const i=t[0];if(x6(i))return{args:i,keys:null};if(function E6(t){return t&&"object"==typeof t&&S6(t)===T6}(i)){const e=D6(i);return{args:e.map(n=>i[n]),keys:e}}}return{args:t,keys:null}}const{isArray:M6}=Array;function a0(t){return ue(i=>function I6(t,i){return M6(i)?t(...i):t(i)}(t,i))}function eT(t,i){return t.reduce((e,n,r)=>(e[n]=i[r],e),{})}function ud(...t){const i=hc(t),e=mu(t),{args:n,keys:r}=ZS(t);if(0===n.length)return Ki([],i);const o=new te(function O6(t,i,e=de){return n=>{tT(i,()=>{const{length:r}=t,o=new Array(r);let s=r,l=r;for(let _=0;_<r;_++)tT(i,()=>{const S=Ki(t[_],i);let T=!1;S.subscribe(ge(n,I=>{o[_]=I,T||(T=!0,l--),l||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,i,r?s=>eT(r,s):de));return e?o.pipe(a0(e)):o}function tT(t,i,e){t?Ho(e,t,i):i()}function Ml(...t){return function k6(){return Ba(1)}()(Ki(t,hc(t)))}function Yh(t){return new te(i=>{Qi(t()).subscribe(i)})}function ta(t,i){const e=C(t)?t:()=>t,n=r=>r.error(e());return new te(i?r=>i.schedule(n,0,r):n)}function l0(){return Z((t,i)=>{let e=null;t._refCount++;const n=ge(i,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),i.unsubscribe()});t.subscribe(n),n.closed||(e=t.connect())})}class iT extends te{constructor(i,e){super(),this.source=i,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,oe(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new H;const e=this.getSubject();i.add(this.source.subscribe(ge(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=H.EMPTY)}return i}refCount(){return l0()(this)}}function _n(t,i){return Z((e,n)=>{let r=null,o=0,s=!1;const l=()=>s&&!r&&n.complete();e.subscribe(ge(n,_=>{r?.unsubscribe();let S=0;const T=o++;Qi(t(_,T)).subscribe(r=ge(n,I=>n.next(i?i(_,I,T,S++):I),()=>{r=null,l()}))},()=>{s=!0,l()}))})}function qt(t){return t<=0?()=>pr:Z((i,e)=>{let n=0;i.subscribe(ge(e,r=>{++n<=t&&(e.next(r),t<=n&&e.complete())}))})}function vn(...t){const i=hc(t);return Z((e,n)=>{(i?Ml(t,e,i):Ml(t,e)).subscribe(n)})}function Xh(t){return Z((i,e)=>{let n=!1;i.subscribe(ge(e,r=>{n=!0,e.next(r)},()=>{n||e.next(t),e.complete()}))})}function nT(t=P6){return Z((i,e)=>{let n=!1;i.subscribe(ge(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(t())))})}function P6(){return new dd}function Ss(t,i){const e=arguments.length>=2;return n=>n.pipe(t?Kt((r,o)=>t(r,o,n)):de,qt(1),e?Xh(i):nT(()=>new dd))}function ji(t,i,e){const n=C(t)||i||e?{next:t,error:i,complete:e}:t;return n?Z((r,o)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let l=!0;r.subscribe(ge(o,_=>{var S;null===(S=n.next)||void 0===S||S.call(n,_),o.next(_)},()=>{var _;l=!1,null===(_=n.complete)||void 0===_||_.call(n),o.complete()},_=>{var S;l=!1,null===(S=n.error)||void 0===S||S.call(n,_),o.error(_)},()=>{var _,S;l&&(null===(_=n.unsubscribe)||void 0===_||_.call(n)),null===(S=n.finalize)||void 0===S||S.call(n)}))}):de}function Do(t){return Z((i,e)=>{let o,n=null,r=!1;n=i.subscribe(ge(e,void 0,void 0,s=>{o=Qi(t(s,Do(t)(i))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function rT(t,i){return Z(function R6(t,i,e,n,r){return(o,s)=>{let l=e,_=i,S=0;o.subscribe(ge(s,T=>{const I=S++;_=l?t(_,T,I):(l=!0,T),n&&s.next(_)},r&&(()=>{l&&s.next(_),s.complete()})))}}(t,i,arguments.length>=2,!0))}function c0(t){return t<=0?()=>pr:Z((i,e)=>{let n=[];i.subscribe(ge(e,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function oT(t,i){const e=arguments.length>=2;return n=>n.pipe(t?Kt((r,o)=>t(r,o,n)):de,c0(1),e?Xh(i):nT(()=>new dd))}function sT(t){return ue(()=>t)}function Qh(t){return Z((i,e)=>{try{i.subscribe(e)}finally{e.add(t)}})}const Rt="primary",hd=Symbol("RouteTitle");class N6{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Il(t){return new N6(t)}function L6(t,i,e){const n=e.path.split("/");if(n.length>t.length||"full"===e.pathMatch&&(i.hasChildren()||n.length<t.length))return null;const r={};for(let o=0;o<n.length;o++){const s=n[o],l=t[o];if(s.startsWith(":"))r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function Eo(t,i){const e=t?Object.keys(t):void 0,n=i?Object.keys(i):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!aT(t[r],i[r]))return!1;return!0}function aT(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const e=[...t].sort(),n=[...i].sort();return e.every((r,o)=>n[o]===r)}return t===i}function lT(t){return Array.prototype.concat.apply([],t)}function cT(t){return t.length>0?t[t.length-1]:null}function Mn(t,i){for(const e in t)t.hasOwnProperty(e)&&i(t[e],e)}function Ts(t){return Fg(t)?t:Hc(t)?Ki(Promise.resolve(t)):lt(t)}const Kh=!1,V6={exact:function hT(t,i,e){if(!ia(t.segments,i.segments)||!qh(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!t.children[n]||!hT(t.children[n],i.children[n],e))return!1;return!0},subset:fT},dT={exact:function H6(t,i){return Eo(t,i)},subset:function j6(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>aT(t[e],i[e]))},ignored:()=>!0};function uT(t,i,e){return V6[e.paths](t.root,i.root,e.matrixParams)&&dT[e.queryParams](t.queryParams,i.queryParams)&&!("exact"===e.fragment&&t.fragment!==i.fragment)}function fT(t,i,e){return pT(t,i,i.segments,e)}function pT(t,i,e,n){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!ia(r,e)||i.hasChildren()||!qh(r,e,n))}if(t.segments.length===e.length){if(!ia(t.segments,e)||!qh(t.segments,e,n))return!1;for(const r in i.children)if(!t.children[r]||!fT(t.children[r],i.children[r],n))return!1;return!0}{const r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(ia(t.segments,r)&&qh(t.segments,r,n)&&t.children[Rt])&&pT(t.children[Rt],i,o,n)}}function qh(t,i,e){return i.every((n,r)=>dT[e](t[r].parameters,n.parameters))}class Ds{constructor(i=new Wt([],{}),e={},n=null){this.root=i,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}toString(){return z6.serialize(this)}}class Wt{constructor(i,e){this.segments=i,this.children=e,this.parent=null,Mn(e,(n,r)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jh(this)}}class fd{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Il(this.parameters)),this._parameterMap}toString(){return _T(this)}}function ia(t,i){return t.length===i.length&&t.every((e,n)=>e.path===i[n].path)}let pd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return new d0},providedIn:"root"}),t})();class d0{parse(i){const e=new Z6(i);return new Ds(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){const e=`/${md(i.root,!0)}`,n=function Y6(t){const i=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(r=>`${Zh(e)}=${Zh(r)}`).join("&"):`${Zh(e)}=${Zh(n)}`}).filter(e=>!!e);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${e}${n}${"string"==typeof i.fragment?`#${function W6(t){return encodeURI(t)}(i.fragment)}`:""}`}}const z6=new d0;function Jh(t){return t.segments.map(i=>_T(i)).join("/")}function md(t,i){if(!t.hasChildren())return Jh(t);if(i){const e=t.children[Rt]?md(t.children[Rt],!1):"",n=[];return Mn(t.children,(r,o)=>{o!==Rt&&n.push(`${o}:${md(r,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function G6(t,i){let e=[];return Mn(t.children,(n,r)=>{r===Rt&&(e=e.concat(i(n,r)))}),Mn(t.children,(n,r)=>{r!==Rt&&(e=e.concat(i(n,r)))}),e}(t,(n,r)=>r===Rt?[md(t.children[Rt],!1)]:[`${r}:${md(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Rt]?`${Jh(t)}/${e[0]}`:`${Jh(t)}/(${e.join("//")})`}}function mT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(t){return mT(t).replace(/%3B/gi,";")}function u0(t){return mT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ef(t){return decodeURIComponent(t)}function gT(t){return ef(t.replace(/\+/g,"%20"))}function _T(t){return`${u0(t.path)}${function $6(t){return Object.keys(t).map(i=>`;${u0(i)}=${u0(t[i])}`).join("")}(t.parameters)}`}const X6=/^[^\/()?;=#]+/;function tf(t){const i=t.match(X6);return i?i[0]:""}const Q6=/^[^=?&#]+/,q6=/^[^&#]+/;class Z6{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(n[Rt]=new Wt(i,e)),n}parseSegment(){const i=tf(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Ue(4009,Kh);return this.capture(i),new fd(ef(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=tf(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=tf(this.remaining);r&&(n=r,this.capture(n))}i[ef(e)]=ef(n)}parseQueryParam(i){const e=function K6(t){const i=t.match(Q6);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=function J6(t){const i=t.match(q6);return i?i[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const r=gT(e),o=gT(n);if(i.hasOwnProperty(r)){let s=i[r];Array.isArray(s)||(s=[s],i[r]=s),s.push(o)}else i[r]=o}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=tf(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Ue(4010,Kh);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=Rt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Rt]:new Wt([],s),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Ue(4011,Kh)}}function h0(t){return t.segments.length>0?new Wt([],{[Rt]:t}):t}function nf(t){const i={};for(const n of Object.keys(t.children)){const o=nf(t.children[n]);(o.segments.length>0||o.hasChildren())&&(i[n]=o)}return function e9(t){if(1===t.numberOfChildren&&t.children[Rt]){const i=t.children[Rt];return new Wt(t.segments.concat(i.segments),i.children)}return t}(new Wt(t.segments,i))}function na(t){return t instanceof Ds}const f0=!1;function t9(t,i,e,n,r){if(0===e.length)return Ol(i.root,i.root,i.root,n,r);const o=function CT(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new AT(!0,0,t);let i=0,e=!1;const n=t.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Mn(o.outlets,(_,S)=>{l[S]="string"==typeof _?_.split("/"):_}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((l,_)=>{0==_&&"."===l||(0==_&&""===l?e=!0:".."===l?i++:""!=l&&r.push(l))}),r):[...r,o]},[]);return new AT(e,i,n)}(e);return o.toRoot()?Ol(i.root,i.root,new Wt([],{}),n,r):function s(_){const S=function n9(t,i,e,n){if(t.isAbsolute)return new kl(i.root,!0,0);if(-1===n)return new kl(e,e===i.root,0);return function wT(t,i,e){let n=t,r=i,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Ue(4005,f0&&"Invalid number of '../'");r=n.segments.length}return new kl(n,!1,r-o)}(e,n+(gd(t.commands[0])?0:1),t.numberOfDoubleDots)}(o,i,t.snapshot?._urlSegment,_),T=S.processChildren?Pl(S.segmentGroup,S.index,o.commands):p0(S.segmentGroup,S.index,o.commands);return Ol(i.root,S.segmentGroup,T,n,r)}(t.snapshot?._lastPathIndex)}function gd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _d(t){return"object"==typeof t&&null!=t&&t.outlets}function Ol(t,i,e,n,r){let s,o={};n&&Mn(n,(_,S)=>{o[S]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),s=t===i?e:yT(t,i,e);const l=h0(nf(s));return new Ds(l,o,r)}function yT(t,i,e){const n={};return Mn(t.children,(r,o)=>{n[o]=r===i?e:yT(r,i,e)}),new Wt(t.segments,n)}class AT{constructor(i,e,n){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=n,i&&n.length>0&&gd(n[0]))throw new Ue(4003,f0&&"Root segment cannot have matrix parameters");const r=n.find(_d);if(r&&r!==cT(n))throw new Ue(4004,f0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kl{constructor(i,e,n){this.segmentGroup=i,this.processChildren=e,this.index=n}}function p0(t,i,e){if(t||(t=new Wt([],{})),0===t.segments.length&&t.hasChildren())return Pl(t,i,e);const n=function o9(t,i,e){let n=0,r=i;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=e.length)return o;const s=t.segments[r],l=e[n];if(_d(l))break;const _=`${l}`,S=n<e.length-1?e[n+1]:null;if(r>0&&void 0===_)break;if(_&&S&&"object"==typeof S&&void 0===S.outlets){if(!ST(_,S,s))return o;n+=2}else{if(!ST(_,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(t,i,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const o=new Wt(t.segments.slice(0,n.pathIndex),{});return o.children[Rt]=new Wt(t.segments.slice(n.pathIndex),t.children),Pl(o,0,r)}return n.match&&0===r.length?new Wt(t.segments,{}):n.match&&!t.hasChildren()?m0(t,i,e):n.match?Pl(t,0,r):m0(t,i,e)}function Pl(t,i,e){if(0===e.length)return new Wt(t.segments,{});{const n=function r9(t){return _d(t[0])?t[0].outlets:{[Rt]:t}}(e),r={};if(!n[Rt]&&t.children[Rt]&&1===t.numberOfChildren&&0===t.children[Rt].segments.length){const o=Pl(t.children[Rt],i,e);return new Wt(t.segments,o.children)}return Mn(n,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=p0(t.children[s],i,o))}),Mn(t.children,(o,s)=>{void 0===n[s]&&(r[s]=o)}),new Wt(t.segments,r)}}function m0(t,i,e){const n=t.segments.slice(0,i);let r=0;for(;r<e.length;){const o=e[r];if(_d(o)){const _=s9(o.outlets);return new Wt(n,_)}if(0===r&&gd(e[0])){n.push(new fd(t.segments[i].path,xT(e[0]))),r++;continue}const s=_d(o)?o.outlets[Rt]:`${o}`,l=r<e.length-1?e[r+1]:null;s&&l&&gd(l)?(n.push(new fd(s,xT(l))),r+=2):(n.push(new fd(s,{})),r++)}return new Wt(n,{})}function s9(t){const i={};return Mn(t,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(i[n]=m0(new Wt([],{}),0,e))}),i}function xT(t){const i={};return Mn(t,(e,n)=>i[n]=`${e}`),i}function ST(t,i,e){return t==e.path&&Eo(i,e.parameters)}const vd="imperative";class Mo{constructor(i,e){this.id=i,this.url=e}}class g0 extends Mo{constructor(i,e,n="imperative",r=null){super(i,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ra extends Mo{constructor(i,e,n){super(i,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rf extends Mo{constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sf extends Mo{constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r,this.type=16}}class _0 extends Mo{constructor(i,e,n,r){super(i,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a9 extends Mo{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l9 extends Mo{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c9 extends Mo{constructor(i,e,n,r,o){super(i,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class d9 extends Mo{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u9 extends Mo{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h9{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class f9{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p9{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m9{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g9{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _9{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TT{constructor(i,e,n){this.routerEvent=i,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let y9=(()=>{class t{createUrlTree(e,n,r,o,s,l){return t9(e||n.root,r,o,s,l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),C9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(i){return y9.\u0275fac(i)},providedIn:"root"}),t})();class DT{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=v0(i,this._root);return e?e.children.map(n=>n.value):[]}firstChild(i){const e=v0(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=b0(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return b0(i,this._root).map(e=>e.value)}}function v0(t,i){if(t===i.value)return i;for(const e of i.children){const n=v0(t,e);if(n)return n}return null}function b0(t,i){if(t===i.value)return[i];for(const e of i.children){const n=b0(t,e);if(n.length)return n.unshift(i),n}return[]}class ss{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rl(t){const i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}class ET extends DT{constructor(i,e){super(i),this.snapshot=e,y0(this,i)}toString(){return this.snapshot.toString()}}function MT(t,i){const e=function w9(t,i){const s=new af([],{},{},"",{},Rt,i,null,t.root,-1,{});return new OT("",new ss(s,[]))}(t,i),n=new nn([new fd("",{})]),r=new nn({}),o=new nn({}),s=new nn({}),l=new nn(""),_=new Ui(n,r,s,l,o,Rt,i,e.root);return _.snapshot=e.root,new ET(new ss(_,[]),e)}class Ui{constructor(i,e,n,r,o,s,l,_){this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.title=this.data?.pipe(ue(S=>S[hd]))??lt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(i=>Il(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(i=>Il(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IT(t,i="emptyOnly"){const e=t.pathFromRoot;let n=0;if("always"!==i)for(n=e.length-1;n>=1;){const r=e[n],o=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return function x9(t){return t.reduce((i,e)=>({params:{...i.params,...e.params},data:{...i.data,...e.data},resolve:{...e.data,...i.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class af{get title(){return this.data?.[hd]}constructor(i,e,n,r,o,s,l,_,S,T,I){this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.routeConfig=_,this._urlSegment=S,this._lastPathIndex=T,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Il(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OT extends DT{constructor(i,e){super(e),this.url=i,y0(this,e)}toString(){return kT(this._root)}}function y0(t,i){i.value._routerState=t,i.children.forEach(e=>y0(t,e))}function kT(t){const i=t.children.length>0?` { ${t.children.map(kT).join(", ")} } `:"";return`${t.value}${i}`}function A0(t){if(t.snapshot){const i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Eo(i.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),i.fragment!==e.fragment&&t.fragment.next(e.fragment),Eo(i.params,e.params)||t.params.next(e.params),function B6(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!Eo(t[e],i[e]))return!1;return!0}(i.url,e.url)||t.url.next(e.url),Eo(i.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function C0(t,i){const e=Eo(t.params,i.params)&&function U6(t,i){return ia(t,i)&&t.every((e,n)=>Eo(e.parameters,i[n].parameters))}(t.url,i.url);return e&&!(!t.parent!=!i.parent)&&(!t.parent||C0(t.parent,i.parent))}function bd(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=i.value;const r=function T9(t,i,e){return i.children.map(n=>{for(const r of e.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return bd(t,n,r);return bd(t,n)})}(t,i,e);return new ss(n,r)}{if(t.shouldAttach(i.value)){const o=t.retrieve(i.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=i.value,s.children=i.children.map(l=>bd(t,l)),s}}const n=function D9(t){return new Ui(new nn(t.url),new nn(t.params),new nn(t.queryParams),new nn(t.fragment),new nn(t.data),t.outlet,t.component,t)}(i.value),r=i.children.map(o=>bd(t,o));return new ss(n,r)}}const w0="ngNavigationCancelingError";function PT(t,i){const{redirectTo:e,navigationBehaviorOptions:n}=na(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=RT(!1,0,i);return r.url=e,r.navigationBehaviorOptions=n,r}function RT(t,i,e){const n=new Error("NavigationCancelingError: "+(t||""));return n[w0]=!0,n.cancellationCode=i,e&&(n.url=e),n}function FT(t){return NT(t)&&na(t.url)}function NT(t){return t&&t[w0]}class E9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yd,this.attachRef=null}}let yd=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new E9,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lf=!1;let cf=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=_t(yd),this.location=_t(Ji),this.changeDetector=_t(zt),this.environmentInjector=_t(Fr)}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ue(4012,lf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ue(4012,lf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ue(4012,lf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Ue(4013,lf);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,_=new M9(e,l,r.injector);if(n&&function I9(t){return!!t.resolveComponentFactory}(n)){const S=n.resolveComponentFactory(s);this.activated=r.createComponent(S,r.length,_)}else this.activated=r.createComponent(s,{index:r.length,injector:_,environmentInjector:n??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gi]}),t})();class M9{constructor(i,e,n){this.route=i,this.childContexts=e,this.parent=n}get(i,e){return i===Ui?this.route:i===yd?this.childContexts:this.parent.get(i,e)}}let x0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Xe({type:t,selectors:[["ng-component"]],standalone:!0,features:[qi],decls:1,vars:0,template:function(e,n){1&e&&Ee(0,"router-outlet")},dependencies:[cf],encapsulation:2}),t})();function LT(t,i){return t.providers&&!t._injector&&(t._injector=vh(t.providers,i,`Route: ${t.path}`)),t._injector??i}function T0(t){const i=t.children&&t.children.map(T0),e=i?{...t,children:i}:{...t};return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==Rt&&(e.component=x0),e}function jr(t){return t.outlet||Rt}function BT(t,i){const e=t.filter(n=>jr(n)===i);return e.push(...t.filter(n=>jr(n)!==i)),e}function Ad(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class F9{constructor(i,e,n,r){this.routeReuseStrategy=i,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(i){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,i),A0(this.futureState.root),this.activateChildRoutes(e,n,i)}deactivateChildRoutes(i,e,n){const r=Rl(e);i.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Mn(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(i,e,n){const r=i.value,o=e?e.value:null;if(r===o)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(i,e,s.children)}else this.deactivateChildRoutes(i,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,o=Rl(i);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(n&&n.outlet){const s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:s,route:i,contexts:l})}}deactivateRouteAndOutlet(i,e){const n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,o=Rl(i);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(i,e,n){const r=Rl(e);i.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new _9(o.value.snapshot))}),i.children.length&&this.forwardEvent(new m9(i.value.snapshot))}activateRoutes(i,e,n){const r=i.value,o=e?e.value:null;if(A0(r),r===o)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,s.children)}else this.activateChildRoutes(i,e,n);else if(r.component){const s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),A0(l.route.value),this.activateChildRoutes(i,null,s.children)}else{const l=Ad(r.snapshot),_=l?.get(_s)??null;s.attachRef=null,s.route=r,s.resolver=_,s.injector=l,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(i,null,s.children)}}else this.activateChildRoutes(i,null,n)}}class VT{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class df{constructor(i,e){this.component=i,this.route=e}}function N9(t,i,e){const n=t._root;return Cd(n,i?i._root:null,e,[n.value])}function Fl(t,i){const e=Symbol(),n=i.get(t,e);return n===e?"function"!=typeof t||function Vk(t){return null!==bu(t)}(t)?i.get(t):t:n}function Cd(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Rl(i);return t.children.forEach(s=>{(function B9(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=i?i.value:null,l=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const _=function V9(t,i,e){if("function"==typeof e)return e(t,i);switch(e){case"pathParamsChange":return!ia(t.url,i.url);case"pathParamsOrQueryParamsChange":return!ia(t.url,i.url)||!Eo(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C0(t,i)||!Eo(t.queryParams,i.queryParams);default:return!C0(t,i)}}(s,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new VT(n)):(o.data=s.data,o._resolvedData=s._resolvedData),Cd(t,i,o.component?l?l.children:null:e,n,r),_&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new df(l.outlet.component,s))}else s&&wd(i,l,r),r.canActivateChecks.push(new VT(n)),Cd(t,null,o.component?l?l.children:null:e,n,r)})(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Mn(o,(s,l)=>wd(s,e.getContext(l),r)),r}function wd(t,i,e){const n=Rl(t),r=t.value;Mn(n,(o,s)=>{wd(o,r.component?i?i.children.getContext(s):null:i,e)}),e.canDeactivateChecks.push(new df(r.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,r))}function xd(t){return"function"==typeof t}function D0(t){return t instanceof dd||"EmptyError"===t?.name}const uf=Symbol("INITIAL_VALUE");function Nl(){return _n(t=>ud(t.map(i=>i.pipe(qt(1),vn(uf)))).pipe(ue(i=>{for(const e of i)if(!0!==e){if(e===uf)return uf;if(!1===e||e instanceof Ds)return e}return!0}),Kt(i=>i!==uf),qt(1)))}function HT(t){return function P(...t){return J(t)}(ji(i=>{if(na(i))throw PT(0,i)}),ue(i=>!0===i))}const E0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jT(t,i,e,n,r){const o=M0(t,i,e);return o.matched?function n7(t,i,e,n){const r=i.canMatch;return r&&0!==r.length?lt(r.map(s=>{const l=Fl(s,t);return Ts(function W9(t){return t&&xd(t.canMatch)}(l)?l.canMatch(i,e):t.runInContext(()=>l(i,e)))})).pipe(Nl(),HT()):lt(!0)}(n=LT(i,n),i,e).pipe(ue(s=>!0===s?o:{...E0})):lt(o)}function M0(t,i,e){if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||e.length>0)?{...E0}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(i.matcher||L6)(e,t,i);if(!r)return{...E0};const o={};Mn(r.posParams,(l,_)=>{o[_]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function hf(t,i,e,n){if(e.length>0&&function s7(t,i,e){return e.some(n=>ff(t,i,n)&&jr(n)!==Rt)}(t,e,n)){const o=new Wt(i,function o7(t,i,e,n){const r={};r[Rt]=n,n._sourceSegment=t,n._segmentIndexShift=i.length;for(const o of e)if(""===o.path&&jr(o)!==Rt){const s=new Wt([],{});s._sourceSegment=t,s._segmentIndexShift=i.length,r[jr(o)]=s}return r}(t,i,n,new Wt(e,t.children)));return o._sourceSegment=t,o._segmentIndexShift=i.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function a7(t,i,e){return e.some(n=>ff(t,i,n))}(t,e,n)){const o=new Wt(t.segments,function r7(t,i,e,n,r){const o={};for(const s of n)if(ff(t,e,s)&&!r[jr(s)]){const l=new Wt([],{});l._sourceSegment=t,l._segmentIndexShift=i.length,o[jr(s)]=l}return{...r,...o}}(t,i,e,n,t.children));return o._sourceSegment=t,o._segmentIndexShift=i.length,{segmentGroup:o,slicedSegments:e}}const r=new Wt(t.segments,t.children);return r._sourceSegment=t,r._segmentIndexShift=i.length,{segmentGroup:r,slicedSegments:e}}function ff(t,i,e){return(!(t.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}function UT(t,i,e,n){return!!(jr(t)===n||n!==Rt&&ff(i,e,t))&&("**"===t.path||M0(i,t,e).matched)}function GT(t,i,e){return 0===i.length&&!t.children[e]}const pf=!1;class mf{constructor(i){this.segmentGroup=i||null}}class zT{constructor(i){this.urlTree=i}}function Sd(t){return ta(new mf(t))}function WT(t){return ta(new zT(t))}class u7{constructor(i,e,n,r,o){this.injector=i,this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const i=hf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Wt(i.segments,i.children);return this.expandSegmentGroup(this.injector,this.config,e,Rt).pipe(ue(o=>this.createUrlTree(nf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Do(o=>{if(o instanceof zT)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof mf?this.noMatchError(o):o}))}match(i){return this.expandSegmentGroup(this.injector,this.config,i.root,Rt).pipe(ue(r=>this.createUrlTree(nf(r),i.queryParams,i.fragment))).pipe(Do(r=>{throw r instanceof mf?this.noMatchError(r):r}))}noMatchError(i){return new Ue(4002,pf)}createUrlTree(i,e,n){const r=h0(i);return new Ds(r,e,n)}expandSegmentGroup(i,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(i,e,n).pipe(ue(o=>new Wt([],o))):this.expandSegment(i,n,e,n.segments,r,!0)}expandChildren(i,e,n){const r=[];for(const o of Object.keys(n.children))"primary"===o?r.unshift(o):r.push(o);return Ki(r).pipe(xs(o=>{const s=n.children[o],l=BT(e,o);return this.expandSegmentGroup(i,l,s,o).pipe(ue(_=>({segment:_,outlet:o})))}),rT((o,s)=>(o[s.outlet]=s.segment,o),{}),oT())}expandSegment(i,e,n,r,o,s){return Ki(n).pipe(xs(l=>this.expandSegmentAgainstRoute(i,e,n,l,r,o,s).pipe(Do(S=>{if(S instanceof mf)return lt(null);throw S}))),Ss(l=>!!l),Do((l,_)=>{if(D0(l))return GT(e,r,o)?lt(new Wt([],{})):Sd(e);throw l}))}expandSegmentAgainstRoute(i,e,n,r,o,s,l){return UT(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(i,e,r,o,s):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,e,n,r,o,s):Sd(e):Sd(e)}expandSegmentAgainstRouteUsingRedirect(i,e,n,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(i,e,n,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,e,n,r){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?WT(o):this.lineralizeSegments(n,o).pipe(sn(s=>{const l=new Wt(s,{});return this.expandSegment(i,l,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,e,n,r,o,s){const{matched:l,consumedSegments:_,remainingSegments:S,positionalParamSegments:T}=M0(e,r,o);if(!l)return Sd(e);const I=this.applyRedirectCommands(_,r.redirectTo,T);return r.redirectTo.startsWith("/")?WT(I):this.lineralizeSegments(r,I).pipe(sn(U=>this.expandSegment(i,e,n,U.concat(S),s,!1)))}matchSegmentAgainstRoute(i,e,n,r,o){return"**"===n.path?(i=LT(n,i),n.loadChildren?(n._loadedRoutes?lt({routes:n._loadedRoutes,injector:n._loadedInjector}):this.configLoader.loadChildren(i,n)).pipe(ue(l=>(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,new Wt(r,{})))):lt(new Wt(r,{}))):jT(e,n,r,i).pipe(_n(({matched:s,consumedSegments:l,remainingSegments:_})=>s?this.getChildConfig(i=n._injector??i,n,r).pipe(sn(T=>{const I=T.injector??i,U=T.routes,{segmentGroup:ee,slicedSegments:he}=hf(e,l,_,U),be=new Wt(ee.segments,ee.children);if(0===he.length&&be.hasChildren())return this.expandChildren(I,U,be).pipe(ue(Pe=>new Wt(l,Pe)));if(0===U.length&&0===he.length)return lt(new Wt(l,{}));const we=jr(n)===o;return this.expandSegment(I,be,U,he,we?Rt:o,!0).pipe(ue(Ve=>new Wt(l.concat(Ve.segments),Ve.children)))})):Sd(e)))}getChildConfig(i,e,n){return e.children?lt({routes:e.children,injector:i}):e.loadChildren?void 0!==e._loadedRoutes?lt({routes:e._loadedRoutes,injector:e._loadedInjector}):function t7(t,i,e,n){const r=i.canLoad;return void 0===r||0===r.length?lt(!0):lt(r.map(s=>{const l=Fl(s,t);return Ts(function j9(t){return t&&xd(t.canLoad)}(l)?l.canLoad(i,e):t.runInContext(()=>l(i,e)))})).pipe(Nl(),HT())}(i,e,n).pipe(sn(r=>r?this.configLoader.loadChildren(i,e).pipe(ji(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function c7(t){return ta(RT(pf,3))}())):lt({routes:[],injector:i})}lineralizeSegments(i,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return lt(n);if(r.numberOfChildren>1||!r.children[Rt])return i.redirectTo,ta(new Ue(4e3,pf));r=r.children[Rt]}}applyRedirectCommands(i,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,n)}applyRedirectCreateUrlTree(i,e,n,r){const o=this.createSegmentGroup(i,e.root,n,r);return new Ds(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const n={};return Mn(i,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);n[o]=e[l]}else n[o]=r}),n}createSegmentGroup(i,e,n,r){const o=this.createSegments(i,e.segments,n,r);let s={};return Mn(e.children,(l,_)=>{s[_]=this.createSegmentGroup(i,l,n,r)}),new Wt(o,s)}createSegments(i,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(i,o,r):this.findOrReturn(o,n))}findPosParam(i,e,n){const r=n[e.path.substring(1)];if(!r)throw new Ue(4001,pf);return r}findOrReturn(i,e){let n=0;for(const r of e){if(r.path===i.path)return e.splice(n),r;n++}return i}}class f7{}class g7{constructor(i,e,n,r,o,s,l){this.injector=i,this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l}recognize(){const i=hf(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,Rt).pipe(ue(e=>{if(null===e)return null;const n=new af([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ss(n,e),o=new OT(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(i){const e=i.value,n=IT(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),i.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(i,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,e,n):this.processSegment(i,e,n,n.segments,r)}processChildren(i,e,n){return Ki(Object.keys(n.children)).pipe(xs(r=>{const o=n.children[r],s=BT(e,r);return this.processSegmentGroup(i,s,o,r)}),rT((r,o)=>r&&o?(r.push(...o),r):null),function F6(t,i=!1){return Z((e,n)=>{let r=0;e.subscribe(ge(n,o=>{const s=t(o,r++);(s||i)&&n.next(o),!s&&n.complete()}))})}(r=>null!==r),Xh(null),oT(),ue(r=>{if(null===r)return null;const o=YT(r);return function _7(t){t.sort((i,e)=>i.value.outlet===Rt?-1:e.value.outlet===Rt?1:i.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(i,e,n,r,o){return Ki(e).pipe(xs(s=>this.processSegmentAgainstRoute(s._injector??i,s,n,r,o)),Ss(s=>!!s),Do(s=>{if(D0(s))return GT(n,r,o)?lt([]):lt(null);throw s}))}processSegmentAgainstRoute(i,e,n,r,o){if(e.redirectTo||!UT(e,n,r,o))return lt(null);let s;if("**"===e.path){const l=r.length>0?cT(r).parameters:{},_=QT(n)+r.length;s=lt({snapshot:new af(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KT(e),jr(e),e.component??e._loadedComponent??null,e,XT(n),_,qT(e)),consumedSegments:[],remainingSegments:[]})}else s=jT(n,e,r,i).pipe(ue(({matched:l,consumedSegments:_,remainingSegments:S,parameters:T})=>{if(!l)return null;const I=QT(n)+_.length;return{snapshot:new af(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KT(e),jr(e),e.component??e._loadedComponent??null,e,XT(n),I,qT(e)),consumedSegments:_,remainingSegments:S}}));return s.pipe(_n(l=>{if(null===l)return lt(null);const{snapshot:_,consumedSegments:S,remainingSegments:T}=l;i=e._injector??i;const I=e._loadedInjector??i,U=function v7(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:ee,slicedSegments:he}=hf(n,S,T,U.filter(we=>void 0===we.redirectTo));if(0===he.length&&ee.hasChildren())return this.processChildren(I,U,ee).pipe(ue(we=>null===we?null:[new ss(_,we)]));if(0===U.length&&0===he.length)return lt([new ss(_,[])]);const be=jr(e)===o;return this.processSegment(I,U,ee,he,be?Rt:o).pipe(ue(we=>null===we?null:[new ss(_,we)]))}))}}function b7(t){const i=t.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function YT(t){const i=[],e=new Set;for(const n of t){if(!b7(n)){i.push(n);continue}const r=i.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):i.push(n)}for(const n of e){const r=YT(n.children);i.push(new ss(n.value,r))}return i.filter(n=>!e.has(n))}function XT(t){let i=t;for(;i._sourceSegment;)i=i._sourceSegment;return i}function QT(t){let i=t,e=i._segmentIndexShift??0;for(;i._sourceSegment;)i=i._sourceSegment,e+=i._segmentIndexShift??0;return e-1}function KT(t){return t.data||{}}function qT(t){return t.resolve||{}}function JT(t){return"string"==typeof t.title||null===t.title}function I0(t){return _n(i=>{const e=t(i);return e?Ki(e).pipe(ue(()=>i)):lt(i)})}const Ll=new Ge("ROUTES");let O0=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_t(cx)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return lt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=Ts(e.loadComponent()).pipe(ue(eD),ji(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Qh(()=>{this.componentLoaders.delete(e)})),r=new iT(n,()=>new q).pipe(l0());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return lt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe(ue(l=>{this.onLoadEndListener&&this.onLoadEndListener(n);let _,S,T=!1;Array.isArray(l)?S=l:(_=l.create(e).injector,S=lT(_.get(Ll,[],xt.Self|xt.Optional)));return{routes:S.map(T0),injector:_}}),Qh(()=>{this.childrenLoaders.delete(n)})),s=new iT(o,()=>new q).pipe(l0());return this.childrenLoaders.set(n,s),s}loadModuleFactoryOrRoutes(e){return Ts(e()).pipe(ue(eD),sn(n=>n instanceof Cw||Array.isArray(n)?lt(n):Ki(this.compiler.compileModuleAsync(n))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eD(t){return function D7(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let _f=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new q,this.configLoader=_t(O0),this.environmentInjector=_t(Fr),this.urlSerializer=_t(pd),this.rootContexts=_t(yd),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new f9(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new h9(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e){return this.transitions=new nn({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vd,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kt(n=>0!==n.id),ue(n=>({...n,extractedUrl:e.urlHandlingStrategy.extract(n.rawUrl)})),_n(n=>{let r=!1,o=!1;return lt(n).pipe(ji(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_n(s=>{const l=e.browserUrlTree.toString(),_=!e.navigated||s.extractedUrl.toString()!==l||l!==e.currentUrlTree.toString();if(!_&&"reload"!==(s.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const T="";return this.events.next(new sf(s.id,e.serializeUrl(n.rawUrl),T,0)),e.rawUrlTree=s.rawUrl,s.resolve(null),pr}if(e.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return tD(s.source)&&(e.browserUrlTree=s.extractedUrl),lt(s).pipe(_n(T=>{const I=this.transitions?.getValue();return this.events.next(new g0(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),I!==this.transitions?.getValue()?pr:Promise.resolve(T)}),function h7(t,i,e,n){return _n(r=>function d7(t,i,e,n,r){return new u7(t,i,e,n,r).apply()}(t,i,e,r.extractedUrl,n).pipe(ue(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),ji(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},n.urlAfterRedirects=T.urlAfterRedirects}),function A7(t,i,e,n,r){return sn(o=>function m7(t,i,e,n,r,o,s="emptyOnly"){return new g7(t,i,e,n,r,s,o).recognize().pipe(_n(l=>null===l?function p7(t){return new te(i=>i.error(t))}(new f7):lt(l)))}(t,i,e,o.urlAfterRedirects,n.serialize(o.urlAfterRedirects),n,r).pipe(ue(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),ji(T=>{if(n.targetSnapshot=T.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!T.extras.skipLocationChange){const U=e.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);e.setBrowserUrl(U,T)}e.browserUrlTree=T.urlAfterRedirects}const I=new a9(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(I)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:T,extractedUrl:I,source:U,restoredState:ee,extras:he}=s,be=new g0(T,this.urlSerializer.serialize(I),U,ee);this.events.next(be);const we=MT(I,this.rootComponentType).snapshot;return lt(n={...s,targetSnapshot:we,urlAfterRedirects:I,extras:{...he,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new sf(s.id,e.serializeUrl(n.extractedUrl),T,1)),e.rawUrlTree=s.rawUrl,s.resolve(null),pr}}),ji(s=>{const l=new l9(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),ue(s=>n={...s,guards:N9(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function Y9(t,i){return sn(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?lt({...e,guardsResult:!0}):function X9(t,i,e,n){return Ki(t).pipe(sn(r=>function e7(t,i,e,n,r){const o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return o&&0!==o.length?lt(o.map(l=>{const _=Ad(i)??r,S=Fl(l,_);return Ts(function z9(t){return t&&xd(t.canDeactivate)}(S)?S.canDeactivate(t,i,e,n):_.runInContext(()=>S(t,i,e,n))).pipe(Ss())})).pipe(Nl()):lt(!0)}(r.component,r.route,e,i,n)),Ss(r=>!0!==r,!0))}(s,n,r,t).pipe(sn(l=>l&&function H9(t){return"boolean"==typeof t}(l)?function Q9(t,i,e,n){return Ki(i).pipe(xs(r=>Ml(function q9(t,i){return null!==t&&i&&i(new p9(t)),lt(!0)}(r.route.parent,n),function K9(t,i){return null!==t&&i&&i(new g9(t)),lt(!0)}(r.route,n),function Z9(t,i,e){const n=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(s=>function L9(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(s)).filter(s=>null!==s).map(s=>Yh(()=>lt(s.guards.map(_=>{const S=Ad(s.node)??e,T=Fl(_,S);return Ts(function G9(t){return t&&xd(t.canActivateChild)}(T)?T.canActivateChild(n,t):S.runInContext(()=>T(n,t))).pipe(Ss())})).pipe(Nl())));return lt(o).pipe(Nl())}(t,r.path,e),function J9(t,i,e){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return lt(!0);const r=n.map(o=>Yh(()=>{const s=Ad(i)??e,l=Fl(o,s);return Ts(function U9(t){return t&&xd(t.canActivate)}(l)?l.canActivate(i,t):s.runInContext(()=>l(i,t))).pipe(Ss())}));return lt(r).pipe(Nl())}(t,r.route,e))),Ss(r=>!0!==r,!0))}(n,o,t,i):lt(l)),ue(l=>({...e,guardsResult:l})))})}(this.environmentInjector,s=>this.events.next(s)),ji(s=>{if(n.guardsResult=s.guardsResult,na(s.guardsResult))throw PT(0,s.guardsResult);const l=new c9(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),Kt(s=>!!s.guardsResult||(e.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),I0(s=>{if(s.guards.canActivateChecks.length)return lt(s).pipe(ji(l=>{const _=new d9(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(_)}),_n(l=>{let _=!1;return lt(l).pipe(function C7(t,i){return sn(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return lt(e);let o=0;return Ki(r).pipe(xs(s=>function w7(t,i,e,n){const r=t.routeConfig,o=t._resolve;return void 0!==r?.title&&!JT(r)&&(o[hd]=r.title),function x7(t,i,e,n){const r=function S7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return lt({});const o={};return Ki(r).pipe(sn(s=>function T7(t,i,e,n){const r=Ad(i)??n,o=Fl(t,r);return Ts(o.resolve?o.resolve(i,e):r.runInContext(()=>o(i,e)))}(t[s],i,e,n).pipe(Ss(),ji(l=>{o[s]=l}))),c0(1),sT(o),Do(s=>D0(s)?pr:ta(s)))}(o,t,i,n).pipe(ue(s=>(t._resolvedData=s,t.data=IT(t,e).resolve,r&&JT(r)&&(t.data[hd]=r.title),null)))}(s.route,n,t,i)),ji(()=>o++),c0(1),sn(s=>o===r.length?lt(e):pr))})}(e.paramsInheritanceStrategy,this.environmentInjector),ji({next:()=>_=!0,complete:()=>{_||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),ji(l=>{const _=new u9(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(_)}))}),I0(s=>{const l=_=>{const S=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(_.routeConfig).pipe(ji(T=>{_.component=T}),ue(()=>{})));for(const T of _.children)S.push(...l(T));return S};return ud(l(s.targetSnapshot.root)).pipe(Xh(),qt(1))}),I0(()=>this.afterPreactivation()),ue(s=>{const l=function S9(t,i,e){const n=bd(t,i._root,e?e._root:void 0);return new ET(n,i)}(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return n={...s,targetRouterState:l}}),ji(s=>{e.currentUrlTree=s.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),e.routerState=s.targetRouterState,"deferred"===e.urlUpdateStrategy&&(s.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,s),e.browserUrlTree=s.urlAfterRedirects)}),((t,i,e)=>ue(n=>(new F9(i,n.targetRouterState,n.currentRouterState,e).activate(t),n)))(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s)),qt(1),ji({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new ra(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Qh(()=>{r||o||this.cancelNavigationTransition(n,"",1),this.currentNavigation?.id===n.id&&(this.currentNavigation=null)}),Do(s=>{if(o=!0,NT(s)){FT(s)||(e.navigated=!0,e.restoreHistory(n,!0));const l=new rf(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode);if(this.events.next(l),FT(s)){const _=e.urlHandlingStrategy.merge(s.url,e.rawUrlTree),S={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||tD(n.source)};e.scheduleNavigation(_,vd,null,S,{resolve:n.resolve,reject:n.reject,promise:n.promise})}else n.resolve(!1)}else{e.restoreHistory(n,!0);const l=new _0(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);this.events.next(l);try{n.resolve(e.errorHandler(s))}catch(_){n.reject(_)}}return pr}))}))}cancelNavigationTransition(e,n,r){const o=new rf(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tD(t){return t!==vd}let iD=(()=>{class t{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===Rt);return n}getResolvedTitleForRoute(e){return e.data[hd]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return _t(E7)},providedIn:"root"}),t})(),E7=(()=>{class t extends iD{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}}return t.\u0275fac=function(e){return new(e||t)(Ce(FS))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),M7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return _t(O7)},providedIn:"root"}),t})();class I7{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}let O7=(()=>{class t extends I7{}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vf=new Ge("",{providedIn:"root",factory:()=>({})});let P7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return _t(R7)},providedIn:"root"}),t})(),R7=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function F7(t){throw t}function N7(t,i,e){return i.parse("/")}const L7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ti=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=_t(r8),this.isNgZoneEnabled=!1,this.options=_t(vf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||F7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||N7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=_t(P7),this.routeReuseStrategy=_t(M7),this.urlCreationStrategy=_t(C9),this.titleStrategy=_t(iD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lT(_t(Ll,{optional:!0})??[]),this.navigationTransitions=_t(_f),this.urlSerializer=_t(pd),this.location=_t(Zc),this.isNgZoneEnabled=_t(ot)instanceof ot&&ot.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ds,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=MT(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vd,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(o.state=_)}const l=this.parseUrl(e);this.scheduleNavigation(l,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(T0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:_}=n,S=_?this.currentUrlTree.fragment:s;let T=null;switch(l){case"merge":T={...this.currentUrlTree.queryParams,...o};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=o||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,T,S??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=na(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,vd,null,n)}navigate(e,n={skipLocationChange:!1}){return function V7(t){for(let i=0;i<t.length;i++){const e=t[i];if(null==e)throw new Ue(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...L7}:!1===n?{...B7}:n,na(e))return uT(this.currentUrlTree,e,r);const o=this.parseUrl(e);return uT(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const o=e[r];return null!=o&&(n[r]=o),n},{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let l,_,S,T;return s?(l=s.resolve,_=s.reject,S=s.promise):S=new Promise((I,U)=>{l=I,_=U}),T="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:_,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(I=>Promise.reject(I))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.go(r,"",o)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Es=(()=>{class t{constructor(e,n,r,o,s,l){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new q;const _=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(S=>{S instanceof ra&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=Dl(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=Dl(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=Dl(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function oA(t,i,e){return function gF(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?ng:ai}(i,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(M(ti),M(Ui),Yo("tabindex"),M(or),M(Je),M(ea))},t.\u0275dir=He({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,n){1&e&&Ae("click",function(o){return n.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&mt("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[gi]}),t})();class nD{}let U7=(()=>{class t{constructor(e,n,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Kt(e=>e instanceof ra),xs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const o of n){o.providers&&!o._injector&&(o._injector=vh(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Ki(r).pipe(Ba())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):lt(null);const o=r.pipe(sn(s=>null===s?lt(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return n.loadComponent&&!n._loadedComponent?Ki([o,this.loader.loadComponent(n)]).pipe(Ba()):o})}}return t.\u0275fac=function(e){return new(e||t)(Ce(ti),Ce(cx),Ce(Fr),Ce(nD),Ce(O0))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const P0=new Ge("");let rD=(()=>{class t{constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof g0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ra&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof TT&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new TT(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){Rc()},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();var wr=(()=>((wr=wr||{})[wr.COMPLETE=0]="COMPLETE",wr[wr.FAILED=1]="FAILED",wr[wr.REDIRECTING=2]="REDIRECTING",wr))();const Bl=!1;function Ms(t,i){return{\u0275kind:t,\u0275providers:i}}const R0=new Ge("",{providedIn:"root",factory:()=>!1});function sD(){const t=_t(Mi);return i=>{const e=t.get(Cs);if(i!==e.components[0])return;const n=t.get(ti),r=t.get(aD);1===t.get(F0)&&n.initialNavigation(),t.get(lD,null,xt.Optional)?.setUpPreloading(),t.get(P0,null,xt.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const aD=new Ge(Bl?"bootstrap done indicator":"",{factory:()=>new q}),F0=new Ge(Bl?"initial navigation":"",{providedIn:"root",factory:()=>1});function Y7(){let t=[];return t=Bl?[{provide:Ju,multi:!0,useFactory:()=>{const i=_t(ti);return()=>i.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function v9(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Ms(1,t)}const lD=new Ge(Bl?"router preloader":"");function X7(t){return Ms(0,[{provide:lD,useExisting:U7},{provide:nD,useExisting:t}])}const Td=!1,cD=new Ge(Td?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Q7=[Zc,{provide:pd,useClass:d0},ti,yd,{provide:Ui,useFactory:function oD(t){return t.routerState.root},deps:[ti]},O0,Td?{provide:R0,useValue:!0}:[]];function K7(){return new _x("Router",ti)}let bf=(()=>{class t{constructor(e){}static forRoot(e,n){return{ngModule:t,providers:[Q7,Td&&n?.enableTracing?Y7().\u0275providers:[],{provide:Ll,multi:!0,useValue:e},{provide:cD,useFactory:eV,deps:[[ti,new _o,new zs]]},{provide:vf,useValue:n||{}},n?.useHash?{provide:ea,useClass:W8}:{provide:ea,useClass:Hx},{provide:P0,useFactory:()=>{const t=_t(ZL),i=_t(ot),e=_t(vf),n=_t(_f),r=_t(pd);return e.scrollOffset&&t.setOffset(e.scrollOffset),new rD(r,n,t,i,e)}},n?.preloadingStrategy?X7(n.preloadingStrategy).\u0275providers:[],{provide:_x,multi:!0,useFactory:K7},n?.initialNavigation?tV(n):[],[{provide:dD,useFactory:sD},{provide:gx,multi:!0,useExisting:dD}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Ll,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(Ce(cD,8))},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[x0]}),t})();function eV(t){if(Td&&t)throw new Ue(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function tV(t){return["disabled"===t.initialNavigation?Ms(3,[{provide:Ch,multi:!0,useFactory:()=>{const i=_t(ti);return()=>{i.setUpLocationChangeListener()}}},{provide:F0,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ms(2,[{provide:F0,useValue:0},{provide:Ch,multi:!0,deps:[Mi],useFactory:i=>{const e=i.get(G8,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=i.get(ti),o=i.get(aD);(function G7(t,i){t.events.pipe(Kt(e=>e instanceof ra||e instanceof rf||e instanceof _0||e instanceof sf),ue(e=>e instanceof ra||e instanceof sf?wr.COMPLETE:e instanceof rf&&(0===e.code||1===e.code)?wr.REDIRECTING:wr.FAILED),Kt(e=>e!==wr.REDIRECTING),qt(1)).subscribe(()=>{i()})})(r,()=>{n(!0)}),i.get(_f).afterPreactivation=()=>(n(!0),o.closed?lt(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const dD=new Ge(Td?"Router Initializer":"");let nV=(()=>{class t{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-stories"]],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1)(2,"div",2),Ee(3,"router-outlet"),N()()())},dependencies:[cf]})}return t})();class Yt{static#e=this.authEmitter=new Ye;constructor(i){this.http=i,this.apiUrl="http://localhost:8000/a",this.accessToken=""}register(i){return this.http.post(`${this.apiUrl}/register`,i)}login(i){return this.http.post(`${this.apiUrl}/login`,i)}authenticatorLogin(i){return this.http.post(`${this.apiUrl}/two-factor`,i,{withCredentials:!0})}googleLogin(i){return this.http.post(`${this.apiUrl}/google-auth`,i,{withCredentials:!0})}user(){return this.http.get(`${this.apiUrl}/user`,{withCredentials:!0})}publicUser(i){return this.http.get(`${this.apiUrl}/user/${i}`,{withCredentials:!0})}refresh(){return this.http.post(`${this.apiUrl}/refresh`,{},{withCredentials:!0})}validate(i){return this.http.post(`${this.apiUrl}/validate`,{token:i})}handleAuthentication(i){localStorage.setItem("access",JSON.stringify(i))}logout(){return this.http.post(`${this.apiUrl}/logout`,{},{withCredentials:!0})}checkValidity(){const i=JSON.parse(localStorage.getItem("access"));return this.validate(i).pipe(e=>e)}static#t=this.\u0275fac=function(e){return new(e||Yt)(Ce(To))};static#i=this.\u0275prov=Le({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}let cr=(()=>{class t{constructor(e,n){this.http=e,this.authService=n,this.token=JSON.parse(localStorage.getItem("access")),this.httpOptions={headers:new wi({Authorization:"Bearer "+this.token,"Content-Type":"application/json"})}}fetchStories(){return this.http.get("http://localhost:8000/h/stories",this.httpOptions)}fetchPushedStories(){return this.http.get("http://localhost:8000/h/s_feed",this.httpOptions)}fetchPushedReelStories(){return this.http.get("http://localhost:8000/h/r_feed",this.httpOptions)}fetchStory(e){return this.http.get("http://localhost:8000/h/stories/"+e+"/",this.httpOptions)}fetchFeedStory(e){return this.http.get("http://localhost:8000/h/s_feed/stories/"+e,this.httpOptions)}addStory(e){let n={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.post("http://localhost:8000/h/stories/",e,n)}addStoryImage(e,n){let r={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.post("http://localhost:8000/h/stories/"+e+"/upload-image/",n,r)}updateStory(e,n){let r={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.patch("http://localhost:8000/h/stories/"+e+"/",n,r)}fetchComments(e){return this.http.get("http://localhost:8000/h/storycomments/"+e+"/",this.httpOptions)}updateComment(e,n){return this.http.put("http://localhost:8000/h/storycomments/"+e+"/"+n.id+"/",n,this.httpOptions)}addStoryComment(e,n){return this.http.post("http://localhost:8000/h/storycomments/"+e+"/",n,this.httpOptions)}addStoryLike(e){return this.http.post("http://localhost:8000/h/storyreact/"+e+"/like/",this.httpOptions)}removeStoryLike(e){return this.http.delete("http://localhost:8000/h/storyreact/"+e+"/like/",this.httpOptions)}addStoryLove(e){return this.http.post("http://localhost:8000/h/storyreact/"+e+"/love/",this.httpOptions)}removeStoryLove(e){return this.http.delete("http://localhost:8000/h/storyreact/"+e+"/love/",this.httpOptions)}addStoryCelebrate(e){return this.http.post("http://localhost:8000/h/storyreact/"+e+"/celebrate/",this.httpOptions)}removeStoryCelebrate(e){return this.http.delete("http://localhost:8000/h/storyreact/"+e+"/celebrate/",this.httpOptions)}uploadImage(e,n){return this.http.post("http://localhost:8000/h/"+e+"/upload-image/",n,this.httpOptions)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(To),Ce(Yt))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rV(t,i){if(1&t){const e=Qe();O(0,"div",1),Ee(1,"img",2),O(2,"div",3)(3,"h2",4),ce(4),Tn(5,"slice"),N(),O(6,"p",5),ce(7),Tn(8,"slice"),N()(),O(9,"div",6)(10,"div",7)(11,"a",8),Ae("click",function(){Ie(e);const r=ae();return Oe(r.goToReelList(r.story.id))}),ce(12,"Watch Reels"),N()(),O(13,"div",7)(14,"a",9),Ae("click",function(){Ie(e);const r=ae();return Oe(r.goToStoryDetail(r.story.id))}),ce(15,"Story Detail"),N()()(),O(16,"div",10)(17,"p",11),ce(18),N(),O(19,"p",12),ce(20),N()()()}if(2&t){const e=ae();j(1),z("src",e.story.image,ai),j(3),ct(Qc(5,7,e.story.title,0,50)),j(3),ct(Qc(8,11,e.story.longDescription,0,100)),j(11),Tt("",e.commentNumbers," Comments"),j(2),wo("",e.likeNumbers," Likes, ",e.loveNumbers," Loves and ",e.celebrateNumbers," Celebrations")}}let oV=(()=>{class t{constructor(e,n){this.router=e,this.sService=n}ngOnInit(){this.sService.fetchComments(this.story.id).subscribe(e=>{this.commentNumbers=e.length}),setTimeout(()=>{this.story&&(this.likeNumbers=this.story.likes?.length,this.loveNumbers=this.story.loves?.length,this.celebrateNumbers=this.story.celebrates?.length)},100)}goToReelList(e){this.router.navigateByUrl("/reel/story/"+e)}goToStoryDetail(e){this.router.navigateByUrl("/story/"+e)}static#e=this.\u0275fac=function(n){return new(n||t)(M(ti),M(cr))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-item"]],inputs:{story:"story",index:"index",cols:"cols",rows:"rows"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],["alt","story.caption",1,"card-img-top","img-fluid",2,"max-height","600px","border-top-left-radius","5px","border-top-right-radius","5px",3,"src"],[1,"card-body","mb-0"],[1,"card-title"],[1,"card-text"],[1,"button-row"],[1,"col-md-6","mb-0"],[1,"btn","float-start",3,"click"],[1,"btn","float-end",3,"click"],[1,"card-footer"],[1,"float-start","text-muted","mb-0"],[1,"float-end","text-muted","mb-0"]],template:function(n,r){1&n&&pe(0,rV,21,15,"div",0),2&n&&z("ngIf",!!r.story)},dependencies:[vt,z_],styles:[".card[_ngcontent-%COMP%]{background:#d4f3fd;color:#000;float:none;display:flex;margin:20px auto;padding:10px auto;max-width:800px;max-height:800px}a.btn[_ngcontent-%COMP%]{border:3px solid;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.button-row[_ngcontent-%COMP%]{display:flex;padding:10px}.card-footer.p[_ngcontent-%COMP%]{vertical-align:middle;margin:0!important}"]})}return t})();function sV(t,i){if(1&t&&Ee(0,"app-story-item",3),2&t){const n=i.index;z("story",i.$implicit)("index",n)}}function aV(t,i){if(1&t&&(O(0,"div",1),pe(1,sV,1,2,"app-story-item",2),N()),2&t){const e=i.ngIf;j(1),z("ngForOf",e)}}let lV=(()=>{class t{constructor(e,n){this.sService=e,this.router=n,this.isAuth=!1}ngOnInit(){this.isAuth=!!Yt.authEmitter,setTimeout(()=>{this.stories$=this.sService.fetchStories()},200)}onAddStory(){this.router.navigate(["story/new"])}static#e=this.\u0275fac=function(n){return new(n||t)(M(cr),M(ti))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-list"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"story","index",4,"ngFor","ngForOf"],[3,"story","index"]],template:function(n,r){1&n&&(pe(0,aV,2,1,"div",0),Tn(1,"async")),2&n&&z("ngIf",Cr(1,1,r.stories$))},dependencies:[ei,vt,oV,os],styles:[".container[_ngcontent-%COMP%]{margin:20px auto}"]})}return t})();var yf,cV=new Uint8Array(16);function dV(){if(!yf&&!(yf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yf(cV)}const uV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,fV=function hV(t){return"string"==typeof t&&uV.test(t)};for(var In=[],N0=0;N0<256;++N0)In.push((N0+256).toString(16).substr(1));const no=function gV(t,i,e){var n=(t=t||{}).random||(t.rng||dV)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){e=e||0;for(var r=0;r<16;++r)i[e+r]=n[r];return i}return function pV(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(In[t[i+0]]+In[t[i+1]]+In[t[i+2]]+In[t[i+3]]+"-"+In[t[i+4]]+In[t[i+5]]+"-"+In[t[i+6]]+In[t[i+7]]+"-"+In[t[i+8]]+In[t[i+9]]+"-"+In[t[i+10]]+In[t[i+11]]+In[t[i+12]]+In[t[i+13]]+In[t[i+14]]+In[t[i+15]]).toLowerCase();if(!fV(e))throw TypeError("Stringified UUID is invalid");return e}(n)};let Af=(()=>{class t{constructor(){this.image=null}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oa=(()=>{class t{constructor(){this.fileFieldList=[]}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class L0{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Vl extends L0{constructor(i,e,n,r,o){super(),this.component=i,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class sa extends L0{constructor(i,e,n,r){super(),this.templateRef=i,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class _V extends L0{constructor(i){super(),this.element=i instanceof Je?i.nativeElement:i}}class Cf{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Vl?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof sa?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof _V?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vV extends Cf{constructor(i,e,n,r,o){super(),this.outletElement=i,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{const l=s.element,_=this._document.createComment("dom-portal");l.parentNode.insertBefore(_,l),this.outletElement.appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(l,_)})},this._document=o}attachComponentPortal(i){const n=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(n,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(i.injector||this._defaultInjector||Mi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let e=i.viewContainerRef,n=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=i,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let B0,bV=(()=>{class t extends sa{constructor(e,n){super(e,n)}}return t.\u0275fac=function(e){return new(e||t)(M(Gt),M(Ji))},t.\u0275dir=He({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[at]}),t})(),as=(()=>{class t extends Cf{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Ye,this.attachDomPortal=o=>{const s=o.element,l=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(l,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(M(_s),M(Ji),M(gt))},t.\u0275dir=He({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[at]}),t})(),aa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})();try{B0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{B0=!1}let Dd,wf,la,V0,Gi=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?nd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!B0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Ce(Js))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Is(t){return function yV(){if(null==Dd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dd=!0}))}finally{Dd=Dd||!1}return Dd}()?t:!!t.capture}function hD(){if(null==la){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return la=!1,la;if("scrollBehavior"in document.documentElement.style)la=!0;else{const t=Element.prototype.scrollTo;la=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return la}function Ed(){if("object"!=typeof document||!document)return 0;if(null==wf){const t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),wf=0,0===t.scrollLeft&&(t.scrollLeft=1,wf=0===t.scrollLeft?1:2),t.remove()}return wf}function xf(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const i=t.shadowRoot.activeElement;if(i===t)break;t=i}return t}function Os(t){return t.composedPath?t.composedPath()[0]:t.target}function H0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ca(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class LV extends H{constructor(i,e){super()}schedule(i,e=0){return this}}const Tf={setInterval(t,i,...e){const{delegate:n}=Tf;return n?.setInterval?n.setInterval(t,i,...e):setInterval(t,i,...e)},clearInterval(t){const{delegate:i}=Tf;return(i?.clearInterval||clearInterval)(t)},delegate:void 0};class W0 extends LV{constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){var n;if(this.closed)return this;this.state=i;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(i,e,n=0){return Tf.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&Tf.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let r,n=!1;try{this.work(i)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,X(n,this),null!=i&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}}const mD={now:()=>(mD.delegate||Date).now(),delegate:void 0};class Md{constructor(i,e=Md.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,n){return new this.schedulerActionCtor(this,i).schedule(n,e)}}Md.now=mD.now;class $0 extends Md{constructor(i,e=Md.now){super(i,e),this.actions=[],this._active=!1}flush(i){const{actions:e}=this;if(this._active)return void e.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=e.shift());if(this._active=!1,n){for(;i=e.shift();)i.unsubscribe();throw n}}}const Df=new $0(W0),BV=Df;function Y0(t,i=Df){return Z((e,n)=>{let r=null,o=null,s=null;const l=()=>{if(r){r.unsubscribe(),r=null;const S=o;o=null,n.next(S)}};function _(){const S=s+t,T=i.now();if(T<S)return r=this.schedule(void 0,S-T),void n.add(r);l()}e.subscribe(ge(n,S=>{o=S,s=i.now(),r||(r=i.schedule(_,t),n.add(r))},()=>{l(),n.complete()},void 0,()=>{o=r=null}))})}function Id(t){return Kt((i,e)=>t<=e)}function jl(t,i=de){return t=t??VV,Z((e,n)=>{let r,o=!0;e.subscribe(ge(n,s=>{const l=i(s);(o||!t(r,l))&&(o=!1,r=l,n.next(s))}))})}function VV(t,i){return t===i}function yt(t){return Z((i,e)=>{Qi(t).subscribe(ge(e,()=>e.complete(),c)),!e.closed&&i.subscribe(e)})}function yi(t){return null!=t&&"false"!=`${t}`}function Fi(t,i=0){return function HV(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):i}function Ef(t){return Array.isArray(t)?t:[t]}function rn(t){return null==t?"":"string"==typeof t?t:`${t}px`}function da(t){return t instanceof Je?t.nativeElement:t}let gD=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jV=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=da(e);return new te(r=>{const s=this._observeElement(n).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new q,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(Ce(gD))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),UV=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=yi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Fi(e),this._subscribe()}constructor(e,n,r){this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new Ye,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Y0(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(M(jV),M(Je),M(ot))},t.\u0275dir=He({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),X0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[gD]}),t})();const _D=new Set;let Ul,GV=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):WV}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function zV(t){if(!_D.has(t))try{Ul||(Ul=document.createElement("style"),Ul.setAttribute("type","text/css"),document.head.appendChild(Ul)),Ul.sheet&&(Ul.sheet.insertRule(`@media ${t} {body{ }}`,0),_D.add(t))}catch(i){console.error(i)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Gi))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function WV(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Q0=(()=>{class t{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new q}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return vD(Ef(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=ud(vD(Ef(e)).map(s=>this._registerQuery(s).observable));return o=Ml(o.pipe(qt(1)),o.pipe(Id(1),Y0(0))),o.pipe(ue(s=>{const l={matches:!1,breakpoints:{}};return s.forEach(({matches:_,query:S})=>{l.matches=l.matches||_,l.breakpoints[S]=_}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new te(s=>{const l=_=>this._zone.run(()=>s.next(_));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(vn(n),ue(({matches:s})=>({query:e,matches:s})),yt(this._destroySubject)),mql:n};return this._queries.set(e,o),o}}return t.\u0275fac=function(e){return new(e||t)(Ce(GV),Ce(ot))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vD(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}function Mf(t,i){return(t.getAttribute(i)||"").match(/\S+/g)||[]}const yD="cdk-describedby-message",If="cdk-describedby-host";let K0=0,QV=(()=>{class t{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+K0++,this._document=e,this._id=_t(Tl)+"-"+K0++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;const o=q0(n,r);"string"!=typeof n?(AD(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;const o=q0(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof n){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${If}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(If);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){const r=this._document.createElement("div");AD(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(q0(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const n=Mf(e,"aria-describedby").filter(r=>0!=r.indexOf(yD));e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){const r=this._messageRegistry.get(n);(function YV(t,i,e){const n=Mf(t,i);n.some(r=>r.trim()==e.trim())||(n.push(e.trim()),t.setAttribute(i,n.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(If,this._id),r.referenceCount++}_removeMessageReference(e,n){const r=this._messageRegistry.get(n);r.referenceCount--,function XV(t,i,e){const r=Mf(t,i).filter(o=>o!=e.trim());r.length?t.setAttribute(i,r.join(" ")):t.removeAttribute(i)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(If)}_isElementDescribedByMessage(e,n){const r=Mf(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt),Ce(Gi))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function q0(t,i){return"string"==typeof t?`${i||""}/${t}`:t}function AD(t,i){t.id||(t.id=`${yD}-${i}-${K0++}`)}class KV{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new q,this._typeaheadSubscription=H.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new q,this.change=new q,i instanceof xo&&(this._itemChangesSubscription=i.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ji(e=>this._pressedLetters.push(e)),Y0(i),Kt(()=>this._pressedLetters.length>0),ue(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const o=(this._activeItemIndex+r)%n.length,s=n[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,e=10){return this._pageUpAndDown={enabled:i,delta:e},this}setActiveItem(i){const e=this._activeItem;this.updateActiveItem(i),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){const e=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!i[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||ca(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const e=this._getItemsArray(),n="number"==typeof i?i:e.indexOf(i);this._activeItem=e[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+i*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){const n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(!n[i+=e])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof xo?this._items.toArray():this._items}}class J0 extends KV{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let Of=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function JV(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function qV(t){try{return t.frameElement}catch{return null}}(function sH(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(n&&(-1===wD(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=wD(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function rH(t){let i=t.nodeName.toLowerCase(),e="input"===i&&t.type;return"text"===e||"password"===e||"select"===i||"textarea"===i}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function oH(t){return!function eH(t){return function iH(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function ZV(t){let i=t.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(t)||function tH(t){return function nH(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||CD(t))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(Ce(Gi))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function CD(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let i=t.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function wD(t){if(!CD(t))return null;const i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class aH{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,e,n,r,o=!1){this._element=i,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(i),!!n}return e.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const e=this._getRegionBoundary("start");return e&&e.focus(i),!!e}focusLastTabbableElement(i){const e=this._getRegionBoundary("end");return e&&e.focus(i),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const e=i.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const e=i.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(qt(1)).subscribe(i)}}let Z0=(()=>{class t{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new aH(e,this._checker,this._ngZone,this._document,n)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Of),Ce(ot),Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ev(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function tv(t){const i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const lH=new Ge("cdk-input-modality-detector-options"),cH={ignoreKeys:[18,17,224,91,16]},Gl=Is({passive:!0,capture:!0});let dH=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new nn(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(l=>l===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Os(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ev(s)?"keyboard":"mouse"),this._mostRecentTarget=Os(s))},this._onTouchstart=s=>{tv(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Os(s))},this._options={...cH,...o},this.modalityDetected=this._modality.pipe(Id(1)),this.modalityChanged=this.modalityDetected.pipe(jl()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gl),r.addEventListener("mousedown",this._onMousedown,Gl),r.addEventListener("touchstart",this._onTouchstart,Gl)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gl),document.removeEventListener("mousedown",this._onMousedown,Gl),document.removeEventListener("touchstart",this._onTouchstart,Gl))}}return t.\u0275fac=function(e){return new(e||t)(Ce(Gi),Ce(ot),Ce(gt),Ce(lH,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const uH=new Ge("liveAnnouncerElement",{providedIn:"root",factory:function hH(){return null}}),fH=new Ge("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pH=0,SD=(()=>{class t{constructor(e,n,r,o){this._ngZone=n,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...n){const r=this._defaultOptions;let o,s;return 1===n.length&&"number"==typeof n[0]?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+pH++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const o=n[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}}return t.\u0275fac=function(e){return new(e||t)(Ce(uH,8),Ce(ot),Ce(gt),Ce(fH,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mH=new Ge("cdk-focus-monitor-default-options"),kf=Is({passive:!0,capture:!0});let ls=(()=>{class t{constructor(e,n,r,o,s){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new q,this._rootNodeFocusAndBlurListener=l=>{for(let S=Os(l);S;S=S.parentElement)"focus"===l.type?this._onFocus(l,S):this._onBlur(l,S)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,n=!1){const r=da(e);if(!this._platform.isBrowser||1!==r.nodeType)return lt(null);const o=function CV(t){if(function AV(){if(null==V0){const t=typeof document<"u"?document.head:null;V0=!(!t||!t.createShadowRoot&&!t.attachShadow)}return V0}()){const i=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;const l={checkChildren:n,subject:new q,rootNode:o};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const n=da(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=da(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([l,_])=>this._originChanged(l,n,_)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=Os(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,kf),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,kf)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kf),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kf),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(Ce(ot),Ce(Gi),Ce(dH),Ce(gt,8),Ce(mH,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gH=(()=>{class t{constructor(e,n){this._elementRef=e,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new Ye}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(ls))},t.\u0275dir=He({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),t})();const TD="cdk-high-contrast-black-on-white",DD="cdk-high-contrast-white-on-black",iv="cdk-high-contrast-active";let ED=(()=>{class t{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=_t(Q0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(iv,TD,DD),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(iv,TD):2===n&&e.add(iv,DD)}}}return t.\u0275fac=function(e){return new(e||t)(Ce(Gi),Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nv=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(Ce(ED))},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[X0]}),t})();const _H=new Ge("cdk-dir-doc",{providedIn:"root",factory:function vH(){return _t(gt)}}),bH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let On=(()=>{class t{constructor(e){this.value="ltr",this.change=new Ye,e&&(this.value=function yH(t){const i=t?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?bH.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Ce(_H,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})();function AH(t,i){1&t&&Oi(0)}const CH=["*"];let MD=(()=>{class t{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(M(Je))},t.\u0275dir=He({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),t})(),ID=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["","cdkStepLabel",""]]}),t})(),wH=0;const OD=new Ge("STEPPER_GLOBAL_OPTIONS");let rv=(()=>{class t{get editable(){return this._editable}set editable(e){this._editable=yi(e)}get optional(){return this._optional}set optional(e){this._optional=yi(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=yi(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=yi(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,n){this._stepper=e,this.interacted=!1,this.interactedStream=new Ye,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return t.\u0275fac=function(e){return new(e||t)(M(Ct(()=>Od)),M(OD,8))},t.\u0275cmp=Xe({type:t,selectors:[["cdk-step"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,ID,5),2&e){let o;Ze(o=et())&&(n.stepLabel=o.first)}},viewQuery:function(e,n){if(1&e&&Xt(Gt,7),2&e){let r;Ze(r=et())&&(n.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[gi],ngContentSelectors:CH,decls:1,vars:0,template:function(e,n){1&e&&(ln(),pe(0,AH,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),Od=(()=>{class t{get linear(){return this._linear}set linear(e){this._linear=yi(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const n=Fi(e);this.steps&&this._steps?(this._isValidIndex(n),this.selected?._markAsInteracted(),this._selectedIndex!==n&&!this._anyControlsInvalidOrPending(n)&&(n>=this._selectedIndex||this.steps.toArray()[n].editable)&&this._updateSelectedItemIndex(n)):this._selectedIndex=n}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}constructor(e,n,r){this._dir=e,this._changeDetectorRef=n,this._elementRef=r,this._destroyed=new q,this.steps=new xo,this._sortedHeaders=new xo,this._linear=!1,this._selectedIndex=0,this.selectionChange=new Ye,this._orientation="horizontal",this._groupId=wH++}ngAfterContentInit(){this._steps.changes.pipe(vn(this._steps),yt(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(vn(this._stepHeader),yt(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,r)=>n._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new J0(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:lt()).pipe(vn(this._layoutDirection()),yt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const n=e-this._selectedIndex;return n<0?"rtl"===this._layoutDirection()?"next":"previous":n>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,n="number"){const r=this.steps.toArray()[e],o=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,n)}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?"error":!e.completed||n?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,n,r="number"){return e._showError()&&e.hasError&&!n?"error":e.completed&&!n?"done":e.completed&&n?r:e.editable&&n?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const n=ca(e),r=e.keyCode,o=this._keyManager;null==o.activeItemIndex||n||32!==r&&13!==r?o.setFocusOrigin("keyboard").onKeydown(e):(this.selectedIndex=o.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(n=>{const r=n.stepControl;return(r?r.invalid||r.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,n=xf();return e===n||e.contains(n)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return t.\u0275fac=function(e){return new(e||t)(M(On,8),M(zt),M(Je))},t.\u0275dir=He({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(e,n,r){if(1&e&&(Dt(r,rv,5),Dt(r,MD,5)),2&e){let o;Ze(o=et())&&(n._steps=o),Ze(o=et())&&(n._stepHeader=o)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),t})(),xH=(()=>{class t{constructor(e){this._stepper=e,this.type="submit"}}return t.\u0275fac=function(e){return new(e||t)(M(Od))},t.\u0275dir=He({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,n){1&e&&Ae("click",function(){return n._stepper.next()}),2&e&&gn("type",n.type)},inputs:{type:"type"}}),t})(),SH=(()=>{class t{constructor(e){this._stepper=e,this.type="button"}}return t.\u0275fac=function(e){return new(e||t)(M(Od))},t.\u0275dir=He({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,n){1&e&&Ae("click",function(){return n._stepper.previous()}),2&e&&gn("type",n.type)},inputs:{type:"type"}}),t})(),TH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[zl]}),t})();const EH=new Ge("mat-sanity-checks",{providedIn:"root",factory:function DH(){return!0}});let ni=(()=>{class t{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!H0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(Ce(ED),Ce(EH,8),Ce(gt))},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[zl,zl]}),t})();function Pf(t){return class extends t{get disabled(){return this._disabled}set disabled(i){this._disabled=yi(i)}constructor(...i){super(...i),this._disabled=!1}}}function kd(t,i){return class extends t{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=i,this.color=i}}}function Rf(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=yi(i)}constructor(...i){super(...i),this._disableRipple=!1}}}let ov=(()=>{class t{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni,ni]}),t})();class IH{constructor(i,e,n,r=!1){this._renderer=i,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const FD=Is({passive:!0,capture:!0});class OH{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const e=Os(i);e&&this._events.get(i.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(i))})}}addHandler(i,e,n,r){const o=this._events.get(e);if(o){const s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,FD)})}removeHandler(i,e,n){const r=this._events.get(i);if(!r)return;const o=r.get(e);o&&(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,FD)))}}const ND={enterDuration:225,exitDuration:150},LD=Is({passive:!0,capture:!0}),BD=["mousedown","touchstart"],VD=["mouseup","mouseleave","touchend","touchcancel"];class Rd{constructor(i,e,n,r){this._target=i,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=da(n))}fadeInRipple(i,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...ND,...n.animation};n.centered&&(i=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function PH(t,i,e){const n=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(n*n+r*r)}(i,e,r),l=i-r.left,_=e-r.top,S=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=l-s+"px",T.style.top=_-s+"px",T.style.height=2*s+"px",T.style.width=2*s+"px",null!=n.color&&(T.style.backgroundColor=n.color),T.style.transitionDuration=`${S}ms`,this._containerElement.appendChild(T);const I=window.getComputedStyle(T),ee=I.transitionDuration,he="none"===I.transitionProperty||"0s"===ee||"0s, 0s"===ee||0===r.width&&0===r.height,be=new IH(this,T,n,he);T.style.transform="scale3d(1, 1, 1)",be.state=0,n.persistent||(this._mostRecentTransientRipple=be);let we=null;return!he&&(S||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const De=()=>this._finishRippleTransition(be),Ve=()=>this._destroyRipple(be);T.addEventListener("transitionend",De),T.addEventListener("transitioncancel",Ve),we={onTransitionEnd:De,onTransitionCancel:Ve}}),this._activeRipples.set(be,we),(he||!S)&&this._finishRippleTransition(be),be}fadeOutRipple(i){if(2===i.state||3===i.state)return;const e=i.element,n={...ND,...i.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",i.state=2,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const e=da(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,BD.forEach(n=>{Rd._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{VD.forEach(e=>{this._triggerElement.addEventListener(e,this,LD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){0===i.state?this._startFadeOutTransition(i):2===i.state&&this._destroyRipple(i)}_startFadeOutTransition(i){const e=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=1,!n&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=3,null!==e&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel)),i.element.remove()}_onMousedown(i){const e=ev(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!tv(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=i.changedTouches;for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(BD.forEach(e=>Rd._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&VD.forEach(e=>i.removeEventListener(e,this,LD)))}}Rd._eventManager=new OH;const HD=new Ge("mat-ripple-global-options");let Io=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Rd(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(ot),M(Gi),M(HD,8),M(En,8))},t.\u0275dir=He({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){2&e&&tt("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),Wl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni,ni]}),t})(),RH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni]}),t})(),jD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[Wl,lr,ni,RH]}),t})();function UD(...t){const i=mu(t),{args:e,keys:n}=ZS(t),r=new te(o=>{const{length:s}=e;if(!s)return void o.complete();const l=new Array(s);let _=s,S=s;for(let T=0;T<s;T++){let I=!1;Qi(e[T]).subscribe(ge(o,U=>{I||(I=!0,S--),l[T]=U},()=>_--,void 0,()=>{(!_||!I)&&(S||o.next(n?eT(n,l):l),o.complete())}))}});return i?r.pipe(a0(i)):r}const FH=["*"];let Ff;function Fd(t){return function NH(){if(void 0===Ff&&(Ff=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Ff=t.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return Ff}()?.createHTML(t)||t}function GD(t){return Error(`Unable to find icon with the name "${t}"`)}function zD(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function WD(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class ua{constructor(i,e,n){this.url=i,this.svgText=e,this.options=n}}let Nf=(()=>{class t{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new ua(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){const s=this._sanitizer.sanitize(si.HTML,r);if(!s)throw WD(r);const l=Fd(s);return this._addSvgIconConfig(e,n,new ua("",l,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new ua(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const o=this._sanitizer.sanitize(si.HTML,n);if(!o)throw WD(n);const s=Fd(o);return this._addSvgIconSetConfig(e,new ua("",s,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(si.RESOURCE_URL,e);if(!n)throw zD(e);const r=this._cachedIconsByUrl.get(n);return r?lt(Lf(r)):this._loadSvgIconFromConfig(new ua(e,null)).pipe(ji(o=>this._cachedIconsByUrl.set(n,o)),ue(o=>Lf(o)))}getNamedSvgIcon(e,n=""){const r=$D(n,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):ta(GD(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?lt(Lf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ue(n=>Lf(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?lt(r):UD(n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Do(l=>{const S=`Loading icon set URL: ${this._sanitizer.sanitize(si.RESOURCE_URL,s.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(S)),lt(null)})))).pipe(ue(()=>{const s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw GD(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(s,e,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ji(n=>e.svgText=n),ue(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?lt(null):this._fetchIcon(e).pipe(ji(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const l=this._svgElementFromString(Fd("<svg></svg>"));return l.appendChild(s),this._setSvgAttributes(l,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(Fd("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:l}=r[o];"id"!==s&&n.setAttribute(s,l)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function LH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(si.RESOURCE_URL,n);if(!s)throw zD(n);const l=this._inProgressUrlFetches.get(s);if(l)return l;const _=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(ue(S=>Fd(S)),Qh(()=>this._inProgressUrlFetches.delete(s)),hy());return this._inProgressUrlFetches.set(s,_),_}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set($D(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](n,e);if(o)return VH(o)?new ua(o.url,null,o.options):new ua(o,null)}}}return t.\u0275fac=function(e){return new(e||t)(Ce(To,8),Ce(ad),Ce(gt,8),Ce(Qo))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lf(t){return t.cloneNode(!0)}function $D(t,i){return t+":"+i}function VH(t){return!(!t.url||!t.options)}const HH=kd(class{constructor(t){this._elementRef=t}}),jH=new Ge("MAT_ICON_DEFAULT_OPTIONS"),UH=new Ge("mat-icon-location",{providedIn:"root",factory:function GH(){const t=_t(gt),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),YD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zH=YD.map(t=>`[${t}]`).join(", "),WH=/^url\(['"]?#(.*?)['"]?\)$/;let sv=(()=>{class t extends HH{get inline(){return this._inline}set inline(e){this._inline=yi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,s,l){super(e),this._iconRegistry=n,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=H.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(zH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)YD.forEach(s=>{const l=n[o],_=l.getAttribute(s),S=_?_.match(WH):null;if(S){let T=r.get(l);T||(T=[],r.set(l,T)),T.push({name:s,value:S[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(qt(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${o.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Nf),Yo("aria-hidden"),M(UH),M(Qo),M(jH,8))},t.\u0275cmp=Xe({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,n){2&e&&(mt("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),tt("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[at],ngContentSelectors:FH,decls:1,vars:0,template:function(e,n){1&e&&(ln(),Oi(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),Nd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni,ni]}),t})();class XD{}class $H{}const ds="*";function ro(t,i){return{type:7,name:t,definitions:i,options:{}}}function kn(t,i=null){return{type:4,styles:i,timings:t}}function KD(t,i=null){return{type:2,steps:t,options:i}}function ri(t){return{type:6,styles:t,offset:null}}function un(t,i,e){return{type:0,name:t,styles:i,options:e}}function bn(t,i,e=null){return{type:1,expr:t,animation:i,options:e}}function qD(t){Promise.resolve().then(t)}class Ld{constructor(i=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class JD{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let e=0,n=0,r=0;const o=this.players.length;0==o?qD(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const e=i*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const i=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}const cv="!";function YH(t,i){if(1&t&&Jo(0,8),2&t){const e=ae();z("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function XH(t,i){if(1&t&&(O(0,"span",13),ce(1),N()),2&t){const e=ae(2);j(1),ct(e._getDefaultTextForState(e.state))}}function QH(t,i){if(1&t&&(O(0,"span",14),ce(1),N()),2&t){const e=ae(2);j(1),ct(e._intl.completedLabel)}}function KH(t,i){if(1&t&&(O(0,"span",14),ce(1),N()),2&t){const e=ae(2);j(1),ct(e._intl.editableLabel)}}function qH(t,i){if(1&t&&(O(0,"mat-icon",13),ce(1),N()),2&t){const e=ae(2);j(1),ct(e._getDefaultTextForState(e.state))}}function JH(t,i){if(1&t&&(wn(0,9),pe(1,XH,2,1,"span",10),pe(2,QH,2,1,"span",11),pe(3,KH,2,1,"span",11),pe(4,qH,2,1,"mat-icon",12),xn()),2&t){const e=ae();z("ngSwitch",e.state),j(1),z("ngSwitchCase","number"),j(1),z("ngIf","done"===e.state),j(1),z("ngIf","edit"===e.state)}}function ZH(t,i){if(1&t&&(O(0,"div",15),Jo(1,16),N()),2&t){const e=ae();j(1),z("ngTemplateOutlet",e._templateLabel().template)}}function ej(t,i){if(1&t&&(O(0,"div",15),ce(1),N()),2&t){const e=ae();j(1),ct(e.label)}}function tj(t,i){if(1&t&&(O(0,"div",17),ce(1),N()),2&t){const e=ae();j(1),ct(e._intl.optionalLabel)}}function ij(t,i){if(1&t&&(O(0,"div",18),ce(1),N()),2&t){const e=ae();j(1),ct(e.errorMessage)}}function nj(t,i){}function rj(t,i){if(1&t&&(Oi(0),pe(1,nj,0,0,"ng-template",0)),2&t){const e=ae();j(1),z("cdkPortalOutlet",e._portal)}}const oj=["*"];function sj(t,i){1&t&&Ee(0,"div",11)}const ZD=function(t,i){return{step:t,i}};function aj(t,i){if(1&t&&(wn(0),Jo(1,9),pe(2,sj,1,0,"div",10),xn()),2&t){const e=i.$implicit,n=i.index,r=i.last;ae(2);const o=_i(4);j(1),z("ngTemplateOutlet",o)("ngTemplateOutletContext",Lr(3,ZD,e,n)),j(1),z("ngIf",!r)}}const eE=function(t){return{animationDuration:t}},tE=function(t,i){return{value:t,params:i}};function lj(t,i){if(1&t){const e=Qe();O(0,"div",12),Ae("@horizontalStepTransition.done",function(r){return Ie(e),Oe(ae(2)._animationDone.next(r))}),Jo(1,13),N()}if(2&t){const e=i.$implicit,n=i.index,r=ae(2);tt("mat-horizontal-stepper-content-inactive",r.selectedIndex!==n),z("@horizontalStepTransition",Lr(8,tE,r._getAnimationDirection(n),Lt(6,eE,r._getAnimationDuration())))("id",r._getStepContentId(n)),mt("aria-labelledby",r._getStepLabelId(n)),j(1),z("ngTemplateOutlet",e.content)}}function cj(t,i){if(1&t&&(O(0,"div",4)(1,"div",5),pe(2,aj,3,6,"ng-container",6),N(),O(3,"div",7),pe(4,lj,2,11,"div",8),N()()),2&t){const e=ae();j(2),z("ngForOf",e.steps),j(2),z("ngForOf",e.steps)}}function dj(t,i){if(1&t){const e=Qe();O(0,"div",15),Jo(1,9),O(2,"div",16)(3,"div",17),Ae("@verticalStepTransition.done",function(r){return Ie(e),Oe(ae(2)._animationDone.next(r))}),O(4,"div",18),Jo(5,13),N()()()()}if(2&t){const e=i.$implicit,n=i.index,r=i.last,o=ae(2),s=_i(4);j(1),z("ngTemplateOutlet",s)("ngTemplateOutletContext",Lr(10,ZD,e,n)),j(1),tt("mat-stepper-vertical-line",!r),j(1),tt("mat-vertical-stepper-content-inactive",o.selectedIndex!==n),z("@verticalStepTransition",Lr(15,tE,o._getAnimationDirection(n),Lt(13,eE,o._getAnimationDuration())))("id",o._getStepContentId(n)),mt("aria-labelledby",o._getStepLabelId(n)),j(2),z("ngTemplateOutlet",e.content)}}function uj(t,i){if(1&t&&(wn(0),pe(1,dj,6,18,"div",14),xn()),2&t){const e=ae();j(1),z("ngForOf",e.steps)}}function hj(t,i){if(1&t){const e=Qe();O(0,"mat-step-header",19),Ae("click",function(){return Oe(Ie(e).step.select())})("keydown",function(r){return Ie(e),Oe(ae()._onKeydown(r))}),N()}if(2&t){const e=i.step,n=i.i,r=ae();tt("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),z("tabIndex",r._getFocusIndex()===n?0:-1)("id",r._getStepLabelId(n))("index",n)("state",r._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===n)("active",r._stepIsNavigable(n,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(n,e))("color",e.color||r.color),mt("aria-posinset",n+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(n,e)||null)}}let Bd=(()=>{class t extends ID{}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275dir=He({type:t,selectors:[["","matStepLabel",""]],features:[at]}),t})(),Bf=(()=>{class t{constructor(){this.changes=new q,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pj={provide:Bf,deps:[[new _o,new zs,Bf]],useFactory:function fj(t){return t||new Bf}},mj=kd(class extends MD{constructor(i){super(i)}},"primary");let iE=(()=>{class t extends mj{constructor(e,n,r,o){super(r),this._intl=e,this._focusMonitor=n,this._intlSubscription=e.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._elementRef,e,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof Bd?null:this.label}_templateLabel(){return this.label instanceof Bd?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return t.\u0275fac=function(e){return new(e||t)(M(Bf),M(ls),M(Je),M(zt))},t.\u0275cmp=Xe({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[at],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,n){1&e&&(Ee(0,"div",0),O(1,"div")(2,"div",1),pe(3,YH,1,2,"ng-container",2),pe(4,JH,5,4,"ng-container",3),N()(),O(5,"div",4),pe(6,ZH,2,1,"div",5),pe(7,ej,2,1,"div",5),pe(8,tj,2,1,"div",6),pe(9,ij,2,1,"div",7),N()),2&e&&(z("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),j(1),Ug("mat-step-icon-state-",n.state," mat-step-icon"),tt("mat-step-icon-selected",n.selected),j(1),z("ngSwitch",!(!n.iconOverrides||!n.iconOverrides[n.state])),j(1),z("ngSwitchCase",!0),j(2),tt("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error","error"==n.state),j(1),z("ngIf",n._templateLabel()),j(1),z("ngIf",n._stringLabel()),j(1),z("ngIf",n.optional&&"error"!=n.state),j(1),z("ngIf","error"==n.state))},dependencies:[vt,Hr,id,V_,oS,sv,Io],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),t})();const oE={horizontalStepTransition:ro("horizontalStepTransition",[un("previous",ri({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),un("current",ri({transform:"none",visibility:"inherit"})),un("next",ri({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),bn("* => *",kn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:ro("verticalStepTransition",[un("previous",ri({height:"0px",visibility:"hidden"})),un("next",ri({height:"0px",visibility:"hidden"})),un("current",ri({height:"*",visibility:"inherit"})),bn("* <=> current",kn("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let gj=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),t})(),_j=(()=>{class t{constructor(e){this._template=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","matStepContent",""]]}),t})(),dv=(()=>{class t extends rv{constructor(e,n,r,o){super(e,o),this._errorStateMatcher=n,this._viewContainerRef=r,this._isSelected=H.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(_n(()=>this._stepper.selectionChange.pipe(ue(e=>e.selectedStep===this),vn(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new sa(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,n){return this._errorStateMatcher.isErrorState(e,n)||!!(e&&e.invalid&&this.interacted)}}return t.\u0275fac=function(e){return new(e||t)(M(Ct(()=>Vf)),M(ov,4),M(Ji),M(OD,8))},t.\u0275cmp=Xe({type:t,selectors:[["mat-step"]],contentQueries:function(e,n,r){if(1&e&&(Dt(r,Bd,5),Dt(r,_j,5)),2&e){let o;Ze(o=et())&&(n.stepLabel=o.first),Ze(o=et())&&(n._lazyContent=o.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[Pt([{provide:ov,useExisting:t},{provide:rv,useExisting:t}]),at],ngContentSelectors:oj,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,n){1&e&&(ln(),pe(0,rj,2,1,"ng-template"))},dependencies:[as],encapsulation:2,changeDetection:0}),t})(),Vf=(()=>{class t extends Od{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,n,r){super(e,n,r),this.steps=new xo,this.animationDone=new Ye,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new q,this._animationDuration="";const o=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===o?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:n})=>this._iconOverrides[e]=n),this.steps.changes.pipe(yt(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(jl((e,n)=>e.fromState===n.fromState&&e.toState===n.toState),yt(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,n){return n.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return t.\u0275fac=function(e){return new(e||t)(M(On,8),M(zt),M(Je))},t.\u0275cmp=Xe({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,n,r){if(1&e&&(Dt(r,dv,5),Dt(r,gj,5)),2&e){let o;Ze(o=et())&&(n._steps=o),Ze(o=et())&&(n._icons=o)}},viewQuery:function(e,n){if(1&e&&Xt(iE,5),2&e){let r;Ze(r=et())&&(n._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,n){2&e&&(mt("aria-orientation",n.orientation),tt("mat-stepper-horizontal","horizontal"===n.orientation)("mat-stepper-vertical","vertical"===n.orientation)("mat-stepper-label-position-end","horizontal"===n.orientation&&"end"==n.labelPosition)("mat-stepper-label-position-bottom","horizontal"===n.orientation&&"bottom"==n.labelPosition)("mat-stepper-header-position-bottom","bottom"===n.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[Pt([{provide:Od,useExisting:t}]),at],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,n){1&e&&(wn(0,0),pe(1,cj,5,2,"div",1),pe(2,uj,2,1,"ng-container",2),xn(),pe(3,hj,1,23,"ng-template",null,3,Dn)),2&e&&(z("ngSwitch",n.orientation),j(1),z("ngSwitchCase","horizontal"),j(1),z("ngSwitchCase","vertical"))},dependencies:[ei,vt,Hr,id,V_,iE],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[oE.horizontalStepTransition,oE.verticalStepTransition]},changeDetection:0}),t})(),sE=(()=>{class t extends xH{}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275dir=He({type:t,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,n){2&e&&gn("type",n.type)},inputs:{type:"type"},features:[at]}),t})(),aE=(()=>{class t extends SH{}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275dir=He({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,n){2&e&&gn("type",n.type)},inputs:{type:"type"},features:[at]}),t})(),lE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[pj,ov],imports:[ni,lr,aa,TH,Nd,Wl,ni]}),t})(),cE=(()=>{class t{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(M(or),M(Je))},t.\u0275dir=He({type:t}),t})(),ha=(()=>{class t extends cE{}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275dir=He({type:t,features:[at]}),t})();const Un=new Ge("NgValueAccessor"),bj={provide:Un,useExisting:Ct(()=>yn),multi:!0},Aj=new Ge("CompositionEventMode");let yn=(()=>{class t extends cE{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yj(){const t=is()?is().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(M(or),M(Je),M(Aj,8))},t.\u0275dir=He({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&Ae("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[Pt([bj]),at]}),t})();const Cj=!1;function ks(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function uE(t){return null!=t&&"number"==typeof t.length}const Pn=new Ge("NgValidators"),Ps=new Ge("NgAsyncValidators"),wj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pi{static min(i){return function hE(t){return i=>{if(ks(i.value)||ks(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}(i)}static max(i){return function fE(t){return i=>{if(ks(i.value)||ks(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}(i)}static required(i){return function pE(t){return ks(t.value)?{required:!0}:null}(i)}static requiredTrue(i){return function mE(t){return!0===t.value?null:{required:!0}}(i)}static email(i){return function gE(t){return ks(t.value)||wj.test(t.value)?null:{email:!0}}(i)}static minLength(i){return function _E(t){return i=>ks(i.value)||!uE(i.value)?null:i.value.length<t?{minlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function vE(t){return i=>uE(i.value)&&i.value.length>t?{maxlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static pattern(i){return function bE(t){if(!t)return Hf;let i,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),n=>{if(ks(n.value))return null;const r=n.value;return i.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(i)}static nullValidator(i){return null}static compose(i){return SE(i)}static composeAsync(i){return TE(i)}}function Hf(t){return null}function yE(t){return null!=t}function AE(t){const i=Hc(t)?Ki(t):t;if(Cj&&!Fg(i)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new Ue(-1101,e)}return i}function CE(t){let i={};return t.forEach(e=>{i=null!=e?{...i,...e}:i}),0===Object.keys(i).length?null:i}function wE(t,i){return i.map(e=>e(t))}function xE(t){return t.map(i=>function xj(t){return!t.validate}(i)?i:e=>i.validate(e))}function SE(t){if(!t)return null;const i=t.filter(yE);return 0==i.length?null:function(e){return CE(wE(e,i))}}function uv(t){return null!=t?SE(xE(t)):null}function TE(t){if(!t)return null;const i=t.filter(yE);return 0==i.length?null:function(e){return UD(wE(e,i).map(AE)).pipe(ue(CE))}}function hv(t){return null!=t?TE(xE(t)):null}function DE(t,i){return null===t?[i]:Array.isArray(t)?[...t,i]:[t,i]}function EE(t){return t._rawValidators}function ME(t){return t._rawAsyncValidators}function fv(t){return t?Array.isArray(t)?t:[t]:[]}function jf(t,i){return Array.isArray(t)?t.includes(i):t===i}function IE(t,i){const e=fv(i);return fv(t).forEach(r=>{jf(e,r)||e.push(r)}),e}function OE(t,i){return fv(i).filter(e=>!jf(t,e))}class kE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=uv(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,e){return!!this.control&&this.control.hasError(i,e)}getError(i,e){return this.control?this.control.getError(i,e):null}}class qn extends kE{get formDirective(){return null}get path(){return null}}class Rs extends kE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PE{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gn=(()=>{class t extends PE{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(M(Rs,2))},t.\u0275dir=He({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&tt("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[at]}),t})(),zn=(()=>{class t extends PE{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(M(qn,10))},t.\u0275dir=He({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){2&e&&tt("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[at]}),t})();function RE(t,i){return t?`with name: '${i}'`:`at index: ${i}`}const gv=!1,Vd="VALID",Gf="INVALID",$l="PENDING",Hd="DISABLED";function _v(t){return(zf(t)?t.validators:t)||null}function vv(t,i){return(zf(i)?i.asyncValidators:t)||null}function zf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function FE(t,i,e){const n=t.controls;if(!(i?Object.keys(n):n).length)throw new Ue(1e3,gv?function Ej(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(i):"");if(!n[e])throw new Ue(1001,gv?function Mj(t,i){return`Cannot find form control ${RE(t,i)}`}(i,e):"")}function NE(t,i,e){t._forEachChild((n,r)=>{if(void 0===e[r])throw new Ue(1002,gv?function Ij(t,i){return`Must supply a value for form control ${RE(t,i)}`}(i,r):"")})}class Wf{constructor(i,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Vd}get invalid(){return this.status===Gf}get pending(){return this.status==$l}get disabled(){return this.status===Hd}get enabled(){return this.status!==Hd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(IE(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(IE(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(OE(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(OE(i,this._rawAsyncValidators))}hasValidator(i){return jf(this._rawValidators,i)}hasAsyncValidator(i){return jf(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=$l,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=Hd,this.errors=null,this._forEachChild(n=>{n.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=Vd,this._forEachChild(n=>{n.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vd||this.status===$l)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hd:Vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=$l,this._hasOwnPendingAsyncValidator=!0;const e=AE(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(!1!==e.emitEvent)}get(i){let e=i;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(i,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Hd:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($l)?$l:this._anyControlsHaveStatus(Gf)?Gf:Vd}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){zf(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function Oj(t){return Array.isArray(t)?uv(t):t||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function kj(t){return Array.isArray(t)?hv(t):t||null}(this._rawAsyncValidators)}}class oo extends Wf{constructor(i,e,n){super(_v(e),vv(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,n={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){NE(this,!0,i),Object.keys(i).forEach(n=>{FE(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(Object.keys(i).forEach(n=>{const r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((n,r)=>{n.reset(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,n)=>(i[n]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&i(n,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&i(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(i,e){let n=i;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}class LE extends oo{}const fa=new Ge("CallSetDisabledState",{providedIn:"root",factory:()=>jd}),jd="always";function $f(t,i){return[...i.path,t]}function Ud(t,i,e=jd){bv(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&i.valueAccessor.setDisabledState?.(t.disabled),function Rj(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&BE(t,i)})}(t,i),function Nj(t,i){const e=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,i),function Fj(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&BE(t,i),"submit"!==t.updateOn&&t.markAsTouched()})}(t,i),function Pj(t,i){if(i.valueAccessor.setDisabledState){const e=n=>{i.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,i)}function Yf(t,i,e=!0){const n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),Qf(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Xf(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function bv(t,i){const e=EE(t);null!==i.validator?t.setValidators(DE(e,i.validator)):"function"==typeof e&&t.setValidators([e]);const n=ME(t);null!==i.asyncValidator?t.setAsyncValidators(DE(n,i.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);const r=()=>t.updateValueAndValidity();Xf(i._rawValidators,r),Xf(i._rawAsyncValidators,r)}function Qf(t,i){let e=!1;if(null!==t){if(null!==i.validator){const r=EE(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==i.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(null!==i.asyncValidator){const r=ME(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==i.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}const n=()=>{};return Xf(i._rawValidators,n),Xf(i._rawAsyncValidators,n),e}function BE(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function VE(t,i){bv(t,i)}function Av(t,i){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(i,e.currentValue)}function HE(t,i){t._syncPendingControls(),i.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Cv(t,i){if(!i)return null;let e,n,r;return Array.isArray(i),i.forEach(o=>{o.constructor===yn?e=o:function Vj(t){return Object.getPrototypeOf(t.constructor)===ha}(o)?n=o:r=o}),r||n||e||null}const jj={provide:qn,useExisting:Ct(()=>Kf)},Gd=(()=>Promise.resolve())();let Kf=(()=>{class t extends qn{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new oo({},uv(e),hv(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Gd.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ud(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Gd.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Gd.then(()=>{const n=this._findContainer(e.path),r=new oo({});VE(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Gd.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Gd.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,HE(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(M(Pn,10),M(Ps,10),M(fa,8))},t.\u0275dir=He({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&Ae("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pt([jj]),at]}),t})();function jE(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}function UE(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const xi=class extends Wf{constructor(i=null,e,n){super(_v(e),vv(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=UE(i)?i.value:i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){jE(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){jE(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){UE(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};let GE=(()=>{class t extends qn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $f(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275dir=He({type:t,features:[at]}),t})();const zj={provide:Rs,useExisting:Ct(()=>wv)},WE=(()=>Promise.resolve())();let wv=(()=>{class t extends Rs{constructor(e,n,r,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new xi,this._registered=!1,this.update=new Ye,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Cv(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Av(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ud(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){WE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,r=0!==n&&Dl(n);WE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?$f(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(M(qn,9),M(Pn,10),M(Ps,10),M(Un,10),M(zt,8),M(fa,8))},t.\u0275dir=He({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pt([zj]),at,gi]}),t})(),Oo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),YE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})();const xv=new Ge("NgModelWithFormControlWarning"),Qj={provide:Rs,useExisting:Ct(()=>qf)};let qf=(()=>{class t extends Rs{set isDisabled(e){}constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Ye,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Cv(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const n=e.form.previousValue;n&&Yf(n,this,!1),Ud(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Av(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Yf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(M(Pn,10),M(Ps,10),M(Un,10),M(xv,8),M(fa,8))},t.\u0275dir=He({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Pt([Qj]),at,gi]}),t})();const Kj={provide:qn,useExisting:Ct(()=>Rn)};let Rn=(()=>{class t extends qn{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return Ud(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Yf(e.control||null,e,!1),function Hj(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,HE(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(Yf(n||null,e),(t=>t instanceof xi)(r)&&(Ud(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);VE(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function Lj(t,i){return Qf(t,i)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bv(this.form,this),this._oldForm&&Qf(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(M(Pn,10),M(Ps,10),M(fa,8))},t.\u0275dir=He({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&Ae("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pt([Kj]),at,gi]}),t})();const qj={provide:qn,useExisting:Ct(()=>pa)};let pa=(()=>{class t extends GE{constructor(e,n,r){super(),this._parent=e,this._setValidators(n),this._setAsyncValidators(r)}_checkParentType(){KE(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(M(qn,13),M(Pn,10),M(Ps,10))},t.\u0275dir=He({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Pt([qj]),at]}),t})();const Jj={provide:qn,useExisting:Ct(()=>ma)};let ma=(()=>{class t extends qn{constructor(e,n,r){super(),this._parent=e,this._setValidators(n),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $f(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){KE(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(M(qn,13),M(Pn,10),M(Ps,10))},t.\u0275dir=He({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Pt([Jj]),at]}),t})();function KE(t){return!(t instanceof pa||t instanceof Rn||t instanceof ma)}const Zj={provide:Rs,useExisting:Ct(()=>dr)};let dr=(()=>{class t extends Rs{set isDisabled(e){}constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Cv(0,o)}ngOnChanges(e){this._added||this._setUpControl(),Av(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return $f(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(M(qn,13),M(Pn,10),M(Ps,10),M(Un,10),M(xv,8))},t.\u0275dir=He({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Pt([Zj]),at,gi]}),t})(),c2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[YE]}),t})();class Jf extends Wf{constructor(i,e,n){super(_v(e),vv(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,n={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(i,e={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,n={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){NE(this,!1,i),i.forEach((n,r)=>{FE(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(i.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((n,r)=>{n.reset(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((e,n)=>{i(e,n)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}}function d2(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let so=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,n=null){const r=this._reduceControls(e);let o={};return d2(n)?o=n:null!==n&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new oo(r,o)}record(e,n=null){const r=this._reduceControls(e);return new LE(r,n)}control(e,n,r){let o={};return this.useNonNullable?(d2(n)?o=n:(o.validators=n,o.asyncValidators=r),new xi(e,{...o,nonNullable:!0})):new xi(e,n,r)}array(e,n,r){const o=e.map(s=>this._createControl(s));return new Jf(o,n,r)}_reduceControls(e){const n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){return e instanceof xi||e instanceof Wf?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u2=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:fa,useValue:e.callSetDisabledState??jd}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[c2]}),t})(),h2=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:xv,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:fa,useValue:e.callSetDisabledState??jd}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[c2]}),t})();function pU(t,i){if(1&t&&(O(0,"div",19),Ee(1,"img",20),N()),2&t){const e=ae();j(1),z("src",e.storyStartForm.get("image").value,ai)}}function mU(t,i){if(1&t&&(O(0,"div",19),Ee(1,"img",21),N()),2&t){const e=ae();j(1),z("src",e.imageUrl,ai)}}function gU(t,i){if(1&t){const e=Qe();O(0,"div",3)(1,"div",22)(2,"div",23),Ee(3,"input",24),N(),O(4,"div",25)(5,"button",18),Ae("click",function(){const o=Ie(e).index;return Oe(ae().onDeleteTag(o))}),ce(6,"Delete Tag"),N()()()()}if(2&t){const e=i.index;j(1),z("formGroupName",e)}}let _U=(()=>{class t{onFileSelected(e){this.selectedFile=e.target.files[0],this.imageUrl=URL.createObjectURL(this.selectedFile),this.fileTransferService.image=this.selectedFile}onUpload(){console.log(!!this.fileTransferService.image)}get tags(){return this.storyStartForm.controls.tags}constructor(e,n,r,o){this.route=e,this.sService=n,this.router=r,this.fileTransferService=o,this.editMode=!1,this.validForm=!1,this.uploaded=new Ye}ngOnInit(){this.storyStartForm=new oo({title:new xi("",pi.required),description:new xi("",pi.required),longDescription:new xi("",pi.required),image:new xi(null,pi.required),tags:new Jf([])})}onAddTag(){this.storyStartForm.get("tags").push(new oo({name:new xi("",pi.required)}))}onDeleteTag(e){this.storyStartForm.get("tags").removeAt(e)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(cr),M(ti),M(Af))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-new-parta"]],outputs:{uploaded:"uploaded"},decls:38,vars:4,consts:[[1,"row","container"],[1,"col-xs-12"],["enctype","multipart/form-data",3,"formGroup"],[1,"row"],["type","button",1,"btn","btn-danger",3,"click"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control"],["for","longDescription"],["type","text","id","longDescription","formControlName","longDescription",1,"form-control"],["type","file","accept","image/*",3,"change"],["class","col-xs-12 imagerow",4,"ngIf"],[1,"tag","row"],["formArrayName","tags",1,"col-xs-12"],["class","row",4,"ngFor","ngForOf"],[1,"btnCol","row"],["type","button",1,"btn","btn-primary","float-end",3,"click"],[1,"col-xs-12","imagerow"],[1,"img-responsive",2,"max-width","600px",3,"src"],[1,"img-responsive",2,"max-width","200px",3,"src"],[1,"row",3,"formGroupName"],[1,"col-md-8"],["type","text","formControlName","name","placeholder","Tag Name",1,"form-control",2,"margin","8px"],[1,"col-md-4"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",1)(5,"button",4),Ae("click",function(){return r.onCancel()}),ce(6,"Cancel"),N()()(),O(7,"div",3)(8,"div",1)(9,"div",5)(10,"label",6),ce(11,"Title"),N(),Ee(12,"input",7),N()()(),O(13,"div",3)(14,"div",1)(15,"div",5)(16,"label",8),ce(17,"Description"),N(),Ee(18,"input",9),N()()(),O(19,"div",3)(20,"div",1)(21,"div",5)(22,"label",10),ce(23,"Background"),N(),Ee(24,"input",11),N()()(),O(25,"div",3)(26,"div",1)(27,"div",5)(28,"input",12),Ae("change",function(s){return r.onFileSelected(s)}),N()(),O(29,"div",3),pe(30,pU,2,1,"div",13),pe(31,mU,2,1,"div",13),N()()(),O(32,"div",14)(33,"div",15),pe(34,gU,7,1,"div",16),N(),O(35,"div",17)(36,"button",18),Ae("click",function(){return r.onAddTag()}),ce(37,"Add Tag"),N()()()()()()),2&n&&(j(2),z("formGroup",r.storyStartForm),j(28),z("ngIf",!r.imageUrl),j(1),z("ngIf",!!r.imageUrl),j(3),z("ngForOf",r.tags.controls))},dependencies:[ei,vt,Oo,yn,Gn,zn,Rn,dr,pa,ma],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.row[_ngcontent-%COMP%], .imagerow[_ngcontent-%COMP%]{margin:10px auto}.imagerow[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;background-color:#a0c9d5;display:block;margin:auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:150px}"]})}return t})();const vU=["addListener","removeListener"],bU=["addEventListener","removeEventListener"],yU=["on","off"];function Si(t,i,e,n){if(C(e)&&(n=e,e=void 0),n)return Si(t,i,e).pipe(a0(n));const[r,o]=function wU(t){return C(t.addEventListener)&&C(t.removeEventListener)}(t)?bU.map(s=>l=>t[s](i,l,e)):function AU(t){return C(t.addListener)&&C(t.removeListener)}(t)?vU.map(f2(t,i)):function CU(t){return C(t.on)&&C(t.off)}(t)?yU.map(f2(t,i)):[];if(!r&&Kp(t))return sn(s=>Si(s,i,e))(Qi(t));if(!r)throw new TypeError("Invalid event target");return new te(s=>{const l=(..._)=>s.next(1<_.length?_:_[0]);return r(l),()=>o(l)})}function f2(t,i){return e=>n=>t[e](i,n)}const zd={schedule(t){let i=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=zd;n&&(i=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=i(o=>{e=void 0,t(o)});return new H(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:i}=zd;return(i?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:i}=zd;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0},TU=new class SU extends $0{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===e&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===e&&n.shift();)i.unsubscribe();throw r}}}(class xU extends W0{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,n=0){return null!==n&&n>0?super.requestAsyncId(i,e,n):(i.actions.push(this),i._scheduled||(i._scheduled=zd.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,e,n);const{actions:o}=i;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(zd.cancelAnimationFrame(e),i._scheduled=void 0)}});let Ev,DU=1;const Zf={};function p2(t){return t in Zf&&(delete Zf[t],!0)}const EU={setImmediate(t){const i=DU++;return Zf[i]=!0,Ev||(Ev=Promise.resolve()),Ev.then(()=>p2(i)&&t()),i},clearImmediate(t){p2(t)}},{setImmediate:MU,clearImmediate:IU}=EU,ep={setImmediate(...t){const{delegate:i}=ep;return(i?.setImmediate||MU)(...t)},clearImmediate(t){const{delegate:i}=ep;return(i?.clearImmediate||IU)(t)},delegate:void 0},Mv=new class kU extends $0{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===e&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===e&&n.shift();)i.unsubscribe();throw r}}}(class OU extends W0{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,n=0){return null!==n&&n>0?super.requestAsyncId(i,e,n):(i.actions.push(this),i._scheduled||(i._scheduled=ep.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,e,n);const{actions:o}=i;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(ep.clearImmediate(e),i._scheduled===e&&(i._scheduled=void 0))}});function Wd(t=0,i,e=BV){let n=-1;return null!=i&&(ly(i)?e=i:n=i),new te(r=>{let o=function RU(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function Iv(t,i=Df){return function PU(t){return Z((i,e)=>{let n=!1,r=null,o=null,s=!1;const l=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const S=r;r=null,e.next(S)}s&&e.complete()},_=()=>{o=null,s&&e.complete()};i.subscribe(ge(e,S=>{n=!0,r=S,o||Qi(t(S)).subscribe(o=ge(e,l,_))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>Wd(t,i))}const FU=["contentWrapper"],NU=["*"],LU=new Ge("VIRTUAL_SCROLL_STRATEGY");let $d=(()=>{class t{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new q,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new te(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Iv(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Kt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=da(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Si(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Ce(ot),Ce(Gi),Ce(gt,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m2=(()=>{class t{constructor(e,n,r,o){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=o,this._destroyed=new q,this._elementScrolled=new te(s=>this.ngZone.runOutsideAngular(()=>Si(this.elementRef.nativeElement,"scroll").pipe(yt(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&0!=Ed()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==Ed()?e.left=e.right:1==Ed()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;hD()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:n:"end"==e&&(e=s?n:r),s&&2==Ed()?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Ed()?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M($d),M(ot),M(On,8))},t.\u0275dir=He({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),t})(),Yl=(()=>{class t{constructor(e,n,r){this._platform=e,this._change=new q,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Iv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Ce(Gi),Ce(ot),Ce(gt,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const g2=new Ge("VIRTUAL_SCROLLABLE");let HU=(()=>{class t extends m2{constructor(e,n,r,o){super(e,n,r,o)}measureViewportSize(e){const n=this.elementRef.nativeElement;return"horizontal"===e?n.clientWidth:n.clientHeight}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M($d),M(ot),M(On,8))},t.\u0275dir=He({type:t,features:[at]}),t})();const UU=typeof requestAnimationFrame<"u"?TU:Mv;let GU=(()=>{class t extends HU{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=yi(e)}constructor(e,n,r,o,s,l,_,S){super(e,l,r,s),this.elementRef=e,this._changeDetectorRef=n,this._scrollStrategy=o,this.scrollable=S,this._platform=_t(Gi),this._detachedSubject=new q,this._renderedRangeSubject=new q,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new te(T=>this._scrollStrategy.scrolledIndexChange.subscribe(I=>Promise.resolve().then(()=>this.ngZone.run(()=>T.next(I))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=H.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(vn(null),Iv(0,UU)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(yt(this._detachedSubject)).subscribe(n=>{const r=n.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function jU(t,i){return t.start==i.start&&t.end==i.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,n="to-start"){e=this.appendOnly&&"to-start"===n?0:e;const o="horizontal"==this.orientation,s=o?"X":"Y";let _=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===n&&(_+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,n="auto"){const r={behavior:n};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,n="auto"){this._scrollStrategy.scrollToIndex(e,n)}measureScrollOffset(e){let n;return n=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,n(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let n;const r="left",o="right",s="rtl"==this.dir?.value;n="start"==e?s?o:r:"end"==e?s?r:o:e||("horizontal"===this.orientation?"left":"top");const l=this.scrollable.measureBoundingClientRectWithScrollOffset(n);return this.elementRef.nativeElement.getBoundingClientRect()[n]-l}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const n of e)n()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(zt),M(ot),M(LU,8),M(On,8),M($d),M(Yl),M(g2,8))},t.\u0275cmp=Xe({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,n){if(1&e&&Xt(FU,7),2&e){let r;Ze(r=et())&&(n._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,n){2&e&&tt("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Pt([{provide:m2,useFactory:(i,e)=>i||e,deps:[[new _o,new Uu(g2)],t]}]),at,qi],ngContentSelectors:NU,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,n){1&e&&(ln(),O(0,"div",0,1),Oi(2),N(),Ee(3,"div",2)),2&e&&(j(3),Zo("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),t})(),Yd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})(),_2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[zl,Yd,GU,zl,Yd]}),t})();const v2=hD();class zU{constructor(i,e){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=rn(-this._previousScrollPosition.left),i.style.top=rn(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,n=i.style,r=this._document.body.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),v2&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),v2&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class WU{constructor(i,e,n,r){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(Kt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class b2{enable(){}disable(){}attach(){}}function Ov(t,i){return i.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function y2(t,i){return i.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class $U{constructor(i,e,n,r){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Ov(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YU=(()=>{class t{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new b2,this.close=s=>new WU(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new zU(this._viewportRuler,this._document),this.reposition=s=>new $U(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return t.\u0275fac=function(e){return new(e||t)(Ce($d),Ce(Yl),Ce(ot),Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tp{constructor(i){if(this.scrollStrategy=new b2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const e=Object.keys(i);for(const n of e)void 0!==i[n]&&(this[n]=i[n])}}}class XU{constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}}let A2=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),QU=(()=>{class t extends A2{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const l=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt),Ce(ot,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),KU=(()=>{class t extends A2{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Os(o)},this._clickListener=o=>{const s=Os(o),l="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let S=_.length-1;S>-1;S--){const T=_[S];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(s)||T.overlayElement.contains(l))break;const I=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(o)):I.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt),Ce(Gi),Ce(ot,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ip=(()=>{class t{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||H0()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),H0()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt),Ce(Gi))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Xd{constructor(i,e,n,r,o,s,l,_,S,T=!1){this._portalOutlet=i,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=_,this._outsideClickDispatcher=S,this._animationsDisabled=T,this._backdropElement=null,this._backdropClick=new q,this._attachments=new q,this._detachments=new q,this._locationChanges=H.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new q,this._outsidePointerEvents=new q,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=rn(this._config.width),i.height=rn(this._config.height),i.minWidth=rn(this._config.minWidth),i.minHeight=rn(this._config.minHeight),i.maxWidth=rn(this._config.maxWidth),i.maxHeight=rn(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,e,n){const r=Ef(e||[]).filter(o=>!!o);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(yt(Wr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const C2="cdk-overlay-connected-position-bounding-box",qU=/([A-Za-z%]+)$/;class JU{get positions(){return this._preferredPositions}constructor(i,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new q,this._resizeSubscription=H.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(C2),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let s;for(let l of this._preferredPositions){let _=this._getOriginPoint(i,r,l),S=this._getOverlayPoint(_,e,l),T=this._getOverlayFit(S,e,n,l);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,_);this._canFitWithFlexibleDimensions(T,S,n)?o.push({position:l,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,l)}):(!s||s.overlayFit.visibleArea<T.visibleArea)&&(s={overlayFit:T,overlayPoint:S,originPoint:_,position:l,overlayRect:e})}if(o.length){let l=null,_=-1;for(const S of o){const T=S.boundingBoxRect.width*S.boundingBoxRect.height*(S.position.weight||1);T>_&&(_=T,l=S)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_a(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(C2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,n){let r,o;if("center"==n.originX)r=i.left+i.width/2;else{const s=this._isRtl()?i.right:i.left,l=this._isRtl()?i.left:i.right;r="start"==n.originX?s:l}return e.left<0&&(r-=e.left),o="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(i,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:i.x+r,y:i.y+o}}_getOverlayFit(i,e,n,r){const o=x2(e);let{x:s,y:l}=i,_=this._getOffset(r,"x"),S=this._getOffset(r,"y");_&&(s+=_),S&&(l+=S);let U=0-l,ee=l+o.height-n.height,he=this._subtractOverflows(o.width,0-s,s+o.width-n.width),be=this._subtractOverflows(o.height,U,ee),we=he*be;return{visibleArea:we,isCompletelyWithinViewport:o.width*o.height===we,fitsInViewportVertically:be===o.height,fitsInViewportHorizontally:he==o.width}}_canFitWithFlexibleDimensions(i,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,s=w2(this._overlayRef.getConfig().minHeight),l=w2(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=s&&s<=r)&&(i.fitsInViewportHorizontally||null!=l&&l<=o)}return!1}_pushOverlayOnScreen(i,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const r=x2(e),o=this._viewportRect,s=Math.max(i.x+r.width-o.width,0),l=Math.max(i.y+r.height-o.height,0),_=Math.max(o.top-n.top-i.y,0),S=Math.max(o.left-n.left-i.x,0);let T=0,I=0;return T=r.width<=o.width?S||-s:i.x<this._viewportMargin?o.left-n.left-i.x:0,I=r.height<=o.height?_||-l:i.y<this._viewportMargin?o.top-n.top-i.y:0,this._previousPushAmount={x:T,y:I},{x:i.x+T,y:i.y+I}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new XU(i,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=i.overlayY;n="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,e){const n=this._viewportRect,r=this._isRtl();let o,s,l,T,I,U;if("top"===e.overlayY)s=i.y,o=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)l=n.height-i.y+2*this._viewportMargin,o=n.height-l+this._viewportMargin;else{const ee=Math.min(n.bottom-i.y+n.top,i.y),he=this._lastBoundingBoxSize.height;o=2*ee,s=i.y-ee,o>he&&!this._isInitialRender&&!this._growAfterOpen&&(s=i.y-he/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)U=n.width-i.x+this._viewportMargin,T=i.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=i.x,T=n.right-i.x;else{const ee=Math.min(n.right-i.x+n.left,i.x),he=this._lastBoundingBoxSize.width;T=2*ee,I=i.x-ee,T>he&&!this._isInitialRender&&!this._growAfterOpen&&(I=i.x-he/2)}return{top:s,left:I,bottom:l,right:U,width:T,height:o}}_setBoundingBoxStyles(i,e){const n=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=rn(n.height),r.top=rn(n.top),r.bottom=rn(n.bottom),r.width=rn(n.width),r.left=rn(n.left),r.right=rn(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=rn(o)),s&&(r.maxWidth=rn(s))}this._lastBoundingBoxSize=n,_a(this._boundingBox.style,r)}_resetBoundingBoxStyles(){_a(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_a(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();_a(n,this._getExactOverlayY(e,i,T)),_a(n,this._getExactOverlayX(e,i,T))}else n.position="static";let l="",_=this._getOffset(e,"x"),S=this._getOffset(e,"y");_&&(l+=`translateX(${_}px) `),S&&(l+=`translateY(${S}px)`),n.transform=l.trim(),s.maxHeight&&(r?n.maxHeight=rn(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=rn(s.maxWidth):o&&(n.maxWidth="")),_a(this._pane.style,n)}_getExactOverlayY(i,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===i.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=rn(o.y),r}_getExactOverlayX(i,e,n){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),s=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=rn(o.x),r}_getScrollVisibility(){const i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:y2(i,n),isOriginOutsideView:Ov(i,n),isOverlayClipped:y2(e,n),isOverlayOutsideView:Ov(e,n)}}_subtractOverflows(i,...e){return e.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return"x"===e?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Ef(i).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof Je)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const e=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+e,height:n,width:e}}}function _a(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function w2(t){if("number"!=typeof t&&null!=t){const[i,e]=t.split(qU);return e&&"px"!==e?null:parseFloat(i)}return t||null}function x2(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const S2="cdk-global-overlay-wrapper";class ZU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(S2),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:l}=n,_=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),S=!("100%"!==o&&"100vh"!==o||l&&"100%"!==l&&"100vh"!==l),T=this._xPosition,I=this._xOffset,U="rtl"===this._overlayRef.getConfig().direction;let ee="",he="",be="";_?be="flex-start":"center"===T?(be="center",U?he=I:ee=I):U?"left"===T||"end"===T?(be="flex-end",ee=I):("right"===T||"start"===T)&&(be="flex-start",he=I):"left"===T||"start"===T?(be="flex-start",ee=I):("right"===T||"end"===T)&&(be="flex-end",he=I),i.position=this._cssPosition,i.marginLeft=_?"0":ee,i.marginTop=S?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=_?"0":he,e.justifyContent=be,e.alignItems=S?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(S2),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let eG=(()=>{class t{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new ZU}flexibleConnectedTo(e){return new JU(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Yl),Ce(gt),Ce(Gi),Ce(ip))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tG=0,xr=(()=>{class t{constructor(e,n,r,o,s,l,_,S,T,I,U,ee){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=l,this._ngZone=_,this._document=S,this._directionality=T,this._location=I,this._outsideClickDispatcher=U,this._animationsModuleType=ee}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new tp(e);return s.direction=s.direction||this._directionality.value,new Xd(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+tG++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Cs)),new vV(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Ce(YU),Ce(ip),Ce(_s),Ce(eG),Ce(QU),Ce(Mi),Ce(ot),Ce(gt),Ce(On),Ce(Zc),Ce(KU),Ce(En,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rG={provide:new Ge("cdk-connected-overlay-scroll-strategy"),deps:[xr],useFactory:function nG(t){return()=>t.scrollStrategies.reposition()}};let Xl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[xr,rG],imports:[zl,aa,_2,_2]}),t})();function oG(t,i){}class np{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let T2=(()=>{class t extends Cf{constructor(e,n,r,o,s,l,_,S){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=s,this._ngZone=l,this._overlayRef=_,this._focusMonitor=S,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>{this._portalOutlet.hasAttached();const I=this._portalOutlet.attachDomPortal(T);return this._contentAttached(),I},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=xf(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=xf();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=xf())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Z0),M(gt,8),M(np),M(Of),M(ot),M(Xd),M(ls))},t.\u0275cmp=Xe({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(1&e&&Xt(as,7),2&e){let r;Ze(r=et())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){2&e&&mt("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[at],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&pe(0,oG,0,0,"ng-template",0)},dependencies:[as],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),t})();class kv{constructor(i,e){this.overlayRef=i,this.config=e,this.closed=new q,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!ca(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(i,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const D2=new Ge("DialogScrollStrategy"),sG=new Ge("DialogData"),aG=new Ge("DefaultDialogConfig"),cG={provide:D2,deps:[xr],useFactory:function lG(t){return()=>t.scrollStrategies.block()}};let dG=0,E2=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,o,s,l){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new q,this._afterOpenedAtThisLevel=new q,this._ariaHiddenElements=new Map,this.afterAllClosed=Yh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vn(void 0))),this._scrollStrategy=l}open(e,n){(n={...this._defaultOptions||new np,...n}).id=n.id||"cdk-dialog-"+dG++,n.id&&this.getDialogById(n.id);const o=this._getOverlayConfig(n),s=this._overlay.create(o),l=new kv(s,n),_=this._attachContainer(s,l,n);return l.containerInstance=_,this._attachDialogContent(e,l,_,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Pv(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){Pv(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Pv(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new tp({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:np,useValue:r},{provide:kv,useValue:n},{provide:Xd,useValue:e}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,s.push(...r.container.providers(r))):l=T2;const _=new Vl(l,r.viewContainerRef,Mi.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(_).instance}_attachDialogContent(e,n,r,o){if(e instanceof Gt){const s=this._createInjector(o,n,r,void 0);let l={$implicit:o.data,dialogRef:n};o.templateContext&&(l={...l,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new sa(e,null,l,s))}else{const s=this._createInjector(o,n,r,this._injector),l=r.attachComponentPortal(new Vl(e,o.viewContainerRef,s,o.componentFactoryResolver));n.componentInstance=l.instance}}_createInjector(e,n,r,o){const s=e.injector||e.viewContainerRef?.injector,l=[{provide:sG,useValue:e.data},{provide:kv,useValue:n}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(n,e,r)):l.push(...e.providers)),e.direction&&(!s||!s.get(On,null,{optional:!0}))&&l.push({provide:On,useValue:{value:e.direction,change:lt()}}),Mi.create({parent:s||o,providers:l})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return t.\u0275fac=function(e){return new(e||t)(Ce(xr),Ce(Mi),Ce(aG,8),Ce(t,12),Ce(ip),Ce(D2))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();function Pv(t,i){let e=t.length;for(;e--;)i(t[e])}let uG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[E2,cG],imports:[Xl,aa,nv,aa]}),t})();function hG(t,i){}class on{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Rv="mdc-dialog--open",M2="mdc-dialog--opening",I2="mdc-dialog--closing";let mG=(()=>{class t extends T2{constructor(e,n,r,o,s,l,_,S){super(e,n,r,o,s,l,_,S),this._animationStateChanged=new Ye}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Z0),M(gt,8),M(on),M(Of),M(ot),M(Xd),M(ls))},t.\u0275cmp=Xe({type:t,selectors:[["ng-component"]],features:[at],decls:0,vars:0,template:function(e,n){},encapsulation:2}),t})();const O2="--mat-dialog-transition-duration";function k2(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?Fi(t.substring(0,t.length-2)):t.endsWith("s")?1e3*Fi(t.substring(0,t.length-1)):"0"===t?0:null}let gG=(()=>{class t extends mG{constructor(e,n,r,o,s,l,_,S,T){super(e,n,r,o,s,l,_,T),this._animationMode=S,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?k2(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?k2(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(O2,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(M2,Rv)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Rv),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Rv),this._animationsEnabled?(this._hostElement.style.setProperty(O2,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(I2)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(M2,I2)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Z0),M(gt,8),M(on),M(Of),M(ot),M(Xd),M(En,8),M(ls))},t.\u0275cmp=Xe({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,n){2&e&&(gn("id",n._config.id),mt("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),tt("_mat-animation-noopable",!n._animationsEnabled))},features:[at],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,n){1&e&&(O(0,"div",0)(1,"div",1),pe(2,hG,0,0,"ng-template",2),N()())},dependencies:[as],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),t})();class ao{constructor(i,e,n){this._ref=i,this._containerInstance=n,this._afterOpened=new q,this._beforeClosed=new q,this._state=0,this.disableClose=e.disableClose,this.id=i.id,n._animationStateChanged.pipe(Kt(r=>"opened"===r.state),qt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Kt(r=>"closed"===r.state),qt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Wr(this.backdropClick(),this.keydownEvents().pipe(Kt(r=>27===r.keyCode&&!this.disableClose&&!ca(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),P2(this,"keydown"===r.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Kt(e=>"closing"===e.state),qt(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function P2(t,i,e){return t._closeInteractionType=i,t.close(e)}const ko=new Ge("MatMdcDialogData"),_G=new Ge("mat-mdc-dialog-default-options"),R2=new Ge("mat-mdc-dialog-scroll-strategy"),bG={provide:R2,deps:[xr],useFactory:function vG(t){return()=>t.scrollStrategies.block()}};let yG=0,AG=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,o,s,l,_,S,T,I){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=_,this._dialogContainerType=S,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new q,this._afterOpenedAtThisLevel=new q,this._idPrefix="mat-dialog-",this.dialogConfigClass=on,this.afterAllClosed=Yh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vn(void 0))),this._scrollStrategy=l,this._dialog=n.get(E2)}open(e,n){let r;(n={...this._defaultOptions||new on,...n}).id=n.id||`${this._idPrefix}${yG++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:np,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(s,l,_)=>(r=new this._dialogRefConstructor(s,n,_),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return t.\u0275fac=function(e){Rc()},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),Po=(()=>{class t extends AG{constructor(e,n,r,o,s,l,_,S){super(e,n,o,l,_,s,ao,gG,ko,S),this._idPrefix="mat-mdc-dialog-"}}return t.\u0275fac=function(e){return new(e||t)(Ce(xr),Ce(Mi),Ce(Zc,8),Ce(_G,8),Ce(R2),Ce(t,12),Ce(ip),Ce(En,8))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),CG=(()=>{class t{constructor(e,n,r){this.dialogRef=e,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function wG(t,i){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){P2(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(M(ao,8),M(Je),M(Po))},t.\u0275dir=He({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,n){1&e&&Ae("click",function(o){return n._onButtonClick(o)}),2&e&&mt("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[gi]}),t})(),Qd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),t})(),Kd=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,n){2&e&&tt("mat-mdc-dialog-actions-align-center","center"===n.align)("mat-mdc-dialog-actions-align-end","end"===n.align)},inputs:{align:"align"}}),t})(),Fv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[Po,bG],imports:[uG,Xl,aa,ni,ni]}),t})(),ur=(()=>{class t{constructor(e,n,r){this.http=e,this.sService=n,this.authService=r,this.token=JSON.parse(localStorage.getItem("access")),this.httpOptions={headers:new wi({Authorization:"Bearer "+this.token,"Content-Type":"application/json"})}}fetchReelPersonal(e){return this.http.get("http://localhost:8000/h/reels/"+e+"/",this.httpOptions)}fetchReel(e){return this.http.get("http://localhost:8000/h/reels/"+e+"/",this.httpOptions)}fetchReelforFeed(e){return console.log(e),this.http.get("http://localhost:8000/h/s_feed/reels/"+e,this.httpOptions)}fetchReelComments(e){return this.http.get("http://localhost:8000/h/reelcomments/"+e+"/",this.httpOptions)}updateReelComment(e,n){return this.http.put("http://localhost:8000/h/reelcomments/"+e+"/"+n.id+"/",n,this.httpOptions)}addReelComment(e,n){return this.http.post("http://localhost:8000/h/reelcomments/"+e+"/",n,this.httpOptions)}addReelLike(e){return this.http.post("http://localhost:8000/h/reelreact/"+e+"/like/",this.httpOptions)}removeReelLike(e){return this.http.delete("http://localhost:8000/h/reelreact/"+e+"/like/",this.httpOptions)}addReelLove(e){return this.http.post("http://localhost:8000/h/reelreact/"+e+"/love/",this.httpOptions)}removeReelLove(e){return this.http.delete("http://localhost:8000/h/reelreact/"+e+"/love/",this.httpOptions)}addReelCelebrate(e){return this.http.post("http://localhost:8000/h/reelreact/"+e+"/celebrate/",this.httpOptions)}removeReelCelebrate(e){return this.http.delete("http://localhost:8000/h/reelreact/"+e+"/celebrate/",this.httpOptions)}addReel(e){let n={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.post("http://localhost:8000/h/reels/",e,n)}updateReel(e,n){let r={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.patch("http://localhost:8000/h/reels/"+e+"/",n,r)}addReelImage(e,n){let r={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.post("http://localhost:8000/h/reels/"+e+"/upload-image/",n,r)}editReelImage(e,n){let r={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.post("http://localhost:8000/h/reels/"+e+"/edit-image/",n,r)}deleteReel(e){let n={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.delete("http://localhost:8000/h/reels/"+e,n)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(To),Ce(cr),Ce(Yt))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xG(t,i){if(1&t&&(O(0,"div",13),Ee(1,"img",14),N()),2&t){const e=ae(2);j(1),z("src",e.reelForm.get("image").value,ai)}}function SG(t,i){if(1&t&&(O(0,"div",13),Ee(1,"img",15),N()),2&t){const e=ae(2);j(1),z("src",e.imageUrl,ai)}}function TG(t,i){if(1&t){const e=Qe();wn(0)(1,4),O(2,"div",5)(3,"div",6)(4,"div",7)(5,"label",8),ce(6,"Caption"),N(),Ee(7,"input",9),N()()(),O(8,"div",5)(9,"div",10)(10,"div",5),pe(11,xG,2,1,"div",11),pe(12,SG,2,1,"div",11),N(),O(13,"div",7)(14,"input",12),Ae("change",function(r){return Ie(e),Oe(ae().onFileSelected(r))}),N()()()(),xn()()}if(2&t){const e=ae();j(1),z("formGroup",e.reelForm),j(10),z("ngIf",!e.imageUrl),j(1),z("ngIf",!!e.imageUrl)}}let N2=(()=>{class t{constructor(e,n,r,o,s,l){this.fb=e,this.dialogRef=n,this.authService=r,this.rService=o,this.fileTransferService=s,this.reelForm=this.fb.group({caption:["",pi.required],image:["",pi.required],reel_owner:this.user_id})}ngOnInit(){this.authService.user().subscribe(e=>{this.user_id=e.id})}onClose(){this.dialogRef.close()}onFileSelected(e){this.selectedFile=e.target.files[0],this.imageUrl=URL.createObjectURL(this.selectedFile)}onSave(){let e;const n=new FormData;n.append("image",this.selectedFile),this.rService.addReel({reel_owner:this.user_id,caption:this.reelForm.value.caption}).subscribe(r=>{this.rService.addReelImage(r.id,n).subscribe(o=>{e={id:r.id,caption:this.reelForm.value.caption,image:o.image},console.log(o.image),this.fileTransferService.fileFieldList.push({id:e.id,image:o.image,caption:e.caption}),this.dialogRef.close({id:e.id,caption:e.caption,image:e.image})})})}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(ao),M(Yt),M(ur),M(oa),M(ko))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-new-reel"]],decls:9,vars:1,consts:[[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[4,"ngIf"],["color","primary",1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],["enctype","multipart/form-data",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","caption"],["type","text","id","caption","formControlName","caption",1,"form-control"],[1,"col-xs-12"],["class","col-xs-12 imagerow",4,"ngIf"],["type","file","accept","image/*",3,"change"],[1,"col-xs-12","imagerow"],[1,"img-responsive",2,"max-width","600px",3,"src"],[1,"img-responsive",2,"max-width","200px",3,"src"]],template:function(n,r){1&n&&(O(0,"h2",0),ce(1,"New Reel"),N(),O(2,"mat-dialog-content"),pe(3,TG,15,3,"ng-container",1),N(),O(4,"mat-dialog-actions")(5,"button",2),Ae("click",function(){return r.onSave()}),ce(6," Add Reel "),N(),O(7,"button",3),Ae("click",function(){return r.onClose()}),ce(8," Cancel "),N()()),2&n&&(j(3),z("ngIf",r.reelForm))},dependencies:[vt,Qd,Kd,yn,Gn,zn,Rn,dr],styles:[".imagerow[_ngcontent-%COMP%]{margin:10px auto}.imagerow[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;background-color:#a0c9d5;display:block;margin:auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:150px}"]})}return t})();var DG=G(6603),hr=G.n(DG);let EG=(()=>{class t{constructor(e,n,r){this.dialogRef=e,this.data=n,this.rService=r,this.sources={}}ngOnInit(){this.sources.imageSRC=this.data.image,this.reelId=this.data.id}ngAfterViewInit(){this.stage=new(hr().Stage)({container:"container",width:window.innerWidth,height:window.innerHeight}),console.log(this.sources.imageSRC),this.loadImages(this.sources,e=>{this.buildStage(e)})}buildStage(e){var n=new(hr().Layer),r=new(hr().Image)({image:e,x:0,y:0,width:window.innerWidth,height:window.innerHeight,blurRadius:0});r.cache(),r.filters([hr().Filters.Blur,hr().Filters.Brighten,hr().Filters.Contrast,hr().Filters.Enhance]),n.add(r),this.stage.add(n);var o=document.getElementById("slider-blur");o.oninput=function(){r.blurRadius(+o.value)};var s=document.getElementById("slider-bright");s.oninput=function(){r.brightness(+s.value)};var l=document.getElementById("slider-contrast");function _(){r.contrast(parseFloat(l.value))}l.oninput=_,_();var S=document.getElementById("slider-enhance");S.oninput=function(){r.enhance(parseFloat(S.value))}}loadImages(e,n){const r=new Image;r.crossOrigin="Anonymous",r.src=this.sources.imageSRC,r.onload=()=>{n(r)},console.log(r)}onClose(){this.dialogRef.close()}onSave(){const e=this.stage.toDataURL(),n=new FormData;n.append("image",e),this.rService.editReelImage(this.reelId,n).subscribe(r=>{r.image&&(r.image.split(":")[0]||(console.log(r.image),r.image="http://localhost:8000/"+r.image),this.dialogRef.close({image:r.image}))})}static#e=this.\u0275fac=function(n){return new(n||t)(M(ao),M(ko),M(ur))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-image-edit"]],decls:19,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["id","container",1,"canvas-container"],["id","slider-blur","type","range","min","0","max","40","step","0.05","value","0"],["id","slider-bright","type","range","min","-1","max","1","step","0.05","value","0"],["id","slider-contrast","type","range","min","-100","max","100","step","1","value","0"],["id","slider-enhance","type","range","min","-1","max","1","step","0.01","value","0"],["id","buttons"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(n,r){1&n&&(O(0,"html",0)(1,"head"),Ee(2,"meta",1)(3,"meta",2)(4,"meta",3),O(5,"title"),ce(6,"Reel Image Editing"),N()(),O(7,"body"),Ee(8,"div",4),O(9,"div"),Ee(10,"input",5)(11,"input",6)(12,"input",7)(13,"input",8),N(),O(14,"div",9)(15,"button",10),Ae("click",function(){return r.onSave()}),ce(16,"Save Image"),N(),O(17,"button",11),Ae("click",function(){return r.onClose()}),ce(18," Cancel "),N()()()())},styles:[".btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:150px}","body[_ngcontent-%COMP%] {\n          margin: 0;\n          padding: 0;\n          overflow: hidden;\n          background-color: #f0f0f0;\n        }\n        #slider-blur[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 20px;\n        }\n        #slider-bright[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 220px;\n        }\n        #slider-contrast[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 420px;\n        }\n        #slider-enhance[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 620px;\n        }\n        #controls[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 820px;\n        }\n        #buttons[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          right: 100px;\n        }"]})}return t})();function MG(t,i){if(1&t){const e=Qe();wn(0),O(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h3"),ce(6),N()()()(),O(7,"div",5)(8,"div",8),Ee(9,"img",9),N(),O(10,"div",10)(11,"div",5)(12,"div",11)(13,"mat-icon",12),Ae("click",function(){const o=Ie(e).index;return Oe(ae().deleteReel(o))}),ce(14,"delete_forever"),N()(),O(15,"div",11)(16,"mat-icon",13),Ae("click",function(){const o=Ie(e).index;return Oe(ae().onEdit(o))}),ce(17,"edit"),N()()()()()(),xn()}if(2&t){const e=i.$implicit,n=i.index;j(1),z("formGroupName",n),j(5),ct(e.get("caption").value),j(3),z("src",e.get("image").value,ai)}}let IG=(()=>{class t{constructor(e,n,r,o){this.fb=e,this.dialog=n,this.fileTransferService=r,this.rService=o,this.storyDetailForm=this.fb.group({reels:this.fb.array([])})}ngOnInit(){}get reels(){return this.storyDetailForm.controls.reels}addReel(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.disableClose=!0,this.dialog.open(N2,e).afterClosed().subscribe(n=>{if(n){console.log(n);const r=this.fb.group({id:[n.id],caption:[n.caption],image:[n.image]});this.reels.push(r)}})}deleteReel(e){this.rService.deleteReel(this.reels.controls[e].value.id).subscribe(()=>{this.reels.removeAt(e)})}onEdit(e){console.log(this.reels.value[e]);const n=new on;n.autoFocus=!0,n.minWidth="1200px",n.disableClose=!0,this.reels.value[e].image.split(":")[0]||(this.reels.value[e].image="http://localhost:8000/"+this.reels.value[e].image),n.data={id:this.reels.value[e].id,image:this.reels.value[e].image,caption:this.reels.value[e].caption},this.dialog.open(EG,n).afterClosed().subscribe(r=>{if(r){this.reels.at(e).patchValue({image:"http://localhost:8000/"+r.image,caption:r.caption});const o={id:this.reels.value[e].id,image:r.image,caption:this.reels.value[e].caption},s=this.fileTransferService.fileFieldList.findIndex(l=>l.id===o.id);-1!==s&&(this.fileTransferService.fileFieldList[s]=o)}})}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(Po),M(oa),M(ur))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-new-partb"]],decls:8,vars:2,consts:[["enctype","multipart/form-data",3,"formGroup"],["formArrayName","reels"],[4,"ngFor","ngForOf"],[1,"edit-btn",3,"click"],[3,"formGroupName"],[1,"row"],[1,"col-xs-12"],[1,"form-group"],[1,"col-md-8"],[1,"img-responsive",2,"max-width","600px",3,"src"],[1,"col-md-4"],[1,"col-md-6"],[1,"delete-btn","float-end",3,"click"],[1,"edit-btn","float-end",3,"click"]],template:function(n,r){1&n&&(O(0,"h3"),ce(1,"Add Reels"),N(),O(2,"div",0),wn(3,1),pe(4,MG,18,3,"ng-container",2),xn(),O(5,"button",3),Ae("click",function(){return r.addReel()}),O(6,"mat-icon"),ce(7,"add"),N()()()),2&n&&(j(2),z("formGroup",r.storyDetailForm),j(2),z("ngForOf",r.reels.controls))},dependencies:[ei,zn,Rn,pa,ma,sv],styles:[".delete-btn[_ngcontent-%COMP%]{background-color:#da4747}.edit-btn[_ngcontent-%COMP%]{background-color:#2d7007}"]})}return t})();function OG(t,i){1&t&&ce(0,"Story Details")}function kG(t,i){1&t&&ce(0,"Story Reels")}let PG=(()=>{class t{constructor(e,n,r,o,s,l){this.router=e,this.sService=n,this.cdref=r,this.authService=o,this.fileTransferService=s,this.rfileTransferService=l,this.reelfileFieldList=[]}ngOnInit(){this.authService.user().subscribe(e=>{this.user_id=e.id})}ngAfterContentChecked(){this.cdref.detectChanges()}submit(e,n){const r=new FormData;this.reelfileFieldList=this.rfileTransferService.fileFieldList,r.append("id",no()),r.append("owner",this.user_id.toString()),r.append("title",e.title),r.append("description",e.description),r.append("longDescription",e.longDescription),r.append("tags",JSON.stringify(e.tags));const o=[];this.reelfileFieldList.forEach((s,l)=>{o.push({id:s.id,caption:s.caption,image:s.image,reel_owner:this.user_id})}),r.append("reels",JSON.stringify(o)),setTimeout(()=>{const l=new FormData;l.append("image",this.fileTransferService.image),this.sService.addStory(r).subscribe(_=>{this.sService.addStoryImage(_.id,l).subscribe(S=>{console.log(S),this.rfileTransferService.fileFieldList=[],localStorage.removeItem("STEP_1"),this.router.navigateByUrl("/story")})})},100)}static#e=this.\u0275fac=function(n){return new(n||t)(M(ti),M(cr),M(zt),M(Yt),M(Af),M(oa))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-new"]],decls:22,vars:2,consts:[[1,"data-form"],[1,"title"],["labelPosition","bottom",1,"mat-elevation-z5"],["stepper","matHorizontalStepper"],["errorMessage","Story page in error",3,"stepControl"],["step1",""],["matStepLabel",""],[1,"stepper-buttons"],["color","primary","matStepperNext","",1,"btn","btn-primary","float-end"],["errorMessage","Reel Page in error",3,"stepControl"],["step2",""],["matStepperPrevious","",1,"btn","btn-primary","float-start"],["color","primary",1,"btn","btn-primary","float-end",3,"click"],[1,"scrolling-space"]],template:function(n,r){if(1&n){const o=Qe();O(0,"div",0)(1,"h2",1),ce(2,"Create New Story"),N(),O(3,"mat-horizontal-stepper",2,3)(5,"mat-step",4),Ee(6,"app-story-new-parta",null,5),pe(8,OG,1,0,"ng-template",6),O(9,"div",7)(10,"button",8),ce(11,"Next"),N()()(),O(12,"mat-step",9),Ee(13,"app-story-new-partb",null,10),pe(15,kG,1,0,"ng-template",6),O(16,"div",7)(17,"button",11),ce(18,"Back"),N(),O(19,"button",12),Ae("click",function(){Ie(o);const l=_i(7),_=_i(14);return Oe(r.submit(l.storyStartForm.value,_.storyDetailForm.value))}),ce(20," Create Story "),N()()()()(),Ee(21,"div",13)}if(2&n){const o=_i(7),s=_i(14);j(5),z("stepControl",o.storyStartForm),j(7),z("stepControl",s.storyDetailForm)}},dependencies:[dv,Bd,Vf,sE,aE,_U,IG],styles:[".data-form[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.heading[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important;padding:10px;text-align:center}"]})}return t})();function RG(t,i){if(1&t&&(O(0,"div",18),Ee(1,"img",19),N()),2&t){const e=ae(2);j(1),z("src",e.storyStartForm.get("image").value,ai)}}function FG(t,i){if(1&t&&(O(0,"div",18),Ee(1,"img",19),N()),2&t){const e=ae(2);j(1),z("src",e.imageUrl,ai)}}function NG(t,i){if(1&t){const e=Qe();O(0,"div",4)(1,"div",20)(2,"div",21),Ee(3,"input",22),N(),O(4,"div",23)(5,"button",5),Ae("click",function(){const o=Ie(e).index;return Oe(ae(2).onDeleteTag(o))}),ce(6,"Delete Tag"),N()()()()}if(2&t){const e=i.index;j(1),z("formGroupName",e)}}function LG(t,i){if(1&t){const e=Qe();O(0,"div",1)(1,"div",2)(2,"form",3)(3,"div",4)(4,"div",2)(5,"button",5),Ae("click",function(){return Ie(e),Oe(ae().onCancel())}),ce(6,"Cancel"),N()()(),O(7,"div",4)(8,"div",2)(9,"div",6)(10,"label",7),ce(11,"Title"),N(),Ee(12,"input",8),N()()(),O(13,"div",4)(14,"div",2)(15,"div",6)(16,"label",9),ce(17,"Description"),N(),Ee(18,"input",10),N()()(),O(19,"div",4)(20,"div",2)(21,"div",6)(22,"label",11),ce(23,"Background"),N(),Ee(24,"input",12),N()()(),O(25,"div",4)(26,"div",2)(27,"div",6)(28,"input",13),Ae("change",function(r){return Ie(e),Oe(ae().onFileSelected(r))}),N()(),O(29,"div",4),pe(30,RG,2,1,"div",14),pe(31,FG,2,1,"div",14),N()()(),O(32,"div",4)(33,"div",15),pe(34,NG,7,1,"div",16),N(),O(35,"div",4)(36,"button",17),Ae("click",function(){return Ie(e),Oe(ae().onAddTag())}),ce(37,"Add Tag"),N()()()()()()}if(2&t){const e=ae();j(2),z("formGroup",e.storyStartForm),j(28),z("ngIf",!e.imageUrl),j(1),z("ngIf",!!e.imageUrl),j(3),z("ngForOf",e.tags.controls)}}let BG=(()=>{class t{onFileSelected(e){this.selectedFile=e.target.files[0],this.imageUrl=URL.createObjectURL(this.selectedFile),this.fileTransferService.image=this.selectedFile}get tags(){return this.storyStartForm.controls.tags}constructor(e,n,r,o,s){this.route=e,this.sService=n,this.router=r,this.fileTransferService=o,this.rfileTransferService=s,this.editMode=!1,this.validForm=!1,this.uploaded=new Ye}ngOnInit(){this.route.params.subscribe(e=>{this.storyId=e.id}),setTimeout(()=>{this.sService.fetchStory(this.storyId).subscribe(e=>{this.story={id:e.id,title:e.title,description:e.description,longDescription:e.longDescription,image:e.image,reels:e.reels,tags:e.tags,owner:e.owner},this.initForm(),e.reels.forEach(n=>{this.rfileTransferService.fileFieldList.push({id:n.id,image:n.image,caption:n.caption})})})},300)}onAddTag(){this.storyStartForm.get("tags").push(new oo({name:new xi("",pi.required)}))}onDeleteTag(e){this.storyStartForm.get("tags").removeAt(e)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let o,s,e="",n="",r="",l=new Jf([]);if(this.story&&(e=this.story.title,n=this.story.description,r=this.story.longDescription,o=this.story.image,s=this.story.owner),this.story.tags)for(let _ of this.story.tags)l.push(new oo({name:new xi(_.name,pi.required)}));this.storyStartForm=new oo({title:new xi(e,pi.required),image:new xi(o,pi.required),description:new xi(n,pi.required),longDescription:new xi(r,pi.required),tags:l,owner:new xi(s,pi.required)})}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(cr),M(ti),M(Af),M(oa))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-edit-parta"]],outputs:{uploaded:"uploaded"},decls:1,vars:1,consts:[["class","row container",4,"ngIf"],[1,"row","container"],[1,"col-xs-12"],["enctype","multipart/form-data",3,"formGroup"],[1,"row"],["type","button",1,"btn","btn-primary","float-end",3,"click"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control"],["for","longDescription"],["type","text","id","longDescription","formControlName","longDescription",1,"form-control"],["type","file","accept","image/*",3,"change"],["class","col-xs-12 imagerow",4,"ngIf"],["formArrayName","tags",1,"col-xs-12"],["class","row",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","float-end",2,"margin","10px auto",3,"click"],[1,"col-xs-12","imagerow"],[1,"img-responsive",2,"max-width","200px",3,"src"],[1,"row",3,"formGroupName"],[1,"col-md-8"],["type","text","formControlName","name","placeholder","Tag Name",1,"form-control",2,"margin","8px"],[1,"col-md-4"]],template:function(n,r){1&n&&pe(0,LG,38,4,"div",0),2&n&&z("ngIf",!!r.story)},dependencies:[ei,vt,Oo,yn,Gn,zn,Rn,dr,pa,ma],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.row[_ngcontent-%COMP%], .imagerow[_ngcontent-%COMP%]{margin:10px auto}.imagerow[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;background-color:#a0c9d5;display:block;margin:auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:150px}"]})}return t})(),Ql=(()=>{class t{constructor(e){this.http=e,this.uploadedId="",this.addImageToCanvasSource=new q,this.addImageToCanvas$=this.addImageToCanvasSource.asObservable(),this.addImageToCanvas=n=>{this.addImageToCanvasSource.next(n)},this.addImageFilterSource=new q,this.addImageFilter$=this.addImageFilterSource.asObservable(),this.addImageFilter=(n,r)=>{this.addImageFilterSource.next({filterScope:n,filterProps:r})},this.onUpdateTextSource=new q,this.onUpdateText$=this.onUpdateTextSource.asObservable(),this.onUpdateText=n=>{this.onUpdateTextSource.next(n)},this.onUpdateShapeMaskSource=new q,this.onUpdateShapeMask$=this.onUpdateShapeMaskSource.asObservable(),this.onUpdateShapeMask=n=>{this.onUpdateShapeMaskSource.next(n)},this.onChangeBrushSource=new q,this.onChangeBrush$=this.onChangeBrushSource.asObservable(),this.onChangeBrush=n=>{this.onChangeBrushSource.next(n)},this.changeToolTypeSource=new q,this.changeToolType$=this.changeToolTypeSource.asObservable(),this.changeToolType=(n,r)=>{this.changeToolTypeSource.next(r?{toolType:n,activeObjectProps:r}:{toolType:n})},this.onSelectionCreatedSource=new q,this.onSelectionCreated$=this.onSelectionCreatedSource.asObservable(),this.onSelectionCreated=(n,r,o)=>{this.onSelectionCreatedSource.next({selection:n,selectionType:r,extraOptions:o})},this.canvasCommandSource=new q,this.canvasCommand$=this.canvasCommandSource.asObservable(),this.canvasCommand=(n,r)=>{this.canvasCommandSource.next({toolType:n,option:r})},this.openSnackBarSource=new q,this.openSnackBar$=this.openSnackBarSource.asObservable(),this.openSnackBar=(n,r)=>{this.openSnackBarSource.next({message:n,duration:r})},this.changeCanvasSizeSource=new q,this.changeCanvasSize$=this.changeCanvasSizeSource.asObservable(),this.changeCanvasSize=(n,r)=>{this.changeCanvasSizeSource.next({orientation:n,aspectRatio:r})}}addUserImage(e){return this.http.post("http://localhost:8000/i/images/",e)}editUserImage(e,n){return this.http.put("http://localhost:8000/i/images/"+e+"/",n)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(To))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const VG=["mat-button",""],L2=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],B2=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],jG=["mat-mini-fab",""],GG=["mat-icon-button",""],zG=["*"],WG=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],$G=kd(Pf(Rf(class{constructor(t){this._elementRef=t}})));let Nv=(()=>{class t extends $G{constructor(e,n,r,o){super(e),this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=_t(ls),this._isFab=!1;const s=e.nativeElement.classList;for(const l of WG)this._hasHostAttributes(l.selector)&&l.mdcClasses.forEach(_=>{s.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return t.\u0275fac=function(e){Rc()},t.\u0275dir=He({type:t,viewQuery:function(e,n){if(1&e&&Xt(Io,5),2&e){let r;Ze(r=et())&&(n.ripple=r.first)}},features:[at]}),t})(),Lv=(()=>{class t extends Nv{constructor(e,n,r,o){super(e,n,r,o)}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Gi),M(ot),M(En,8))},t.\u0275cmp=Xe({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,n){2&e&&(mt("disabled",n.disabled||null),tt("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[at],attrs:VG,ngContentSelectors:B2,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(ln(L2),Ee(0,"span",0),Oi(1),O(2,"span",1),Oi(3,1),N(),Oi(4,2),Ee(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(tt("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab),j(6),z("matRippleDisabled",n._isRippleDisabled())("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[Io],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})();const XG=new Ge("mat-mdc-fab-default-options",{providedIn:"root",factory:V2});function V2(){return{color:"accent"}}const H2=V2();let QG=(()=>{class t extends Nv{constructor(e,n,r,o,s){super(e,n,r,o),this._options=s,this._isFab=!0,this._options=this._options||H2,this.color=this.defaultColor=this._options.color||H2.color}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Gi),M(ot),M(En,8),M(XG,8))},t.\u0275cmp=Xe({type:t,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(e,n){2&e&&(mt("disabled",n.disabled||null),tt("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[at],attrs:jG,ngContentSelectors:B2,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(ln(L2),Ee(0,"span",0),Oi(1),O(2,"span",1),Oi(3,1),N(),Oi(4,2),Ee(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(tt("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab),j(6),z("matRippleDisabled",n._isRippleDisabled())("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[Io],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),t})(),rp=(()=>{class t extends Nv{constructor(e,n,r,o){super(e,n,r,o)}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Gi),M(ot),M(En,8))},t.\u0275cmp=Xe({type:t,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,n){2&e&&(mt("disabled",n.disabled||null),tt("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[at],attrs:GG,ngContentSelectors:zG,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(ln(),Ee(0,"span",0),Oi(1),Ee(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(j(3),z("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[Io],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),Bv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni,Wl,ni]}),t})();function KG(t,i){if(1&t){const e=Qe();O(0,"div",2)(1,"button",3),Ae("click",function(){return Ie(e),Oe(ae().action())}),ce(2),N()()}if(2&t){const e=ae();j(2),Tt(" ",e.data.action," ")}}const qG=["label"];function JG(t,i){}const ZG=Math.pow(2,31)-1;class Vv{constructor(i,e){this._overlayRef=e,this._afterDismissed=new q,this._afterOpened=new q,this._onAction=new q,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,ZG))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const j2=new Ge("MatSnackBarData");class op{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let ez=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),t})(),tz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),t})(),iz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),t})(),nz=(()=>{class t{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(M(Vv),M(j2))},t.\u0275cmp=Xe({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,n){1&e&&(O(0,"div",0),ce(1),N(),pe(2,KG,3,1,"div",1)),2&e&&(j(1),Tt(" ",n.data.message,"\n"),j(1),z("ngIf",n.hasAction))},dependencies:[vt,Lv,ez,tz,iz],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),t})();const rz={snackBarState:ro("state",[un("void, hidden",ri({transform:"scale(0.8)",opacity:0})),un("visible",ri({transform:"scale(1)",opacity:1})),bn("* => visible",kn("150ms cubic-bezier(0, 0, 0.2, 1)")),bn("* => void, * => hidden",kn("75ms cubic-bezier(0.4, 0.0, 1, 1)",ri({opacity:0})))])};let oz=0,sz=(()=>{class t extends Cf{constructor(e,n,r,o,s){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=_t(gt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new q,this._onExit=new q,this._onEnter=new q,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+oz++,this.attachDomPortal=l=>{this._assertNotAttached();const _=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),_},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}onAnimationEnd(e){const{fromState:n,toState:r}=e;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(qt(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(r=>e.classList.add(r)):e.classList.add(n)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const o=n[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const n=e.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(M(ot),M(Je),M(zt),M(Gi),M(op))},t.\u0275dir=He({type:t,viewQuery:function(e,n){if(1&e&&Xt(as,7),2&e){let r;Ze(r=et())&&(n._portalOutlet=r.first)}},features:[at]}),t})(),az=(()=>{class t extends sz{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,n="mdc-snackbar__label";e.classList.toggle(n,!e.querySelector(`.${n}`))}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275cmp=Xe({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,n){if(1&e&&Xt(qG,7),2&e){let r;Ze(r=et())&&(n._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,n){1&e&&Ng("@state.done",function(o){return n.onAnimationEnd(o)}),2&e&&Gg("@state",n._animationState)},features:[at],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){1&e&&(O(0,"div",0)(1,"div",1,2)(3,"div",3),pe(4,JG,0,0,"ng-template",4),N(),Ee(5,"div"),N()()),2&e&&(j(5),mt("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[as],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[rz.snackBarState]}}),t})(),Hv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[Xl,aa,lr,Bv,ni,ni]}),t})();const U2=new Ge("mat-snack-bar-default-options",{providedIn:"root",factory:function lz(){return new op}});let cz=(()=>{class t{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,n,r,o,s,l){this._overlay=e,this._live=n,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){const o=Mi.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:op,useValue:n}]}),s=new Vl(this.snackBarContainerComponent,n.viewContainerRef,o),l=e.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(e,n){const r={...new op,...this._defaultConfig,...n},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),l=new Vv(s,o);if(e instanceof Gt){const _=new sa(e,null,{$implicit:r.data,snackBarRef:l});l.instance=s.attachTemplatePortal(_)}else{const _=this._createInjector(r,l),S=new Vl(e,void 0,_),T=s.attachComponentPortal(S);l.instance=T.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(yt(o.detachments())).subscribe(_=>{o.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){const n=new tp;n.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,l=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){return Mi.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Vv,useValue:n},{provide:j2,useValue:e.data}]})}}return t.\u0275fac=function(e){return new(e||t)(Ce(xr),Ce(SD),Ce(Mi),Ce(Q0),Ce(t,12),Ce(U2))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),dz=(()=>{class t extends cz{constructor(e,n,r,o,s,l){super(e,n,r,o,s,l),this.simpleSnackBarComponent=nz,this.snackBarContainerComponent=az,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return t.\u0275fac=function(e){return new(e||t)(Ce(xr),Ce(SD),Ce(Mi),Ce(Q0),Ce(t,12),Ce(U2))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:Hv}),t})();G(8621);let uz=(()=>{class t{compare(e,n){if(e.length!=n.length)return"False";for(let r=0;r<e.length;r++)if(e[r]!=n[r])return"False";return"True"}onSelectImage(e){this.utilService.changeToolType("FILTER:SINGLE",this.getActiveFilter(e))}addImageOnCanvas(e){e&&fabric.Image.fromURL(e,n=>{let r=(this.size.width-20)/n.width;n.set({left:10,top:10,scaleX:r,scaleY:r,angle:0,cornersize:10,hasRotatingPoint:!0}),n.crossOrigin="Anonymous",this.extend(n,this.randomId()),this.canvas.add(n),this.selectItemAfterAdded(n)})}applyFilterOnSingle(e){"image"===this.activeObjectType&&(this.activeObject.filters=this.generateFilterArray(e),this.activeObject.applyFilters(),this.canvas.renderAll())}applyFilterOnAll(e){this.globalFilterValues=e;const n=this.generateFilterArray(e);this.canvas.forEachObject(r=>{"image"===r.type&&(r.filters=n,r.applyFilters())}),this.canvas.renderAll()}flipSelectedImage(){"image"===this.activeObjectType?(this.activeObject.flipX=!this.activeObject.flipX||!this.activeObject.flipX,this.canvas.renderAll()):this.utilService.openSnackBar("No image selected",800)}startCrop(){console.log("cropping started"),this.cleanSelect(),this.overlay=new fabric.Rect({left:0,top:0,fill:"#000000",opacity:.5,width:this.size.width,height:this.size.height}),this.canvas.add(this.overlay),this.canvas.forEachObject(e=>{e.selectable=!1}),this.croppingWindow=new fabric.Rect({left:100,top:100,fill:"transparent",borderColor:"#ffffff",cornerColor:"#ffffff",borderOpacityWhenMoving:1,hasRotatingPoint:!1,padding:0,width:200,height:200}),this.canvas.add(this.croppingWindow),this.selectItemAfterAdded(this.croppingWindow),this.canvas.renderAll()}cropSelectedWindow(){const e=this.croppingWindow.getScaledWidth(),n=this.croppingWindow.getScaledHeight();this.canvas.forEachObject(r=>{if("image"===r.type){const o=r.getScaledWidth(),s=r.getScaledHeight();let l=o/2-(this.croppingWindow.left-r.left),_=s/2-(this.croppingWindow.top-r.top);l*=1/r.scaleX,_*=1/r.scaleY,r.clipTo=S=>{S.rect((r.flipX?1:-1)*l,-_,(r.flipX?-1:1)*e*(1/r.scaleX),n*(1/r.scaleY))}}}),this.stopCrop()}stopCrop(){this.canvas.remove(this.overlay),this.canvas.remove(this.croppingWindow),this.canvas.forEachObject(e=>{e.selectable=!0}),this.canvas.renderAll(),this.croppingWindow=void 0,this.overlay=void 0}clone(){if("image"===this.activeObjectType){const e=fabric.util.object.clone(this.activeObject);e.set({left:10,top:10}),this.canvas.add(e),this.selectItemAfterAdded(e)}else this.utilService.openSnackBar("No image selected",800)}onSelectText(e){this.utilService.changeToolType(this.toolType,{fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,color:e.fill,opacity:e.opacity,underline:e.underline,linethrough:e.linethrough,textAlign:e.textAlign,lineHeight:e.lineHeight,charSpacing:e.charSpacing})}onSelectTextEditing(e){e.isEditing&&this.utilService.changeToolType(this.toolType,e.selectionStart!==e.selectionEnd?e.getSelectionStyles()[0]:{isSelectionInactive:!0})}onAddText(){const e=new fabric.IText(this.defaultTextProps.text,{left:10,top:10,angle:0,fontFamily:this.defaultTextProps.fontFamily,fontSize:this.defaultTextProps.fontSize,fontWeight:this.defaultTextProps.fontWeight,fontStyle:this.defaultTextProps.fontStyle,fill:this.defaultTextProps.color,opacity:this.defaultTextProps.opacity,underline:this.defaultTextProps.underline,linethrough:this.defaultTextProps.linethrough,textAlign:this.defaultTextProps.textAlign,hasRotatingPoint:!0,lockScalingX:!0,lockScalingY:!0});this.extend(e,this.randomId()),this.canvas.add(e),this.selectItemAfterAdded(e)}onUpdateText(e){"i-text"===this.activeObjectType&&(this.activeObject.set("fontFamily",e.fontFamily),this.activeObject.set("fontSize",e.fontSize),this.activeObject.set("fontWeight",e.fontWeight),this.activeObject.set("fontStyle",e.fontStyle),this.activeObject.set("fill",e.color),this.activeObject.set("opacity",e.opacity),this.activeObject.set("underline",e.underline),this.activeObject.set("linethrough",e.linethrough),this.activeObject.set("textAlign",e.textAlign),this.activeObject.set("lineHeight",e.lineHeight),this.activeObject.set("charSpacing",e.charSpacing)),this.canvas.renderAll()}onUpdateTextEditing(e){"i-text"===this.activeObjectType&&this.activeObject.isEditing&&this.activeObject.setSelectionStyles(e),this.canvas.renderAll()}addShapeMask(e){let n;switch(e.shape){case"RECTANGLE":n=new fabric.Rect({top:25,left:25,height:100,width:100,fill:e.color,opacity:e.opacity});break;case"TRIANGLE":n=new fabric.Triangle({top:25,left:25,height:100,width:100,fill:e.color,opacity:e.opacity});break;case"CIRCLE":n=new fabric.Circle({top:25,left:25,radius:50,fill:e.color,opacity:e.opacity})}n.setShadow({color:`rgba(0,0,0,${e.shadowAmount})`,blur:e.shadowBlur,offsetX:e.shadowOffsetX,offsetY:e.shadowOffsetY}),this.canvas.add(n),this.selectItemAfterAdded(n)}onSelectShapeMask(){this.activeObject&&(console.log(this.activeObject.shadow),this.utilService.changeToolType("SHAPE_MASK",{color:this.activeObject.fill,opacity:this.activeObject.opacity,shadowAmount:this.activeObject.shadow.color.split(",")[3].split(")")[0],shadowBlur:this.activeObject.shadow.blur,shadowOffsetX:this.activeObject.shadow.offsetX,shadowOffsetY:this.activeObject.shadow.offsetY}))}onUpdateShapeMask(e){this.activeObject&&"shape-mask"===this.activeObjectType&&(this.activeObject.set("fill",e.color),this.activeObject.set("opacity",e.opacity),this.activeObject.setShadow({color:`rgba(0,0,0,${e.shadowAmount})`,blur:e.shadowBlur,offsetX:e.shadowOffsetX,offsetY:e.shadowOffsetY}),this.canvas.renderAll())}startPenMode(){this.canvas.isDrawingMode=!0,this.canvas.forEachObject(e=>{e.selectable=!1}),this.cleanSelect(),this.utilService.changeToolType("PEN",{})}stopPenMode(){this.canvas.isDrawingMode=!1}getActiveFilter(e){let n={brightness:0,contrast:0,saturation:0,hue:0,noise:0,blur:0,pixelate:0,sharpen:!1,emboss:!1,grayscale:!1,vintage:!1,sepia:!1,polaroid:!1};return e.filters.map(r=>{switch(r.type){case"Brightness":n={...n,brightness:r.brightness};break;case"Contrast":n={...n,contrast:r.contrast};break;case"Saturation":n={...n,saturation:r.saturation};break;case"HueRotation":n={...n,hue:r.rotation};break;case"Noise":n={...n,noise:r.noise};break;case"Blur":n={...n,blur:r.blur};break;case"Pixelate":n={...n,pixelate:r.blocksize};break;case"Grayscale":n={...n,grayscale:!0};break;case"Vintage":n={...n,vintage:!0};break;case"Sepia":n={...n,sepia:!0};break;case"Polaroid":n={...n,polaroid:!0}}}),n}generateFilterArray(e){let n=[];return 0!==e.brightness&&n.push(new fabric.Image.filters.Brightness({brightness:e.brightness})),0!==e.contrast&&n.push(new fabric.Image.filters.Contrast({contrast:e.contrast})),0!==e.saturation&&n.push(new fabric.Image.filters.Saturation({saturation:e.saturation})),0!==e.hue&&n.push(new fabric.Image.filters.HueRotation({rotation:e.hue})),0!==e.noise&&n.push(new fabric.Image.filters.Noise({noise:e.noise})),0!==e.blur&&n.push(new fabric.Image.filters.Blur({blur:e.blur})),0!==e.pixelate&&n.push(new fabric.Image.filters.Pixelate({blocksize:e.pixelate})),e.grayscale&&n.push(new fabric.Image.filters.Grayscale({mode:"lightness"})),e.vintage&&n.push(new fabric.Image.filters.Vintage),e.sepia&&n.push(new fabric.Image.filters.Sepia),e.polaroid&&n.push(new fabric.Image.filters.Polaroid),n}selectItemAfterAdded(e){this.canvas.discardActiveObject(),this.canvas.setActiveObject(e).renderAll()}getActiveSelection(){const e=this.canvas.getActiveObjects();if(1!==e.length)return{type:"group",activeObjectList:e};{const n=e[0];switch(n.type){case"image":return{type:"image",activeObject:n};case"i-text":return{type:"i-text",activeObject:n};case"rect":return void 0===this.croppingWindow?{type:"shape-mask",activeObject:n}:{type:"cropping-window",activeObject:n};case"triangle":case"circle":return{type:"shape-mask",activeObject:n};default:return{type:"UNKNOWN"}}}}cleanSelect(){this.canvas.discardActiveObject().renderAll()}removeSelection(){"group"===this.activeObjectType?this.activeObjectList.map((e,n)=>{this.canvas.remove(e)},this):this.canvas.remove(this.activeObject),this.cleanSelect()}randomId(){return Math.floor(999999*Math.random())+1}extend(e,n){e.toObject=(r=>()=>fabric.util.object.extend(r.call(this),{id:n}))(e.toObject)}bringForward(){"group"!==this.activeObjectType&&void 0!==this.activeObject&&(this.activeObject.bringForward(),this.canvas.discardActiveObject().renderAll())}sendBackward(){"group"!==this.activeObjectType&&void 0!==this.activeObject&&(this.activeObject.sendBackwards(),this.canvas.discardActiveObject().renderAll())}downloadCurrentCanvas(){const e=1080/this.size.height;console.log(e);const n=this.canvas.toDataURL({format:"jpeg",quality:1,multiplier:e});this.utilService.editedImageURL=n}onObjectSelected(){const e=this.getActiveSelection();if(this.activeObjectType=e.type,"group"===this.activeObjectType)this.activeObjectList=e.activeObjectList,this.utilService.onSelectionCreated(this.activeObjectList,this.activeObjectType,{}),this.utilService.changeToolType("DEACTIVATE",{});else{switch(this.activeObject=e.activeObject,this.activeObjectType){case"i-text":this.toolType="TEXT",this.onSelectText(this.activeObject);break;case"image":"FILTER:ALL"===this.toolType&&(this.toolType="FILTER:SINGLE",this.onSelectImage(this.activeObject));break;case"shape-mask":this.toolType="SHAPE_MASK",this.onSelectShapeMask()}this.utilService.onSelectionCreated(this.activeObject,this.activeObjectType,{})}}onObjectDeselected(){"image"===(this.croppingWindow&&this.stopCrop(),this.activeObjectType)?("FILTER:SINGLE"===this.toolType&&(this.toolType="FILTER:ALL"),this.activeObjectType="",this.activeObject=void 0,this.activeObjectList=[],this.utilService.changeToolType(this.toolType,this.activeObject),this.utilService.onSelectionCreated(this.activeObject,this.activeObjectType,{})):(this.toolType="MAIN",this.activeObjectType="",this.activeObject=void 0,this.activeObjectList=[],this.utilService.changeToolType(this.toolType,this.activeObject),this.utilService.onSelectionCreated(this.activeObject,this.activeObjectType,{}))}onEnterningTextEditingMode(){const e=this.getActiveSelection();this.toolType="TEXT:EDITING",this.activeObjectType=e.type,this.activeObject=e.activeObject,"i-text"===this.activeObjectType&&this.onSelectTextEditing(this.activeObject)}onExitingTextEditingMode(){this.toolType="MAIN",this.activeObjectType="",this.activeObject=void 0,this.activeObjectList=[],this.utilService.changeToolType(this.toolType,void 0)}onTextSelectionChange(){"i-text"===this.activeObjectType&&this.onSelectTextEditing(this.activeObject)}constructor(e){this.utilService=e,this.screenReductionFactor=180,this.aspectRatioList=[1,8/6,1.4,1.5],this.globalFilterValues={brightness:0,contrast:0,saturation:0,hue:0,noise:0,blur:0,pixelate:0,sharpen:!1,emboss:!1,grayscale:!1,vintage:!1,sepia:!1,polaroid:!1},this.defaultTextProps={text:"Sample Text",color:"#7F7F7F",opacity:1,fontFamily:"Roboto",fontSize:24,fontWeight:"normal",fontStyle:"normal",underline:!1,linethrough:!1,textAlign:"left",lineHeight:1.6,charSpacing:0},this.size={height:Math.round(window.innerHeight-this.screenReductionFactor),width:Math.round((window.innerHeight-this.screenReductionFactor)*this.aspectRatioList[3])},this.addImageSubscription=e.addImageToCanvas$.subscribe(n=>{this.addImageOnCanvas(n)}),this.addImageFilterSubscription=e.addImageFilter$.subscribe(({filterScope:n,filterProps:r})=>{switch(n){case"SINGLE":this.applyFilterOnSingle(r);break;case"ALL":this.applyFilterOnAll(r)}}),this.onUpdateTextSubscription=e.onUpdateText$.subscribe(n=>{switch(this.toolType){case"TEXT":this.onUpdateText(n);break;case"TEXT:EDITING":this.onUpdateTextEditing(n)}}),this.onUpdateShapeMaskSubscription=e.onUpdateShapeMask$.subscribe(n=>{this.onUpdateShapeMask(n)}),this.canvasCommandSubscription=e.canvasCommand$.subscribe(({toolType:n,option:r})=>{switch(n){case"ADD_FILTER":"image"===this.activeObjectType?(this.toolType="FILTER:SINGLE",this.utilService.changeToolType("FILTER:SINGLE",this.getActiveFilter(this.activeObject))):""===this.activeObjectType&&(this.toolType="FILTER:ALL",this.utilService.changeToolType("FILTER:ALL",this.globalFilterValues));break;case"FILTER:ALL":this.cleanSelect(),this.toolType="FILTER:ALL",this.utilService.changeToolType("FILTER:ALL",this.globalFilterValues);break;case"ADD_TEXT":this.onAddText();break;case"CLEAN_SELECT":this.cleanSelect();break;case"BACK_TO_MAIN_MENU":this.stopPenMode(),"image"!==this.activeObjectType&&"FILTER:ALL"!==this.toolType&&this.cleanSelect(),this.toolType="MAIN";break;case"DELETE":this.removeSelection(),this.onObjectDeselected();break;case"BRING_FORWARD":this.bringForward();break;case"SEND_BACKWARD":this.sendBackward();break;case"START_CROP":this.startCrop(),this.utilService.changeToolType("CROP",{});break;case"STOP_CROP":this.onObjectDeselected();break;case"FINISH_CROP":this.cropSelectedWindow();break;case"FLIP:X":this.flipSelectedImage();break;case"CLONE":this.clone();break;case"ADD_SHAPE_MASK":this.addShapeMask(r);break;case"DOWNLOAD_CURRENT_CANVAS":this.downloadCurrentCanvas();break;case"PEN":this.startPenMode()}}),this.changeCanvasSizeSubscription=e.changeCanvasSize$.subscribe(({orientation:n,aspectRatio:r})=>{"LANDSCAPE"===n?(this.size.height=Math.round(window.innerHeight-this.screenReductionFactor),this.size.width=Math.round((window.innerHeight-this.screenReductionFactor)*this.aspectRatioList[r])):(this.size.height=Math.round(window.innerHeight-this.screenReductionFactor),this.size.width=Math.round((window.innerHeight-this.screenReductionFactor)*Math.pow(this.aspectRatioList[r],-1))),this.canvas.setWidth(this.size.width),this.canvas.setHeight(this.size.height)})}ngOnInit(){this.toolType="MAIN",this.activeObjectType="",this.activeObject=void 0,this.activeObjectList=[],this.canvas=new fabric.Canvas("canvas",{hoverCursor:"pointer",selection:!0,selectionBorderColor:"#B3E5FC",backgroundColor:"#ffffff"}),fabric.textureSize=4096,new fabric.WebglFilterBackend,fabric.filterBackend=fabric.initFilterBackend(),this.canvas.setWidth(this.size.width),this.canvas.setHeight(this.size.height),this.utilService.addImageToCanvas(this.utilService.uploadedImageURL),this.canvas.on({"selection:created":n=>{console.log("selection active"),this.onObjectSelected()},"selection:updated":n=>{console.log("selection updated"),this.onObjectSelected()},"selection:cleared":n=>{console.log("selection inactive"),this.onObjectDeselected()},"object:modified":n=>{console.log("object modified")},"text:editing:entered":n=>{console.log("editing entered"),this.onEnterningTextEditingMode()},"text:editing:exited":n=>{console.log("editing exit"),this.onExitingTextEditingMode()},"text:selection:changed":n=>{console.log("selection change"),this.onTextSelectionChange()},"text:changed":n=>{console.log("text changed")}})}ngOnDestroy(){this.canvas.off(),this.addImageSubscription.unsubscribe(),this.addImageFilterSubscription.unsubscribe(),this.onUpdateTextSubscription.unsubscribe(),this.onUpdateShapeMaskSubscription.unsubscribe(),this.canvasCommandSubscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ql))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-canvas"]],decls:2,vars:0,consts:[[1,"canvas-wrapper"],["id","canvas",2,"max-height","800px"]],template:function(n,r){1&n&&(O(0,"div",0),Ee(1,"canvas",1),N())},styles:[".canvas-wrapper[_ngcontent-%COMP%]{border:1px dashed #252525}"]})}return t})();function G2(t,i){return i?e=>Ml(i.pipe(qt(1),function hz(){return Z((t,i)=>{t.subscribe(ge(i,c))})}()),e.pipe(G2(t))):sn((e,n)=>Qi(t(e,n)).pipe(qt(1),sT(e)))}function jv(t,i=Df){const e=Wd(t,i);return G2(()=>e)}const fz=["mat-menu-item",""];function pz(t,i){1&t&&(function Yy(){Mt.lFrame.currentNamespace=Oy}(),O(0,"svg",3),Ee(1,"polygon",4),N())}const mz=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],gz=["mat-icon, [matMenuItemIcon]","*"];function _z(t,i){if(1&t){const e=Qe();O(0,"div",0),Ae("keydown",function(r){return Ie(e),Oe(ae()._handleKeydown(r))})("click",function(){return Ie(e),Oe(ae().closed.emit("click"))})("@transformMenu.start",function(r){return Ie(e),Oe(ae()._onAnimationStart(r))})("@transformMenu.done",function(r){return Ie(e),Oe(ae()._onAnimationDone(r))}),O(1,"div",1),Oi(2),N()()}if(2&t){const e=ae();z("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),mt("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const vz=["*"],Uv=new Ge("MAT_MENU_PANEL"),bz=Rf(Pf(class{}));let sp=(()=>{class t extends bz{constructor(e,n,r,o,s){super(),this._elementRef=e,this._document=n,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new q,this._focused=new q,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(gt),M(ls),M(Uv,8),M(zt))},t.\u0275cmp=Xe({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,n){1&e&&Ae("click",function(o){return n._checkDisabled(o)})("mouseenter",function(){return n._handleMouseEnter()}),2&e&&(mt("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),tt("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[at],attrs:fz,ngContentSelectors:gz,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,n){1&e&&(ln(mz),Oi(0),O(1,"span",0),Oi(2,1),N(),Ee(3,"div",1),pe(4,pz,2,0,"svg",2)),2&e&&(j(3),z("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),j(1),z("ngIf",n._triggersSubmenu))},dependencies:[vt,Io],encapsulation:2,changeDetection:0}),t})();const yz=new Ge("MatMenuContent"),ap={transformMenu:ro("transformMenu",[un("void",ri({opacity:0,transform:"scale(0.8)"})),bn("void => enter",kn("120ms cubic-bezier(0, 0, 0.2, 1)",ri({opacity:1,transform:"scale(1)"}))),bn("* => void",kn("100ms 25ms linear",ri({opacity:0})))]),fadeInItems:ro("fadeInItems",[un("showing",ri({opacity:1})),bn("void => *",[ri({opacity:0}),kn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Az=0;const z2=new Ge("mat-menu-default-options",{providedIn:"root",factory:function Cz(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let qd=(()=>{class t{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=yi(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=yi(e)}set panelClass(e){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,n,r,o){this._elementRef=e,this._ngZone=n,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new xo,this._classList={},this._panelAnimationState="void",this._animationDone=new q,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Ye,this.close=this.closed,this.panelId="mat-menu-panel-"+Az++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new J0(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(vn(this._directDescendantItems),_n(e=>Wr(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[o]&&!r[o].disabled?n.setActiveItem(o):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(vn(this._directDescendantItems),_n(n=>Wr(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const n=e.keyCode,r=this._keyManager;switch(n){case 27:ca(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(qt(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const n=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${n}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(vn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(ot),M(z2),M(zt))},t.\u0275dir=He({type:t,contentQueries:function(e,n,r){if(1&e&&(Dt(r,yz,5),Dt(r,sp,5),Dt(r,sp,4)),2&e){let o;Ze(o=et())&&(n.lazyContent=o.first),Ze(o=et())&&(n._allItems=o),Ze(o=et())&&(n.items=o)}},viewQuery:function(e,n){if(1&e&&Xt(Gt,5),2&e){let r;Ze(r=et())&&(n.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),t})(),wz=(()=>{class t extends qd{constructor(e,n,r,o){super(e,n,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(ot),M(z2),M(zt))},t.\u0275cmp=Xe({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,n){2&e&&mt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Pt([{provide:Uv,useExisting:t}]),at],ngContentSelectors:vz,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,n){1&e&&(ln(),pe(0,_z,3,6,"ng-template"))},dependencies:[So],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ap.transformMenu,ap.fadeInItems]},changeDetection:0}),t})();const W2=new Ge("mat-menu-scroll-strategy"),Sz={provide:W2,deps:[xr],useFactory:function xz(t){return()=>t.scrollStrategies.reposition()}},$2=Is({passive:!0});let Tz=(()=>{class t{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,n,r,o,s,l,_,S,T){this._overlay=e,this._element=n,this._viewContainerRef=r,this._menuItemInstance=l,this._dir=_,this._focusMonitor=S,this._ngZone=T,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=H.EMPTY,this._hoverSubscription=H.EMPTY,this._menuCloseSubscription=H.EMPTY,this._changeDetectorRef=_t(zt),this._handleTouchStart=I=>{tv(I)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Ye,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ye,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof qd?s:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,$2)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,$2),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const n=this._createOverlay(e),r=n.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof qd&&(e._startAnimation(),e._directDescendantItems.changes.pipe(yt(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof qd?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(Kt(r=>"void"===r.toState),qt(1),yt(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let n=0,r=e.parentMenu;for(;r;)n++,r=r.parentMenu;e.setElevation(n)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new tp({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,s)):e.setPositionClasses(o,s)})}_setPosition(e,n){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[s,l]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[_,S]=[s,l],[T,I]=[r,o],U=0;if(this.triggersSubmenu()){if(I=r="before"===e.xPosition?"start":"end",o=T="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const ee=this._parentMaterialMenu.items.first;this._parentInnerPadding=ee?ee._getHostElement().offsetTop:0}U="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(_="top"===s?"bottom":"top",S="top"===l?"bottom":"top");n.withPositions([{originX:r,originY:_,overlayX:T,overlayY:s,offsetY:U},{originX:o,originY:_,overlayX:I,overlayY:s,offsetY:U},{originX:r,originY:S,overlayX:T,overlayY:l,offsetY:-U},{originX:o,originY:S,overlayX:I,overlayY:l,offsetY:-U}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return Wr(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:lt(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Kt(s=>s!==this._menuItemInstance),Kt(()=>this._menuOpen)):lt(),n)}_handleMousedown(e){ev(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const n=e.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Kt(e=>e===this._menuItemInstance&&!e.disabled),jv(0,Mv)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof qd&&this.menu._isAnimating?this.menu._animationDone.pipe(qt(1),jv(0,Mv),yt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new sa(e.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(M(xr),M(Je),M(Ji),M(W2),M(Uv,8),M(sp,10),M(On,8),M(ls),M(ot))},t.\u0275dir=He({type:t,hostVars:3,hostBindings:function(e,n){1&e&&Ae("click",function(o){return n._handleClick(o)})("mousedown",function(o){return n._handleMousedown(o)})("keydown",function(o){return n._handleKeydown(o)}),2&e&&mt("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),t})(),Dz=(()=>{class t extends Tz{}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275dir=He({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[at]}),t})(),Y2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[Sz],imports:[lr,Wl,ni,Xl,Yd,ni]}),t})();const X2=["*"];class Mz{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const i=Math.max(...this.tracker);return i>1?this.rowCount+i-1:this.rowCount}update(i,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(i),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(n=>this._trackTile(n))}_trackTile(i){const e=this._findMatchingGap(i.colspan);return this._markTilePosition(e,i),this.columnIndex=e+i.colspan,new Iz(this.rowIndex,e)}_findMatchingGap(i){let e=-1,n=-1;do{this.columnIndex+i>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<i||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let i=0;i<this.tracker.length;i++)this.tracker[i]=Math.max(0,this.tracker[i]-1)}_findGapEndIndex(i){for(let e=i+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(i,e){for(let n=0;n<e.colspan;n++)this.tracker[i+n]=e.rowspan}}class Iz{constructor(i,e){this.row=i,this.col=e}}const Q2=new Ge("MAT_GRID_LIST");let Gv=(()=>{class t{constructor(e,n){this._element=e,this._gridList=n,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Fi(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Fi(e))}_setStyle(e,n){this._element.nativeElement.style[e]=n}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(Q2,8))},t.\u0275cmp=Xe({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,n){2&e&&mt("rowspan",n.rowspan)("colspan",n.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:X2,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,n){1&e&&(ln(),O(0,"div",0),Oi(1),N())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),t})();const Oz=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class zv{constructor(){this._rows=0,this._rowspan=0}init(i,e,n,r){this._gutterSize=K2(i),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=r}getBaseTileSize(i,e){return`(${i}% - (${this._gutterSize} * ${e}))`}getTilePosition(i,e){return 0===e?"0":va(`(${i} + ${this._gutterSize}) * ${e}`)}getTileSize(i,e){return`(${i} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(i,e,n){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(i,n,r,o),this.setRowStyles(i,e,r,o)}setColStyles(i,e,n,r){let o=this.getBaseTileSize(n,r);i._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),i._setStyle("width",va(this.getTileSize(o,i.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(i){return`${this._rowspan} * ${this.getTileSize(i,1)}`}getComputedHeight(){return null}}class kz extends zv{constructor(i){super(),this.fixedRowHeight=i}init(i,e,n,r){super.init(i,e,n,r),this.fixedRowHeight=K2(this.fixedRowHeight),Oz.test(this.fixedRowHeight)}setRowStyles(i,e){i._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),i._setStyle("height",va(this.getTileSize(this.fixedRowHeight,i.rowspan)))}getComputedHeight(){return["height",va(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["height",null]),i._tiles&&i._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Pz extends zv{constructor(i){super(),this._parseRatio(i)}setRowStyles(i,e,n,r){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,r),i._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),i._setStyle("paddingTop",va(this.getTileSize(this.baseTileHeight,i.rowspan)))}getComputedHeight(){return["paddingBottom",va(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["paddingBottom",null]),i._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(i){const e=i.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Rz extends zv{setRowStyles(i,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);i._setStyle("top",this.getTilePosition(o,e)),i._setStyle("height",va(this.getTileSize(o,i.rowspan)))}reset(i){i._tiles&&i._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function va(t){return`calc(${t})`}function K2(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}let q2=(()=>{class t{constructor(e,n){this._element=e,this._dir=n,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Fi(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const n=`${e??""}`;n!==this._rowHeight&&(this._rowHeight=n,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Rz:e&&e.indexOf(":")>-1?new Pz(e):new kz(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Mz);const e=this._tileCoordinator,n=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,n),this._tileStyler.init(this.gutterSize,e,this.cols,r),n.forEach((o,s)=>{const l=e.positions[s];this._tileStyler.setStyle(o,l.row,l.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(On,8))},t.\u0275cmp=Xe({type:t,selectors:[["mat-grid-list"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,Gv,5),2&e){let o;Ze(o=et())&&(n._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,n){2&e&&mt("cols",n.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[Pt([{provide:Q2,useExisting:t}])],ngContentSelectors:X2,decls:2,vars:0,template:function(e,n){1&e&&(ln(),O(0,"div"),Oi(1),N())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),t})(),Wv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[RD,ni,RD,ni]}),t})();const Nz=["knob"],Lz=["valueIndicatorContainer"];function Bz(t,i){if(1&t&&(O(0,"div",4,5)(2,"div",6)(3,"span",7),ce(4),N()()()),2&t){const e=ae();j(4),ct(e.valueIndicatorText)}}const Vz=["trackActive"];function Hz(t,i){if(1&t&&Ee(0,"div"),2&t){const e=i.$implicit,n=i.index,r=ae(3);es(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Zo("transform",r._calcTickMarkTransform(n))}}function jz(t,i){if(1&t&&(wn(0),pe(1,Hz,1,4,"div",11),xn()),2&t){const e=ae(2);j(1),z("ngForOf",e._tickMarks)}}function Uz(t,i){if(1&t&&(O(0,"div",8,9),pe(2,jz,2,1,"ng-container",10),N()),2&t){const e=ae();j(2),z("ngIf",e._cachedWidth)}}function Gz(t,i){if(1&t&&Ee(0,"mat-slider-visual-thumb",7),2&t){const e=ae();z("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const zz=["*"],lp=new Ge("_MatSlider"),J2=new Ge("_MatSliderThumb"),Z2=new Ge("_MatSliderRangeThumb"),eM=new Ge("_MatSliderVisualThumb");let Wz=(()=>{class t{constructor(e,n,r,o){this._cdr=e,this._ngZone=n,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;const l=this._hostElement.getBoundingClientRect(),_=this._isSliderThumbHovered(s,l);this._isHovered=_,_?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||n))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(e,n){const r=n.width/2,_=e.clientY-(n.y+r);return Math.pow(e.clientX-(n.x+r),2)+Math.pow(_,2)<Math.pow(r,2)}}return t.\u0275fac=function(e){return new(e||t)(M(zt),M(ot),M(Je),M(lp))},t.\u0275cmp=Xe({type:t,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(e,n){if(1&e&&(Xt(Io,5),Xt(Nz,5),Xt(Lz,5)),2&e){let r;Ze(r=et())&&(n._ripple=r.first),Ze(r=et())&&(n._knob=r.first),Ze(r=et())&&(n._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Pt([{provide:eM,useExisting:t}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(e,n){1&e&&(pe(0,Bz,5,1,"div",0),Ee(1,"div",1,2)(3,"div",3)),2&e&&(z("ngIf",n.discrete),j(3),z("matRippleDisabled",!0))},dependencies:[vt,Io],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),t})();const $z=kd(Rf(class{constructor(t){this._elementRef=t}}),"primary");let Yz=(()=>{class t extends $z{get disabled(){return this._disabled}set disabled(e){this._disabled=yi(e);const n=this._getInput(2),r=this._getInput(1);n&&(n.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=yi(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=yi(e)}get min(){return this._min}set min(e){const n=Fi(e,this._min);this._min!==n&&this._updateMin(n)}_updateMin(e){const n=this._min;this._min=e,this._isRange?this._updateMinRange({old:n,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const n=this._getInput(2),r=this._getInput(1),o=n.value,s=r.value;r.min=e.new,n.min=Math.max(e.new,r.value),r.max=Math.min(n.max,n.value),r._updateWidthInactive(),n._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(n,r):this._onTranslateXChangeBySideEffect(r,n),o!==n.value&&this._onValueChange(n),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){const n=this._getInput(2);if(n){const r=n.value;n.min=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(e){const n=Fi(e,this._max);this._max!==n&&this._updateMax(n)}_updateMax(e){const n=this._max;this._max=e,this._isRange?this._updateMaxRange({old:n,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const n=this._getInput(2),r=this._getInput(1),o=n.value,s=r.value;n.max=e.new,r.max=Math.min(e.new,n.value),n.min=r.value,n._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,n):this._onTranslateXChangeBySideEffect(n,r),o!==n.value&&this._onValueChange(n),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){const n=this._getInput(2);if(n){const r=n.value;n.max=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(e){const n=Fi(e,this._step);this._step!==n&&this._updateStep(n)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),n=this._getInput(1),r=e.value,o=n.value,s=n.value;e.min=this._min,n.max=this._max,e.step=this._step,n.step=this._step,this._platform.SAFARI&&(e.value=e.value,n.value=n.value),e.min=Math.max(this._min,n.value),n.max=Math.min(this._max,e.value),n._updateWidthInactive(),e._updateWidthInactive(),e.value<s?this._onTranslateXChangeBySideEffect(n,e):this._onTranslateXChangeBySideEffect(e,n),r!==e.value&&this._onValueChange(e),o!==n.value&&this._onValueChange(n)}_updateStepNonRange(){const e=this._getInput(2);if(e){const n=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),n!==e.value&&this._onValueChange(e)}}constructor(e,n,r,o,s,l,_){super(o),this._ngZone=e,this._cdr=n,this._platform=r,this._dir=s,this._globalRippleOptions=l,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=S=>`${S}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===_,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),n=this._getInput(1);this._isRange=!!e&&!!n,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,n):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,n){e.initProps(),e.initUI(),n.initProps(),n.initUI(),e._updateMinMax(),n._updateMinMax(),e._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),n=this._getInput(1);e._setIsLeftThumb(),n._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateWidthInactive(),n._updateWidthInactive(),e._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const n=this._getInput(e);return n?n.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const n=this._trackActive.nativeElement.style,r=e.left!==n.left&&e.right!==n.right;n.left=e.left,n.right=e.right,n.transformOrigin=e.transformOrigin,r?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe(qt(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),n.transform=e.transform})):n.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,n){this._hasViewInitialized&&(e._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),n=this._getInput(1);e._updateThumbUIByValue(),n._updateThumbUIByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateMinMax(),n._updateMinMax(),e._updateWidthInactive(),n._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),n=this._getInput(2);return!(!e||!n)&&n.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const n=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const n=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=n:e._hostElement.setAttribute("aria-valuetext",n),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=n:this.endValueIndicatorText=n;const r=this._getThumb(e.thumbPosition);n.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),n=this._getInput(1);e&&this._updateValueIndicatorUI(e),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const n=e.getSibling();if(!n||!this._cachedWidth)return;const r=Math.abs(n.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-n.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const n=this._getValue();let r=Math.max(Math.round((n-this.min)/e),0),o=Math.max(Math.round((this.max-n)/e),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(0).concat(Array(o).fill(1))}_updateTickMarkUIRange(e){const n=this._getValue(),r=this._getValue(1),o=Math.max(Math.floor((r-this.min)/e),0),s=Math.max(Math.floor((n-r)/e)+1,0),l=Math.max(Math.floor((this.max-n)/e),0);this._tickMarks=Array(o).fill(1).concat(Array(s).fill(0),Array(l).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return t.\u0275fac=function(e){return new(e||t)(M(ot),M(zt),M(Gi),M(Je),M(On,8),M(HD,8),M(En,8))},t.\u0275cmp=Xe({type:t,selectors:[["mat-slider"]],contentQueries:function(e,n,r){if(1&e&&(Dt(r,J2,5),Dt(r,Z2,4)),2&e){let o;Ze(o=et())&&(n._input=o.first),Ze(o=et())&&(n._inputs=o)}},viewQuery:function(e,n){if(1&e&&(Xt(Vz,5),Xt(eM,5)),2&e){let r;Ze(r=et())&&(n._trackActive=r.first),Ze(r=et())&&(n._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(e,n){2&e&&tt("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Pt([{provide:lp,useExisting:t}]),at],ngContentSelectors:zz,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(ln(),Oi(0),O(1,"div",0),Ee(2,"div",1),O(3,"div",2),Ee(4,"div",3,4),N(),pe(6,Uz,3,1,"div",5),N(),pe(7,Gz,1,3,"mat-slider-visual-thumb",6),Ee(8,"mat-slider-visual-thumb",7)),2&e&&(j(6),z("ngIf",n.showTickMarks),j(1),z("ngIf",n._isRange),j(1),z("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[ei,vt,Wz],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),t})();const Qz={provide:Un,useExisting:Ct(()=>$v),multi:!0};let $v=(()=>{class t{get value(){return Fi(this._hostElement.value)}set value(e){const n=Fi(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=n,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=n}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return Fi(this._hostElement.min)}set min(e){this._hostElement.min=Fi(e).toString(),this._cdr.detectChanges()}get max(){return Fi(this._hostElement.max)}set max(e){this._hostElement.max=Fi(e).toString(),this._cdr.detectChanges()}get step(){return Fi(this._hostElement.step)}set step(e){this._hostElement.step=Fi(e).toString(),this._cdr.detectChanges()}get disabled(){return yi(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=yi(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,n,r,o){this._ngZone=e,this._elementRef=n,this._cdr=r,this._slider=o,this.valueChange=new Ye,this.dragStart=new Ye,this.dragEnd=new Ye,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new q,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=n.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){this.disabled||0!==e.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const n=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),S=Math.round((this._slider._isRtl?1-n/r:n/r)*s)/s*(this._slider.max-this._slider.min)+this._slider.min,T=Math.round(S/o)*o;if(T===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=T,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(n)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){this.value=e}registerOnChange(e){this._onChangeFn=e}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return t.\u0275fac=function(e){return new(e||t)(M(ot),M(Je),M(zt),M(lp))},t.\u0275dir=He({type:t,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(e,n){1&e&&Ae("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&e&&mt("aria-valuetext",n._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Pt([Qz,{provide:J2,useExisting:t}])]}),t})(),tM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni,lr,Wl]}),t})();const Jz=["tooltip"],iM=new Ge("mat-tooltip-scroll-strategy"),tW={provide:iM,deps:[xr],useFactory:function eW(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},nW=new Ge("mat-tooltip-default-options",{providedIn:"root",factory:function iW(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),nM="tooltip-panel",rM=Is({passive:!0});let cW=(()=>{class t{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=yi(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=yi(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Fi(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Fi(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,n,r,o,s,l,_,S,T,I,U,ee){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=l,this._ariaDescriber=_,this._focusMonitor=S,this._dir=I,this._defaultOptions=U,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new q,this._scrollStrategy=T,this._document=ee,U&&(U.position&&(this.position=U.position),U.positionAtOrigin&&(this.positionAtOrigin=U.positionAtOrigin),U.touchGestures&&(this.touchGestures=U.touchGestures)),I.change.pipe(yt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(yt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,rM)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Vl(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(yt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Je)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(yt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${nM}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(yt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(yt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(yt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!ca(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(qt(1),yt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){const{overlayY:n,originX:r,originY:o}=e;let s;if(s="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===o?"above":"below",s!==this._currentPosition){const l=this._overlayRef;if(l){const _=`${this._cssClassPrefix}-${nM}-`;l.removePanelClass(_+this._currentPosition),l.addPanelClass(_+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(n=e),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,rM)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const n=this._elementRef.nativeElement,r=n.style;("on"===e||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){Rc()},t.\u0275dir=He({type:t,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),t})(),oM=(()=>{class t extends cW{constructor(e,n,r,o,s,l,_,S,T,I,U,ee){super(e,n,r,o,s,l,_,S,T,I,U,ee),this._tooltipComponent=uW,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return t.\u0275fac=function(e){return new(e||t)(M(xr),M(Je),M($d),M(Ji),M(ot),M(Gi),M(QV),M(ls),M(iM),M(On,8),M(nW,8),M(gt))},t.\u0275dir=He({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[at]}),t})(),dW=(()=>{class t{constructor(e,n){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new q,this._animationsDisabled="NoopAnimations"===n}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(n);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return t.\u0275fac=function(e){return new(e||t)(M(zt),M(En,8))},t.\u0275dir=He({type:t}),t})(),uW=(()=>{class t extends dW{constructor(e,n,r){super(e,r),this._elementRef=n,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return t.\u0275fac=function(e){return new(e||t)(M(zt),M(Je),M(En,8))},t.\u0275cmp=Xe({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(e,n){if(1&e&&Xt(Jz,7),2&e){let r;Ze(r=et())&&(n._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,n){1&e&&Ae("mouseleave",function(o){return n._handleMouseLeave(o)}),2&e&&Zo("zoom",n.isVisible()?1:null)},features:[at],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,n){1&e&&(O(0,"div",0,1),Ae("animationend",function(o){return n._handleAnimationEnd(o)}),O(2,"div",2),ce(3),N()()),2&e&&(tt("mdc-tooltip--multiline",n._isMultiline),z("ngClass",n.tooltipClass),j(3),ct(n.message))},dependencies:[So],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),t})(),sM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[tW],imports:[nv,lr,Xl,ni,ni,Yd]}),t})();const ba=function(t){return{icons:t}};function hW(t,i){if(1&t){const e=Qe();O(0,"div",5)(1,"div",6)(2,"button",7),Ae("click",function(){return Ie(e),Oe(ae().onSetToDefault("brightness"))}),O(3,"i",8),ce(4,"brightness_medium"),N()(),O(5,"div",9)(6,"mat-slider",10),Ae("ngModelChange",function(r){return Ie(e),Oe(ae().filterValues.brightness=r)})("change",function(){return Ie(e),Oe(ae().onFilterUpdate())}),Ee(7,"input",11),N()()(),O(8,"div",6)(9,"button",12),Ae("click",function(){return Ie(e),Oe(ae().onSetToDefault("contrast"))}),O(10,"i",8),ce(11,"brightness_2"),N()(),O(12,"div",9)(13,"mat-slider",10),Ae("ngModelChange",function(r){return Ie(e),Oe(ae().filterValues.contrast=r)})("change",function(){return Ie(e),Oe(ae().onFilterUpdate())}),Ee(14,"input",11),N()()(),O(15,"div",6)(16,"button",13),Ae("click",function(){return Ie(e),Oe(ae().onSetToDefault("saturation"))}),O(17,"i",8),ce(18,"invert_colors"),N()(),O(19,"div",9)(20,"mat-slider",14),Ae("ngModelChange",function(r){return Ie(e),Oe(ae().filterValues.saturation=r)})("change",function(){return Ie(e),Oe(ae().onFilterUpdate())}),Ee(21,"input",11),N()()(),O(22,"div",6)(23,"button",15),Ae("click",function(){return Ie(e),Oe(ae().onSetToDefault("hue"))}),O(24,"i",8),ce(25,"colorize"),N()(),O(26,"div",9)(27,"mat-slider",16),Ae("ngModelChange",function(r){return Ie(e),Oe(ae().filterValues.hue=r)})("change",function(){return Ie(e),Oe(ae().onFilterUpdate())}),Ee(28,"input",11),N()()(),O(29,"div",6)(30,"button",17),Ae("click",function(){return Ie(e),Oe(ae().onSetToDefault("noise"))}),O(31,"i",8),ce(32,"graphic_eq"),N()(),O(33,"div",9)(34,"mat-slider",18),Ae("ngModelChange",function(r){return Ie(e),Oe(ae().filterValues.noise=r)})("change",function(){return Ie(e),Oe(ae().onFilterUpdate())}),Ee(35,"input",11),N()()(),O(36,"div",6)(37,"button",19),Ae("click",function(){return Ie(e),Oe(ae().onSetToDefault("blur"))}),O(38,"i",8),ce(39,"blur_circular"),N()(),O(40,"div",9)(41,"mat-slider",20),Ae("ngModelChange",function(r){return Ie(e),Oe(ae().filterValues.blur=r)})("change",function(){return Ie(e),Oe(ae().onFilterUpdate())}),Ee(42,"input",11),N()()(),O(43,"div",6)(44,"button",21),Ae("click",function(){return Ie(e),Oe(ae().onSetToDefault("pixelate"))}),O(45,"i",8),ce(46,"view_comfy"),N()(),O(47,"div",9)(48,"mat-slider",22),Ae("ngModelChange",function(r){return Ie(e),Oe(ae().filterValues.pixelate=r)})("change",function(){return Ie(e),Oe(ae().onFilterUpdate())}),Ee(49,"input",11),N()()(),O(50,"div",23)(51,"button",24),Ae("click",function(){return Ie(e),Oe(ae().onPanelChange("PRESET"))}),ce(52,"SHOW PRESET"),N()()()}if(2&t){const e=ae();j(2),z("disabled",0===e.filterValues.brightness),j(1),z("ngClass",Lt(28,ba,0!==e.filterValues.brightness)),j(3),z("ngModel",e.filterValues.brightness)("displayWith",e.formatLabel),j(3),z("disabled",0===e.filterValues.contrast),j(1),z("ngClass",Lt(30,ba,0!==e.filterValues.contrast)),j(3),z("ngModel",e.filterValues.contrast)("displayWith",e.formatLabel),j(3),z("disabled",0===e.filterValues.saturation),j(1),z("ngClass",Lt(32,ba,0!==e.filterValues.saturation)),j(3),z("ngModel",e.filterValues.saturation)("displayWith",e.formatLabel),j(3),z("disabled",0===e.filterValues.hue),j(1),z("ngClass",Lt(34,ba,0!==e.filterValues.hue)),j(3),z("ngModel",e.filterValues.hue)("displayWith",e.formatLabel),j(3),z("disabled",0===e.filterValues.noise),j(1),z("ngClass",Lt(36,ba,0!==e.filterValues.noise)),j(3),z("ngModel",e.filterValues.noise)("displayWith",e.formatLabel),j(3),z("disabled",0===e.filterValues.blur),j(1),z("ngClass",Lt(38,ba,0!==e.filterValues.blur)),j(3),z("ngModel",e.filterValues.blur)("displayWith",e.formatLabel),j(3),z("disabled",0===e.filterValues.pixelate),j(1),z("ngClass",Lt(40,ba,0!==e.filterValues.pixelate)),j(3),z("ngModel",e.filterValues.pixelate)("displayWith",e.formatLabel)}}function fW(t,i){if(1&t){const e=Qe();O(0,"div",5)(1,"div",23)(2,"button",25),Ae("click",function(){return Ie(e),Oe(ae().togglePreset("grayscale"))}),ce(3,"GRAYSCALE"),N()(),O(4,"div",23)(5,"button",25),Ae("click",function(){return Ie(e),Oe(ae().togglePreset("vintage"))}),ce(6,"VINTAGE"),N()(),O(7,"div",23)(8,"button",25),Ae("click",function(){return Ie(e),Oe(ae().togglePreset("sepia"))}),ce(9,"SEPIA"),N()(),O(10,"div",23)(11,"button",25),Ae("click",function(){return Ie(e),Oe(ae().togglePreset("polaroid"))}),ce(12,"POLAROID"),N()(),O(13,"div",23)(14,"button",24),Ae("click",function(){return Ie(e),Oe(ae().onPanelChange("ADVANCED"))}),ce(15,"ADVANCED SETTINGS"),N()()()}if(2&t){const e=ae();j(2),z("color",e.filterValues.grayscale?"accent":"warn"),j(3),z("color",e.filterValues.vintage?"accent":"warn"),j(3),z("color",e.filterValues.sepia?"accent":"warn"),j(3),z("color",e.filterValues.polaroid?"accent":"warn")}}const aM=function(t){return{"active-icon":t}};let pW=(()=>{class t{formatLabel(e){return e>=1e3?Math.round(e/1e3)+"k":`${e}`}onPanelChange(e){this.panelType=e}toggleScope(e){this.filterScope=e,"ALL"===this.filterScope&&this.utilService.canvasCommand("FILTER:ALL",{})}togglePreset(e){this.filterValues={...this.filterValues,[`${e}`]:!this.filterValues[`${e}`]},this.onFilterUpdate()}onFilterUpdate(){this.utilService.addImageFilter(this.filterScope,this.filterValues)}onSetToDefault(e){switch(e){case"brightness":this.filterValues={...this.filterValues,brightness:0};break;case"contrast":this.filterValues={...this.filterValues,contrast:0};break;case"saturation":this.filterValues={...this.filterValues,saturation:0};break;case"hue":this.filterValues={...this.filterValues,hue:0};break;case"noise":this.filterValues={...this.filterValues,noise:0};break;case"blur":this.filterValues={...this.filterValues,blur:0};break;case"pixelate":this.filterValues={...this.filterValues,pixelate:0}}this.onFilterUpdate()}constructor(e){this.utilService=e,this.panelType="PRESET"}ngOnInit(){this.filterScope=this.filterScope,this.filterValues=this.activeObjectProps}ngOnChanges(){"FILTER:ALL"===this.selectedToolType?this.filterScope="ALL":"FILTER:SINGLE"===this.selectedToolType&&(this.filterScope="SINGLE"),this.filterValues=this.activeObjectProps}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ql))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-filter-tool"]],inputs:{selectedToolType:"selectedToolType",activeObjectProps:"activeObjectProps"},features:[gi],decls:11,vars:9,consts:[["cols","2","rowHeight","48px",1,"filter-scope-container"],["mat-icon-button","",3,"disabled","click"],[1,"material-icons","icons",3,"ngClass"],["mat-icon-button","","disabled",""],["class","panel-container",4,"ngIf"],[1,"panel-container"],[1,"picker-container"],["mat-icon-button","","matTooltip","Brightness","matTooltipPosition","above",3,"disabled","click"],[1,"material-icons",3,"ngClass"],[1,"slider-wrapper"],["min","0","step","0.05","max","1","ngDefaultControl","",1,"slider",3,"ngModel","displayWith","ngModelChange","change"],["matSliderThumb",""],["mat-icon-button","","matTooltip","Contrast","matTooltipPosition","above",3,"disabled","click"],["mat-icon-button","","matTooltip","Saturation","matTooltipPosition","above",3,"disabled","click"],["min","0","step","0.05","max","20","ngDefaultControl","",1,"slider",3,"ngModel","displayWith","ngModelChange","change"],["mat-icon-button","","matTooltip","Hue","matTooltipPosition","above",3,"disabled","click"],["min","0","step","0.05","max","100","ngDefaultControl","",1,"slider",3,"ngModel","displayWith","ngModelChange","change"],["mat-icon-button","","matTooltip","Noise","matTooltipPosition","above",3,"disabled","click"],["min","0","step","1","max","100","ngDefaultControl","",1,"slider",3,"ngModel","displayWith","ngModelChange","change"],["mat-icon-button","","matTooltip","Blur","matTooltipPosition","above",3,"disabled","click"],["min","0","step","0.1","max","1","ngDefaultControl","",1,"slider",3,"ngModel","displayWith","ngModelChange","change"],["mat-icon-button","","matTooltip","Pixelate","matTooltipPosition","above",3,"disabled","click"],["min","0.01","step","0.1","max","10","ngDefaultControl","",1,"slider",3,"ngModel","displayWith","ngModelChange","change"],[1,"button-container"],["mat-raised-button","","color","primary",1,"button",3,"click"],["mat-raised-button","",1,"button",3,"color","click"]],template:function(n,r){1&n&&(O(0,"mat-grid-list",0)(1,"mat-grid-tile")(2,"button",1),Ae("click",function(){return r.toggleScope("ALL")}),O(3,"i",2),ce(4,"photo_size_select_actual"),N()()(),O(5,"mat-grid-tile")(6,"button",3)(7,"i",2),ce(8,"photo_size_select_large"),N()()()(),pe(9,hW,53,42,"div",4),pe(10,fW,16,4,"div",4)),2&n&&(j(2),z("disabled","ALL"===r.filterScope),j(1),z("ngClass",Lt(5,aM,"ALL"===r.filterScope)),j(4),z("ngClass",Lt(7,aM,"SINGLE"===r.filterScope)),j(2),z("ngIf","ADVANCED"===r.panelType),j(1),z("ngIf","PRESET"===r.panelType))},dependencies:[So,vt,yn,Gn,wv,q2,Gv,Lv,rp,Yz,$v,oM],styles:[".icons[_ngcontent-%COMP%]{color:#dddbdb}.active-icon[_ngcontent-%COMP%]{color:#69f0ae}.slider-wrapper[_ngcontent-%COMP%]{flex:1;margin:0 8px 0 0}.slider[_ngcontent-%COMP%]{width:100%}.picker-container[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:row;align-items:center;margin:2px 0 0 4px}.panel-container[_ngcontent-%COMP%]{width:100%;margin:8px 0 0}.ilter-scope-container[_ngcontent-%COMP%]{margin:4px 0 0}.button-container[_ngcontent-%COMP%]{width:100%;margin:8px 0 0}.button[_ngcontent-%COMP%]{width:calc(100% - 16px);margin:0 8px}"]})}return t})();const Jd=function(t){return{icons:t}};let mW=(()=>{class t{onChangeToolType(e){this.utilService.changeToolType(e,{})}canvasCommand(e){this.utilService.canvasCommand(e,{})}editPhoto(e){if(this.canvasCommand("DOWNLOAD_CURRENT_CANVAS"),this.id=this.utilService.uploadedId,this.utilService.editedImageURL){let n=new FormData;console.log(this.utilService.editedImageURL),n.append("img",this.utilService.editedImageURL),this.utilService.editUserImage(this.id,n).subscribe(r=>{console.log("user image edited & downloaded"),console.log(r)})}}constructor(e){this.utilService=e,this.id=""}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ql))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-main-tool"]],inputs:{selectedToolType:"selectedToolType"},decls:23,vars:20,consts:[["cols","3","rowHeight","52px"],["matTooltip","Preview","matTooltipPosition","above","mat-icon-button","",3,"disabled"],[1,"material-icons",3,"ngClass"],["matTooltip","Clone Image","matTooltipPosition","above","mat-icon-button","",3,"disabled","click"],["matTooltip","Flip Horizontally","matTooltipPosition","above","mat-icon-button","",3,"disabled","click"],["matTooltip","Photo Filter","matTooltipPosition","above","mat-icon-button","",3,"disabled","click"],["enctype","multipart/form-data"],["matTooltip","Save Photo","matTooltipPosition","above","mat-icon-button","",3,"disabled","click"],["id","upload-file-input",2,"display","none"]],template:function(n,r){1&n&&(O(0,"mat-grid-list",0)(1,"mat-grid-tile")(2,"button",1)(3,"i",2),ce(4,"zoom_in"),N()()(),O(5,"mat-grid-tile")(6,"button",3),Ae("click",function(){return r.canvasCommand("CLONE")}),O(7,"i",2),ce(8,"content_copy"),N()()(),O(9,"mat-grid-tile")(10,"button",4),Ae("click",function(){return r.canvasCommand("FLIP:X")}),O(11,"i",2),ce(12,"flip"),N()()(),O(13,"mat-grid-tile")(14,"button",5),Ae("click",function(){return r.canvasCommand("ADD_FILTER")}),O(15,"i",2),ce(16,"format_paint"),N()()(),O(17,"mat-grid-tile")(18,"form",6)(19,"button",7),Ae("click",function(s){return r.editPhoto(s)}),O(20,"i",2),ce(21,"save"),N(),Ee(22,"input",8),N()()()()),2&n&&(j(2),z("disabled","DEACTIVATE"===r.selectedToolType),j(1),z("ngClass",Lt(10,Jd,"DEACTIVATE"!==r.selectedToolType)),j(3),z("disabled","DEACTIVATE"===r.selectedToolType),j(1),z("ngClass",Lt(12,Jd,"DEACTIVATE"!==r.selectedToolType)),j(3),z("disabled","DEACTIVATE"===r.selectedToolType),j(1),z("ngClass",Lt(14,Jd,"DEACTIVATE"!==r.selectedToolType)),j(3),z("disabled","DEACTIVATE"===r.selectedToolType),j(1),z("ngClass",Lt(16,Jd,"DEACTIVATE"!==r.selectedToolType)),j(4),z("disabled","DEACTIVATE"===r.selectedToolType),j(1),z("ngClass",Lt(18,Jd,"DEACTIVATE"!==r.selectedToolType)))},dependencies:[So,Oo,zn,Kf,q2,Gv,rp,oM],styles:[".icons[_ngcontent-%COMP%]{color:#dddbdb}"]})}return t})();function gW(t,i){if(1&t){const e=Qe();O(0,"button",16),Ae("click",function(){return Ie(e),Oe(ae().backToMainMenu())}),O(1,"i",9),ce(2,"arrow_back"),N()()}}const Yv=function(t){return{icons:t}};function _W(t,i){if(1&t){const e=Qe();O(0,"button",4),Ae("click",function(){return Ie(e),Oe(ae().cleanSelect())}),O(1,"i",5),ce(2,"do_not_disturb_alt"),N()()}if(2&t){const e=ae();z("disabled",void 0===e.selection),j(1),z("ngClass",Lt(2,Yv,void 0!==e.selection))}}function vW(t,i){if(1&t){const e=Qe();O(0,"button",17),Ae("click",function(){return Ie(e),Oe(ae().onRemoveObjectFromCanvas())}),O(1,"i",18),ce(2,"delete_forever"),N()()}}function bW(t,i){1&t&&Ee(0,"app-main-tool",19),2&t&&z("selectedToolType",ae().selectedToolType)}function yW(t,i){if(1&t&&Ee(0,"app-filter-tool",20),2&t){const e=ae();z("selectedToolType",e.selectedToolType)("activeObjectProps",e.activeObjectProps)}}let AW=(()=>{class t{onChangeToolType(e){this.selectedToolType=e}cleanSelect(){this.utilService.canvasCommand("CLEAN_SELECT",{}),this.onChangeToolType("MAIN")}backToMainMenu(){this.utilService.canvasCommand("BACK_TO_MAIN_MENU",{}),this.onChangeToolType("MAIN")}bringForward(){this.utilService.canvasCommand("BRING_FORWARD",{})}sendBackward(){this.utilService.canvasCommand("SEND_BACKWARD",{})}constructor(e){this.utilService=e,this.selectedToolTypeList=["MAIN","TEXT","TEXT:EDITING","CROP","PREVIEW","FILTER:ALL","FILTER:SINGLE","DEACTIVATE"],this.fileUrlList=[],this.selectedToolType=this.selectedToolTypeList[0],this.onChangeToolTypeSubscription=e.changeToolType$.subscribe(({toolType:n,activeObjectProps:r})=>{r&&(this.activeObjectProps=r),this.onChangeToolType(n)}),this.onSelectionCreatedSubscription=e.onSelectionCreated$.subscribe(({selection:n,selectionType:r})=>{this.selectionType=r,this.selection=n}),this.selection=void 0,this.onSelectionCreatedSubscription=e.onSelectionCreated$.subscribe(({selection:n})=>{this.selection=n}),this.index=1,this.orientation="LANDSCAPE"}ngOnInit(){}ngOnDestroy(){this.onChangeToolTypeSubscription.unsubscribe(),this.onSelectionCreatedSubscription.unsubscribe()}onClearByIndex(e){this.fileUrlList=this.fileUrlList.filter((n,r)=>r!==e)}onClearAll(){this.fileUrlList=[]}onRemoveObjectFromCanvas(){this.utilService.canvasCommand("DELETE",{})}addImageOnCanvas(e){this.utilService.addImageToCanvas(e)}changeAspectRatio(e){this.index=e,this.utilService.changeCanvasSize(this.orientation,e)}changeOrientation(e){this.orientation=e,this.utilService.changeCanvasSize(e,this.index)}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ql))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-toolbar"]],decls:41,vars:14,consts:[[1,"toolbar-wrapper"],[1,"icon-panel"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"disabled","click",4,"ngIf"],["mat-icon-button","",3,"disabled","click"],[1,"material-icons",3,"ngClass"],["aspectratiomenu","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"material-icons","icons"],["orientationmenu","matMenu"],[1,"spacer"],["mat-icon-button","","ng","","color","warn",3,"click",4,"ngIf"],[1,"main-tool-slider"],[3,"selectedToolType",4,"ngIf"],[3,"selectedToolType","activeObjectProps",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-icon-button","","ng","","color","warn",3,"click"],[1,"material-icons"],[3,"selectedToolType"],[3,"selectedToolType","activeObjectProps"]],template:function(n,r){if(1&n&&(O(0,"div",0)(1,"div",1),pe(2,gW,3,0,"button",2),pe(3,_W,3,4,"button",3),O(4,"button",4),Ae("click",function(){return r.bringForward()}),O(5,"i",5),ce(6,"flip_to_front"),N()(),O(7,"button",4),Ae("click",function(){return r.sendBackward()}),O(8,"i",5),ce(9,"flip_to_back"),N()(),O(10,"mat-menu",null,6)(12,"button",7),Ae("click",function(){return r.changeAspectRatio(0)}),O(13,"span"),ce(14,"6x6"),N()(),O(15,"button",7),Ae("click",function(){return r.changeAspectRatio(1)}),O(16,"span"),ce(17,"8x6"),N()(),O(18,"button",7),Ae("click",function(){return r.changeAspectRatio(2)}),O(19,"span"),ce(20,"7x5"),N()(),O(21,"button",7),Ae("click",function(){return r.changeAspectRatio(3)}),O(22,"span"),ce(23,"6x4"),N()()(),O(24,"button",8)(25,"i",9),ce(26,"screen_rotation"),N()(),O(27,"mat-menu",null,10)(29,"button",7),Ae("click",function(){return r.changeOrientation("LANDSCAPE")}),O(30,"span"),ce(31,"Landscape"),N()(),O(32,"button",7),Ae("click",function(){return r.changeOrientation("PORTRAIT")}),O(33,"span"),ce(34,"Portrait"),N()()(),Ee(35,"div",11),pe(36,vW,3,0,"button",12),Ee(37,"div",11),N(),O(38,"div",13),pe(39,bW,1,1,"app-main-tool",14),pe(40,yW,1,2,"app-filter-tool",15),N()()),2&n){const o=_i(28);j(2),z("ngIf","MAIN"!==r.selectedToolType&&"DEACTIVATE"!==r.selectedToolType),j(1),z("ngIf","MAIN"===r.selectedToolType||"DEACTIVATE"===r.selectedToolType),j(1),z("disabled",void 0===r.selection||"group"===r.selectionType),j(1),z("ngClass",Lt(10,Yv,void 0!==r.selection&&"group"!==r.selectionType)),j(2),z("disabled",void 0===r.selection||"group"===r.selectionType),j(1),z("ngClass",Lt(12,Yv,void 0!==r.selection&&"group"!==r.selectionType)),j(16),z("matMenuTriggerFor",o),j(12),z("ngIf",void 0!==r.selection),j(3),z("ngIf","MAIN"===r.selectedToolType||"DEACTIVATE"===r.selectedToolType),j(1),z("ngIf","FILTER:ALL"===r.selectedToolType||"FILTER:SINGLE"===r.selectedToolType)}},dependencies:[So,vt,rp,wz,sp,Dz,pW,mW],styles:[".toolbar-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-panel[_ngcontent-%COMP%]{height:10%;min-height:40px;width:calc(100% - 8px);display:flex;flex-direction:row;justify-content:center;align-items:center;margin:4px 4px 8px;border-bottom:1px solid #dddbdb}.icons[_ngcontent-%COMP%]{color:#dddbdb}.active-icon[_ngcontent-%COMP%]{color:#69f0ae}.spacer[_ngcontent-%COMP%]{flex:1}.main-tool-slider[_ngcontent-%COMP%]{height:90%;position:relative;z-index:9;overflow-x:hidden;overflow-y:hidden}.main-tool-slider[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin:16px 15px 0 0}.main-tool-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3n + 1){margin:16px 15px 0}"]})}return t})(),CW=(()=>{class t{constructor(e,n,r,o,s,l){this.authService=e,this.utilService=n,this.snackBar=r,this.dialogRef=o,this.data=s,this.rService=l,this.openSnackBarSubscription=n.openSnackBar$.subscribe(({message:_,duration:S})=>{this.snackBar.open(_,void 0,{duration:S})})}ngOnInit(){this.authService.user().subscribe(e=>{this.user_id=e.id}),console.log(this.data),this.utilService.uploadedImageURL=this.data.image}ngOnDestroy(){this.openSnackBarSubscription.unsubscribe()}onClose(){this.dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||t)(M(Yt),M(Ql),M(dz),M(ao),M(ko),M(ur))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-image-editor"]],decls:9,vars:0,consts:[[1,"editor-container"],["mat-icon-button","",3,"click"],[1,"material-icons","icons"],[1,"work-panel"],[1,"canvas-container"],[1,"toolbar-container"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"button",1),Ae("click",function(){return r.onClose()}),O(2,"i",2),ce(3,"clear"),N()(),O(4,"div",3)(5,"div",4),Ee(6,"app-canvas"),N(),O(7,"div",5),Ee(8,"app-toolbar"),N()()())},dependencies:[rp,uz,AW],styles:[".editor-container[_ngcontent-%COMP%]{height:800px;width:auto;justify-content:center;align-items:center}.menubar-container[_ngcontent-%COMP%]{height:8%}.work-panel[_ngcontent-%COMP%]{background:#e2e1e0;height:100%;width:auto;display:flex;flex-direction:row;justify-content:center;align-items:center}.canvas-container[_ngcontent-%COMP%]{padding:16px;height:100%;background:#ffffff;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.toolbar-container[_ngcontent-%COMP%]{background:#303030;max-width:300px;height:100%}"]})}return t})();function wW(t,i){if(1&t){const e=Qe();wn(0),O(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h3"),ce(6),N()()()(),O(7,"div",6)(8,"div",9),Ee(9,"img",10),N(),O(10,"div",11)(11,"div",6)(12,"div",12)(13,"mat-icon",13),Ae("click",function(){const o=Ie(e).index;return Oe(ae().deleteReel(o))}),ce(14,"delete_forever"),N()(),O(15,"div",12)(16,"mat-icon",14),Ae("click",function(){const o=Ie(e).index;return Oe(ae().onEdit(o))}),ce(17,"edit"),N()()()()()(),Ee(18,"hr"),xn()}if(2&t){const e=i.$implicit,n=i.index;j(1),z("formGroupName",n),j(5),ct(e.get("caption").value),j(3),z("src",e.get("image").value,ai)}}let xW=(()=>{class t{constructor(e,n,r,o){this.fb=e,this.rService=n,this.dialog=r,this.rfileTransferService=o,this.storyDetailForm=this.fb.group({reels:this.fb.array([])})}ngOnInit(){setTimeout(()=>{if(this.reelsData){const e=this.storyDetailForm.get("reels");this.reelsData.forEach(n=>{e.push(this.fb.group({id:n.id,caption:n.caption,image:n.image}))})}},500)}get reels(){return this.storyDetailForm.controls.reels}addReel(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.disableClose=!0,this.dialog.open(N2,e).afterClosed().subscribe(n=>{if(n){console.log(n);const r=this.fb.group({id:[n.id],caption:[n.caption],image:[n.image]});this.reels.push(r)}})}deleteReel(e){this.rService.deleteReel(this.reels.controls[e].value.id).subscribe(()=>{this.reels.removeAt(e)})}clearReels(){for(;this.reels.length>0;)this.reels.removeAt(0)}onEdit(e){console.log(this.reels.value[e]);const n=new on;n.autoFocus=!0,n.minWidth="1200px",n.disableClose=!0,this.reels.value[e].image.split(":")[0]||(this.reels.value[e].image="http://localhost:8000/"+this.reels.value[e].image),n.data={id:this.reels.value[e].id,image:this.reels.value[e].image,caption:this.reels.value[e].caption},this.dialog.open(CW,n).afterClosed().subscribe(r=>{r&&this.reels.at(e).patchValue({image:"http://localhost:8000/"+r.image,caption:r.caption})})}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(ur),M(Po),M(oa))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-edit-partb"]],viewQuery:function(n,r){if(1&n&&Xt(Vf,5),2&n){let o;Ze(o=et())&&(r.stepper=o.first)}},inputs:{reelsData:"reelsData"},decls:7,vars:2,consts:[["enctype","multipart/form-data",3,"formGroup"],["formArrayName","reels"],[4,"ngFor","ngForOf"],[1,"edit-btn",3,"click"],[1,"scrolling-space"],[3,"formGroupName"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[1,"col-md-8"],[1,"img-responsive",2,"max-width","600px",3,"src"],[1,"col-md-4"],[1,"col-md-6"],[1,"delete-btn","float-end",3,"click"],[1,"edit-btn","float-end",3,"click"]],template:function(n,r){1&n&&(O(0,"div",0),wn(1,1),pe(2,wW,19,3,"ng-container",2),xn(),O(3,"button",3),Ae("click",function(){return r.addReel()}),O(4,"mat-icon"),ce(5,"add"),N()()(),Ee(6,"div",4)),2&n&&(z("formGroup",r.storyDetailForm),j(2),z("ngForOf",r.reels.controls))},dependencies:[ei,zn,Rn,pa,ma,sv],styles:[".delete-btn[_ngcontent-%COMP%]{background-color:#da4747}.edit-btn[_ngcontent-%COMP%]{background-color:#2d7007}.row[_ngcontent-%COMP%]{margin:10px auto}.scrolling-space[_ngcontent-%COMP%]{height:50px}"]})}return t})();function SW(t,i){1&t&&ce(0,"Story Details")}function TW(t,i){1&t&&ce(0,"Story Reels")}let DW=(()=>{class t{constructor(e,n,r,o,s,l,_){this.route=e,this.sService=n,this.rService=r,this.authService=o,this.router=s,this.rfileTransferService=l,this.sfileTransferService=_,this.reelselectedFile=[],this.reelImageUrls=[],this.reelsData=[],this.reelfileFieldList=[]}ngOnInit(){this.route.params.subscribe(e=>{this.id=e.id}),this.authService.user().subscribe(e=>{this.user_id=e.id}),setTimeout(()=>{this.sService.fetchStory(this.id).subscribe(e=>{this.story={id:e.id,title:e.title,description:e.description,longDescription:e.longDescription,image:e.image,reels:e.reels,tags:e.tags,owner:e.owner},e.reels.forEach(n=>{this.reelsData.push({id:n.id,caption:n.caption,image:n.image})})})},300)}submit(e,n){const r=new FormData;this.reelfileFieldList=this.rfileTransferService.fileFieldList,r.append("id",this.story.id),r.append("owner",this.story.owner.toString()),r.append("title",e.title),r.append("description",e.description),r.append("longDescription",e.longDescription),r.append("tags",JSON.stringify(e.tags));const o=[];this.reelfileFieldList.forEach((s,l)=>{o.push({id:s.id,caption:s.caption,image:s.image,reel_owner:this.user_id})}),r.append("reels",JSON.stringify(o)),setTimeout(()=>{const s=new FormData;this.sfileTransferService.image&&s.append("image",this.sfileTransferService.image),this.sService.updateStory(this.story.id,r).subscribe(l=>{this.sfileTransferService.image&&this.sService.addStoryImage(l.id,s).subscribe(()=>{console.log("story image updated"),this.sfileTransferService.image=null}),console.log(r.get("reels")),this.rfileTransferService.fileFieldList=[],this.router.navigateByUrl("/story")})},100)}onCancel(){this.router.navigateByUrl("/story/"+this.id)}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(cr),M(ur),M(Yt),M(ti),M(oa),M(Af))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-edit"]],decls:22,vars:3,consts:[[1,"data-form"],[1,"heading"],["labelPosition","bottom",1,"mat-elevation-z5"],["stepper","matHorizontalStepper"],["errorMessage","Story page in error",3,"stepControl"],["step1",""],["matStepLabel",""],[1,"stepper-buttons"],["color","primary","matStepperNext","",1,"btn","btn-primary","float-end"],["errorMessage","Reel Page in error",3,"stepControl"],[3,"reelsData"],["step2",""],["matStepperPrevious","",1,"btn","btn-primary","float-start"],["color","primary",1,"btn","btn-primary","float-end",3,"click"],[1,"scrolling-space"]],template:function(n,r){if(1&n){const o=Qe();O(0,"div",0)(1,"h1",1),ce(2,"Edit Story"),N(),O(3,"mat-horizontal-stepper",2,3)(5,"mat-step",4),Ee(6,"app-story-edit-parta",null,5),pe(8,SW,1,0,"ng-template",6),O(9,"div",7)(10,"button",8),ce(11,"Next"),N()()(),O(12,"mat-step",9),Ee(13,"app-story-edit-partb",10,11),pe(15,TW,1,0,"ng-template",6),O(16,"div",7)(17,"button",12),ce(18,"Back"),N(),O(19,"button",13),Ae("click",function(){Ie(o);const l=_i(7),_=_i(14);return Oe(r.submit(l.storyStartForm.value,_.storyDetailForm.value))}),ce(20," Edit Story "),N()()()()(),Ee(21,"div",14)}if(2&n){const o=_i(7),s=_i(14);j(5),z("stepControl",o.storyStartForm),j(7),z("stepControl",s.storyDetailForm),j(1),z("reelsData",r.reelsData)}},dependencies:[dv,Bd,Vf,sE,aE,BG,xW],styles:[".data-form[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.heading[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important;padding:10px;text-align:center}"]})}return t})();function lM(t,i,e,n,r,o,s){try{var l=t[o](s),_=l.value}catch(S){return void e(S)}l.done?i(_):Promise.resolve(_).then(n,r)}function us(t){return function(){var i=this,e=arguments;return new Promise(function(n,r){var o=t.apply(i,e);function s(_){lM(o,n,r,s,l,"next",_)}function l(_){lM(o,n,r,s,l,"throw",_)}s(void 0)})}}function ii(t,i){const e="object"==typeof i;return new Promise((n,r)=>{let s,o=!1;t.subscribe({next:l=>{s=l,o=!0},error:r,complete:()=>{o?n(s):e?n(i.defaultValue):r(new dd)}})})}const cM=function(t){return{ratio:t}};function EW(t,i){if(1&t){const e=Qe();O(0,"img",7),Ae("load",function(){return Ie(e),Oe(ae(2).imageLoading=!1)}),N()}if(2&t){const e=ae(2);z("ngClass",Lt(5,cM,e.ratio))("src",e.fileUrl,ai)("alt",e.alt)("title",e.title),mt("loading",1==e.lazy?"lazy":null)}}function MW(t,i){if(1&t&&Ee(0,"iframe",8),2&t){const e=ae(2);z("src",e.fileUrl,ng),mt("loading",1==e.lazy?"lazy":null)}}function IW(t,i){if(1&t){const e=Qe();O(0,"video",9),Ae("click",function(r){return Ie(e),Oe(ae(2).videoClickHandler(r))}),Ee(1,"source",10),ce(2," Your browser does not support the video tag. "),N()}if(2&t){const e=ae(2);z("id","video_"+e.imageIndex)("ngClass",Lt(5,cM,e.ratio))("autoplay",e.videoAutoPlay),mt("controls",e.showVideoControls?e.showVideoControls:null),j(1),z("src",e.fileUrl,ai)}}function OW(t,i){1&t&&(O(0,"div",11),ce(1,"Invalid file format"),N()),2&t&&z("dir",ae(2).direction)}function kW(t,i){1&t&&Ee(0,"span",12)}const PW=function(t){return{"ng-fullimage-loading":t}};function RW(t,i){if(1&t&&(O(0,"div",1),pe(1,EW,1,7,"img",2),pe(2,MW,1,2,"iframe",3),pe(3,IW,3,7,"video",4),pe(4,OW,2,1,"div",5),pe(5,kW,1,0,"span",6),N()),2&t){const e=ae();z("ngClass",Lt(6,PW,e.imageLoading)),j(1),z("ngIf",e.type===e.IMAGE&&e.fileUrl),j(1),z("ngIf",e.type===e.YOUTUBE&&e.fileUrl),j(1),z("ngIf",e.type===e.VIDEO),j(1),z("ngIf",!e.fileUrl),j(1),z("ngIf",e.type===e.YOUTUBE||e.type===e.VIDEO||e.isVideo)}}const FW=["lightboxDiv"],NW=["lightboxImageDiv"];function LW(t,i){1&t&&(O(0,"div",13),Ee(1,"div",14),N())}const BW=function(t){return{width:t}};function VW(t,i){if(1&t){const e=Qe();O(0,"div",15,16),Ae("touchstart",function(r){return Ie(e),Oe(ae(2).swipeLightboxImg(r,"start"))})("touchend",function(r){return Ie(e),Oe(ae(2).swipeLightboxImg(r,"end"))}),O(2,"div",17),Ae("click",function(){const o=Ie(e).$implicit,s=ae(2);return Oe(!(null!=o&&o.video)&&s.closeLightbox())}),N(),Ee(3,"custom-img",18),N()}if(2&t){const e=i.$implicit,n=i.index,r=ae(2);z("ngStyle",Lt(13,BW,r.popupWidth+"px")),mt("id","ng-lightbox-image-"+n),j(3),z("imageUrl",(null==e?null:e.image)||(null==e?null:e.video))("isVideo",!!(null!=e&&e.posterImage||null!=e&&e.video))("currentImageIndex",r.currentImageIndex)("imageIndex",n)("speed",r.speed)("videoAutoPlay",r.videoAutoPlay&&n==r.currentImageIndex)("showVideoControls",r.showVideoControls?1:0)("alt",(null==e?null:e.alt)||(null==e?null:e.title)||"")("title",(null==e?null:e.title)||(null==e?null:e.alt)||"")("showVideo",!0)("direction",r.direction)}}const cp=function(t){return{disable:t}};function HW(t,i){if(1&t){const e=Qe();O(0,"a",19),Ae("click",function(){return Ie(e),Oe(ae(2).prevImageLightbox())}),ce(1,"\u2039"),N()}if(2&t){const e=ae(2);z("ngClass",Lt(1,cp,e.lightboxPrevDisable))}}function jW(t,i){if(1&t){const e=Qe();O(0,"a",20),Ae("click",function(){return Ie(e),Oe(ae(2).nextImageLightbox())}),ce(1,"\u203a"),N()}if(2&t){const e=ae(2);z("ngClass",Lt(1,cp,e.lightboxNextDisable))}}function UW(t,i){if(1&t&&(O(0,"div",21),ce(1),N()),2&t){const e=ae(2);j(1),ys("",e.currentImageIndex+1," of ",e.totalImages,"")}}const GW=function(t,i,e){return{"margin-left":t,"grid-template-columns":i,transition:e}},zW=function(t,i){return{show:t,hide:i}};function WW(t,i){if(1&t){const e=Qe();O(0,"div",1)(1,"div",2)(2,"a",3),Ae("click",function(){return Ie(e),Oe(ae().closeLightbox())}),N(),O(3,"div",4,5),pe(5,LW,2,0,"div",6),O(6,"div",7),pe(7,VW,4,15,"div",8),N(),O(8,"div",9),ce(9),N(),pe(10,HW,2,3,"a",10),pe(11,jW,2,3,"a",11),N()(),pe(12,UW,2,2,"div",12),N()}if(2&t){const e=ae();j(5),z("ngIf",e.showLoading),j(1),z("ngStyle",wl(9,GW,e.marginLeft+"px","repeat("+e.images.length+",1fr)",e.effectStyle)),j(1),z("ngForOf",e.images),j(1),z("dir",e.direction)("ngClass",Lr(13,zW,e.title,!e.title)),j(1),ct(e.title),j(1),z("ngIf",e.images.length>1),j(1),z("ngIf",e.images.length>1),j(1),z("ngIf",e.paginationShow)}}const $W=["sliderMain"],YW=["imageDiv"];function XW(t,i){if(1&t&&(O(0,"div",16),ce(1),N()),2&t){const e=ae().$implicit;z("dir",ae(2).textDirection),j(1),ct(null==e?null:e.title)}}const QW=function(t,i){return{"image-popup":t,"selected-image":i}},KW=function(t,i,e){return{width:t,"margin-left":i,"margin-right":e}};function qW(t,i){if(1&t){const e=Qe();O(0,"div",12,13),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(2).imageOnClick(o.index))})("mouseenter",function(){Ie(e);const r=ae(2);return Oe(r.stopSlideOnHover&&r.imageMouseEnterHandler())})("mouseleave",function(){Ie(e);const r=ae(2);return Oe(r.stopSlideOnHover&&r.imageAutoSlide())}),Ee(2,"custom-img",14),pe(3,XW,2,2,"div",15),N()}if(2&t){const e=i.$implicit,n=i.index,r=ae(2);z("ngClass",Lr(10,QW,r.imagePopup,r.activeImageIndex==n))("ngStyle",wl(13,KW,r.sliderImageWidth+"px",r.imageMargin+"px",r.imageMargin+"px")),j(2),z("imageUrl",(null==e?null:e.thumbImage)||(null==e?null:e.posterImage)||(null==e?null:e.video))("isVideo",!!(null!=e&&e.posterImage||null!=e&&e.video))("alt",(null==e?null:e.alt)||(null==e?null:e.title)||"")("title",(null==e?null:e.title)||(null==e?null:e.alt)||"")("direction",r.textDirection)("ratio",r.manageImageRatio)("lazy",r.lazyLoading),j(1),z("ngIf",null==e?null:e.title)}}const JW=function(t){return{"with-ng-main-pagination":t}},ZW=function(t,i,e){return{"margin-left":t,width:i,transition:e}};function e$(t,i){if(1&t){const e=Qe();O(0,"div",10),Ae("touchstart",function(r){return Ie(e),Oe(ae().swipe(r,"start"))})("touchend",function(r){return Ie(e),Oe(ae().swipe(r,"end"))}),pe(1,qW,4,17,"div",11),N()}if(2&t){const e=ae();z("ngClass",Lt(3,JW,e.paginationShow))("ngStyle",wl(5,ZW,e.leftPos+"px",e.imageParentDivWidth+"px",e.effectStyle)),j(1),z("ngForOf",e.imageObj)}}function t$(t,i){1&t&&(O(0,"div",17),Ee(1,"span",18),N())}function i$(t,i){if(1&t){const e=Qe();O(0,"a",19),Ae("click",function(){return Ie(e),Oe(ae().prev())})("mouseenter",function(){Ie(e);const r=ae();return Oe(r.stopSlideOnHover&&r.imageMouseEnterHandler())})("mouseleave",function(){Ie(e);const r=ae();return Oe(r.stopSlideOnHover&&r.imageAutoSlide())}),ce(1,"\u2039"),N()}if(2&t){const e=ae();z("ngClass",Lt(1,cp,e.sliderPrevDisable))}}function n$(t,i){if(1&t){const e=Qe();O(0,"a",20),Ae("click",function(){return Ie(e),Oe(ae().next())})("mouseenter",function(){return Ie(e),Oe(ae().imageMouseEnterHandler())})("mouseleave",function(){return Ie(e),Oe(ae().imageAutoSlide())}),ce(1,"\u203a"),N()}if(2&t){const e=ae();z("ngClass",Lt(1,cp,e.sliderNextDisable))}}function r$(t,i){if(1&t&&(O(0,"div",21),ce(1),N()),2&t){const e=ae();j(1),ys("",e.visiableImageIndex+1," of ",e.totalImages,"")}}function o$(t,i){if(1&t){const e=Qe();O(0,"div")(1,"slider-lightbox",22),Ae("prevImage",function(r){return Ie(e),Oe(ae().lightboxArrowClickHandler(r))})("nextImage",function(r){return Ie(e),Oe(ae().lightboxArrowClickHandler(r))})("close",function(){return Ie(e),Oe(ae().close())}),N()()}if(2&t){const e=ae();j(1),z("paginationShow",e.paginationShow)("showVideoControls",e.showVideoControls)("arrowKeyMove",e.arrowKeyMove)("images",e.ligthboxImageObj)("infinite",e.infinite)("animationSpeed",e.speed)("imageIndex",e.activeImageIndex)("show",e.ligthboxShow)("direction",e.textDirection)("videoAutoPlay",e.videoAutoPlay)}}const dM=function(t){return{height:t}};let Xv=(()=>{class t{constructor(){}isBase64(e){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)}base64FileExtension(e){return e.substring(11,e.indexOf(";base64"))}orderArray(e=[],n="ASC"){return e?.length&&n?e.sort((r,o)=>null!==r.order&&r.order?null!==o.order&&o.order?r.order>o.order?"DESC"===n?-1:1:r.order<o.order?"DESC"===n?1:-1:void 0:-1:1):e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();const a$=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,hM=["jpeg","jpg","gif","png"],fM=["mp4"];let pM=(()=>{class t{constructor(e,n,r){this.imageSliderService=e,this.sanitizer=n,this.YOUTUBE="youtube",this.IMAGE="image",this.VIDEO="video",this.fileUrl="",this.fileExtension="",this.type=this.IMAGE,this.imageLoading=!0,this.showVideo=!1,this.videoAutoPlay=!1,this.showVideoControls=1,this.speed=1,this.isVideo=!1,this.alt="",this.title="",this.direction="ltr",this.ratio=!1,this.lazy=!1}ngOnChanges(e){this.imageUrl&&this.imageUrl&&this.imageUrl&&"string"==typeof this.imageUrl&&(e.imageUrl&&e.imageUrl.firstChange||this.videoAutoPlay)&&this.setUrl()}setUrl(){const e=this.imageUrl;this.imageLoading=!0,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e),this.fileExtension=e.split(".").pop().split(/\#|\?/)[0],this.imageSliderService.base64FileExtension(e)&&(hM.indexOf(this.imageSliderService.base64FileExtension(e).toLowerCase())>-1||fM.indexOf(this.imageSliderService.base64FileExtension(e).toLowerCase())>-1)&&(this.fileExtension=this.imageSliderService.base64FileExtension(e));const n=e.match(a$);if(n&&11===n[2].length)this.showVideo?(this.type=this.YOUTUBE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${n[2]}${this.videoAutoPlay?"?autoplay=1&enablejsapi=1":"?autoplay=0&enablejsapi=1"}&controls=${this.showVideoControls}`)):(this.type=this.IMAGE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://img.youtube.com/vi/${n[2]}/0.jpg`));else if(this.fileExtension&&hM.indexOf(this.fileExtension.toLowerCase())>-1)this.type=this.IMAGE;else if(this.fileExtension&&fM.indexOf(this.fileExtension.toLowerCase())>-1&&(this.type=this.VIDEO,this.videoAutoPlay&&document.getElementById(`video_${this.imageIndex}`))){const r=document.getElementById(`video_${this.imageIndex}`);setTimeout(()=>{r.play()},1e3*this.speed)}}videoClickHandler(e){e&&e.srcElement&&!this.showVideoControls&&(e.srcElement.paused?e.srcElement.play():e.srcElement.pause())}}return t.\u0275fac=function(e){return new(e||t)(M(Xv),M(ad),M(gt))},t.\u0275cmp=Xe({type:t,selectors:[["custom-img"]],inputs:{showVideo:"showVideo",videoAutoPlay:"videoAutoPlay",showVideoControls:"showVideoControls",currentImageIndex:"currentImageIndex",imageIndex:"imageIndex",speed:"speed",imageUrl:"imageUrl",isVideo:"isVideo",alt:"alt",title:"title",direction:"direction",ratio:"ratio",lazy:"lazy"},features:[gi],decls:1,vars:1,consts:[["class","custom-image-main",3,"ngClass",4,"ngIf"],[1,"custom-image-main",3,"ngClass"],["class","image",3,"ngClass","src","alt","title","load",4,"ngIf"],["class","youtube","frameborder","0","allow","autoplay","allowfullscreen","",3,"src",4,"ngIf"],["class","video","type","video/mp4","controlsList","nodownload",3,"id","ngClass","autoplay","click",4,"ngIf"],["class","invalid-msg",3,"dir",4,"ngIf"],["class","youtube-icon",4,"ngIf"],[1,"image",3,"ngClass","src","alt","title","load"],["frameborder","0","allow","autoplay","allowfullscreen","",1,"youtube",3,"src"],["type","video/mp4","controlsList","nodownload",1,"video",3,"id","ngClass","autoplay","click"],["type","video/mp4",3,"src"],[1,"invalid-msg",3,"dir"],[1,"youtube-icon"]],template:function(e,n){1&e&&pe(0,RW,6,8,"div",0),2&e&&z("ngIf",n.fileUrl)},dependencies:[So,vt],encapsulation:2}),t})(),d$=(()=>{class t{constructor(e,n,r,o){this.cdRef=e,this.sanitizer=n,this.elRef=r,this.document=o,this.totalImages=0,this.nextImageIndex=-1,this.popupWidth=1200,this.marginLeft=0,this.imageFullscreenView=!1,this.lightboxPrevDisable=!1,this.lightboxNextDisable=!1,this.showLoading=!0,this.effectStyle="none",this.speed=1,this.title="",this.currentImageIndex=0,this.images=[],this.videoAutoPlay=!1,this.direction="ltr",this.paginationShow=!1,this.infinite=!1,this.arrowKeyMove=!0,this.showVideoControls=!0,this.close=new Ye,this.prevImage=new Ye,this.nextImage=new Ye}set imageIndex(e){void 0!==e&&e>-1&&e<this.images.length&&(this.currentImageIndex=e),this.nextPrevDisable()}set show(e){this.imageFullscreenView=e,this.elRef.nativeElement.ownerDocument.body.style.overflow="",!0===e&&(this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden",this.setPopupSliderWidth())}set animationSpeed(e){e&&"number"==typeof e&&e>=.1&&e<=5&&(this.speed=e)}onResize(e){this.effectStyle="none",this.setPopupSliderWidth()}handleKeyboardEvent(e){e&&e.key&&this.arrowKeyMove&&("arrowright"===e.key.toLowerCase()&&this.nextImageLightbox(),"arrowleft"===e.key.toLowerCase()&&this.prevImageLightbox(),"escape"===e.key.toLowerCase()&&this.closeLightbox())}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.resetState()}setPopupSliderWidth(){window&&window.innerWidth&&(this.popupWidth=window.innerWidth,this.totalImages=this.images.length,"number"==typeof this.currentImageIndex&&void 0!==this.currentImageIndex&&(this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable(),setTimeout(()=>{this.showLoading=!1},500)))}closeLightbox(){this.close.emit()}prevImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex>0&&!this.lightboxPrevDisable&&(this.currentImageIndex--,this.prevImage.emit("lightbox previous"),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex<this.images.length-1&&!this.lightboxNextDisable&&(this.currentImageIndex++,this.nextImage.emit("lightbox next"),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextPrevDisable(){this.lightboxNextDisable=!0,this.lightboxPrevDisable=!0,setTimeout(()=>{this.applyButtonDisableCondition()},1e3*this.speed)}applyButtonDisableCondition(){this.lightboxNextDisable=!1,this.lightboxPrevDisable=!1,!this.infinite&&this.currentImageIndex>=this.images.length-1&&(this.lightboxNextDisable=!0),!this.infinite&&this.currentImageIndex<=0&&(this.lightboxPrevDisable=!0)}getImageData(){if(this.images&&this.images.length&&"number"==typeof this.currentImageIndex&&void 0!==this.currentImageIndex&&this.images[this.currentImageIndex]&&(this.images[this.currentImageIndex].image||this.images[this.currentImageIndex].video)){this.title=this.images[this.currentImageIndex].title||"",this.totalImages=this.images.length;for(const e in this.document.getElementsByTagName("iframe"))this.document.getElementsByTagName("iframe")[e]&&this.document.getElementsByTagName("iframe")[e].contentWindow&&this.document.getElementsByTagName("iframe")[e].contentWindow.postMessage&&this.document.getElementsByTagName("iframe")[e].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");for(const e in this.document.getElementsByTagName("video"))this.document.getElementsByTagName("video")[e]&&this.document.getElementsByTagName("video")[e].pause&&this.document.getElementsByTagName("video")[e].pause()}}resetState(){this.images=[]}swipeLightboxImg(e,n){const r=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],o=(new Date).getTime();if("start"===n)this.swipeLightboxImgCoord=r,this.swipeLightboxImgTime=o;else if("end"===n){const s=[r[0]-this.swipeLightboxImgCoord[0],r[1]-this.swipeLightboxImgCoord[1]];o-this.swipeLightboxImgTime<1e3&&Math.abs(s[0])>30&&Math.abs(s[0])>Math.abs(3*s[1])&&(s[0]<0?this.nextImageLightbox():this.prevImageLightbox())}}}return t.\u0275fac=function(e){return new(e||t)(M(zt),M(ad),M(Je),M(gt))},t.\u0275cmp=Xe({type:t,selectors:[["slider-lightbox"]],viewQuery:function(e,n){if(1&e&&(Xt(FW,5),Xt(NW,5)),2&e){let r;Ze(r=et())&&(n.lightboxDiv=r.first),Ze(r=et())&&(n.lightboxImageDiv=r.first)}},hostBindings:function(e,n){1&e&&Ae("resize",function(o){return n.onResize(o)},0,pg)("keyup",function(o){return n.handleKeyboardEvent(o)},!1,mg)},inputs:{images:"images",imageIndex:"imageIndex",show:"show",videoAutoPlay:"videoAutoPlay",direction:"direction",paginationShow:"paginationShow",animationSpeed:"animationSpeed",infinite:"infinite",arrowKeyMove:"arrowKeyMove",showVideoControls:"showVideoControls"},outputs:{close:"close",prevImage:"prevImage",nextImage:"nextImage"},decls:1,vars:1,consts:[["class","ng-image-fullscreen-view",4,"ngIf"],[1,"ng-image-fullscreen-view"],[1,"lightbox-wrapper"],[1,"close",3,"click"],[1,"lightbox-div"],["lightboxDiv",""],["class","pre-loader",4,"ngIf"],[1,"lightbox-image-main",3,"ngStyle"],["class","lightbox-image",3,"ngStyle","touchstart","touchend",4,"ngFor","ngForOf"],[1,"caption",3,"dir","ngClass"],["class","prev icons prev-icon",3,"ngClass","click",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click",4,"ngIf"],["class","popup-pagination",4,"ngIf"],[1,"pre-loader"],[1,"mnml-spinner"],[1,"lightbox-image",3,"ngStyle","touchstart","touchend"],["lightboxImageDiv",""],[1,"close-outside",3,"click"],[3,"imageUrl","isVideo","currentImageIndex","imageIndex","speed","videoAutoPlay","showVideoControls","alt","title","showVideo","direction"],[1,"prev","icons","prev-icon",3,"ngClass","click"],[1,"next","icons","next-icon",3,"ngClass","click"],[1,"popup-pagination"]],template:function(e,n){1&e&&pe(0,WW,13,16,"div",0),2&e&&z("ngIf",n.imageFullscreenView)},dependencies:[So,ei,vt,H_,pM],encapsulation:2}),t})(),f$=(()=>{class t{constructor(e,n,r,o){this.cdRef=e,this.platformId=n,this.imageSliderService=r,this.elRef=o,this.sliderMainDivWidth=0,this.imageParentDivWidth=0,this.imageObj=[],this.ligthboxImageObj=[],this.totalImages=0,this.leftPos=0,this.effectStyle="all 1s ease-in-out",this.speed=1,this.sliderPrevDisable=!1,this.sliderNextDisable=!1,this.slideImageCount=1,this.sliderImageWidth=205,this.sliderImageReceivedWidth=205,this.sliderImageHeight=200,this.sliderImageReceivedHeight=205,this.sliderImageSizeWithPadding=211,this.autoSlideCount=0,this.stopSlideOnHover=!0,this.showArrowButton=!0,this.textDirection="ltr",this.imageMargin=3,this.sliderOrderType="ASC",this.ligthboxShow=!1,this.activeImageIndex=-1,this.visiableImageIndex=0,this.infinite=!1,this.imagePopup=!0,this.images=[],this.videoAutoPlay=!1,this.paginationShow=!1,this.arrowKeyMove=!0,this.manageImageRatio=!1,this.showVideoControls=!0,this.lazyLoading=!1,this.imageClick=new Ye,this.arrowClick=new Ye,this.lightboxArrowClick=new Ye,this.lightboxClose=new Ye}set imageSize(e){e&&"object"==typeof e&&(e.hasOwnProperty("space")&&"number"==typeof e.space&&e.space>-1&&(this.imageMargin=e.space),e.hasOwnProperty("width")&&("number"==typeof e.width||"string"==typeof e.width)&&(this.sliderImageReceivedWidth=e.width),e.hasOwnProperty("height")&&("number"==typeof e.height||"string"==typeof e.height)&&(this.sliderImageReceivedHeight=e.height))}set direction(e){e&&(this.textDirection=e)}set animationSpeed(e){e&&"number"==typeof e&&e>=.1&&e<=5&&(this.speed=e,this.effectStyle=`all ${this.speed}s ease-in-out`)}set slideImage(e){e&&"number"==typeof e&&(this.slideImageCount=Math.round(e))}set autoSlide(e){e&&("number"==typeof e||"boolean"==typeof e||"object"==typeof e)&&("number"==typeof e&&e>=1&&e<=5?e=Math.round(e):"boolean"==typeof e?e=1:"object"==typeof e&&e.hasOwnProperty("interval")&&Math.round(e.interval)&&Math.round(e.interval)>=1&&Math.round(e.interval)<=5&&(this.stopSlideOnHover=!e.hasOwnProperty("stopOnHover")||e.stopOnHover,e=Math.round(e.interval)),this.autoSlideCount=1e3*e)}set showArrow(e){void 0!==e&&"boolean"==typeof e&&(this.showArrowButton=e)}set orderType(e){void 0!==e&&"string"==typeof e&&(this.sliderOrderType=e.toUpperCase())}set defaultActiveImage(e){"number"==typeof e&&e>-1&&(this.activeImageIndex=e)}onResize(e){this.setSliderWidth()}handleKeyboardEvent(e){e&&e.key&&("arrowright"===e.key.toLowerCase()&&!this.ligthboxShow&&this.arrowKeyMove&&this.next(),"arrowleft"===e.key.toLowerCase()&&!this.ligthboxShow&&this.arrowKeyMove&&this.prev(),"escape"===e.key.toLowerCase()&&this.ligthboxShow&&this.close())}ngOnInit(){if(this.infinite){this.effectStyle="none",this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount;for(let e=1;e<=this.slideImageCount;e++)this.imageObj.unshift(this.imageObj[this.imageObj.length-e])}}ngAfterViewInit(){this.setSliderWidth(),this.cdRef.detectChanges(),nd(this.platformId)&&this.imageAutoSlide()}ngOnDestroy(){this.autoSlideInterval&&clearInterval(this.autoSlideInterval),!0===this.ligthboxShow&&this.close()}ngOnChanges(e){if(e.images&&e.images.hasOwnProperty("previousValue")&&e.images.hasOwnProperty("currentValue")&&e.images.previousValue!=e.images.currentValue&&this.setSliderImages(e.images.currentValue),e&&e.imageSize){const n=e.imageSize;n&&n.previousValue&&n.currentValue&&n.previousValue.width&&n.previousValue.height&&n.currentValue.width&&n.currentValue.height&&(n.previousValue.width!==n.currentValue.width||n.previousValue.height!==n.currentValue.height)&&this.setSliderWidth()}}ngDoCheck(){this.images&&this.ligthboxImageObj&&this.images.length!==this.ligthboxImageObj.length&&this.setSliderImages(this.images)}setSliderImages(e){e&&e instanceof Array&&e.length?(e.find(r=>{if(r.hasOwnProperty("order"))return!0})&&(e=this.imageSliderService.orderArray(e,this.sliderOrderType.toUpperCase())),this.imageObj=e.map((r,o)=>(r.index=o,r)),this.ligthboxImageObj=[...this.imageObj],this.totalImages=this.imageObj.length):(this.imageObj=[],this.ligthboxImageObj=[],this.totalImages=0,this.imageParentDivWidth=0,this.activeImageIndex=0),this.setSliderWidth()}setSliderWidth(){this.sliderMain&&this.sliderMain.nativeElement&&this.sliderMain.nativeElement.offsetWidth&&(this.sliderMainDivWidth=this.sliderMain.nativeElement.offsetWidth),this.sliderMainDivWidth&&this.sliderImageReceivedWidth&&("number"==typeof this.sliderImageReceivedWidth?this.sliderImageWidth=this.sliderImageReceivedWidth:"string"==typeof this.sliderImageReceivedWidth&&(this.sliderImageReceivedWidth.indexOf("px")>=0?this.sliderImageWidth=parseFloat(this.sliderImageReceivedWidth):this.sliderImageReceivedWidth.indexOf("%")>=0?this.sliderImageWidth=+(this.sliderMainDivWidth*parseFloat(this.sliderImageReceivedWidth)/100).toFixed(2):parseFloat(this.sliderImageReceivedWidth)&&(this.sliderImageWidth=parseFloat(this.sliderImageReceivedWidth)))),nd(this.platformId)&&window&&window.innerHeight&&this.sliderImageReceivedHeight&&("number"==typeof this.sliderImageReceivedHeight?this.sliderImageHeight=this.sliderImageReceivedHeight:"string"==typeof this.sliderImageReceivedHeight&&(this.sliderImageReceivedHeight.indexOf("px")>=0?this.sliderImageHeight=parseFloat(this.sliderImageReceivedHeight):this.sliderImageReceivedHeight.indexOf("%")>=0?this.sliderImageHeight=+(window.innerHeight*parseFloat(this.sliderImageReceivedHeight)/100).toFixed(2):parseFloat(this.sliderImageReceivedHeight)&&(this.sliderImageHeight=parseFloat(this.sliderImageReceivedHeight)))),this.sliderImageSizeWithPadding=this.sliderImageWidth+2*this.imageMargin,this.imageParentDivWidth=this.imageObj.length*this.sliderImageSizeWithPadding,this.imageDiv&&this.imageDiv.nativeElement&&this.imageDiv.nativeElement.offsetWidth&&(this.leftPos=this.infinite?-1*this.sliderImageSizeWithPadding*this.slideImageCount:0-(this.sliderImageSizeWithPadding*this.visiableImageIndex+2*this.imageMargin)),this.nextPrevSliderButtonDisable()}imageOnClick(e){this.activeImageIndex=e,this.imagePopup&&this.showLightbox(),this.imageClick.emit(e)}imageAutoSlide(){this.infinite&&this.autoSlideCount&&!this.ligthboxShow&&(this.autoSlideInterval=setInterval(()=>{this.next()},this.autoSlideCount))}imageMouseEnterHandler(){this.infinite&&this.autoSlideCount&&this.autoSlideInterval&&clearInterval(this.autoSlideInterval)}prev(){this.sliderPrevDisable||(this.infinite?this.infinitePrevImg():this.prevImg(),this.sliderArrowDisableTeam("previous"),this.getVisiableIndex())}next(){this.sliderNextDisable||(this.infinite?this.infiniteNextImg():this.nextImg(),this.sliderArrowDisableTeam("next"),this.getVisiableIndex())}prevImg(){0>=this.leftPos+this.sliderImageSizeWithPadding*this.slideImageCount?this.leftPos+=this.sliderImageSizeWithPadding*this.slideImageCount:this.leftPos=0}nextImg(){this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth>this.sliderImageSizeWithPadding*this.slideImageCount?this.leftPos-=this.sliderImageSizeWithPadding*this.slideImageCount:this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth>0&&(this.leftPos-=this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth)}infinitePrevImg(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.leftPos=0,setTimeout(()=>{this.effectStyle="none",this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount;for(let e=0;e<this.slideImageCount;e++)this.imageObj.unshift(this.imageObj[this.imageObj.length-this.slideImageCount-1]),this.imageObj.pop()},1e3*this.speed)}infiniteNextImg(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.leftPos=-2*this.sliderImageSizeWithPadding*this.slideImageCount,setTimeout(()=>{this.effectStyle="none";for(let e=0;e<this.slideImageCount;e++)this.imageObj.push(this.imageObj[this.slideImageCount]),this.imageObj.shift();this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount},1e3*this.speed)}getVisiableIndex(){const e=Math.round((Math.abs(this.leftPos)+this.sliderImageWidth)/this.sliderImageWidth);this.imageObj[e-1]&&void 0!==this.imageObj[e-1].index&&(this.visiableImageIndex=this.imageObj[e-1].index)}sliderArrowDisableTeam(e){this.sliderNextDisable=!0,this.sliderPrevDisable=!0,setTimeout(()=>{this.nextPrevSliderButtonDisable(e)},1e3*this.speed)}nextPrevSliderButtonDisable(e){this.sliderNextDisable=!1,this.sliderPrevDisable=!1;const n={};this.infinite||(this.imageParentDivWidth+this.leftPos<=this.sliderMainDivWidth&&(this.sliderNextDisable=!0),this.leftPos>=0&&(this.sliderPrevDisable=!0),n.prevDisable=this.sliderPrevDisable,n.nextDisable=this.sliderNextDisable),e&&this.arrowClick.emit({action:e,...n})}showLightbox(){this.imageObj.length&&(this.imageMouseEnterHandler(),this.ligthboxShow=!0,this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden")}close(){this.ligthboxShow=!1,this.elRef.nativeElement.ownerDocument.body.style.overflow="",this.lightboxClose.emit(),this.imageAutoSlide()}lightboxArrowClickHandler(e){this.lightboxArrowClick.emit(e)}swipe(e,n){const r=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],o=(new Date).getTime();if("start"===n)this.swipeCoord=r,this.swipeTime=o;else if("end"===n){const s=[r[0]-this.swipeCoord[0],r[1]-this.swipeCoord[1]];o-this.swipeTime<1e3&&Math.abs(s[0])>30&&Math.abs(s[0])>Math.abs(3*s[1])&&(s[0]<0?this.next():this.prev())}}}return t.\u0275fac=function(e){return new(e||t)(M(zt),M(Js),M(Xv),M(Je))},t.\u0275cmp=Xe({type:t,selectors:[["ng-image-slider"]],viewQuery:function(e,n){if(1&e&&(Xt($W,5),Xt(YW,5)),2&e){let r;Ze(r=et())&&(n.sliderMain=r.first),Ze(r=et())&&(n.imageDiv=r.first)}},hostBindings:function(e,n){1&e&&Ae("resize",function(o){return n.onResize(o)},0,pg)("keyup",function(o){return n.handleKeyboardEvent(o)},!1,mg)},inputs:{imageSize:"imageSize",infinite:"infinite",imagePopup:"imagePopup",direction:"direction",animationSpeed:"animationSpeed",images:"images",slideImage:"slideImage",autoSlide:"autoSlide",showArrow:"showArrow",orderType:"orderType",videoAutoPlay:"videoAutoPlay",paginationShow:"paginationShow",arrowKeyMove:"arrowKeyMove",manageImageRatio:"manageImageRatio",showVideoControls:"showVideoControls",defaultActiveImage:"defaultActiveImage",lazyLoading:"lazyLoading"},outputs:{imageClick:"imageClick",arrowClick:"arrowClick",lightboxArrowClick:"lightboxArrowClick",lightboxClose:"lightboxClose"},features:[gi],decls:10,vars:12,consts:[[1,"ng-image-slider",3,"ngStyle"],[1,"ng-image-slider-container"],[1,"main",3,"ngStyle"],["sliderMain",""],["class","main-inner",3,"ngClass","ngStyle","touchstart","touchend",4,"ngIf"],["class","ng-image-slider-error",4,"ngIf"],["class","prev icons prev-icon",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],["class","ng-main-pagination",4,"ngIf"],[4,"ngIf"],[1,"main-inner",3,"ngClass","ngStyle","touchstart","touchend"],["class","img-div",3,"ngClass","ngStyle","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"img-div",3,"ngClass","ngStyle","click","mouseenter","mouseleave"],["imageDiv",""],[3,"imageUrl","isVideo","alt","title","direction","ratio","lazy"],["class","caption",3,"dir",4,"ngIf"],[1,"caption",3,"dir"],[1,"ng-image-slider-error"],[1,"ng-image-slider-loader"],[1,"prev","icons","prev-icon",3,"ngClass","click","mouseenter","mouseleave"],[1,"next","icons","next-icon",3,"ngClass","click","mouseenter","mouseleave"],[1,"ng-main-pagination"],[3,"paginationShow","showVideoControls","arrowKeyMove","images","infinite","animationSpeed","imageIndex","show","direction","videoAutoPlay","prevImage","nextImage","close"]],template:function(e,n){1&e&&(O(0,"div",0)(1,"div",1)(2,"div",2,3),pe(4,e$,2,9,"div",4),pe(5,t$,2,0,"div",5),pe(6,i$,2,3,"a",6),pe(7,n$,2,3,"a",7),N(),pe(8,r$,2,2,"div",8),N()(),pe(9,o$,2,10,"div",9)),2&e&&(z("ngStyle",Lt(8,dM,n.sliderImageHeight+"px")),j(2),z("ngStyle",Lt(10,dM,n.sliderImageHeight+"px")),j(2),z("ngIf",n.imageObj.length),j(1),z("ngIf",!n.imageObj.length),j(1),z("ngIf",n.showArrowButton&&n.imageObj.length>1),j(1),z("ngIf",n.showArrowButton&&n.imageObj.length>1),j(1),z("ngIf",n.imageObj.length&&n.paginationShow),j(1),z("ngIf",n.ligthboxShow))},dependencies:[So,ei,vt,H_,pM,d$],styles:[".ng-image-slider{display:inline-block;position:relative;width:100%}.ng-image-slider .ng-image-slider-container .main{overflow:hidden;position:absolute;height:200px;width:100%}.ng-image-slider .ng-image-slider-container .main .main-inner{width:1760px;padding:0;height:100%}.ng-image-slider .ng-image-slider-container .main .main-inner.with-ng-main-pagination{height:calc(100% - 30px)}.ng-image-slider .ng-image-slider-container .main .main-inner .full-screen{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAF+klEQVRoge2Yz28UyRXHv6+q50d7ftqDl42wrU1QFIXVkuAZD5pEzoYrihIhuERw2D8gl1UOKFeiaBfBIZGQIkVKGHGIQHsmspQoillgBfE4vpgQy4pFTIAdPB6Pe365u7peDsx4Z8z0/GDtS3Y+Uh+66vWr963u11X1gCFDhgz5qiEymYy5X86oW2c6nU4w8zcAxJhZaa2tZh8zK8MwLK11XAgRdF3360KIdxYWFn7VzWcqlfoJM38C4B8ASgC2WrpNZg4CgBCCAPiYeZOIfrOwsPC3Tv4Mr4GOHz8ecl13JRQKfS6ldJVSkpnJcZwQABARGYZRJiImIg4Gg/VCoTABoKsAZqZIJPKvy5cvjxQKBVEqlcJ7bUzTlOFw2ACA27dv6/n5+Z8BGEyAaZphpZR/fn7+290CavLkyZMnZ8+eVb3smNk1DEOl0+nv9uM3n89/dufOnddENvEUoJQ6YhjGFgDPhzugexkIIfxCiJ52TY4ePRoBEPDq9xTAzEoI4fY7UDAY9HUbqMVvvVwux69du/ZpIpEw4vG4b2JiInL48OF4IpEYk1L6Wu2LxeIOM5ffREBJKRXa237z5s17d+/edV6+fGmUSqVAtVoNO44TUkpFiejTXgLq9fqfiegP169f/xYRjTHzKBFpAAzAPX369L1Lly79sGlfKBRsIrK8/HUVoLWOtLY9f/786dWrV98D8DEzbwghiq7rFqWUm1LKlw8ePPhvLwHLy8s2PBJ9enr6R/fv3/9la9vm5qZi5uLAApaWlraTyaTftm3H7/f7AMC2bReAlcvlPuoV6JsghBBSyrb8KBaLmog8BYgu/jSAsmVZu9+fbdsKQN95MShEVK3Vam15VKlUGEDN6xnPN9BAK6V2f42FQqECQH6pKLuglKo015m9cXg900sAM/PuzdbW1g5eJduBIIQoa60H2mb0EtBGuVxW6PI6vyxSyrLruv7WNq01iMhz0np+Qo8ePVq3bbsOACsrK1Uiqu5DrF5sA4icOXPms3A47FarVfnixYtJZvZc4btu5qanp28Q0ffxSmgAwCYz/25xcfHX+xv3F8zMzHxPa/1NZg4IIbYBOMz8l1wuVzqoMYcMGTLkK0zXdeDkyZMTWmu/67phrXXNcZzny8vLnoeL/eDEiRM/kFJ+wMzNk6AiomWvYoGngFQq9VNm/r1hGBtSSsd1XZ9SalxKeezhw4drBxI9gGQy+dvJycnvnDt3jqWUtLGxobLZ7GypVAqurq7u7LXvdqB569ixYw9v3LjxfrMtk8msKaXGARyYACIKz87O2ufPn38feLUXymaznvbdzgOvYRiGo7Ue5JA/MMwcCoVCr30Z4+PjHWPtKoCI2hwZhmELIQ5UAIBwLBbre5fsKYCZCXv2/qZp1luS60Bg5lAikdjdUjfmkCuVysBvwBcIBNoEhMNhh5k7nZj2DSIKRCIRX8s9AFRM0+w4cZ6vioii8Xi8TQAzY5CiVD9kMhmzXq+PGoYx6rruGICo67qVVhshhLWzsxMF8Pne57t9a7FYLNaWA1NTU/ba2tovpqenf0xERSIqNkoeRQD/zuVyf0IfR85UKvUhM38IYNy27aAQoiaE2BgZGdmampp6kU6n0632Pp+vqpSKdfLVVcDo6GibgCtXrszmcrl/Pnv27O319fXRp0+futvb22RZllhZWXknmUz+PJfLfdJLADN/cPHixfVTp04FI5EIBwIBE8Bk43oNv99fq9VqgwsYGxtr6xdCiJmZmXc7GV+4cOHe48eP3+4VfAN15MiRkUOHDo33YyyldKWUHXPAM4mJqJ7P53tWm5s4jiPQ/4Gfte4/larVahTAfzr1dVuJC/l8/i3LsrZ1YzTLsqpa693CVjQaDRGRME0z2Kgc9Pv/ltlsdvvWrVvzlmV1nES/369N0wQzw7bt48zcsT7a7S/017m5uTNzc3NBAH4AFQCtNZsKgHqjzQcgxcx/7FPA35eWlhSA1Ubl2Wn4aI4tAUQbt1Vm/mhxcXG1T99vhEgmkyeTyeTXDnKQIUOG/B/yP/QEm5iXakbiAAAAAElFTkSuQmCC);background-size:40px 40px;background-repeat:no-repeat;position:absolute;z-index:8;display:block;height:40px;width:40px;top:4px;right:8px;opacity:.4;transition:all .5s ease-in-out;cursor:pointer}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:205px;height:100%;margin-right:3px;margin-left:3px;position:relative;display:inline-block;box-shadow:inset 0 0 1px #0000003d,0 0 2px #0000001f;border-radius:5px}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div.image-popup{cursor:pointer}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div img,.ng-image-slider .ng-image-slider-container .main .main-inner .img-div video{position:absolute;margin:auto;height:100%;width:100%;inset:0;border-radius:5px}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div img.ratio,.ng-image-slider .ng-image-slider-container .main .main-inner .img-div video.ratio{width:auto;height:auto;max-width:100%;max-height:100%}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .youtube-icon{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAC0CAMAAADSOgUjAAAAA3NCSVQICAjb4U/gAAAC9FBMVEX///+vr6+lpaWPj498fHx4eHh2dnZ0dHRvb29sbGxqampmZmZiYmJeXl5aWlpYWFhUVFRSUlJQUFBMTExKSkpISEhERERCQkJAQEA+Pj44ODg2NjYzMzMwMDAuLi4sLCwqKiooKCgkJCQiIiIgICAYGBgUFBQSEhIODg4MDAwKCgoICAgGBgYEBAQAAADj4+PV1dXBwcG/v7+9vb23t7ezs7Ovr6+rq6ulpaWhoaGPj4+Li4uJiYmHh4eDg4OBgYF+fn58fHx4eHhycnJvb29sbGxmZmZiYmJeXl5aWlpWVlZUVFRSUlJQUFBOTk5KSkpISEhGRkZERERCQkI+Pj47Ozs4ODg2NjYzMzMwMDAuLi4oKCgkJCQiIiIgICAeHh4cHBwUFBQSEhIODg4ICAgEBAQAAADl5eWrq6unp6ejo6OhoaGdnZ2ZmZmVlZWTk5OPj4+Li4uJiYmHh4eBgYF+fn58fHx4eHh0dHRycnJsbGxqampmZmZiYmJWVlYiIiIaGhoAAADMzMzDw8PBwcG/v7+9vb27u7u5ubm3t7e1tbWzs7OxsbGvr6+tra2pqamnp6elpaWhoaGfn5+dnZ2ZmZmVlZWTk5ORkZGJiYlISEjv7+/p6enj4+PT09PPz8/MzMzJycnHx8fFxcXDw8PBwcG/v7+9vb27u7u5ubm3t7ezs7Ovr6+Li4vf39/Z2dnX19fV1dXT09PR0dHPz8/MzMzJycnHx8e9vb3t7e3l5eXj4+Pf39/d3d3b29vZ2dnX19fV1dXT09PR0dHPz8/MzMzp6enn5+fl5eXj4+Ph4eHf39/d3d3X19fT09O9vb3v7+/t7e3r6+vp6enn5+fl5eXj4+Pf39/Z2dnT09PHx8f19fXz8/Px8fHv7+/t7e3r6+vp6enn5+fl5eXj4+P5+fn39/f19fXz8/Px8fHv7+/t7e3f39/7+/v5+fn39/f19fXz8/Px8fHv7+/////7+/v5+fn39/fz8/P////7+/v///9a1shPAAAA/HRSTlMAERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERESIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzRERERERERERERERERERERERERERERERERFVVVVVVVVVVVVVVVVVVVVVVVVVmZmZmZmZmZmZmZnd3d3d3d3d3d3d3d3eIiIiIiIiIiIiImZmZmZmZmZmZmZmqqqqqqqqqqqqqu7u7u7u7u7vMzMzMzMzM3d3d3d3u7v9/AAjkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAFnRFWHRDcmVhdGlvbiBUaW1lADA2LzEyLzE09BLGOQAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAA/MSURBVHic7Z15fBTlGcenhz20rbWXKHhU5RDhra22ilal0IpC1VJb1IKlVpmiRUBiuBEBFWIQMXgfAUtIREAIgciVBIpCLjUXeITdRITsJrqHurPp7PzTea+59pjZza7JOzu/z8eoO7PvO893n+d933nned/hOEeOHDly5MiRI0eOHDly5MiRI0eOsAAAvX0JbApAdFpxDkirAonU2xfX15UQngMxsSzBcyDGU1L4HIRGmQByECZUTDLg+1f/+pe/+JesSy+/8rvngpgnOgy5KCryJ6OWvvRyXbPbGwx2h8Pd3YGgx9VWve+lV6YOiQM7m2Xk8WDh7gaPPyJCSaKEJGIJgWMNe/KnOAg10nEAY/P3tfoEUVWISPOJ4G/cmTPJQYikY/D7R/d0aLmJemk/CzVsnfFDB6HW/u9N3+cRJcJJyy0SiRgxouD2NRZfmeUINaYPyGsSZHwqvJAQCLpr6g8eLC8p2bjhrbf217Z4A35B64uS6Cmdms0ENU3fskbofBSf4GmvK189lzd2FROe23ig2uXXOqK/YjqXpQQ1Ri9zK/gkMdxWWZhLDvE64c/uzN9W97ncNxOEUqBqdFYiVC0ecUjANEKSFOp6a/nYKHIGjBy4YtPRIA14SQpuzcIwVg1+w6/Eo7d29WgDPeX/tB/L51wwq7wlRBFGGvOyjKBq7fJW3J5BfG8u0NIzNoD6qJb/647n63z0y769t2QTQsXQG/eGCAHBU3SbSicePcKQnAemzD7sRwjlPx1Z5ISKmf92YXxS5Nha1fcSwjM6Yu7hIAlk4b9naDsmG0sxcq1fwm3Y59sBlxQ+FSHgprVEJPwzNF+ZFQSphT/bE8H8hNoxHEgOnhYi4Io6CcHgo+qh3jYzY6L2XdtIwte7SfGm5IUJjqsP4bKEnUBpP3vb0AyJWvcrL/GalpHx8RkeY0Y95lQQgtcDuLhQpc0JUtuWEYOF8v5x+MUtwUgRf3t6Gy5QrLE1QWr0I6j7kId+BTHxWS5H44Q/rYpgl27qb70c1kQNy/Nhb2keE6PzSLIsihCAInRLI0qN/exKkFr1BOFXMymKXyrlKU6Yj9oFuVm90KZRTGy6l/CrB0Z+KZaoELzPgwiKtUo7mAErek/EpBEeSe4tRfEg7UF7FG/6MH7Ai9vWCq5HhfZNEYtOd2MveTst/IwE53YigpF19msGqUHV+Obf6H9pKBkRzMU+GH7Cds0gsWY75lefPn4GgjOCiKDnOpu5IDFmqYD4HRmq45em0jHB/DCqoukiWxEktlzzBXIP923p5acjyK3FP9J+O3Uk1JQW1IH4Z6abn94HK1EzEV5uI4LEkPW4ASzW8kt3HXLBk9vgQFPqvNA2AIkdN5xENwq1GeGnJZjrQxUdTE8f1QdErDiMHKNrHMgIPy3BjcjVhedsApAYgXtg4akMOaAWIKhBd4uNU+wxGMQ2DIZPkETxQMb4aQnmBOGPFVpvi3tiYkIhnK+Tum7KVACrVUGC/0FB3HqHHQhiCy6Ed6liZFMm+akEQb+PYXXiVo59gMQA6BKi1AwsAkzRYtUFn0Utrqcf8y5ITOrnhh4hFHAW+CmjjxSsVlwQHJUH7WLkVY71foRcfQlqkxo0PYjZV1KEqLjg09AFJfclrLsgvvpT25ADrjYPYDC4ZwRVF2yGLii+lro39w3hq39UdUATfuC03btP6QlCSpB7DE7LSG2MA8QXP6AFpSGYO6B84Dut0smt3wAGJVuj7ILDYe4D8nqWCeJrH4FuTt13W+AHftIqieLJslFA22GnRLBYgB1//TCWXZBcehmK4F3AAj9w1jEJ5vt53p5vfGqXXKXyFztgrR0jWQ5ifOXnozFMYJElgP1d+Mma9MWBkakhVFxwG5o9W84wQHLl02EES/XAZAiDj53jRh4Is8e/rJpvTP1IolqefwjGsFh3FrsEyXWXotuqzdYAnteGAaI1D1+886Ix8dJytfKXGqELBq5lHeCwJuiA3pGWIhhMxABp6nnw3YeSRqjEcDmak1nJbj+Mr/sPfhiQ7w8GJjch2OpJFCBF6H930T1JIqQAn0cxXHExqwCJuXloIrDYzAE5HHeT2hWAdPVS97uz/2lMg7NSMRgPey/J9VdWY5hcdgUEGLzMUgTz/N8/1gDEEEUp/OELyQSyclIVbH39sxkH6IIO2D7eLNkiHkD8KA8itJ7NRc/YRJ2fZYATYBMoVlmKYPmkydEAEUGp+4MXLCfE0eMzAzCGqxgFSIx40gcBFnLWmkD+H8ejASoInzF6YeKqwSloFqglvQ/xvzKRa94G0wH9eRb7kDgA0dBaRvh+gbW2kBwcWgPntLx/YRrgIWi7Z4HZIMYUIF4TFz6+ZYoFhPTYTli5bw7TABugDW2g5wAJQuGTZyfqEcatG4AV6EtPs9kI4mse5oamN5tGsBWAdGHxic1m+V34c567NAxDv4RlgNd7rXXCCsBPEgAkjaEUObFJhzBO3QBcHiRP85kFyE0NQJvLTSOYAnzYFCAaWkdOFE9JNDtBAI5E+RA1TLaB5JKXwWGg8Fo6AWKE4sdv8vHXMxBi49vh6S2ARYLkigvhDb2wCpiOxZIBiOcZIl27JsYplFY2tAWe3chkyjm54lcgQP/z5iYkBZB0J5HOdadzCQnWwhA+Zu7/fVDkil+OQIC56Q1hJZBFsWPbt7gY5VKAaCbDwy5AnnsJAZybbg9UA1n0vfGD+ABhwrTYweTaLy3AwMKMACQT/w2/iQ+wCgI8ybwHZgygjK/r5UQhvF8PkCGCgABEbWBgTiYAoh0/tp4fsxfRhbCHxWXsOoD+B9MOELV/4XfmcKTkmNUrnQiDAPXDmOfSP4yR/7y/hY/XulGA7A9jlqKB9JPpBYjwfbplsTopE7t2ANBA2s0yQHwrtzHN98Ki+OWuxfyS+PmahN+ZTfALLSwDVCYT0uWBqPH733sv8ksS8KMAr0OTCbUMAwQ3oOmsynTdCyN83R9CfEt4UwcEl+mns1gECNCE6mEuPSGMBs6fbVmyJDE/xf/xhOoGJgFGTemnASDk9+nmJUZ+8QGugIMocQ2Ld3LKrQh+qLTI1AksAJTx4caP4DPjB0A5SvOdyzBAwJXCcYwv3yrAeFP6eKu8jxZFu1+Ch0oDq+FjTc94lgGCVYYH64lOjwsQz/6d2KLBl7BXIoe+iXJjm6ew2Amrs+o+/FTJzAsowFhP5RC+Ty3jU+p+QJ/awSZA4III2m/tAUA0cH7vYWvRq617U0iXXMQowAqUaHu5leysWADxwPkj3HdYw6fOxaD0tlxGAaoJlhBBkcX0NgNAPGX64bxY0WsK8M8owdI9kc0+RDFjIUrxrbvYxAzigZMNAOV/Pkui8dPVPAst8KkbyqgDUjPuQUnmnaNNXJB4oC4/ELrul5sXJ9H4aSsG61GS+WZWI1ixAy1zMLWDAFQyVEN01iCp4NXWfDda5hC8ilmAlCBeultnJUuf5+9sp+tE4A7xusbPIj2l3vloAHX0bDZHgVDEkP5oONthdjeHAU6iAOWR3ydJN36aaulSrxJ2HVCJYbzY0MwSbDZeJ4JmnHelhE+tthWNn5gdxHCqJfehHSDaEsw+qWfDlUrocdvbt8cY+VmCgH8JLk+gS/SYBUgJ/vwI2jb/mcS+gA+dCz1QEj6YzfOp4aOV4nk0YQ2Ts9FU1PDlKIYbTWxBh85xS6J4HKbjk9hNeqM84oBT8ZL/gQxHMKcQnIB3PVlpwQXPapW8JbcBnk8Rn/KjHUL7nhQz7YDaIS3sFw6ZtEfwwI8O7fl2D/ApAXxfN3T6rrsYB0jt+Rtchy6G8xPvgwMPDBwEtG9OSjr86DfQVGpknfmzmD4uCmC9svWTaRBHK/n6QAHq+DtvYt0BlUHtALz52EoTj+ghPqWAwU1olfx20wVmfV+EILdORFsxDbAymk4Zn+LwG1C33zGWeQdUXfDMY+jGaoe1hf+p4VO+PMqDRuNFTA+iqagLrsBbgN5vYVyWss0UYI1Eb32Yd0DFKB4cQpvQuq/P3MiW8ivCm9A+bQsHVIN4rh+/7eOSTBGkFc0MoBSG/Wb7rLAixQXfRI4R2pAhx6D+d44bb8Q9xiYOqFo25CjeCn52ZlyQlrkX9ffC47bhp7rgOPy+FJfZWKYntXDrI6il2Gllt1FWRAlyq/CbFjLx8jda3jQBDaGPDLGPA2pckCsV6bsqkp8msFAD4K4jL2S5MbP7LX/VUggOasYEd6SXIC0KjEIvKhWFAnvx0xC81YUJbgdpJKjwG+PCr7wqsxs/DcHpHpztUnqxSrBnRiqlgDkuXPY++/FTAPJguR9bWTkoPQTVMmaS36ZmeMLsVUZFzZQJhvEmnzUXaF+m3sNi5QLWBPDzvCN3pTKT3fcVRVBqPoNL9olb/EK5R7pxqccvALbkp4libiMh6L6XS23eXl8i6o/eiOAym86wYQOIpfGWFYRgYC3QhnFKk89Io5tIJubRHwN7BjCUhuDjHST95fBYoFeSZWE91kH41d9uY34agjyY6SYmux4fYkBoOfuKnn5zpYALE0oHpfQolB1pCN5cHSFWV/xWH8cmthtxD1t6jPwWQd0b6+zIT9/sl/nxi+Ulz9oBRiqYgJ5B1PvpkabWRsj76dtzU9x9nylpCHJPdRGCYvuG2HQSSmbFXVNJfwWhMtW3FzAm1X4ejKuLUIRtxUM4wBsjOSE+jrt2b5Am8n/+WJbw0xMEhV6JbBYdcRUO5KLawvjiuHv3BET8bUmsuUrX/NmZn54g97t6ge63HfHuzrHugYUNAYmmUneWDM8ifjqCPLhkTWOIbuIk+lvL5k02ZTd8QsGeDoEuYhL9ZTeBrOKnHYlAs+8uaY0oNERfY9mqBefHp/enGRtqO0Kiiq96oQGf/flxRoRgnSuixKMohTzNFa+ufuBrp1Ec6N8Xff2KGa+V1rh9dBEJ7HsCh3Os729uKwEdQg4sawyTHgHtuS2Jgt/bVFtRVlael59XvGPHgbpqd9APX9OiniR6D9zPGbwvW/gZfFDuTcC0eq/MhDoXhCjpVm1K6AN6VJTCbUU301TMLOTHGZ1Q/vvHotqAssqLcNIv3FQ+FdwHCkDU1vpZhY/T39USENNer/MIouJqRkHPE0P+9p0rx8XAl238jPMCGMfgES/srHYHQqIkGiVz9XmbKjZffWoselnIjzMgVNqz8ybMW/Xq/pomb4ffBycNI4Lf73W11JeVPDvu7GFKDjqf9fig9E6kzc/n77r1oQXzcmbl5MyaPX/hLbfz2hOSmP+yvUCUYkJS145E3zD3tgm9rWiEOl58InYOPqRYXBBGQDvouPM0vX3pfUXx+Jioty+7T8mh12M5+NIgB14a5MBLhxx2aZIDzpEjR44cOXLkyJEjR44cOXLkyJGjdOr/ODCzC5DKTiMAAAAASUVORK5CYII=);background-size:140px 80px;background-repeat:no-repeat;position:absolute;z-index:6;display:block;height:100%;width:100%;top:0;left:0;background-position:center center}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .caption{position:absolute;bottom:0;padding:5px;color:#fff;background-image:linear-gradient(to right,rgba(0,0,0,.1),rgba(0,0,0,.25),rgba(0,0,0,.5),rgba(0,0,0,.25),rgba(0,0,0,.1));width:100%;text-align:center;box-sizing:border-box;border-radius:0 0 5px 5px}.ng-image-slider .ng-image-slider-container .main .main-inner:hover .full-screen{transition:all .5s ease-in-out;opacity:1}.ng-image-slider .ng-image-slider-container .main .next,.ng-image-slider .ng-image-slider-container .main .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;outline:0;width:35px;height:35px;font-size:35px;line-height:30px;z-index:8;transition:all .5s ease-in-out;text-align:center}.ng-image-slider .ng-image-slider-container .main .next:hover,.ng-image-slider .ng-image-slider-container .main .prev:hover{background-color:#d4cdcd;background-position:-192px -415px}.ng-image-slider .ng-image-slider-container .main .next.disable,.ng-image-slider .ng-image-slider-container .main .prev.disable{color:#bbb;background-color:#fff;opacity:.5;cursor:default}.ng-image-slider .ng-image-slider-container .main .prev{left:10px}.ng-image-slider .ng-image-slider-container .main .prev:hover{background-position:-194px -450px}.ng-image-slider .ng-image-slider-container .ng-main-pagination{background-color:inherit;color:inherit;position:absolute;height:30px;width:calc(100% - 6px);text-align:center;bottom:0;font-size:16px;line-height:30px;border-radius:0 0 5px 5px;margin:0 3px}.ng-image-slider .ng-image-slider-error{height:100%;position:relative;display:flex;justify-content:center;align-items:center}.ng-image-slider .ng-image-slider-error .ng-image-slider-loader{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;background-size:25px 25px;width:25px;height:25px}.close-outside{height:100%;width:100%;position:absolute;top:0;left:0}@media (max-width: 1199px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:170px;max-width:100%}}@media (max-width: 991px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:297px;max-width:100%}}@media (max-width: 768px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:247px;max-width:100%}}@media (max-width: 576px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:350px;max-width:100%}}.ng-image-fullscreen-view{position:fixed;z-index:1031;background-color:#0009;width:100%;height:100%;top:0;overflow:hidden;transition:all .5s ease-in-out;left:0;text-align:center}.ng-image-fullscreen-view.image-fullview-hide{display:none!important}.ng-image-fullscreen-view .lightbox-wrapper{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#1f1f1f;transition:all .5s ease;display:flex;justify-content:center;align-items:center}.ng-image-fullscreen-view .lightbox-wrapper.ng-ligthbox-pagination{height:calc(100% - 30px)}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div{width:100%;height:100%;border:1px solid;border-color:#00000059;position:relative;overflow:hidden}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader{background-color:inherit;width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader .mnml-spinner{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main{display:grid;grid-template-columns:repeat(6,1fr);grid-template-rows:100%;grid-column-gap:0px;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image{width:1299px;height:100%;position:relative}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main.ng-fullimage-loading{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-show{opacity:1;display:block}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-hide{opacity:0;display:none}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main{width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main img{transition:all .5s ease-in-out;width:auto;height:auto;max-height:100%;max-width:100%;position:absolute;z-index:11;margin:auto;inset:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main iframe{inset:0;margin:auto;width:100%;height:100%;border:0;position:absolute}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main video{inset:0;margin:auto;width:100%;height:100%;border:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption{position:absolute;z-index:11;top:0;margin:auto;padding:5px;color:#fff;background-color:#00000059;max-width:100%;left:0;right:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.show{display:block}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.hide{display:none}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;width:38px;height:38px;font-size:35px;z-index:12;line-height:30px;outline:0;color:#000;transition:all .3s ease-in-out}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next:hover,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev:hover{background-color:#d4cdcd}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next.disable,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev.disable{color:#bbb;background-color:#fff}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{left:10px}.ng-image-fullscreen-view .lightbox-wrapper .close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQK0lEQVRYCQEgEN/vAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjLuvr60L8/Pwz/Pz8HAQEBBYAAAAA/Pz86gQEBOQEBATPFRUVvt3d3dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPT09DNPT02T4+Php/v7+FgQEBLwBAQHHCAgI4AQEBO4AAAAA/Pz8Evn5+SD+/v43/Pz8RAICAu4ICAiZKysrmsXFxfIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVFRVcBQUF5wkJCcEYGBhOZGRkBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY2NjBBgYGEwJCQm9BgYG6xQUFGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMTExDgwMDK0FBQXhGBgYSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRkZRgYGBt8LCwuvLCwsDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuLi4WBwcH0QsLC7EzMzMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADU1NQ4LCwutBwcH0ygoKBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMA4ICAjRDQ0NnWxsbAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABycnICDQ0NlwcHB9UqKioQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsLC7ELCwuvcHBwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAd3d3AgwMDKkLCwu3d3d3AgAAAAAAAAAAAAAAAAAAAAAAFBQUYgYGBt01NTUOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADk5OQwGBgbZFBQUagAAAAAAAAAAAAAAAAA3NzcQBgYG6xoaGkQAAAAAAAAAAAAAAAAAAAAACAgIkQMDA/sHBweZPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB5kDAwP7CAgIkwAAAAAAAAAAAAAAAAAAAAAaGho8BgYG7zIyMhQAAAAAAAAAAAAODg56CgoKuQAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAACQkJsQ4ODoEAAAAAAHNzcwIHBwfjHBwcRAAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmwAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAHh4ePgYGBudqamoEACAgIDwGBgblbW1tAgAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcHB98cHBxCAA4ODn4LCwudAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQ/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDJcNDQ2FAAoKCrESEhJoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6MHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABISEmIICAi1AAkJCdUZGRlEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0dHT4JCQnbAAUFBeElJSUyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ODiQCAgLjAv///wD+/v7+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUFBQAAAAD+AAAAAAAAAAAAAAAAAAAAAAAAAP4FBQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/v4AAAACAAoKCtkcHBxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMjIzwJCQnfAAgICLcTExNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6UHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEFgHBwe7AA0NDYkMDAyTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQ6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDI0NDQ2PABcXF0YICAjZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICNMVFRVOAFtbWwYFBQXtIiIiMgAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmQAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAJSUlLAYGBvFLS0sIAAAAAAAMDAyPCwsLowAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAADAwMnQwMDJUAAAAAAAAAAAAnJyccBQUF8x8fHy4AAAAAAAAAAAAAAAAAAAAACAgIkwICAv0HBwebOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB5sCAgL9CAgIlQAAAAAAAAAAAAAAAAAAAAAhISEoBQUF9SgoKCAAAAAAAAAAAAAAAAAAEBAQfggICMlaWloEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGpqagQJCQnDDw8PhQAAAAAAAAAAAAAAAAAAAAAASkpKBggICMsPDw+PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8PD4cICAjPPz8/CAAAAAAAAAAAAAAAAAAAAAAAAAAAACIiIh4GBgbnEBAQcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAExMTbgYGBukhISEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaGhooBgYG5xAQEItoaGgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwcAQPDw+FBQUF6RkZGSwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjIAgICM8JCQnDICAgJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjJAkJCb8HBwfRISEhIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFBQQgODg6HBQUF9QwMDJcmJiYmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYmJiIMDAyTBQUF9Q4ODo1BQUEKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIiJOnp6Xf7+/taAgIC1AUFBbgLCwvLDg4O3DExMfYAAAD+0NDQDPLy8iT09PQy+/v7R/7+/jAFBQWoGBgYid3d3doAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3NzcM3t7eTvX19UH///8y/f39HgICAhQAAAAA/v7+7gMDA+ABAQHQCgoKvScnJ7TFxcXyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAx6aIH59j4jkAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center center;background-size:32px;position:absolute;top:10px;right:10px;color:#000;background-color:#fff;padding:0;opacity:1;border-radius:50%;height:36px;width:36px;z-index:12;cursor:pointer;transition:all .2s ease}.ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}.ng-image-fullscreen-view .invalid-msg{color:#fff;font-size:18px;position:absolute;top:45%;left:45%}.ng-image-fullscreen-view .popup-pagination{background-color:#1f1f1f;color:#fff;position:absolute;height:30px;width:100%;text-align:center;bottom:0;font-size:16px;line-height:30px}@media (max-width: 768px){.ng-image-fullscreen-view .lightbox-wrapper{width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}}\n"],encapsulation:2}),t})(),mM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[Xv],imports:[lr]}),t})();const p$=function(){return{width:"100%",height:500}};let gM=(()=>{class t{constructor(e,n){this.images=e,this.dialogRef=n,this.startIndex=0}ngOnInit(){console.log(this.images)}onClose(){this.dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||t)(M(ko),M(ao))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-dialog"]],decls:9,vars:6,consts:[[2,"text-align","center","background-color","#a0c9d5","padding","10px 0"],[1,"slideshow",2,"max-width","800px","max-height","600px","text-align","center"],[3,"showArrow","imagePopup","manageImageRatio","images","imageSize"],[1,"row"],["mat-button","",1,"btn","btn-primary","float-end",3,"click"]],template:function(n,r){1&n&&(O(0,"h2",0),ce(1,"Story Reels"),N(),O(2,"mat-dialog-content")(3,"div",1),Ee(4,"ng-image-slider",2),N()(),O(5,"mat-dialog-actions")(6,"div",3)(7,"button",4),Ae("click",function(){return r.onClose()}),ce(8," Cancel "),N()()()),2&n&&(j(4),z("showArrow",!0)("imagePopup",!0)("manageImageRatio",!0)("images",r.images)("imageSize",function Iw(t,i,e){const n=Yn()+t,r=We();return r[n]===It?yo(r,n,e?i.call(e):i()):function Vc(t,i){return t[i]}(r,n)}(5,p$)))},dependencies:[Qd,Kd,f$,Lv],styles:[".btn[_ngcontent-%COMP%]{border:3px solid;margin:10px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;justify-self:right}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:10px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;justify-self:right}.row[_ngcontent-%COMP%]{margin:10px auto}"]})}return t})();function m$(t,i){if(1&t&&(wn(0)(1,6),O(2,"div",7)(3,"div",8)(4,"div",9)(5,"label",10),ce(6,"Comment"),N(),Ee(7,"input",11),N()()(),xn()()),2&t){const e=ae();j(1),z("formGroup",e.commentForm)}}let _M=(()=>{class t{constructor(e,n,r){this.fb=e,this.dialogRef=n,this.startIndex=0,this.commentForm=this.fb.group({storycomment:["",pi.required]})}ngOnInit(){}onClose(){this.dialogRef.close()}onSave(){this.dialogRef.close({data:this.commentForm.get("storycomment").value})}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(ao),M(ko))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-comment-create"]],decls:12,vars:1,consts:[[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[4,"ngIf"],[1,"row",2,"margin","10px auto","padding","10px"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","storycomment",2,"padding","10px"],["type","text","id","storycomment","formControlName","storycomment",1,"form-control",2,"padding","10px"]],template:function(n,r){1&n&&(O(0,"h2",0),ce(1,"New Comment"),N(),O(2,"mat-dialog-content"),pe(3,m$,8,1,"ng-container",1),N(),O(4,"mat-dialog-actions")(5,"div",2)(6,"div",3)(7,"button",4),Ae("click",function(){return r.onClose()}),ce(8," Cancel "),N()(),O(9,"div",3)(10,"button",5),Ae("click",function(){return r.onSave()}),ce(11," Post Comment "),N()()()()),2&n&&(j(3),z("ngIf",r.commentForm))},dependencies:[vt,yn,Gn,zn,Rn,dr,Qd,Kd],styles:[".btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;width:150px}"]})}return t})();function g$(t,i){}const _$=function(t){return{animationDuration:t}},v$=function(t,i){return{value:t,params:i}};function b$(t,i){1&t&&Oi(0)}const vM=["*"],y$=["tabListContainer"],A$=["tabList"],C$=["tabListInner"],w$=["nextPaginator"],x$=["previousPaginator"],S$=["tabBodyWrapper"],T$=["tabHeader"];function D$(t,i){}function E$(t,i){1&t&&pe(0,D$,0,0,"ng-template",14),2&t&&z("cdkPortalOutlet",ae().$implicit.templateLabel)}function M$(t,i){1&t&&ce(0),2&t&&ct(ae().$implicit.textLabel)}function I$(t,i){if(1&t){const e=Qe();O(0,"div",6,7),Ae("click",function(){const r=Ie(e),o=r.$implicit,s=r.index,l=ae(),_=_i(1);return Oe(l._handleClick(o,_,s))})("cdkFocusChange",function(r){const s=Ie(e).index;return Oe(ae()._tabFocusChanged(r,s))}),Ee(2,"span",8)(3,"div",9),O(4,"span",10)(5,"span",11),pe(6,E$,1,1,"ng-template",12),pe(7,M$,1,1,"ng-template",null,13,Dn),N()()()}if(2&t){const e=i.$implicit,n=i.index,r=_i(1),o=_i(8),s=ae();tt("mdc-tab--active",s.selectedIndex===n),z("id",s._getTabLabelId(n))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",s.fitInkBarToContent),mt("tabIndex",s._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(n))("aria-selected",s.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),j(3),z("matRippleTrigger",r)("matRippleDisabled",e.disabled||s.disableRipple),j(3),z("ngIf",e.templateLabel)("ngIfElse",o)}}function O$(t,i){if(1&t){const e=Qe();O(0,"mat-tab-body",15),Ae("_onCentered",function(){return Ie(e),Oe(ae()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return Ie(e),Oe(ae()._setTabBodyWrapperHeight(r))}),N()}if(2&t){const e=i.$implicit,n=i.index,r=ae();tt("mat-mdc-tab-body-active",r.selectedIndex===n),z("id",r._getTabContentId(n))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),mt("tabindex",null!=r.contentTabIndex&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))}}const k$={translateTab:ro("translateTab",[un("center, void, left-origin-center, right-origin-center",ri({transform:"none"})),un("left",ri({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),un("right",ri({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),bn("* => left, * => right, left => center, right => center",kn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),bn("void => left-origin-center",[ri({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),kn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),bn("void => right-origin-center",[ri({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),kn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let P$=(()=>{class t extends as{constructor(e,n,r,o){super(e,n,o),this._host=r,this._centeringSub=H.EMPTY,this._leavingSub=H.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(vn(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(M(_s),M(Ji),M(Ct(()=>bM)),M(gt))},t.\u0275dir=He({type:t,selectors:[["","matTabBodyHost",""]],features:[at]}),t})(),R$=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,n,r){this._elementRef=e,this._dir=n,this._dirChangeSubscription=H.EMPTY,this._translateTabComplete=new q,this._onCentering=new Ye,this._beforeCentering=new Ye,this._afterLeavingCenter=new Ye,this._onCentered=new Ye(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(jl((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const n=this._getLayoutDirection();return"ltr"==n&&e<=0||"rtl"==n&&e>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(On,8),M(zt))},t.\u0275dir=He({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),bM=(()=>{class t extends R${constructor(e,n,r){super(e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(On,8),M(zt))},t.\u0275cmp=Xe({type:t,selectors:[["mat-tab-body"]],viewQuery:function(e,n){if(1&e&&Xt(as,5),2&e){let r;Ze(r=et())&&(n._portalHost=r.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[at],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,n){1&e&&(O(0,"div",0,1),Ae("@translateTab.start",function(o){return n._onTranslateTabStarted(o)})("@translateTab.done",function(o){return n._translateTabComplete.next(o)}),pe(2,g$,0,0,"ng-template",2),N()),2&e&&z("@translateTab",Lr(3,v$,n._position,Lt(1,_$,n.animationDuration)))},dependencies:[P$],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[k$.translateTab]}}),t})();const F$=new Ge("MatTabContent");let N$=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["","matTabContent",""]],features:[Pt([{provide:F$,useExisting:t}])]}),t})();const L$=new Ge("MatTabLabel"),yM=new Ge("MAT_TAB");let B$=(()=>{class t extends bV{constructor(e,n,r){super(e,n),this._closestTab=r}}return t.\u0275fac=function(e){return new(e||t)(M(Gt),M(Ji),M(yM,8))},t.\u0275dir=He({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Pt([{provide:L$,useExisting:t}]),at]}),t})();const Qv="mdc-tab-indicator--active",AM="mdc-tab-indicator--no-transition";class V${constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar())}alignToElement(i){const e=this._items.find(r=>r.elementRef.nativeElement===i),n=this._currentItem;if(n?.deactivateInkBar(),e){const r=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}}function H$(t){return class extends t{constructor(...i){super(...i),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(i){const e=yi(i);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(i){const e=this.elementRef.nativeElement;if(!i||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(Qv);const n=e.getBoundingClientRect(),r=i.width/n.width,o=i.left-n.left;e.classList.add(AM),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${r})`),e.getBoundingClientRect(),e.classList.remove(AM),e.classList.add(Qv),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(Qv)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const i=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=i.createElement("span"),this._inkBarContentElement=i.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const U$=Pf(class{}),G$=H$((()=>{class t extends U${constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(M(Je))},t.\u0275dir=He({type:t,features:[at]}),t})());let CM=(()=>{class t extends G${}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275dir=He({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,n){2&e&&(mt("aria-disabled",!!n.disabled),tt("mat-mdc-tab-disabled",n.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[at]}),t})();const z$=Pf(class{}),wM=new Ge("MAT_TAB_GROUP");let W$=(()=>{class t extends z${get content(){return this._contentPortal}constructor(e,n){super(),this._viewContainerRef=e,this._closestTabGroup=n,this.textLabel="",this._contentPortal=null,this._stateChanges=new q,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new sa(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return t.\u0275fac=function(e){return new(e||t)(M(Ji),M(wM,8))},t.\u0275dir=He({type:t,viewQuery:function(e,n){if(1&e&&Xt(Gt,7),2&e){let r;Ze(r=et())&&(n._implicitContent=r.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[at,gi]}),t})(),Kv=(()=>{class t extends W${get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275cmp=Xe({type:t,selectors:[["mat-tab"]],contentQueries:function(e,n,r){if(1&e&&(Dt(r,N$,7,Gt),Dt(r,B$,5)),2&e){let o;Ze(o=et())&&(n._explicitContent=o.first),Ze(o=et())&&(n.templateLabel=o.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[Pt([{provide:yM,useExisting:t}]),at],ngContentSelectors:vM,decls:1,vars:0,template:function(e,n){1&e&&(ln(),pe(0,b$,1,0,"ng-template"))},encapsulation:2}),t})();const xM=Is({passive:!0});let X$=(()=>{class t{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=yi(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Fi(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,n,r,o,s,l,_){this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=l,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new q,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new q,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Ye,this.indexFocused=new Ye,s.runOutsideAngular(()=>{Si(e.nativeElement,"mouseleave").pipe(yt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Si(this._previousPaginator.nativeElement,"touchstart",xM).pipe(yt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Si(this._nextPaginator.nativeElement,"touchstart",xM).pipe(yt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:lt("ltr"),n=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new J0(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(qt(1)).subscribe(r),Wr(e,n,this._items.changes,this._itemsResized()).pipe(yt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?pr:this._items.changes.pipe(vn(this._items),_n(e=>new te(n=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>n.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),Id(1),Kt(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!ca(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const n=this._items?this._items.toArray()[e]:null;if(!n)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=n.elementRef.nativeElement;let l,_;"ltr"==this._getLayoutDirection()?(l=o,_=l+s):(_=this._tabListInner.nativeElement.offsetWidth-o,l=_-s);const S=this.scrollDistance,T=this.scrollDistance+r;l<S?this.scrollDistance-=S-l:_>T&&(this.scrollDistance+=Math.min(_-T,l-S))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),Wd(650,100).pipe(yt(Wr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(zt),M(Yl),M(On,8),M(ot),M(Gi),M(En,8))},t.\u0275dir=He({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),Q$=(()=>{class t extends X${get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=yi(e)}constructor(e,n,r,o,s,l,_){super(e,n,r,o,s,l,_),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(zt),M(Yl),M(On,8),M(ot),M(Gi),M(En,8))},t.\u0275dir=He({type:t,inputs:{disableRipple:"disableRipple"},features:[at]}),t})(),K$=(()=>{class t extends Q${constructor(e,n,r,o,s,l,_){super(e,n,r,o,s,l,_)}ngAfterContentInit(){this._inkBar=new V$(this._items),super.ngAfterContentInit()}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(zt),M(Yl),M(On,8),M(ot),M(Gi),M(En,8))},t.\u0275cmp=Xe({type:t,selectors:[["mat-tab-header"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,CM,4),2&e){let o;Ze(o=et())&&(n._items=o)}},viewQuery:function(e,n){if(1&e&&(Xt(y$,7),Xt(A$,7),Xt(C$,7),Xt(w$,5),Xt(x$,5)),2&e){let r;Ze(r=et())&&(n._tabListContainer=r.first),Ze(r=et())&&(n._tabList=r.first),Ze(r=et())&&(n._tabListInner=r.first),Ze(r=et())&&(n._nextPaginator=r.first),Ze(r=et())&&(n._previousPaginator=r.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,n){2&e&&tt("mat-mdc-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[at],ngContentSelectors:vM,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,n){1&e&&(ln(),O(0,"button",0,1),Ae("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(o){return n._handlePaginatorPress("before",o)})("touchend",function(){return n._stopInterval()}),Ee(2,"div",2),N(),O(3,"div",3,4),Ae("keydown",function(o){return n._handleKeydown(o)}),O(5,"div",5,6),Ae("cdkObserveContent",function(){return n._onContentChanges()}),O(7,"div",7,8),Oi(9),N()()(),O(10,"button",9,10),Ae("mousedown",function(o){return n._handlePaginatorPress("after",o)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),Ee(12,"div",2),N()),2&e&&(tt("mat-mdc-tab-header-pagination-disabled",n._disableScrollBefore),z("matRippleDisabled",n._disableScrollBefore||n.disableRipple)("disabled",n._disableScrollBefore||null),j(3),tt("_mat-animation-noopable","NoopAnimations"===n._animationMode),j(7),tt("mat-mdc-tab-header-pagination-disabled",n._disableScrollAfter),z("matRippleDisabled",n._disableScrollAfter||n.disableRipple)("disabled",n._disableScrollAfter||null))},dependencies:[Io,UV],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),t})();const SM=new Ge("MAT_TABS_CONFIG");let q$=0;const J$=kd(Rf(class{constructor(t){this._elementRef=t}}),"primary");let Z$=(()=>{class t extends J${get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=yi(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Fi(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Fi(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=yi(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=yi(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,n,r,o){super(e),this._changeDetectorRef=n,this._animationMode=o,this._tabs=new xo,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=H.EMPTY,this._tabLabelSubscription=H.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new Ye,this.focusChange=new Ye,this.animationDone=new Ye,this.selectedTabChange=new Ye(!0),this._groupId=q$++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-e,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const n=this._tabs.toArray();let r;for(let o=0;o<n.length;o++)if(n[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=n[o];break}!r&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(vn(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const n=new eY;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Wr(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,r){n.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,n){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=n)}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(zt),M(SM,8),M(En,8))},t.\u0275dir=He({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[at]}),t})(),TM=(()=>{class t extends Z${get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=yi(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=yi(e)}constructor(e,n,r,o){super(e,n,r,o),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(zt),M(SM,8),M(En,8))},t.\u0275cmp=Xe({type:t,selectors:[["mat-tab-group"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,Kv,5),2&e){let o;Ze(o=et())&&(n._allTabs=o)}},viewQuery:function(e,n){if(1&e&&(Xt(S$,5),Xt(T$,5)),2&e){let r;Ze(r=et())&&(n._tabBodyWrapper=r.first),Ze(r=et())&&(n._tabHeader=r.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(e,n){2&e&&tt("mat-mdc-tab-group-dynamic-height",n.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===n.headerPosition)("mat-mdc-tab-group-stretch-tabs",n.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[Pt([{provide:wM,useExisting:t}]),at],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,n){1&e&&(O(0,"mat-tab-header",0,1),Ae("indexFocused",function(o){return n._focusChanged(o)})("selectFocusedIndex",function(o){return n.selectedIndex=o}),pe(2,I$,9,17,"div",2),N(),O(3,"div",3,4),pe(5,O$,1,11,"mat-tab-body",5),N()),2&e&&(z("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),j(2),z("ngForOf",n._tabs),j(1),tt("_mat-animation-noopable","NoopAnimations"===n._animationMode),j(2),z("ngForOf",n._tabs))},dependencies:[So,ei,vt,as,Io,gH,bM,CM,K$],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-disabled{opacity:.4}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab-indicator__content--underline,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),t})();class eY{}let DM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[lr,ni,aa,Wl,X0,nv,ni]}),t})();const qv=function(t){return[t]};function tY(t,i){if(1&t&&(O(0,"div",6)(1,"div",7)(2,"a",8),ce(3),N(),O(4,"p",9),ce(5,"Add how many of your stories and reels have his reactions "),N()()()),2&t){const e=i.$implicit;j(2),z("routerLink",Lt(2,qv,"/profile/"+e.key)),j(1),ct(e.value)}}function iY(t,i){if(1&t&&(O(0,"div",6)(1,"div",7)(2,"a",8),ce(3),N(),O(4,"p",9),ce(5,"Add how many of your stories and reels have his reactions "),N()()()),2&t){const e=i.$implicit;j(2),z("routerLink",Lt(2,qv,"/profile/"+e.key)),j(1),ct(e.value)}}function nY(t,i){if(1&t&&(O(0,"div",6)(1,"div",7)(2,"a",8),ce(3),N(),O(4,"p",9),ce(5,"Add how many of your stories and reels have his reactions "),N()()()),2&t){const e=i.$implicit;j(2),z("routerLink",Lt(2,qv,"/profile/"+e.key)),j(1),ct(e.value)}}let dp=(()=>{class t{constructor(e,n){this.data=e,this.dialogRef=n}ngOnInit(){console.log(this.data)}onClose(){this.dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||t)(M(ko),M(ao))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reaction-info-dialog"]],decls:11,vars:10,consts:[[1,"custom-dialogbox"],["animationDuration","500ms",1,"group",3,"color"],["label","Likes",1,"mat-tab"],["class","container",4,"ngFor","ngForOf"],["label","Loves",1,"mat-tab"],["label","Celebrations",1,"mat-tab"],[1,"container"],[1,"itemdata",2,"margin","20px auto"],["mat-dialog-close","",2,"cursor","pointer","color","#0c527b","text-decoration","none",3,"routerLink"],[2,"margin","0px auto"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2),pe(3,tY,6,4,"div",3),Tn(4,"keyvalue"),N(),O(5,"mat-tab",4),pe(6,iY,6,4,"div",3),Tn(7,"keyvalue"),N(),O(8,"mat-tab",5),pe(9,nY,6,4,"div",3),Tn(10,"keyvalue"),N()()()),2&n&&(j(1),z("color","accent"),j(2),z("ngForOf",Cr(4,4,r.data.likes)),j(3),z("ngForOf",Cr(7,6,r.data.loves)),j(3),z("ngForOf",Cr(10,8,r.data.celebrates)))},dependencies:[ei,Es,CG,Kv,TM,aS],styles:[".custom-dialogbox[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important;text-align:center}.container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;overflow-x:hidden!important;overflow-y:hidden!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;max-width:750px}.container[_ngcontent-%COMP%] > .item-data[_ngcontent-%COMP%]{padding:20px auto}.container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important}"]})}return t})(),ya=(()=>{class t{constructor(e){this.http=e,this.token=JSON.parse(localStorage.getItem("access")),this.httpOptions={headers:new wi({Authorization:"Bearer "+this.token,"Content-Type":"application/json"})}}listFriends(){return this.http.get("http://localhost:8000/p/friends/",this.httpOptions)}acceptFriendRequest(e){return this.http.post("http://localhost:8000/p/friends/accept_request/",e,this.httpOptions)}pendingReceivedFriendRequests(){return this.http.get("http://localhost:8000/p/friends/requests/",this.httpOptions)}pendingSentFriendRequests(){return this.http.get("http://localhost:8000/p/friends/sent_requests/",this.httpOptions)}rejectedFriendRequests(){return this.http.get("http://localhost:8000/p/friends/rejected_requests/",this.httpOptions)}friendstoryActivity(e){const n=(new io).append("friend_id",e),r=new wi({Authorization:"Bearer "+this.token,"Content-Type":"application/json"});return this.http.get("http://localhost:8000/h/fs_notifications",{headers:r,params:n})}friendreelActivity(e){const n=(new io).append("friend_id",e),r=new wi({Authorization:"Bearer "+this.token,"Content-Type":"application/json"});return this.http.get("http://localhost:8000/h/fr_notifications",{headers:r,params:n})}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(To))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rY(t,i){if(1&t){const e=Qe();O(0,"div",1)(1,"div",2)(2,"p",3),ce(3,"Caption : "),O(4,"strong"),ce(5),N()()(),O(6,"div",4)(7,"div",5),Ee(8,"img",6),N(),O(9,"div",7)(10,"a",8),Ae("click",function(){Ie(e);const r=ae();return Oe(r.goToReelDetail(r.reel.id))}),ce(11,"Reel Detail"),N()()(),O(12,"div",9)(13,"p",10),ce(14),N(),O(15,"p",11),ce(16),N()()()}if(2&t){const e=ae();j(5),ct(e.reel.caption),j(3),z("src",e.reel.image,ai),j(6),Tt("",e.commentNumbers," Comments"),j(2),wo("",e.totalLikes," Likes, ",e.totalLoves," Loves and ",e.totalCelebrates," Celebrations")}}let Jv=(()=>{class t{constructor(e,n){this.router=e,this.rService=n,this.commentNumbers=0,this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0}ngOnInit(){this.totalLikes=this.reel.likes?.length||0,this.totalLoves=this.reel.loves?.length||0,this.totalCelebrates=this.reel.celebrates?.length||0,this.rService.fetchReelComments(this.reel.id).subscribe(e=>{this.commentNumbers=e.length})}goToReelDetail(e){this.router.navigateByUrl("/reel/detail/"+e)}static#e=this.\u0275fac=function(n){return new(n||t)(M(ti),M(ur))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-item"]],inputs:{reel:"reel",index:"index"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"row"],[1,"titlebox"],[1,"card-body","row"],[1,"col-md-6"],["alt","reel.caption",1,"img-thumbnail","rounded","mx-auto","d-block",2,"height","200px","border-radius","5px",3,"src"],[1,"col-md-6",2,"display","flex"],[1,"btn","btn-primary",2,"margin","auto auto",3,"click"],[1,"card-footer"],[1,"float-start","text-muted","mb-0"],[1,"float-end","text-muted","mb-0"]],template:function(n,r){1&n&&pe(0,rY,17,6,"div",0),2&n&&z("ngIf",!!r.reel)},dependencies:[vt],styles:[".card[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;background:#d4f3fd;text-align:center;color:#000;float:none;margin:20px auto;padding:10px auto;max-height:600px;width:780px;display:flex}.card-body[_ngcontent-%COMP%]{align-content:center}a.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-height:40px}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-height:40px}.card-body[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%] > .card-title[_ngcontent-%COMP%]{vertical-align:middle;margin:10px auto}.card-footer.p[_ngcontent-%COMP%]{vertical-align:middle;margin:0!important}.titlebox[_ngcontent-%COMP%]{text-align:center;background-color:#a0c9d5;border-top-left-radius:10px;border-top-right-radius:10px;margin:0 auto;padding:10px;max-width:776px}"]})}return t})(),hs=(()=>{class t{constructor(e){this.http=e,this.token=JSON.parse(localStorage.getItem("access")),this.httpOptions={headers:new wi({Authorization:"Bearer "+this.token,"Content-Type":"application/json"})}}fetchPrivateProfile(){return this.http.get("http://localhost:8000/p/private/",this.httpOptions)}fetchPrivateProfileById(e){return this.http.get("http://localhost:8000/p/private/"+e+"/",this.httpOptions)}addProfile(e){return this.http.post("http://localhost:8000/p/private/",e,this.httpOptions)}addProfileImage(e,n){let r={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.post("http://localhost:8000/p/private/"+e+"/upload-avatar/",n,r)}updateProfile(e,n){let r={headers:new wi({Authorization:"Bearer "+this.token})};return this.http.patch("http://localhost:8000/p/private/"+e+"/",n,r)}fetchPublicProfile(e){return this.http.get("http://localhost:8000/p/"+e,this.httpOptions)}sendFriendRequest(e){return this.http.post("http://localhost:8000/p/friends/add_friend/",e,this.httpOptions)}acceptFriendRequest(e){return this.http.post("http://localhost:8000/p/friends/accept_request/",e,this.httpOptions)}rejectFriendRequest(e){return this.http.post("http://localhost:8000/p/friends/reject_request/",e,this.httpOptions)}removeFriend(e){return this.http.post("http://localhost:8000/p/friends/remove_friend/",e,this.httpOptions)}pendingReceivedFriendRequests(){return this.http.get("http://localhost:8000/p/friends/requests/",this.httpOptions)}listFriends(){return this.http.get("http://localhost:8000/p/friends/",this.httpOptions)}pendingSentFriendRequests(){return this.http.get("http://localhost:8000/p/friends/sent_requests/",this.httpOptions)}rejectedSentFriendRequests(e){const n=(new io).append("user",e),r=new wi({Authorization:"Bearer "+this.token,"Content-Type":"application/json"});return this.http.get("http://localhost:8000/p/friends/rejected_received_requests/",{headers:r,params:n})}rejectedReceivedFriendRequests(){return this.http.get("http://localhost:8000/p/friends/rejected_requests/",this.httpOptions)}fetchStoryReactionActivityFeed(){return this.http.get("http://localhost:8000/h/s_notifications",this.httpOptions)}fetchStoryCommentActivityFeed(){return this.http.get("http://localhost:8000/h/sc_notifications",this.httpOptions)}fetchReelReactionActivityFeed(){return this.http.get("http://localhost:8000/h/r_notifications",this.httpOptions)}fetchReelCommentActivityFeed(){return this.http.get("http://localhost:8000/h/rc_notifications",this.httpOptions)}fetchPhotos(){return this.http.get("http://localhost:8000/h/photos",this.httpOptions)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(To))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function up(...t){const i=mu(t);return Z((e,n)=>{const r=t.length,o=new Array(r);let s=t.map(()=>!1),l=!1;for(let _=0;_<r;_++)Qi(t[_]).subscribe(ge(n,S=>{o[_]=S,!l&&!s[_]&&(s[_]=!0,(l=s.every(de))&&(s=null))},c));e.subscribe(ge(n,_=>{if(l){const S=[_,...o];n.next(i?i(...S):S)}}))})}function oY(t,i){1&t&&Jo(0)}let Zv=(()=>{class t{constructor(e){this.tpl=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["","viewMode",""]]}),t})(),eb=(()=>{class t{constructor(e){this.tpl=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["","editMode",""]]}),t})();const sY={openBindingEvent:"click",closeBindingEvent:"click"},aY=new Ge("editable.config",{factory:()=>sY});let hp=(()=>{class t{constructor(e,n){this.el=e,this.config=n,this.enabled=!0,this.openBindingEvent=this.config.openBindingEvent,this.closeBindingEvent=this.config.closeBindingEvent,this.save=new Ye,this.cancel=new Ye,this.modeChange=new Ye,this.editMode=new nn(!1),this.editMode$=this.editMode.asObservable(),this.destroy$=new q,this.isGrouped=!1}get element(){return this.el.nativeElement}ngOnInit(){this.handleViewMode(),this.handleEditMode()}ngOnDestroy(){this.destroy$.next(!0),this.editHandler=null,this.viewHandler=null}handleViewMode(){this.viewHandler=Si(this.element,this.openBindingEvent).pipe(Kt(()=>this.enabled),up(this.editMode$),Kt(([e,n])=>!n),yt(this.destroy$)).subscribe(()=>this.displayEditMode())}handleEditMode(){const e=n=>Si(document,this.closeBindingEvent).pipe(Kt(()=>n),Id(this.openBindingEvent===this.closeBindingEvent?1:0),Kt(({target:r})=>!1===this.element.contains(r)),qt(1));this.editHandler=this.editMode$.pipe(_n(n=>e(n)),yt(this.destroy$)).subscribe(()=>this.saveEdit())}displayEditMode(){this.editMode.next(!0),this.modeChange.emit("edit")}saveEdit(){this.save.next(),this.leaveEditMode()}cancelEdit(){this.cancel.next(),this.leaveEditMode()}leaveEditMode(){this.editMode.next(!1),this.modeChange.emit("view"),this.isGrouped||(this.viewHandler.unsubscribe(),setTimeout(()=>this.handleViewMode(),0))}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(aY))},t.\u0275cmp=Xe({type:t,selectors:[["editable"]],contentQueries:function(e,n,r){if(1&e&&(Dt(r,Zv,5),Dt(r,eb,5)),2&e){let o;Ze(o=et())&&(n.viewModeTpl=o.first),Ze(o=et())&&(n.editModeTpl=o.first)}},inputs:{enabled:"enabled",openBindingEvent:"openBindingEvent",closeBindingEvent:"closeBindingEvent"},outputs:{save:"save",cancel:"cancel",modeChange:"modeChange"},decls:2,vars:3,consts:[[4,"ngTemplateOutlet"]],template:function(e,n){1&e&&(pe(0,oY,1,0,"ng-container",0),Tn(1,"async")),2&e&&z("ngTemplateOutlet",Cr(1,1,n.editMode$)?n.editModeTpl.tpl:n.viewModeTpl.tpl)},dependencies:[Hr,os],styles:["[_nghost-%COMP%]{cursor:pointer}"],changeDetection:0}),t})(),EM=(()=>{class t{constructor(e,n){this.editable=e,this.el=n,this.saveEvent="click",this.destroy$=new q}ngOnInit(){Si(this.el.nativeElement,this.saveEvent).pipe(yt(this.destroy$)).subscribe(()=>this.editable.saveEdit())}ngOnDestroy(){this.destroy$.next(!0)}}return t.\u0275fac=function(e){return new(e||t)(M(hp),M(Je))},t.\u0275dir=He({type:t,selectors:[["","editableOnSave",""]],inputs:{saveEvent:"saveEvent"}}),t})(),MM=(()=>{class t{constructor(e,n){this.editable=e,this.el=n,this.cancelEvent="click",this.destroy$=new q}ngOnInit(){Si(this.el.nativeElement,this.cancelEvent).pipe(yt(this.destroy$)).subscribe(()=>this.editable.cancelEdit())}ngOnDestroy(){this.destroy$.next(!0)}}return t.\u0275fac=function(e){return new(e||t)(M(hp),M(Je))},t.\u0275dir=He({type:t,selectors:[["","editableOnCancel",""]],inputs:{cancelEvent:"cancelEvent"}}),t})(),IM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[[lr]]}),t})();function lY(t,i){1&t&&ce(0),2&t&&ct(ae(3).storycomment)}function cY(t,i){1&t&&(Ee(0,"input",12),O(1,"button",13),ce(2,"Save"),N(),O(3,"button",14),ce(4,"Cancel"),N()),2&t&&z("formControl",ae(3).commentEditForm)}function dY(t,i){if(1&t){const e=Qe();O(0,"editable",9),Ae("save",function(){return Ie(e),Oe(ae(2).editComment())}),pe(1,lY,1,1,"ng-template",10),pe(2,cY,5,1,"ng-template",11),N()}}function uY(t,i){if(1&t&&(O(0,"p",15),ce(1),N()),2&t){const e=ae(2);j(1),ct(e.comment.storycomment)}}const hY=function(t){return[t]};function fY(t,i){if(1&t&&(O(0,"div",1)(1,"div",2)(2,"p",3),Ee(3,"img",4),O(4,"a",5),ce(5),N(),ce(6," says : "),N()(),O(7,"div",6),pe(8,dY,3,0,"editable",7),pe(9,uY,2,1,"p",8),N()()),2&t){const e=ae();j(3),z("src","http://localhost:8000/"+e.profile.avatar,ai),j(1),z("routerLink",Lt(5,hY,"/profile/"+e.comment.commented_by)),j(1),Tt(" ",e.fullName," "),j(3),z("ngIf",!!e.showEditButton),j(1),z("ngIf",!e.showEditButton)}}let OM=(()=>{class t{constructor(e,n,r){this.authService=e,this.sService=n,this.pService=r,this.showEditButton=!1,this.storycomment="",this.fullName=""}ngOnInit(){this.loadData()}editComment(){let e={id:this.comment.id,storycomment:this.commentEditForm.value,story:this.comment.story,commented_by:this.comment.commented_by,approval:"app"};this.storycomment=this.commentEditForm.value,this.sService.updateComment(this.comment.story,e).subscribe(n=>{this.comment.storycomment=this.commentEditForm.value})}loadData(){var e=this;return us(function*(){const n=e.authService.user();e.user=yield ii(n),e.loggedInUserId=e.user.id;const r=e.pService.fetchPublicProfile(e.comment.commented_by);e.profile=yield ii(r);const o=e.authService.publicUser(e.comment.commented_by);e.publicUser=yield ii(o),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name,+e.loggedInUserId==+e.comment.commented_by&&(e.showEditButton=!0),e.storycomment=e.comment.storycomment,e.commentEditForm=new xi(e.comment.storycomment)})()}static#e=this.\u0275fac=function(n){return new(n||t)(M(Yt),M(cr),M(hs))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-comment-item"]],inputs:{comment:"comment",index:"index"},decls:1,vars:1,consts:[["class","container row",4,"ngIf"],[1,"container","row"],[1,"name","col-md-4","m-auto"],[1,"float-start","m-auto"],["alt","Profile Image",1,"circular_image",2,"margin-right","10px",3,"src"],[3,"routerLink"],[1,"body","col-md-8","m-auto"],["class","float-start","style","margin: 10px auto;","openBindingEvent","dblclick",3,"save",4,"ngIf"],["class","float-start","style","margin: 10px auto;",4,"ngIf"],["openBindingEvent","dblclick",1,"float-start",2,"margin","10px auto",3,"save"],["viewMode",""],["editMode",""],[3,"formControl"],["editableOnSave",""],["editableOnCancel",""],[1,"float-start",2,"margin","10px auto"]],template:function(n,r){1&n&&pe(0,fY,10,7,"div",0),2&n&&z("ngIf",!!r.comment&&!!r.profile)},dependencies:[vt,Es,yn,Gn,qf,hp,Zv,eb,EM,MM],styles:[".container[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;text-align:center;background:#e9ebdc;color:#000;margin:20px 0;height:100px;width:780px;align-content:center;display:flex}.circular_image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}"]})}return t})();function pY(t,i){if(1&t&&(O(0,"div")(1,"h5"),ce(2),N()()),2&t){const e=i.$implicit;j(2),Tt("TAG : ",e.name,"")}}function mY(t,i){if(1&t&&Ee(0,"app-reel-item",15),2&t){const n=i.index;z("reel",i.$implicit)("index",n)}}function gY(t,i){if(1&t){const e=Qe();O(0,"button",16),Ae("click",function(){return Ie(e),Oe(ae(2).onEditStory())}),ce(1,"Edit Story"),N()}}function _Y(t,i){if(1&t&&(O(0,"p",17),ce(1),N()),2&t){const e=ae(2);j(1),Tt(" Comments : ",e.comments.length,"")}}function vY(t,i){if(1&t){const e=Qe();O(0,"p",18),Ae("click",function(){return Ie(e),Oe(ae(2).showReactionInfo())}),ce(1),N()}if(2&t){const e=ae(2);j(1),wo(" Likes : ",e.totalLikes," , Loves : ",e.totalLoves," & Celebrations : ",e.totalCelebrates,"")}}function bY(t,i){if(1&t&&Ee(0,"app-story-comment-item",21),2&t){const n=i.index;z("comment",i.$implicit)("index",n)}}function yY(t,i){if(1&t&&(O(0,"div",19),pe(1,bY,1,2,"app-story-comment-item",20),N()),2&t){const e=ae(2);j(1),z("ngForOf",e.comments)}}function AY(t,i){if(1&t){const e=Qe();O(0,"div",2)(1,"div",3)(2,"h3"),ce(3),N(),O(4,"p"),ce(5),N(),O(6,"p"),ce(7),N(),Ee(8,"img",4),pe(9,pY,3,1,"div",5),N(),O(10,"div",6),pe(11,mY,1,2,"app-reel-item",7),N(),O(12,"div",0)(13,"div",2)(14,"div",8),pe(15,gY,2,0,"button",9),O(16,"button",10),Ae("click",function(){return Ie(e),Oe(ae().addComment())}),ce(17,"Add Comment"),N()()(),Ee(18,"div",11),O(19,"div",2)(20,"div",8),pe(21,_Y,2,1,"p",12),pe(22,vY,2,3,"p",13),N()()(),pe(23,yY,2,1,"div",14),N()}if(2&t){const e=i.ngIf,n=ae();j(3),ct(e.title),j(2),ct(e.description),j(2),ct(e.longDescription),j(1),vs("alt",e.title),z("src",e.image,ai),j(1),z("ngForOf",e.tags),j(2),z("ngForOf",e.reels),j(4),z("ngIf",!!n.canShowButton),j(6),z("ngIf",n.comments.length>0),j(1),z("ngIf",n.totalLikes>0||n.totalLoves>0||n.totalCelebrates>0),j(1),z("ngIf",n.comments.length>0)}}let CY=(()=>{class t{constructor(e,n,r,o,s,l){this.router=e,this.route=n,this.sService=r,this.dialog=o,this.authService=s,this.fService=l,this.reels=[],this.comments=[],this.canShowButton=!1,this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0,this.likes=[],this.loves=[],this.celebrates=[],this.showLike=!0,this.showLove=!0,this.showCelebrate=!0,this.isFriend=!1}ngOnInit(){this.route.params.subscribe(e=>{this.storyId=e.id,this.friends$=this.fService.listFriends()}),this.loadData()}onEditStory(){this.router.navigate(["edit"],{relativeTo:this.route})}showReels(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.panelClass="custom-modalbox",e.disableClose=!0,e.data=this.reels,this.dialog.open(gM,e)}addComment(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.disableClose=!0,this.friends$.subscribe(n=>{n.forEach(r=>{r.id==this.loggedInUserId&&(this.isFriend=!0)})}),this.dialog.open(_M,e).afterClosed().subscribe(n=>{if(n){let r={};r=this.canShowButton?{id:no(),storycomment:n.data,story:this.storyId,commented_by:this.loggedInUserId,approval:"app"}:{id:no(),storycomment:n.data,story:this.storyId,commented_by:this.loggedInUserId,approval:"rej"},this.sService.addStoryComment(this.storyId,r).subscribe(()=>{this.comments.push({id:r.id,storycomment:r.storycomment,story:r.story,commented_by:r.commented_by,approval:"app"})})}})}showReactionInfo(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let n={};this.likes.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,n[s]=l})});let r={};this.loves.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,r[s]=l})});let o={};this.celebrates.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,o[s]=l})}),e.data={likes:n,loves:r,celebrates:o},this.dialog.open(dp,e)}loadData(){var e=this;return us(function*(){const n=e.authService.user();e.user=yield ii(n),e.loggedInUserId=e.user.id;const r=e.sService.fetchComments(e.storyId);e.comments=yield ii(r),e.story$=e.sService.fetchStory(e.storyId),e.story=yield ii(e.story$),e.story.owner==e.loggedInUserId&&(e.canShowButton=!0),e.story.reels.forEach(o=>{e.reels.push({image:o.image,thumbImage:o.image,title:o.caption})}),e.story.likes?.forEach(o=>{e.likes.push(o.id)}),e.story.loves?.forEach(o=>{e.loves.push(o.id)}),e.story.celebrates?.forEach(o=>{e.celebrates.push(o.id)}),e.totalLikes=e.likes.length,e.totalLoves=e.loves.length,e.totalCelebrates=e.celebrates.length,e.likes.forEach(o=>{o==+e.loggedInUserId&&(e.showLike=!1)}),e.loves.forEach(o=>{o==+e.loggedInUserId&&(e.showLove=!1)}),e.celebrates.forEach(o=>{o==+e.loggedInUserId&&(e.showCelebrate=!1)})})()}static#e=this.\u0275fac=function(n){return new(n||t)(M(ti),M(Ui),M(cr),M(Po),M(Yt),M(ya))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-detail"]],decls:3,vars:3,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow"],[1,"card-img-top","img-fluid",3,"src","alt"],[4,"ngFor","ngForOf"],[1,"reelrow"],[3,"reel","index",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","btn btn-primary float-start",3,"click",4,"ngIf"],[1,"btn","btn-primary","float-end",3,"click"],[1,"row",2,"height","20px"],["class","float-start","style","color:#2292b7; vertical-align: middle; margin: 0 0 !important;",4,"ngIf"],["class","float-end","style","cursor: pointer;color:#2292b7;text-decoration: underline;  vertical-align: middle;\n            margin: 0 0 !important;",3,"click",4,"ngIf"],["class","commentrow",4,"ngIf"],[3,"reel","index"],[1,"btn","btn-primary","float-start",3,"click"],[1,"float-start",2,"color","#2292b7","vertical-align","middle","margin","0 0 !important"],[1,"float-end",2,"cursor","pointer","color","#2292b7","text-decoration","underline","vertical-align","middle","margin","0 0 !important",3,"click"],[1,"commentrow"],[3,"comment","index",4,"ngFor","ngForOf"],[3,"comment","index"]],template:function(n,r){1&n&&(O(0,"div",0),pe(1,AY,24,11,"div",1),Tn(2,"async"),N()),2&n&&(j(1),z("ngIf",Cr(2,1,r.story$)))},dependencies:[ei,vt,Jv,OM,os],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.mainrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;margin:20px auto}.reelrow[_ngcontent-%COMP%], .commentrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}"]})}return t})();function wY(t,i){if(1&t&&Ee(0,"app-reel-item",4),2&t){const n=i.index;z("reel",i.$implicit)("index",n)}}function xY(t,i){if(1&t&&(O(0,"div",1)(1,"h3",2),ce(2,"Reels for "),O(3,"strong"),ce(4),N()(),pe(5,wY,1,2,"app-reel-item",3),N()),2&t){const e=ae();j(4),ct(e.story.title),j(1),z("ngForOf",e.reels)}}let SY=(()=>{class t{constructor(e,n){this.sService=e,this.route=n,this.reels=[]}ngOnInit(){this.route.params.subscribe(e=>{this.storyId=e.storyId}),this.sService.fetchStory(this.storyId).subscribe(e=>{this.story={...e},e.reels.forEach(n=>{this.reels.push(n)})})}static#e=this.\u0275fac=function(n){return new(n||t)(M(cr),M(Ui))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-list"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[2,"text-align","center","background-color","#a0c9d5","border-radius","5px","padding","10px","margin-top","20px","border","2px solid black"],[3,"reel","index",4,"ngFor","ngForOf"],[3,"reel","index"]],template:function(n,r){1&n&&pe(0,xY,6,2,"div",0),2&n&&z("ngIf",!!r.story)},dependencies:[ei,vt,Jv],styles:[".container[_ngcontent-%COMP%]{margin:0 auto;float:none;justify-content:center;max-width:800px}"]})}return t})();function TY(t,i){if(1&t&&(wn(0)(1,6),O(2,"div",7)(3,"div",8)(4,"div",9)(5,"label",10),ce(6,"Comment"),N(),Ee(7,"input",11),N()()(),xn()()),2&t){const e=ae();j(1),z("formGroup",e.commentForm)}}let kM=(()=>{class t{constructor(e,n,r){this.fb=e,this.dialogRef=n,this.startIndex=0,this.commentForm=this.fb.group({reelcomment:["",pi.required]})}ngOnInit(){}onClose(){this.dialogRef.close()}onSave(){this.dialogRef.close({data:this.commentForm.get("reelcomment").value})}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(ao),M(ko))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-comment-create"]],decls:12,vars:1,consts:[[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[4,"ngIf"],[1,"row",2,"margin","10px auto","padding","10px"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","reelcomment",2,"padding","10px"],["type","text","id","reelcomment","formControlName","reelcomment",1,"form-control",2,"padding","10px"]],template:function(n,r){1&n&&(O(0,"h2",0),ce(1,"New Comment"),N(),O(2,"mat-dialog-content"),pe(3,TY,8,1,"ng-container",1),N(),O(4,"mat-dialog-actions")(5,"div",2)(6,"div",3)(7,"button",4),Ae("click",function(){return r.onClose()}),ce(8," Cancel "),N()(),O(9,"div",3)(10,"button",5),Ae("click",function(){return r.onSave()}),ce(11," Post Comment "),N()()()()),2&n&&(j(3),z("ngIf",r.commentForm))},dependencies:[vt,yn,Gn,zn,Rn,dr,Qd,Kd],styles:[".btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;width:150px}"]})}return t})(),DY=(()=>{class t{constructor(e,n,r,o,s){this.dialogRef=e,this.data=n,this.rService=r,this.authService=o,this.fileTransferService=s,this.sources={}}ngOnInit(){console.log(this.data),this.sources.imageSRC=this.data.image,this.reelId=this.data.id,this.caption=this.data.caption,this.authService.user().subscribe(e=>{this.user_id=e.id})}ngAfterViewInit(){this.stage=new(hr().Stage)({container:"container",width:window.innerWidth,height:window.innerHeight}),console.log(this.sources.imageSRC),this.loadImages(this.sources,e=>{this.buildStage(e)})}buildStage(e){var n=new(hr().Layer),r=new(hr().Image)({image:e,x:0,y:0,width:window.innerWidth,height:window.innerHeight,blurRadius:0});r.cache(),r.filters([hr().Filters.Blur,hr().Filters.Brighten,hr().Filters.Contrast,hr().Filters.Enhance]),n.add(r),this.stage.add(n);var o=document.getElementById("slider-blur");o.oninput=function(){r.blurRadius(+o.value)};var s=document.getElementById("slider-bright");s.oninput=function(){r.brightness(+s.value)};var l=document.getElementById("slider-contrast");function _(){r.contrast(parseFloat(l.value))}l.oninput=_,_();var S=document.getElementById("slider-enhance");S.oninput=function(){r.enhance(parseFloat(S.value))}}loadImages(e,n){const r=new Image;r.crossOrigin="Anonymous",r.src=this.sources.imageSRC,r.onload=()=>{n(r)}}onClose(){this.dialogRef.close()}onSave(){const e=this.stage.toDataURL(),n=new FormData;n.append("image",e),this.rService.editReelImage(this.reelId,n).subscribe(r=>{const o={id:r.id,image:r.image,caption:this.caption},s=this.fileTransferService.fileFieldList.findIndex(l=>l.id===r.id);-1!==s&&(this.fileTransferService.fileFieldList[s]=o),this.dialogRef.close({id:o.id,caption:o.caption,image:o.image})})}static#e=this.\u0275fac=function(n){return new(n||t)(M(ao),M(ko),M(ur),M(Yt),M(oa))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-edit"]],decls:19,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["id","container",1,"canvas-container"],["id","slider-blur","type","range","min","0","max","40","step","0.05","value","0"],["id","slider-bright","type","range","min","-1","max","1","step","0.05","value","0"],["id","slider-contrast","type","range","min","-100","max","100","step","1","value","0"],["id","slider-enhance","type","range","min","-1","max","1","step","0.01","value","0"],["id","buttons"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(n,r){1&n&&(O(0,"html",0)(1,"head"),Ee(2,"meta",1)(3,"meta",2)(4,"meta",3),O(5,"title"),ce(6,"Reel Editing"),N()(),O(7,"body"),Ee(8,"div",4),O(9,"div"),Ee(10,"input",5)(11,"input",6)(12,"input",7)(13,"input",8),N(),O(14,"div",9)(15,"button",10),Ae("click",function(){return r.onSave()}),ce(16,"Save Edits"),N(),O(17,"button",11),Ae("click",function(){return r.onClose()}),ce(18," Cancel "),N()()()())},styles:[".btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:150px}","body[_ngcontent-%COMP%] {\n          margin: 0;\n          padding: 0;\n          overflow: hidden;\n          background-color: #f0f0f0;\n        }\n        #slider-blur[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 20px;\n        }\n        #slider-bright[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 220px;\n        }\n        #slider-contrast[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 420px;\n        }\n        #slider-enhance[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 620px;\n        }\n        #controls[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          left: 820px;\n        }\n        #buttons[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 20px;\n          right: 100px;\n        }\n        #caption-div[_ngcontent-%COMP%] {\n          position: absolute;\n          top: 120px;\n          left: 20px;\n          background-color: antiquewhite\n        }"]})}return t})();function EY(t,i){1&t&&ce(0),2&t&&ct(ae(3).reelcomment)}function MY(t,i){1&t&&(Ee(0,"input",12),O(1,"button",13),ce(2,"Save"),N(),O(3,"button",14),ce(4,"Cancel"),N()),2&t&&z("formControl",ae(3).commentEditForm)}function IY(t,i){if(1&t){const e=Qe();O(0,"editable",9),Ae("save",function(){return Ie(e),Oe(ae(2).editComment())}),pe(1,EY,1,1,"ng-template",10),pe(2,MY,5,1,"ng-template",11),N()}}function OY(t,i){if(1&t&&(O(0,"p",15),ce(1),N()),2&t){const e=ae(2);j(1),ct(e.comment.reelcomment)}}const kY=function(t){return[t]};function PY(t,i){if(1&t&&(O(0,"div",1)(1,"div",2)(2,"p",3),Ee(3,"img",4),O(4,"a",5),ce(5),N(),ce(6," says : "),N()(),O(7,"div",6),pe(8,IY,3,0,"editable",7),pe(9,OY,2,1,"p",8),N()()),2&t){const e=ae();j(3),z("src","http://localhost:8000/"+e.profile.avatar,ai),j(1),z("routerLink",Lt(5,kY,"/profile/"+e.comment.commented_by)),j(1),Tt(" ",e.fullName," "),j(3),z("ngIf",!!e.showEditButton),j(1),z("ngIf",!e.showEditButton)}}let PM=(()=>{class t{constructor(e,n,r){this.authService=e,this.pService=n,this.rService=r,this.showEditButton=!1,this.reelcomment="",this.fullName=""}ngOnInit(){this.loadData()}editComment(){let e={id:this.comment.id,reelcomment:this.commentEditForm.value,reel:this.comment.reel,commented_by:this.comment.commented_by,approval:"app"};this.reelcomment=this.commentEditForm.value,this.rService.updateReelComment(this.comment.reel,e).subscribe(n=>{this.comment.reelcomment=this.commentEditForm.value})}loadData(){var e=this;return us(function*(){const n=e.authService.user();e.user=yield ii(n),e.loggedInUserId=e.user.id;const r=e.pService.fetchPublicProfile(e.comment.commented_by);e.profile=yield ii(r);const o=e.authService.publicUser(e.comment.commented_by);e.publicUser=yield ii(o),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name,+e.loggedInUserId==+e.comment.commented_by&&(e.showEditButton=!0),e.reelcomment=e.comment.reelcomment,e.commentEditForm=new xi(e.comment.reelcomment)})()}static#e=this.\u0275fac=function(n){return new(n||t)(M(Yt),M(hs),M(ur))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-comment-item"]],inputs:{comment:"comment",index:"index"},decls:1,vars:1,consts:[["class","container row",4,"ngIf"],[1,"container","row"],[1,"name","col-md-4","m-auto"],[1,"float-start","m-auto"],["alt","Profile Image",1,"circular_image",2,"margin-right","10px",3,"src"],[3,"routerLink"],[1,"body","col-md-8","m-auto"],["class","float-start","style","margin: 10px auto;","openBindingEvent","dblclick",3,"save",4,"ngIf"],["class","float-start","style","margin: 10px auto;",4,"ngIf"],["openBindingEvent","dblclick",1,"float-start",2,"margin","10px auto",3,"save"],["viewMode",""],["editMode",""],[3,"formControl"],["editableOnSave",""],["editableOnCancel",""],[1,"float-start",2,"margin","10px auto"]],template:function(n,r){1&n&&pe(0,PY,10,7,"div",0),2&n&&z("ngIf",!!r.comment&&!!r.profile)},dependencies:[vt,Es,yn,Gn,qf,hp,Zv,eb,EM,MM],styles:[".container[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;text-align:center;background:#e9ebdc;color:#000;margin:20px 0;height:100px;width:780px;align-content:center;display:flex}.circular_image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}"]})}return t})();function RY(t,i){if(1&t&&(O(0,"p",13),ce(1),N()),2&t){const e=ae(2);j(1),Tt(" Comments : ",e.comments.length,"")}}function FY(t,i){if(1&t){const e=Qe();O(0,"p",14),Ae("click",function(){return Ie(e),Oe(ae(2).showReactionInfo())}),ce(1),N()}if(2&t){const e=ae(2);j(1),wo(" Likes : ",e.totalLikes," , Loves : ",e.totalLoves," & Celebrations : ",e.totalCelebrates,"")}}function NY(t,i){if(1&t&&Ee(0,"app-reel-comment-item",17),2&t){const n=i.index;z("comment",i.$implicit)("index",n)}}function LY(t,i){if(1&t&&(O(0,"div",15),pe(1,NY,1,2,"app-reel-comment-item",16),N()),2&t){const e=ae(2);j(1),z("ngForOf",e.comments)}}function BY(t,i){if(1&t){const e=Qe();O(0,"div",2)(1,"div",3)(2,"h1",4),ce(3),N(),Ee(4,"img",5),N(),O(5,"div",0)(6,"div",2)(7,"div",6)(8,"button",7),Ae("click",function(){return Ie(e),Oe(ae().editReel())}),ce(9,"Edit Reel"),N(),O(10,"button",8),Ae("click",function(){return Ie(e),Oe(ae().addComment())}),ce(11,"Add Comment"),N()()(),Ee(12,"div",9),O(13,"div",2)(14,"div",6),pe(15,RY,2,1,"p",10),pe(16,FY,2,3,"p",11),N()()(),pe(17,LY,2,1,"div",12),N()}if(2&t){const e=i.ngIf,n=ae();j(3),Tt("Caption : ",e.caption,""),j(1),z("src",e.image,ai),j(11),z("ngIf",n.comments.length>0),j(1),z("ngIf",n.totalLikes>0||n.totalLoves>0||n.totalCelebrates>0),j(1),z("ngIf",n.comments.length>0)}}let VY=(()=>{class t{constructor(e,n,r,o,s){this.route=e,this.rService=n,this.dialog=r,this.authService=o,this.fService=s,this.comments=[],this.likes=[],this.loves=[],this.celebrates=[],this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0,this.showLike=!0,this.showLove=!0,this.showCelebrate=!0,this.isFriend=!1,this.canShowButton=!1,this.reelData={}}ngOnInit(){this.route.params.subscribe(e=>{this.reelId=e.reelId}),this.loadData()}addComment(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.disableClose=!0,this.dialog.open(kM,e).afterClosed().subscribe(n=>{if(n){let r={};r=this.canShowButton?{id:no(),reelcomment:n.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"app"}:{id:no(),reelcomment:n.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"rej"},this.rService.addReelComment(this.reelId,r).subscribe(()=>{const o={id:no(),reelcomment:n.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"app"};this.comments.push(o)})}})}showReactionInfo(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let n={};this.likes.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,n[s]=l})});let r={};this.loves.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,r[s]=l})});let o={};this.celebrates.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,o[s]=l})}),e.data={likes:n,loves:r,celebrates:o},this.dialog.open(dp,e)}editReel(){const e=new on;e.autoFocus=!0,e.minWidth="1200px",e.disableClose=!0,e.data={id:this.reelData.id,image:this.reelData.image,caption:this.reelData.caption},console.log(e),this.dialog.open(DY,e).afterClosed().subscribe(n=>{n&&(this.reelData.image="http://localhost:8000/"+n.image,this.reelData.caption=n.caption,this.reel$=lt({id:this.reelData.id,image:this.reelData.imag,caption:this.reelData.caption,reel_owner:this.reelData.reel_owner}),this.ngOnInit())})}loadData(){var e=this;return us(function*(){const n=e.authService.user();e.user=yield ii(n),e.loggedInUserId=e.user.id,e.reel$=e.rService.fetchReel(e.reelId),e.reel=yield ii(e.reel$),e.reel.reel_owner==e.loggedInUserId&&(e.canShowButton=!0),e.reelData.id=e.reel.id,e.reelData.caption=e.reel.caption,e.reelData.image=e.reel.image,e.friends$=e.fService.listFriends();const r=e.rService.fetchReelComments(e.reelId);e.comments=yield ii(r),e.reel.likes?.forEach(o=>{e.likes.push(o.id)}),e.reel.loves?.forEach(o=>{e.loves.push(o.id)}),e.reel.celebrates?.forEach(o=>{e.celebrates.push(o.id)}),e.totalLikes=e.likes.length,e.totalLoves=e.loves.length,e.totalCelebrates=e.celebrates.length,e.likes.forEach(o=>{o==+e.loggedInUserId?e.showLike=!1:console.log(o)}),e.loves.forEach(o=>{o==+e.loggedInUserId?e.showLove=!1:console.log(o)}),e.celebrates.forEach(o=>{o==+e.loggedInUserId?e.showCelebrate=!1:console.log(o)})})()}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(ur),M(Po),M(Yt),M(ya))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-detail"]],decls:3,vars:3,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow"],[2,"text-align","center","background-color","#a0c9d5","border-radius","5px","padding","10px"],[1,"card-img-top","img-fluid",2,"max-width","800px",3,"src"],[1,"col-md-12"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[1,"row",2,"height","20px"],["class","float-start","style","color:#2292b7; vertical-align: middle; margin: 0 10px !important;",4,"ngIf"],["class","float-end","style","cursor: pointer;color:#2292b7;text-decoration: underline;  vertical-align: middle;\n            margin: 0 10px !important;",3,"click",4,"ngIf"],["class","commentrow",4,"ngIf"],[1,"float-start",2,"color","#2292b7","vertical-align","middle","margin","0 10px !important"],[1,"float-end",2,"cursor","pointer","color","#2292b7","text-decoration","underline","vertical-align","middle","margin","0 10px !important",3,"click"],[1,"commentrow"],[3,"comment","index",4,"ngFor","ngForOf"],[3,"comment","index"]],template:function(n,r){1&n&&(O(0,"div",0),pe(1,BY,18,5,"div",1),Tn(2,"async"),N()),2&n&&(j(1),z("ngIf",Cr(2,1,r.reel$)))},dependencies:[ei,vt,PM,os],styles:[".container[_ngcontent-%COMP%]{margin:10px auto;padding:20px auto;justify-content:center;width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.mainrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;margin:20px auto}.commentrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}"]})}return t})();var HY=G(3259);function jY(t,i){1&t&&Ee(0,"img",7),2&t&&z("src",ae().loginData.img,ai)}let UY=(()=>{class t{constructor(e,n,r){this.formBuilder=e,this.router=n,this.authService=r,this.loginData={id:0,img:""}}ngOnInit(){this.form=this.formBuilder.group({code:""})}submit(){const e=this.form.getRawValue();this.authService.authenticatorLogin({...this.loginData,...e}).subscribe(r=>{this.authService.accessToken=r.token,this.authService.handleAuthentication(r.token),Yt.authEmitter.emit(!0),this.router.navigate(["/story"])})}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(ti),M(Yt))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-authenticator"]],inputs:{loginData:"loginData"},decls:11,vars:2,consts:[[1,"form-signin"],[3,"formGroup","submit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["formControlName","code","placeholder","6 digits code",1,"form-control"],["type","submit",1,"btn","btn-primary","float-end"],["style","align-items: center; width:200px;",3,"src",4,"ngIf"],[2,"align-items","center","width","200px",3,"src"]],template:function(n,r){1&n&&(O(0,"main",0)(1,"form",1),Ae("submit",function(){return r.submit()}),O(2,"h1",2),ce(3,"Please insert your authenticator code"),N(),O(4,"div",3),Ee(5,"input",4),O(6,"label"),ce(7,"6 digits code"),N()(),O(8,"button",5),ce(9,"Submit"),N()(),pe(10,jY,1,1,"img",6),N()),2&n&&(j(1),z("formGroup",r.form),j(9),z("ngIf",r.loginData.img))},dependencies:[vt,Oo,yn,Gn,zn,Rn,dr],styles:[".form-signin[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:10px 0;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:10px 0;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}return t})(),GY=(()=>{class t{constructor(e,n,r){this.formBuilder=e,this.router=n,this.authService=r,this.onLogin=new Ye}ngOnInit(){this.form=this.formBuilder.group({email:"",password:""})}submit(){this.authService.login(this.form.getRawValue()).subscribe(e=>this.onLogin.emit(e))}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(ti),M(Yt))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-form"]],outputs:{onLogin:"onLogin"},decls:14,vars:1,consts:[[1,"form-signin"],[3,"formGroup","submit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating","mb-3"],["formControlName","email","type","email","placeholder","name@example.com",1,"form-control"],["formControlName","password","type","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","float-end"]],template:function(n,r){1&n&&(O(0,"main",0)(1,"form",1),Ae("submit",function(){return r.submit()}),O(2,"h1",2),ce(3,"Please enter login details"),N(),O(4,"div",3),Ee(5,"input",4),O(6,"label"),ce(7,"Email address"),N()(),O(8,"div",3),Ee(9,"input",5),O(10,"label"),ce(11,"Password"),N()(),O(12,"button",6),ce(13,"Submit"),N()()()),2&n&&(j(1),z("formGroup",r.form))},dependencies:[Oo,yn,Gn,zn,Rn,dr],styles:[".form-signin[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:10px 0;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:10px 0;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}return t})();function zY(t,i){if(1&t){const e=Qe();O(0,"app-form",2),Ae("onLogin",function(r){return Ie(e),Oe(ae().onLogin(r))}),N()}}function WY(t,i){1&t&&Ee(0,"app-authenticator",3),2&t&&z("loginData",ae().loginData)}let $Y=(()=>{class t{constructor(){this.loginData={id:0,img:""}}ngOnInit(){}onLogin(e){this.loginData=e,e.otpauth_url&&HY.hz(e.otpauth_url,(n,r)=>{this.loginData.img=r})}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-login"]],decls:2,vars:2,consts:[[3,"onLogin",4,"ngIf"],[3,"loginData",4,"ngIf"],[3,"onLogin"],[3,"loginData"]],template:function(n,r){1&n&&(pe(0,zY,1,0,"app-form",0),pe(1,WY,1,1,"app-authenticator",1)),2&n&&(z("ngIf",0===r.loginData.id),j(1),z("ngIf",0!==r.loginData.id))},dependencies:[vt,UY,GY]})}return t})(),YY=(()=>{class t{constructor(e,n,r){this.formBuilder=e,this.router=n,this.authService=r}ngOnInit(){this.form=this.formBuilder.group({first_name:"",last_name:"",email:"",password:"",password_confirm:""})}submit(){this.authService.register(this.form.getRawValue()).subscribe(()=>this.router.navigate(["/login"]))}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(ti),M(Yt))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-register"]],decls:26,vars:1,consts:[[1,"form-signin"],[3,"formGroup","submit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating","mb-3"],["formControlName","first_name","placeholder","First Name",1,"form-control"],["formControlName","last_name","placeholder","Last Name",1,"form-control"],["formControlName","email","type","email","placeholder","name@example.com",1,"form-control"],["formControlName","password","type","password","placeholder","Password",1,"form-control"],["formControlName","password_confirm","type","password","placeholder","Password Confirm",1,"form-control"],["type","submit",1,"btn","btn-primary","float-end"]],template:function(n,r){1&n&&(O(0,"main",0)(1,"form",1),Ae("submit",function(){return r.submit()}),O(2,"h1",2),ce(3,"Please enter registration details"),N(),O(4,"div",3),Ee(5,"input",4),O(6,"label"),ce(7,"First Name"),N()(),O(8,"div",3),Ee(9,"input",5),O(10,"label"),ce(11,"Last Name"),N()(),O(12,"div",3),Ee(13,"input",6),O(14,"label"),ce(15,"Email address"),N()(),O(16,"div",3),Ee(17,"input",7),O(18,"label"),ce(19,"Password"),N()(),O(20,"div",3),Ee(21,"input",8),O(22,"label"),ce(23,"Confirm Password"),N()(),O(24,"button",9),ce(25,"Submit"),N()()()),2&n&&(j(1),z("formGroup",r.form))},dependencies:[Oo,yn,Gn,zn,Rn,dr],styles:[".form-signin[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}return t})(),RM=(()=>{class t{constructor(e){this.http=e,this.apiUrl="http://localhost:8000/a"}forgot(e){return this.http.post(`${this.apiUrl}/forgot`,e)}reset(e){return this.http.post(`${this.apiUrl}/reset`,e)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(To))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XY(t,i){if(1&t&&(O(0,"div",7),ce(1),N()),2&t){const e=ae();Ug("alert alert-",e.cls,""),j(1),Tt(" ",e.message," ")}}let QY=(()=>{class t{constructor(e,n){this.formBuilder=e,this.forgotService=n,this.cls="",this.message=""}ngOnInit(){this.form=this.formBuilder.group({email:""})}submit(){this.forgotService.forgot(this.form.getRawValue()).subscribe({next:()=>{this.cls="success",this.message="Email was sent!"},error:()=>{this.cls="danger",this.message="Error occurred!"}})}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(RM))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-forgot"]],decls:11,vars:2,consts:[[1,"form-signin"],["role","alert",3,"class",4,"ngIf"],[3,"formGroup","submit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["formControlName","email","type","email","placeholder","name@example.com",1,"form-control"],["type","submit",1,"w-100","btn","btn-lg","btn-primary","mt-3"],["role","alert"]],template:function(n,r){1&n&&(O(0,"main",0),pe(1,XY,2,4,"div",1),O(2,"form",2),Ae("submit",function(){return r.submit()}),O(3,"h1",3),ce(4,"Please insert your password"),N(),O(5,"div",4),Ee(6,"input",5),O(7,"label"),ce(8,"Email address"),N()(),O(9,"button",6),ce(10,"Submit"),N()()()),2&n&&(j(1),z("ngIf",r.cls),j(1),z("formGroup",r.form))},dependencies:[vt,Oo,yn,Gn,zn,Rn,dr]})}return t})(),KY=(()=>{class t{constructor(e,n,r,o){this.formBuilder=e,this.forgotService=n,this.route=r,this.router=o}ngOnInit(){this.form=this.formBuilder.group({password:"",password_confirm:""})}submit(){const n={...this.form.getRawValue(),token:this.route.snapshot.params.token};this.forgotService.reset(n).subscribe(()=>this.router.navigate(["/login"]))}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(RM),M(Ui),M(ti))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reset"]],decls:14,vars:1,consts:[[1,"form-signin"],[3,"formGroup","submit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["formControlName","password","type","password","placeholder","Password",1,"form-control"],["formControlName","password_confirm","type","password","placeholder","Password Confirm",1,"form-control"],["type","submit",1,"w-100","btn","btn-lg","btn-primary"]],template:function(n,r){1&n&&(O(0,"main",0)(1,"form",1),Ae("submit",function(){return r.submit()}),O(2,"h1",2),ce(3,"Please reset your password"),N(),O(4,"div",3),Ee(5,"input",4),O(6,"label"),ce(7,"Password"),N()(),O(8,"div",3),Ee(9,"input",5),O(10,"label"),ce(11,"Password Confirm"),N()(),O(12,"button",6),ce(13,"Submit"),N()()()),2&n&&(j(1),z("formGroup",r.form))},dependencies:[Oo,yn,Gn,zn,Rn,dr]})}return t})();function qY(t,i){if(1&t&&Ee(0,"app-reel-item",3),2&t){const n=i.index;z("reel",i.$implicit)("index",n)}}function JY(t,i){if(1&t&&(O(0,"div",1),pe(1,qY,1,2,"app-reel-item",2),N()),2&t){const e=ae();j(1),z("ngForOf",e.persReels)}}let ZY=(()=>{class t{constructor(e,n){this.rService=e,this.route=n,this.persReels=[]}ngOnInit(){this.route.params.subscribe(e=>{this.userId=+e.userId}),this.rService.fetchReelPersonal(this.userId).subscribe(e=>{e.forEach(n=>{this.persReels.push(n)})})}static#e=this.\u0275fac=function(n){return new(n||t)(M(ur),M(Ui))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-reel-personal"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[3,"reel","index",4,"ngFor","ngForOf"],[3,"reel","index"]],template:function(n,r){1&n&&pe(0,JY,2,1,"div",0),2&n&&z("ngIf",r.persReels)},dependencies:[ei,vt,Jv]})}return t})();function eX(t,i){if(1&t){const e=Qe();O(0,"div",1),Ee(1,"img",2),O(2,"div",3)(3,"h2",4),ce(4),Tn(5,"slice"),N(),O(6,"p",5),ce(7),Tn(8,"slice"),N()(),O(9,"div",6)(10,"div",7)(11,"a",8),Ae("click",function(){return Ie(e),Oe(ae().goToFeedReelList())}),ce(12,"Show Reels"),N()(),O(13,"div",7)(14,"a",9),Ae("click",function(){return Ie(e),Oe(ae().goToStoryDetail())}),ce(15,"Story Detail"),N()()(),O(16,"div",10)(17,"p",11),ce(18),N(),O(19,"p",12),ce(20),N()()()}if(2&t){const e=ae();j(1),z("src","http://localhost:8000/"+e.story.image,ai),j(3),ct(Qc(5,7,e.story.title,0,50)),j(3),ct(Qc(8,11,e.story.longDescription,0,100)),j(11),Tt("",e.commentNumbers," Comments"),j(2),wo("",e.likeNumbers," Likes, ",e.loveNumbers," Loves and ",e.celebrateNumbers," Celebrations")}}let tX=(()=>{class t{constructor(e,n,r,o){this.route=e,this.sService=n,this.router=r,this.dialog=o,this.reels=[]}ngOnInit(){this.story.reels.forEach(e=>{this.reels.push({image:"http://localhost:8000/"+e.image,thumbImage:"http://localhost:8000/"+e.image,title:e.caption})}),this.sService.fetchComments(this.story.id).subscribe(e=>{this.commentNumbers=e.length}),setTimeout(()=>{this.story&&(this.likeNumbers=this.story.likes?.length,this.loveNumbers=this.story.loves?.length,this.celebrateNumbers=this.story.celebrates?.length)},100)}goToFeedReelList(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.disableClose=!0,e.data=this.reels,this.dialog.open(gM,e)}goToStoryDetail(){console.log(this.story.id),this.router.navigate(["/feed/"+this.story.id])}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(cr),M(ti),M(Po))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-pushed-item"]],inputs:{story:"story",index:"index"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],["alt","story.title",1,"card-img-top","img-fluid",2,"max-height","600px","border-top-left-radius","5px","border-top-right-radius","5px",3,"src"],[1,"card-body","mb-0"],[1,"card-title"],[1,"card-text"],[1,"button-row"],[1,"col-md-6","mb-0"],[1,"btn","float-start",3,"click"],[1,"btn","float-end",3,"click"],[1,"card-footer"],[1,"float-start","text-muted","mb-0"],[1,"float-end","text-muted","mb-0"]],template:function(n,r){1&n&&pe(0,eX,21,15,"div",0),2&n&&z("ngIf",!!r.story)},dependencies:[vt,z_],styles:[".card[_ngcontent-%COMP%]{background:#d4f3fd;color:#000;float:none;display:flex;margin:20px auto;padding:10px auto;max-width:800px;max-height:800px}a.btn[_ngcontent-%COMP%]{border:3px solid;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.button-row[_ngcontent-%COMP%]{display:flex;padding:10px}.card-footer.p[_ngcontent-%COMP%]{vertical-align:middle;margin:0!important}"]})}return t})();function iX(t,i){if(1&t&&Ee(0,"app-pushed-item",3),2&t){const n=i.index;z("story",i.$implicit)("index",n)}}function nX(t,i){if(1&t&&(O(0,"div",1),pe(1,iX,1,2,"app-pushed-item",2),N()),2&t){const e=i.ngIf;j(1),z("ngForOf",e)}}let rX=(()=>{class t{constructor(e){this.sService=e}ngOnInit(){setTimeout(()=>{this.story_stories$=this.sService.fetchPushedStories(),this.reel_stories$=this.sService.fetchPushedReelStories(),this.stories$=Wr(this.story_stories$,this.reel_stories$)},100)}static#e=this.\u0275fac=function(n){return new(n||t)(M(cr))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-story-pushed"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"story","index",4,"ngFor","ngForOf"],[3,"story","index"]],template:function(n,r){1&n&&(pe(0,nX,2,1,"div",0),Tn(1,"async")),2&n&&z("ngIf",Cr(1,1,r.stories$))},dependencies:[ei,vt,tX,os],styles:[".container[_ngcontent-%COMP%]{margin:20px auto}"]})}return t})(),Kl=(()=>{class t{constructor(e,n){this.authService=e,this.router=n}canActivate(e,n){return JSON.parse(localStorage.getItem("access"))?(this.authService.checkValidity().subscribe(o=>{o.validity?(console.log("Authenticated"),this.isAuth=o.validity,Yt.authEmitter.emit(!0)):(console.log("Unauthenticated"),this.isAuth=o.validity,this.router.navigate(["/login"]),Yt.authEmitter.emit(!1))}),this.isAuth):(Yt.authEmitter.emit(!1),console.log("Unauthenticated"),this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(Yt),Ce(ti))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oX(t,i){if(1&t){const e=Qe();O(0,"div",1)(1,"div",2)(2,"p",3),ce(3,"Caption : "),O(4,"strong"),ce(5),N()()(),O(6,"div",4)(7,"div",5),Ee(8,"img",6),N(),O(9,"div",7)(10,"a",8),Ae("click",function(){Ie(e);const r=ae();return Oe(r.goToReelDetail(r.reel.id))}),ce(11,"Reel Detail"),N()()(),O(12,"div",9)(13,"p",10),ce(14),N(),O(15,"p",11),ce(16),N()()()}if(2&t){const e=ae();j(5),ct(e.reel.caption),j(3),z("src","http://localhost:8000/"+e.reel.image,ai),j(6),Tt("",e.commentNumbers," Comments"),j(2),wo("",e.totalLikes," Likes, ",e.totalLoves," Loves and ",e.totalCelebrates," Celebrations")}}let sX=(()=>{class t{constructor(e,n){this.router=e,this.rService=n,this.commentNumbers=0,this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0}ngOnInit(){this.totalLikes=this.reel.likes?.length||0,this.totalLoves=this.reel.loves?.length||0,this.totalCelebrates=this.reel.celebrates?.length||0,this.rService.fetchReelComments(this.reel.id).subscribe(e=>{this.commentNumbers=e.length})}goToReelDetail(e){this.router.navigateByUrl("feed/reel/"+e)}static#e=this.\u0275fac=function(n){return new(n||t)(M(ti),M(ur))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-pushed-reel-item"]],inputs:{reel:"reel",index:"index"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"row"],[1,"titlebox"],[1,"card-body","row"],[1,"col-md-6"],["alt","reel.caption",1,"img-thumbnail","rounded","mx-auto","d-block",2,"height","200px","border-radius","5px",3,"src"],[1,"col-md-6",2,"display","flex"],[1,"btn","btn-primary",2,"margin","auto auto",3,"click"],[1,"card-footer"],[1,"float-start","text-muted","mb-0"],[1,"float-end","text-muted","mb-0"]],template:function(n,r){1&n&&pe(0,oX,17,6,"div",0),2&n&&z("ngIf",!!r.reel)},dependencies:[vt],styles:[".card[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;background:#d4f3fd;text-align:center;color:#000;float:none;margin:20px auto;padding:10px auto;max-height:600px;width:780px;display:flex}.card-body[_ngcontent-%COMP%]{align-content:center}a.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-height:40px}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-height:40px}.card-body[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%] > .card-title[_ngcontent-%COMP%]{vertical-align:middle;margin:10px auto}.card-footer.p[_ngcontent-%COMP%]{vertical-align:middle;margin:0!important}.titlebox[_ngcontent-%COMP%]{text-align:center;background-color:#a0c9d5;border-top-left-radius:10px;border-top-right-radius:10px;margin:0 auto;padding:10px;max-width:776px}"]})}return t})();function aX(t,i){if(1&t&&(O(0,"div")(1,"h5"),ce(2),N()()),2&t){const e=i.$implicit;j(2),Tt("TAG : ",e.name,"")}}const lX=function(t){return[t]};function cX(t,i){if(1&t&&(O(0,"p"),ce(1,"Published by "),Ee(2,"img",17),O(3,"a",18),ce(4),N()()),2&t){const e=ae().ngIf,n=ae(2);j(2),z("src","http://localhost:8000/"+n.profile.avatar,ai),j(1),z("routerLink",Lt(3,lX,"/profile/"+e.owner)),j(1),Tt("",n.fullName," ")}}function dX(t,i){if(1&t&&Ee(0,"app-pushed-reel-item",19),2&t){const n=i.index;z("reel",i.$implicit)("index",n)}}function uX(t,i){if(1&t){const e=Qe();O(0,"button",20),Ae("click",function(){return Ie(e),Oe(ae(3).addComment())}),ce(1,"Add Comment"),N()}}function hX(t,i){if(1&t){const e=Qe();O(0,"button",21),Ae("click",function(){return Ie(e),Oe(ae(3).addLike())}),ce(1,"Add Like"),N()}}function fX(t,i){if(1&t){const e=Qe();O(0,"button",21),Ae("click",function(){return Ie(e),Oe(ae(3).deleteLike())}),ce(1,"Remove Like"),N()}}function pX(t,i){if(1&t){const e=Qe();O(0,"button",21),Ae("click",function(){return Ie(e),Oe(ae(3).addLove())}),ce(1,"Add Love"),N()}}function mX(t,i){if(1&t){const e=Qe();O(0,"button",21),Ae("click",function(){return Ie(e),Oe(ae(3).deleteLove())}),ce(1,"Remove Love"),N()}}function gX(t,i){if(1&t){const e=Qe();O(0,"button",21),Ae("click",function(){return Ie(e),Oe(ae(3).addCelebrate())}),ce(1,"Add Celebration"),N()}}function _X(t,i){if(1&t){const e=Qe();O(0,"button",21),Ae("click",function(){return Ie(e),Oe(ae(3).deleteCelebrate())}),ce(1,"Remove Celebration"),N()}}function vX(t,i){if(1&t&&(O(0,"p",22),ce(1),N()),2&t){const e=ae(3);j(1),Tt(" Comments : ",e.comments.length,"")}}function bX(t,i){if(1&t){const e=Qe();O(0,"p",23),Ae("click",function(){return Ie(e),Oe(ae(3).showReactionInfo())}),ce(1),N()}if(2&t){const e=ae(3);j(1),wo(" Likes : ",e.totalLikes," , Loves : ",e.totalLoves," & Celebrations : ",e.totalCelebrates,"")}}function yX(t,i){if(1&t&&Ee(0,"app-story-comment-item",26),2&t){const n=i.index;z("comment",i.$implicit)("index",n)}}function AX(t,i){if(1&t&&(O(0,"div",24),pe(1,yX,1,2,"app-story-comment-item",25),N()),2&t){const e=ae(3);j(1),z("ngForOf",e.comments)}}function CX(t,i){if(1&t&&(O(0,"div",3)(1,"div",4)(2,"h3"),ce(3),N(),O(4,"p"),ce(5),N(),O(6,"p"),ce(7),N(),Ee(8,"img",5),pe(9,aX,3,1,"div",6),pe(10,cX,5,5,"p",7),N(),O(11,"div",8),pe(12,dX,1,2,"app-pushed-reel-item",9),N(),O(13,"div",1)(14,"div",3)(15,"div",10),pe(16,uX,2,0,"button",11),pe(17,hX,2,0,"button",12),pe(18,fX,2,0,"button",12),pe(19,pX,2,0,"button",12),pe(20,mX,2,0,"button",12),pe(21,gX,2,0,"button",12),pe(22,_X,2,0,"button",12),N()(),Ee(23,"div",13),O(24,"div",3)(25,"div",10),pe(26,vX,2,1,"p",14),pe(27,bX,2,3,"p",15),N()()(),pe(28,AX,2,1,"div",16),N()),2&t){const e=i.ngIf,n=ae(2);j(3),ct(e.title),j(2),ct(e.description),j(2),ct(e.longDescription),j(1),vs("alt",e.title),z("src","http://localhost:8000/"+e.image,ai),j(1),z("ngForOf",e.tags),j(1),z("ngIf",!!n.profile),j(2),z("ngForOf",e.reels),j(4),z("ngIf",1==n.isFriend),j(1),z("ngIf",1==n.showLike),j(1),z("ngIf",0==n.showLike),j(1),z("ngIf",1==n.showLove),j(1),z("ngIf",0==n.showLove),j(1),z("ngIf",1==n.showCelebrate),j(1),z("ngIf",0==n.showCelebrate),j(4),z("ngIf",n.comments.length>0),j(1),z("ngIf",n.totalLikes>0||n.totalLoves>0||n.totalCelebrates>0),j(1),z("ngIf",n.comments.length>0)}}function wX(t,i){if(1&t&&(O(0,"div",1),pe(1,CX,29,18,"div",2),Tn(2,"async"),N()),2&t){const e=ae();j(1),z("ngIf",Cr(2,1,e.story$))}}let xX=(()=>{class t{constructor(e,n,r,o,s,l){this.route=e,this.sService=n,this.dialog=r,this.authService=o,this.fService=s,this.pService=l,this.likes=[],this.loves=[],this.celebrates=[],this.comments=[],this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0,this.showLike=!0,this.showLove=!0,this.showCelebrate=!0,this.fullName="",this.isFriend=!1,this.loggedInEmail=""}ngOnInit(){this.route.params.subscribe(e=>{this.storyId=e.storyId}),setTimeout(()=>{console.log(this.storyId),this.loadData()},100)}addComment(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.disableClose=!0,this.friends$.subscribe(n=>{n.forEach(r=>{r.id==this.loggedInUserId&&(this.isFriend=!0)})}),this.dialog.open(_M,e).afterClosed().subscribe(n=>{if(n){let r={};r=this.isFriend?{id:no(),storycomment:n.data,story:this.storyId,commented_by:this.loggedInUserId,approval:"app"}:{id:no(),storycomment:n.data,story:this.storyId,commented_by:this.loggedInUserId,approval:"rej"},this.sService.addStoryComment(this.storyId,r).subscribe(()=>{this.comments.push({id:r.id,storycomment:r.storycomment,story:r.story,commented_by:r.commented_by,approval:"app"})})}})}showReactionInfo(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let n={};this.likes.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,n[s]=l})});let r={};this.loves.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,r[s]=l})});let o={};this.celebrates.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{console.log(_),l=_.first_name+" "+_.last_name,o[s]=l})}),e.data={likes:n,loves:r,celebrates:o},this.dialog.open(dp,e)}addLike(){this.sService.addStoryLike(this.storyId).subscribe(()=>{this.likes.includes(this.loggedInUserId)||(this.totalLikes+=1,this.likes.push(this.loggedInUserId)),this.showLike=!1})}addLove(){this.sService.addStoryLove(this.storyId).subscribe(()=>{this.loves.includes(this.loggedInUserId)||(this.totalLoves+=1,this.loves.push(this.loggedInUserId)),this.showLove=!1})}addCelebrate(){this.sService.addStoryCelebrate(this.storyId).subscribe(()=>{this.celebrates.includes(this.loggedInUserId)||(this.totalCelebrates+=1,this.celebrates.push(this.loggedInUserId))}),this.showCelebrate=!1}deleteLike(){this.sService.removeStoryLike(this.storyId).subscribe(()=>{this.likes.includes(this.loggedInUserId)&&(this.totalLikes-=1,this.likes.forEach((e,n)=>{this.loggedInUserId==e&&this.likes.splice(n,1)}))}),this.showLike=!0}deleteLove(){this.sService.removeStoryLove(this.storyId).subscribe(()=>{this.loves.includes(this.loggedInUserId)&&(this.totalLoves-=1,this.loves.forEach((e,n)=>{this.loggedInUserId==e&&this.loves.splice(n,1)}))}),this.showLove=!0}deleteCelebrate(){this.sService.removeStoryCelebrate(this.storyId).subscribe(()=>{this.celebrates.includes(this.loggedInUserId)&&(this.totalCelebrates-=1,this.celebrates.forEach((e,n)=>{this.loggedInUserId==e&&this.celebrates.splice(n,1)}))}),this.showCelebrate=!0}loadData(){var e=this;return us(function*(){const n=e.authService.user();e.user=yield ii(n),e.loggedInUserId=e.user.id,e.loggedInEmail=e.user.email,e.story$=e.sService.fetchFeedStory(e.storyId),e.story=yield ii(e.story$),e.storyOwner=e.story.owner;const r=e.authService.publicUser(e.storyOwner);e.publicUser=yield ii(r),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name,e.friends$=e.fService.listFriends(),e.friends=yield ii(e.friends$),e.friends.forEach(l=>{l.id===e.storyOwner&&(e.isFriend=!0)});const o=e.pService.fetchPublicProfile(e.storyOwner);e.profile=yield ii(o);const s=e.sService.fetchComments(e.storyId);e.comments=yield ii(s),e.story.likes?.forEach(l=>{e.likes.push(l.id)}),e.story.loves?.forEach(l=>{e.loves.push(l.id)}),e.story.celebrates?.forEach(l=>{e.celebrates.push(l.id)}),e.totalLikes=e.likes.length,e.totalLoves=e.loves.length,e.totalCelebrates=e.celebrates.length,e.likes.forEach(l=>{l==+e.loggedInUserId&&(e.showLike=!1)}),e.loves.forEach(l=>{l==+e.loggedInUserId&&(e.showLove=!1)}),e.celebrates.forEach(l=>{l==+e.loggedInUserId&&(e.showCelebrate=!1)})})()}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(cr),M(Po),M(Yt),M(ya),M(hs))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-pushed-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow"],[1,"card-img-top","img-fluid",3,"src","alt"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"reelrow"],[3,"reel","index",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","btn btn-primary float-start",3,"click",4,"ngIf"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"row",2,"height","20px"],["class","float-start","style","color:#2292b7; vertical-align: middle; margin: 0 10px !important;",4,"ngIf"],["class","float-end","style","cursor: pointer;color:#2292b7;text-decoration: underline;  vertical-align: middle;\n            margin: 0 10px !important;",3,"click",4,"ngIf"],["class","commentrow",4,"ngIf"],["alt","Profile Image",1,"circular_image",2,"margin-right","5px",3,"src"],[2,"color","#2292b7","vertical-align","middle","margin","0 10px !important",3,"routerLink"],[3,"reel","index"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[1,"float-start",2,"color","#2292b7","vertical-align","middle","margin","0 10px !important"],[1,"float-end",2,"cursor","pointer","color","#2292b7","text-decoration","underline","vertical-align","middle","margin","0 10px !important",3,"click"],[1,"commentrow"],[3,"comment","index",4,"ngFor","ngForOf"],[3,"comment","index"]],template:function(n,r){1&n&&pe(0,wX,3,3,"div",0),2&n&&z("ngIf",!!r.loggedInUserId)},dependencies:[ei,vt,Es,OM,sX,os],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.mainrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;margin:20px auto!important}.reelrow[_ngcontent-%COMP%], .commentrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.circular_image[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}"]})}return t})();function SX(t,i){if(1&t){const e=Qe();O(0,"button",13),Ae("click",function(){return Ie(e),Oe(ae(2).addComment())}),ce(1,"Add Comment"),N()}}function TX(t,i){if(1&t){const e=Qe();O(0,"button",14),Ae("click",function(){return Ie(e),Oe(ae(2).addLike())}),ce(1,"Add Like"),N()}}function DX(t,i){if(1&t){const e=Qe();O(0,"button",14),Ae("click",function(){return Ie(e),Oe(ae(2).deleteLike())}),ce(1,"Remove Like"),N()}}function EX(t,i){if(1&t){const e=Qe();O(0,"button",14),Ae("click",function(){return Ie(e),Oe(ae(2).addLove())}),ce(1,"Add Love"),N()}}function MX(t,i){if(1&t){const e=Qe();O(0,"button",14),Ae("click",function(){return Ie(e),Oe(ae(2).deleteLove())}),ce(1,"Remove Love"),N()}}function IX(t,i){if(1&t){const e=Qe();O(0,"button",14),Ae("click",function(){return Ie(e),Oe(ae(2).addCelebrate())}),ce(1,"Add Celebration"),N()}}function OX(t,i){if(1&t){const e=Qe();O(0,"button",14),Ae("click",function(){return Ie(e),Oe(ae(2).deleteCelebrate())}),ce(1,"Remove Celebration"),N()}}function kX(t,i){if(1&t&&(O(0,"p",15),ce(1),N()),2&t){const e=ae(2);j(1),Tt(" Comments : ",e.comments.length,"")}}function PX(t,i){if(1&t){const e=Qe();O(0,"p",16),Ae("click",function(){return Ie(e),Oe(ae(2).showReactionInfo())}),ce(1),N()}if(2&t){const e=ae(2);j(1),wo(" Likes : ",e.totalLikes," , Loves : ",e.totalLoves," & Celebrations : ",e.totalCelebrates,"")}}function RX(t,i){if(1&t&&Ee(0,"app-reel-comment-item",19),2&t){const n=i.index;z("comment",i.$implicit)("index",n)}}function FX(t,i){if(1&t&&(O(0,"div",17),pe(1,RX,1,2,"app-reel-comment-item",18),N()),2&t){const e=ae(2);j(1),z("ngForOf",e.comments)}}function NX(t,i){if(1&t&&(O(0,"div",2)(1,"div",3)(2,"h1",4),ce(3),N(),Ee(4,"img",5),N(),O(5,"div",0)(6,"div",2)(7,"div",6),pe(8,SX,2,0,"button",7),pe(9,TX,2,0,"button",8),pe(10,DX,2,0,"button",8),pe(11,EX,2,0,"button",8),pe(12,MX,2,0,"button",8),pe(13,IX,2,0,"button",8),pe(14,OX,2,0,"button",8),N()(),Ee(15,"div",9),O(16,"div",2)(17,"div",6),pe(18,kX,2,1,"p",10),pe(19,PX,2,3,"p",11),N()()(),pe(20,FX,2,1,"div",12),N()),2&t){const e=i.ngIf,n=ae();j(3),Tt("Caption : ",e.caption,""),j(1),z("src","http://localhost:8000/"+e.image,ai),j(4),z("ngIf",1==n.isFriend),j(1),z("ngIf",1==n.showLike),j(1),z("ngIf",0==n.showLike),j(1),z("ngIf",1==n.showLove),j(1),z("ngIf",0==n.showLove),j(1),z("ngIf",1==n.showCelebrate),j(1),z("ngIf",0==n.showCelebrate),j(4),z("ngIf",n.comments.length>0),j(1),z("ngIf",n.totalLikes>0||n.totalLoves>0||n.totalCelebrates>0),j(1),z("ngIf",n.comments.length>0)}}let LX=(()=>{class t{constructor(e,n,r,o,s){this.route=e,this.rService=n,this.dialog=r,this.authService=o,this.fService=s,this.comments=[],this.likes=[],this.loves=[],this.celebrates=[],this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0,this.showLike=!0,this.showLove=!0,this.showCelebrate=!0,this.fullName="",this.isFriend=!1}ngOnInit(){this.route.params.subscribe(e=>{this.reelId=e.reelId,this.friends$=this.fService.listFriends()}),this.loadData()}addComment(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.disableClose=!0,this.friends$.subscribe(n=>{n.forEach(r=>{r.id==this.loggedInUserId&&(this.isFriend=!0)})}),this.dialog.open(kM,e).afterClosed().subscribe(n=>{if(n){let r={};r=this.isFriend?{id:no(),reelcomment:n.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"app"}:{id:no(),reelcomment:n.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"rej"},this.rService.addReelComment(this.reelId,r).subscribe(()=>{this.comments.push({id:r.id,reelcomment:r.reelcomment,reel:r.reel,commented_by:r.commented_by,approval:"app"})})}})}addLike(){this.rService.addReelLike(this.reelId).subscribe(()=>{this.likes.includes(this.loggedInUserId)||(this.totalLikes+=1,this.likes.push(this.loggedInUserId)),this.showLike=!1})}addLove(){this.rService.addReelLove(this.reelId).subscribe(()=>{this.loves.includes(this.loggedInUserId)||(this.totalLoves+=1,this.loves.push(this.loggedInUserId)),this.showLove=!1})}addCelebrate(){this.rService.addReelCelebrate(this.reelId).subscribe(()=>{this.celebrates.includes(this.loggedInUserId)||(this.totalCelebrates+=1,this.celebrates.push(this.loggedInUserId))}),this.showCelebrate=!1}deleteLike(){this.rService.removeReelLike(this.reelId).subscribe(()=>{this.likes.includes(this.loggedInUserId)&&(this.totalLikes-=1,this.likes.forEach((e,n)=>{this.loggedInUserId==e&&this.likes.splice(n,1)}))}),this.showLike=!0}deleteLove(){this.rService.removeReelLove(this.reelId).subscribe(()=>{this.loves.includes(this.loggedInUserId)&&(this.totalLoves-=1,this.loves.forEach((e,n)=>{this.loggedInUserId==e&&this.loves.splice(n,1)}))}),this.showLove=!0}deleteCelebrate(){this.rService.removeReelCelebrate(this.reelId).subscribe(()=>{this.celebrates.includes(this.loggedInUserId)&&(this.totalCelebrates-=1,this.celebrates.forEach((e,n)=>{this.loggedInUserId==e&&this.celebrates.splice(n,1)}))}),this.showCelebrate=!0}showReactionInfo(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let n={};this.likes.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,n[s]=l})});let r={};this.loves.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,r[s]=l})});let o={};this.celebrates.forEach(s=>{let l;this.authService.publicUser(s).subscribe(_=>{l=_.first_name+" "+_.last_name,o[s]=l})}),e.data={likes:n,loves:r,celebrates:o},this.dialog.open(dp,e)}loadData(){var e=this;return us(function*(){const n=e.authService.user();e.user=yield ii(n),e.loggedInUserId=e.user.id,e.reel$=e.rService.fetchReelforFeed(e.reelId),e.reel=yield ii(e.reel$),e.reelOwner=e.reel.reel_owner;const r=e.authService.publicUser(e.reelOwner);e.publicUser=yield ii(r),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name,e.friends$=e.fService.listFriends(),e.friends=yield ii(e.friends$),e.friends.forEach(s=>{s.id===e.reelOwner&&(e.isFriend=!0)});const o=e.rService.fetchReelComments(e.reelId);e.comments=yield ii(o),e.reel.likes?.forEach(s=>{e.likes.push(s.id)}),e.reel.loves?.forEach(s=>{e.loves.push(s.id)}),e.reel.celebrates?.forEach(s=>{e.celebrates.push(s.id)}),e.totalLikes=e.likes.length,e.totalLoves=e.loves.length,e.totalCelebrates=e.celebrates.length,e.likes.forEach(s=>{s==+e.loggedInUserId?e.showLike=!1:console.log(s)}),e.loves.forEach(s=>{s==+e.loggedInUserId?e.showLove=!1:console.log(s)}),e.celebrates.forEach(s=>{s==+e.loggedInUserId?e.showCelebrate=!1:console.log(s)})})()}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(ur),M(Po),M(Yt),M(ya))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-pushed-reel-detail"]],decls:3,vars:3,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow"],[2,"text-align","center","background-color","#a0c9d5","border-radius","5px","padding","10px"],[1,"card-img-top","img-fluid",2,"max-width","800px",3,"src"],[1,"col-md-12"],["class","btn btn-primary float-start",3,"click",4,"ngIf"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"row",2,"height","20px"],["class","float-start","style","color:#2292b7; vertical-align: middle; margin: 0 10px !important;",4,"ngIf"],["class","float-end","style","cursor: pointer;color:#2292b7;text-decoration: underline;  vertical-align: middle;\n            margin: 0 10px !important;",3,"click",4,"ngIf"],["class","commentrow",4,"ngIf"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[1,"float-start",2,"color","#2292b7","vertical-align","middle","margin","0 10px !important"],[1,"float-end",2,"cursor","pointer","color","#2292b7","text-decoration","underline","vertical-align","middle","margin","0 10px !important",3,"click"],[1,"commentrow"],[3,"comment","index",4,"ngFor","ngForOf"],[3,"comment","index"]],template:function(n,r){1&n&&(O(0,"div",0),pe(1,NX,21,12,"div",1),Tn(2,"async"),N()),2&n&&(j(1),z("ngIf",Cr(2,1,r.reel$)))},dependencies:[ei,vt,PM,os],styles:[".container[_ngcontent-%COMP%]{margin:10px auto;padding:20px auto;justify-content:center;width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.mainrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;margin:20px auto}.commentrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}"]})}return t})(),tb=(()=>{class t{constructor(){this.avatar=null}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BX(t,i){if(1&t&&(O(0,"div",7)(1,"div",23),Ee(2,"img",24),N()()),2&t){const e=ae(2);j(2),z("src",e.imageUrl,ai)}}function VX(t,i){if(1&t){const e=Qe();wn(0)(1,6),O(2,"div",7)(3,"div",8)(4,"div",9)(5,"label",10),ce(6,"Status"),N(),Ee(7,"input",11),N()()(),O(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",12),ce(12,"Bio"),N(),Ee(13,"input",13),N()()(),O(14,"div",7)(15,"div",8)(16,"div",9)(17,"label",14),ce(18,"Gender"),N(),Ee(19,"input",15),N()()(),pe(20,BX,3,1,"div",16),O(21,"div",7)(22,"div",17)(23,"div",9)(24,"input",18),Ae("change",function(r){return Ie(e),Oe(ae().onFileSelected(r))}),N()()()(),O(25,"div",7)(26,"div",8)(27,"div",9)(28,"label",19),ce(29,"City"),N(),Ee(30,"input",20),N()()(),O(31,"div",7)(32,"div",8)(33,"div",9)(34,"label",21),ce(35,"URL"),N(),Ee(36,"input",22),N()()(),xn()()}if(2&t){const e=ae();j(1),z("formGroup",e.profileForm),j(19),z("ngIf",!!e.imageUrl)}}let HX=(()=>{class t{constructor(e,n,r,o){this.fb=e,this.dialogRef=n,this.pFileTransferService=o,this.profileForm=this.fb.group({status:["",pi.required],bio:["",pi.required],city:["",pi.required],url:["",pi.required],gender:["",pi.required],avatar:[null,pi.required]})}ngOnInit(){}onFileSelected(e){this.selectedFile=e.target.files[0],console.log(this.selectedFile),this.imageUrl=URL.createObjectURL(this.selectedFile),this.pFileTransferService.avatar=this.selectedFile}onClose(){this.dialogRef.close()}onSave(){this.dialogRef.close({data:this.profileForm.value})}static#e=this.\u0275fac=function(n){return new(n||t)(M(so),M(ao),M(ko),M(tb))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-private-profile-create"]],decls:12,vars:1,consts:[[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[4,"ngIf"],[1,"buttonrow","row"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],["enctype","multipart/form-data",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","status"],["type","text","id","status","formControlName","status",1,"form-control"],["for","bio"],["type","text","id","bio","formControlName","bio",1,"form-control"],["for","gender"],["type","text","id","gender","formControlName","gender",1,"form-control"],["class","row",4,"ngIf"],[1,"col-xs-12"],["type","file","accept","image/*",3,"change"],["for","city"],["type","text","id","city","formControlName","city",1,"form-control"],["for","url"],["type","text","id","url","formControlName","url",1,"form-control"],[1,"col-xs-12","imagerow"],[2,"max-width","200px",3,"src"]],template:function(n,r){1&n&&(O(0,"h2",0),ce(1,"New Profile Creation"),N(),O(2,"mat-dialog-content"),pe(3,VX,37,2,"ng-container",1),N(),O(4,"mat-dialog-actions")(5,"div",2)(6,"div",3)(7,"button",4),Ae("click",function(){return r.onSave()}),ce(8," Add Profile "),N()(),O(9,"div",3)(10,"button",5),Ae("click",function(){return r.onClose()}),ce(11," Cancel "),N()()()()),2&n&&(j(3),z("ngIf",r.profileForm))},dependencies:[vt,Qd,Kd,yn,Gn,zn,Rn,dr]})}return t})();const{isArray:jX}=Array;function FM(t){return 1===t.length&&jX(t[0])?t[0]:t}const LM=new te(c);function fp(...t){const i=mu(t),e=FM(t);return e.length?new te(n=>{let r=e.map(()=>[]),o=e.map(()=>!1);n.add(()=>{r=o=null});for(let s=0;!n.closed&&s<e.length;s++)Qi(e[s]).subscribe(ge(n,l=>{if(r[s].push(l),r.every(_=>_.length)){const _=r.map(S=>S.shift());n.next(i?i(..._):_),r.some((S,T)=>!S.length&&o[T])&&n.complete()}},()=>{o[s]=!0,!r[s].length&&n.complete()}));return()=>{r=o=null}}):pr}function YQ(t,i){}function XQ(t,i){if(1&t&&(O(0,"button",3),ce(1),pe(2,YQ,0,0,"ng-template",4),N()),2&t){const e=i.$implicit;z("ngbPanelToggle",e),j(1),Tt(" ",e.title," "),j(1),z("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function QQ(t,i){}function KQ(t,i){}function qQ(t,i){if(1&t){const e=Qe();O(0,"div",8),Ae("ngbRef",function(r){return Ie(e),Oe(ae().$implicit.panelDiv=r)}),O(1,"div",9),pe(2,KQ,0,0,"ng-template",4),N()()}if(2&t){const e=ae().$implicit;vs("id",e.id),mt("aria-labelledby",e.id+"-header"),j(2),z("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}Math,Math,Math;const JQ=function(t,i){return{$implicit:t,opened:i}};function ZQ(t,i){if(1&t&&(O(0,"div")(1,"div",5),pe(2,QQ,0,0,"ng-template",6),N(),pe(3,qQ,3,3,"div",7),N()),2&t){const e=i.$implicit,n=ae(),r=_i(1);es("accordion-item "+(e.cardClass||"")),j(1),es("accordion-header "+(e.type?"bg-"+e.type:n.type?"bg-"+n.type:"")),uh("id","",e.id,"-header"),j(1),z("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||r)("ngTemplateOutletContext",Lr(8,JQ,e,e.isOpen)),j(1),z("ngIf",!n.destroyOnHide||e.isOpen||e.transitionRunning)}}function eK(t,i){if(1&t){const e=Qe();O(0,"button",1),Ae("click",function(){return Ie(e),Oe(ae().close())}),N()}}const vp=["*"];function tK(t,i){if(1&t){const e=Qe();O(0,"button",6),Ae("click",function(){const o=Ie(e).$implicit,s=ae();return s.focus(),Oe(s.select(o.id,s.NgbSlideEventSource.INDICATOR))}),N()}if(2&t){const e=i.$implicit,n=ae();tt("active",e.id===n.activeId),mt("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===n.activeId)}}function iK(t,i){}function nK(t,i){if(1&t&&(O(0,"div",7)(1,"span",8),Sn(2,9),N(),pe(3,iK,0,0,"ng-template",10),N()),2&t){const e=i.$implicit,n=i.index,r=i.count;z("id","slide-"+e.id),j(2),Al(n+1)(r),Yc(2),j(1),z("ngTemplateOutlet",e.tplRef)}}function rK(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){return Ie(e),Oe(ae().arrowLeft())}),Ee(1,"span",12),O(2,"span",8),Sn(3,13),N()()}}function oK(t,i){if(1&t){const e=Qe();O(0,"button",14),Ae("click",function(){return Ie(e),Oe(ae().arrowRight())}),Ee(1,"span",15),O(2,"span",8),Sn(3,16),N()()}}const sK=["ngbDatepickerDayView",""],aK=["month"],lK=["year"];function cK(t,i){if(1&t&&(O(0,"option",5),ce(1),N()),2&t){const e=i.$implicit,n=ae();z("value",e),mt("aria-label",n.i18n.getMonthFullName(e,n.date.year)),j(1),ct(n.i18n.getMonthShortName(e,n.date.year))}}function dK(t,i){if(1&t&&(O(0,"option",5),ce(1),N()),2&t){const e=i.$implicit,n=ae();z("value",e),j(1),ct(n.i18n.getYearNumerals(e))}}function uK(t,i){if(1&t){const e=Qe();O(0,"ngb-datepicker-navigation-select",7),Ae("select",function(r){return Ie(e),Oe(ae().select.emit(r))}),N()}if(2&t){const e=ae();z("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function hK(t,i){1&t&&Ee(0,"div",0)}function fK(t,i){1&t&&Ee(0,"div",0)}function pK(t,i){if(1&t&&(pe(0,hK,1,0,"div",9),O(1,"div",10),ce(2),N(),pe(3,fK,1,0,"div",9)),2&t){const e=i.$implicit,n=i.index,r=ae(2);z("ngIf",n>0),j(2),Tt(" ",r.i18n.getMonthLabel(e.firstDate)," "),j(1),z("ngIf",n!==r.months.length-1)}}function mK(t,i){1&t&&pe(0,pK,4,3,"ng-template",8),2&t&&z("ngForOf",ae().months)}function gK(t,i){if(1&t&&(O(0,"div",5),ce(1),N()),2&t){const e=ae(2);j(1),ct(e.i18n.getWeekLabel())}}function _K(t,i){if(1&t&&(O(0,"div",6),ce(1),N()),2&t){const e=i.$implicit;j(1),ct(e)}}function vK(t,i){if(1&t&&(O(0,"div",2),pe(1,gK,2,1,"div",3),pe(2,_K,2,1,"div",4),N()),2&t){const e=ae();j(1),z("ngIf",e.datepicker.showWeekNumbers),j(1),z("ngForOf",e.viewModel.weekdays)}}function bK(t,i){if(1&t&&(O(0,"div",11),ce(1),N()),2&t){const e=ae(2).$implicit,n=ae();j(1),ct(n.i18n.getWeekNumerals(e.number))}}function yK(t,i){}function AK(t,i){if(1&t&&pe(0,yK,0,0,"ng-template",14),2&t){const e=ae().$implicit;z("ngTemplateOutlet",ae(3).datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function CK(t,i){if(1&t){const e=Qe();O(0,"div",12),Ae("click",function(r){const s=Ie(e).$implicit;return ae(3).doSelect(s),Oe(r.preventDefault())}),pe(1,AK,1,2,"ng-template",13),N()}if(2&t){const e=i.$implicit;tt("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),z("tabindex",e.tabindex),mt("aria-label",e.ariaLabel),j(1),z("ngIf",!e.hidden)}}function wK(t,i){if(1&t&&(O(0,"div",8),pe(1,bK,2,1,"div",9),pe(2,CK,2,9,"div",10),N()),2&t){const e=ae().$implicit,n=ae();j(1),z("ngIf",n.datepicker.showWeekNumbers),j(1),z("ngForOf",e.days)}}function xK(t,i){1&t&&pe(0,wK,3,2,"div",7),2&t&&z("ngIf",!i.$implicit.collapsed)}const SK=["defaultDayTemplate"],TK=["content"];function DK(t,i){if(1&t&&Ee(0,"div",8),2&t){const n=i.currentMonth,r=i.selected,o=i.disabled,s=i.focused;z("date",i.date)("currentMonth",n)("selected",r)("disabled",o)("focused",s)}}function EK(t,i){if(1&t&&(O(0,"div",13),ce(1),N()),2&t){const e=ae().$implicit,n=ae(2);j(1),Tt(" ",n.i18n.getMonthLabel(e.firstDate)," ")}}function MK(t,i){if(1&t&&(O(0,"div",10),pe(1,EK,2,1,"div",11),Ee(2,"ngb-datepicker-month",12),N()),2&t){const e=i.$implicit,n=ae(2);j(1),z("ngIf","none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),j(1),z("month",e.firstDate)}}function IK(t,i){1&t&&pe(0,MK,3,2,"div",9),2&t&&z("ngForOf",ae().model.months)}function OK(t,i){if(1&t){const e=Qe();O(0,"ngb-datepicker-navigation",14),Ae("navigate",function(r){return Ie(e),Oe(ae().onNavigateEvent(r))})("select",function(r){return Ie(e),Oe(ae().onNavigateDateSelect(r))}),N()}if(2&t){const e=ae();z("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function kK(t,i){}function PK(t,i){}const eI=function(t){return{$implicit:t}},RK=["dialog"],FK=["ngbNavOutlet",""];function NK(t,i){}function LK(t,i){if(1&t&&(O(0,"div",2),pe(1,NK,0,0,"ng-template",3),N()),2&t){const e=ae().$implicit,n=ae();z("item",e)("nav",n.nav)("role",n.paneRole),j(1),z("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",Lt(5,eI,e.active||n.isPanelTransitioning(e)))}}function BK(t,i){if(1&t&&pe(0,LK,2,7,"div",1),2&t){const e=i.$implicit,n=ae();z("ngIf",e.isPanelInDom()||n.isPanelTransitioning(e))}}function VK(t,i){1&t&&(O(0,"span",9),Sn(1,10),N())}function HK(t,i){1&t&&(O(0,"span",9),Sn(1,11),N())}function jK(t,i){1&t&&(O(0,"span",9),Sn(1,12),N())}function UK(t,i){1&t&&(O(0,"span",9),Sn(1,13),N())}function GK(t,i){1&t&&ce(0,"...")}function zK(t,i){1&t&&ce(0),2&t&&ct(i.$implicit)}function WK(t,i){}const $K=function(t){return{disabled:!0,currentPage:t}};function YK(t,i){if(1&t&&(O(0,"a",18),pe(1,WK,0,0,"ng-template",8),N()),2&t){const e=ae(2).$implicit,n=ae(),r=_i(9);j(1),z("ngTemplateOutlet",(null==n.tplEllipsis?null:n.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",Lt(2,$K,e))}}function XK(t,i){}const QK=function(t,i,e){return{disabled:t,$implicit:i,currentPage:e}};function KK(t,i){if(1&t){const e=Qe();O(0,"a",19),Ae("click",function(r){Ie(e);const o=ae().$implicit;return ae(2).selectPage(o),Oe(r.preventDefault())}),pe(1,XK,0,0,"ng-template",8),N()}if(2&t){const e=ae().$implicit,n=ae(),r=n.disabled,o=n.$implicit,s=ae(),l=_i(11);mt("tabindex",r?"-1":null)("aria-disabled",r?"true":null),j(1),z("ngTemplateOutlet",(null==s.tplNumber?null:s.tplNumber.templateRef)||l)("ngTemplateOutletContext",wl(4,QK,r,e,o))}}function qK(t,i){if(1&t&&(O(0,"li",15),pe(1,YK,2,4,"a",16),pe(2,KK,2,8,"a",17),N()),2&t){const e=i.$implicit,n=ae(),r=n.$implicit,o=n.disabled,s=ae();tt("active",e===r)("disabled",s.isEllipsis(e)||o),mt("aria-current",e===r?"page":null),j(1),z("ngIf",s.isEllipsis(e)),j(1),z("ngIf",!s.isEllipsis(e))}}function JK(t,i){1&t&&pe(0,qK,3,7,"li",14),2&t&&z("ngForOf",i.pages)}function ZK(t,i){}const hb=function(t,i){return{disabled:t,currentPage:i}};function eq(t,i){if(1&t){const e=Qe();O(0,"li",15)(1,"a",20),Ae("click",function(r){return Ie(e),ae().selectPage(1),Oe(r.preventDefault())}),pe(2,ZK,0,0,"ng-template",8),N()()}if(2&t){const e=ae(),n=_i(1);tt("disabled",e.previousDisabled()),j(1),mt("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),j(1),z("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||n)("ngTemplateOutletContext",Lr(6,hb,e.previousDisabled(),e.page))}}function tq(t,i){}const iq=function(t){return{disabled:t}};function nq(t,i){if(1&t){const e=Qe();O(0,"li",15)(1,"a",21),Ae("click",function(r){Ie(e);const o=ae();return o.selectPage(o.page-1),Oe(r.preventDefault())}),pe(2,tq,0,0,"ng-template",8),N()()}if(2&t){const e=ae(),n=_i(3);tt("disabled",e.previousDisabled()),j(1),mt("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),j(1),z("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||n)("ngTemplateOutletContext",Lt(6,iq,e.previousDisabled()))}}function rq(t,i){}function oq(t,i){}function sq(t,i){if(1&t){const e=Qe();O(0,"li",15)(1,"a",22),Ae("click",function(r){Ie(e);const o=ae();return o.selectPage(o.page+1),Oe(r.preventDefault())}),pe(2,oq,0,0,"ng-template",8),N()()}if(2&t){const e=ae(),n=_i(5);tt("disabled",e.nextDisabled()),j(1),mt("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),j(1),z("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||n)("ngTemplateOutletContext",Lr(6,hb,e.nextDisabled(),e.page))}}function aq(t,i){}function lq(t,i){if(1&t){const e=Qe();O(0,"li",15)(1,"a",23),Ae("click",function(r){Ie(e);const o=ae();return o.selectPage(o.pageCount),Oe(r.preventDefault())}),pe(2,aq,0,0,"ng-template",8),N()()}if(2&t){const e=ae(),n=_i(7);tt("disabled",e.nextDisabled()),j(1),mt("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),j(1),z("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||n)("ngTemplateOutletContext",Lr(6,hb,e.nextDisabled(),e.page))}}const cq=function(t,i,e){return{$implicit:t,pages:i,disabled:e}};function hq(t,i){if(1&t&&(O(0,"span"),Sn(1,1),Tn(2,"percent"),N()),2&t){const e=ae();j(2),Al(Cr(2,1,e.getValue()/e.max)),Yc(1)}}function fq(t,i){1&t&&ce(0),2&t&&ct(100===i.fill?"\u2605":"\u2606")}function pq(t,i){}function mq(t,i){if(1&t){const e=Qe();O(0,"span",2),ce(1),N(),O(2,"span",3),Ae("mouseenter",function(){const o=Ie(e).index;return Oe(ae().enter(o+1))})("click",function(){const o=Ie(e).index;return Oe(ae().handleClick(o+1))}),pe(3,pq,0,0,"ng-template",4),N()}if(2&t){const e=i.index,n=ae(),r=_i(1);j(1),Tt("(",e<n.nextRate?"*":" ",")"),j(1),Zo("cursor",n.isInteractive()?"pointer":"default"),j(1),z("ngTemplateOutlet",n.starTemplate||n.starTemplateFromContent||r)("ngTemplateOutletContext",n.contexts[e])}}function gq(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){Ie(e);const r=ae();return Oe(r.changeHour(r.hourStep))}),Ee(1,"span",12),O(2,"span",13),Sn(3,14),N()()}if(2&t){const e=ae();tt("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),z("disabled",e.disabled)}}function _q(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){Ie(e);const r=ae();return Oe(r.changeHour(-r.hourStep))}),Ee(1,"span",15),O(2,"span",13),Sn(3,16),N()()}if(2&t){const e=ae();tt("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),z("disabled",e.disabled)}}function vq(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){Ie(e);const r=ae();return Oe(r.changeMinute(r.minuteStep))}),Ee(1,"span",12),O(2,"span",13),Sn(3,17),N()()}if(2&t){const e=ae();tt("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),z("disabled",e.disabled)}}function bq(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){Ie(e);const r=ae();return Oe(r.changeMinute(-r.minuteStep))}),Ee(1,"span",15),O(2,"span",13),Sn(3,18),N()()}if(2&t){const e=ae();tt("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),z("disabled",e.disabled)}}function yq(t,i){1&t&&(O(0,"div",5),ce(1,":"),N())}function Aq(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){Ie(e);const r=ae(2);return Oe(r.changeSecond(r.secondStep))}),Ee(1,"span",12),O(2,"span",13),Sn(3,21),N()()}if(2&t){const e=ae(2);tt("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),z("disabled",e.disabled)}}function Cq(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){Ie(e);const r=ae(2);return Oe(r.changeSecond(-r.secondStep))}),Ee(1,"span",15),O(2,"span",13),Sn(3,22),N()()}if(2&t){const e=ae(2);tt("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),z("disabled",e.disabled)}}function wq(t,i){if(1&t){const e=Qe();O(0,"div",19),pe(1,Aq,4,7,"button",3),O(2,"input",20),Ae("change",function(r){return Ie(e),Oe(ae().updateSecond(r.target.value))})("blur",function(){return Ie(e),Oe(ae().handleBlur())})("input",function(r){return Ie(e),Oe(ae().formatInput(r.target))})("keydown.ArrowUp",function(r){Ie(e);const o=ae();return o.changeSecond(o.secondStep),Oe(r.preventDefault())})("keydown.ArrowDown",function(r){Ie(e);const o=ae();return o.changeSecond(-o.secondStep),Oe(r.preventDefault())}),N(),pe(3,Cq,4,7,"button",3),N()}if(2&t){const e=ae();j(1),z("ngIf",e.spinners),j(1),tt("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),z("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),j(1),z("ngIf",e.spinners)}}function xq(t,i){1&t&&Ee(0,"div",5)}function Sq(t,i){if(1&t&&(wn(0),Sn(1,27),xn()),2&t){const e=ae(2);j(1),Al(e.i18n.getAfternoonPeriod()),Yc(1)}}function Tq(t,i){1&t&&Sn(0,28),2&t&&(Al(ae(2).i18n.getMorningPeriod()),Yc(0))}function Dq(t,i){if(1&t){const e=Qe();O(0,"div",23)(1,"button",24),Ae("click",function(){return Ie(e),Oe(ae().toggleMeridian())}),pe(2,Sq,2,1,"ng-container",25),pe(3,Tq,1,1,"ng-template",null,26,Dn),N()()}if(2&t){const e=_i(4),n=ae();j(1),tt("btn-sm",n.isSmallSize)("btn-lg",n.isLargeSize)("disabled",n.disabled),z("disabled",n.disabled),j(1),z("ngIf",n.model&&n.model.hour>=12)("ngIfElse",e)}}function Eq(t,i){if(1&t&&(O(0,"strong",3),ce(1),N()),2&t){const e=ae();j(1),ct(e.header)}}function Mq(t,i){}function Iq(t,i){if(1&t){const e=Qe();O(0,"div",4),pe(1,Mq,0,0,"ng-template",5),O(2,"button",6),Ae("click",function(){return Ie(e),Oe(ae().hide())}),N()()}if(2&t){const e=ae(),n=_i(1);j(1),z("ngTemplateOutlet",e.contentHeaderTpl||n)}}function Oq(t,i){if(1&t&&(O(0,"span"),ce(1),N()),2&t){const e=ae().$implicit;es(ae().highlightClass),j(1),ct(e)}}function kq(t,i){1&t&&ce(0),2&t&&ct(ae().$implicit)}function Pq(t,i){if(1&t&&(pe(0,Oq,2,3,"span",1),pe(1,kq,1,1,"ng-template",null,2,Dn)),2&t){const e=i.odd,n=_i(2);z("ngIf",e)("ngIfElse",n)}}function Fn(t){return parseInt(`${t}`,10)}function tI(t){return null!=t?`${t}`:""}function bp(t,i,e=0){return Math.max(Math.min(t,i),e)}function tc(t){return"string"==typeof t}function zi(t){return!isNaN(Fn(t))}function Ni(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function wa(t){return null!=t}function ic(t){return zi(t)?`0${t}`.slice(-2):""}function nI(t,i){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(i)>=0}function nc(t){return(t||document.body).getBoundingClientRect()}function rI(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const oI={animation:!0,transitionTimerDelayMs:5},Hq=()=>{},{transitionTimerDelayMs:jq}=oI,ou=new Map,hn=(t,i,e,n)=>{let r=n.context||{};const o=ou.get(i);if(o)switch(n.runningTransition){case"continue":return pr;case"stop":t.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),ou.delete(i)}const s=e(i,n.animation,r)||Hq;if(!n.animation||"none"===window.getComputedStyle(i).transitionProperty)return t.run(()=>s()),lt(void 0).pipe(function Bq(t){return i=>new te(e=>i.subscribe({next:s=>t.run(()=>e.next(s)),error:s=>t.run(()=>e.error(s)),complete:()=>t.run(()=>e.complete())}))}(t));const l=new q,_=new q,S=l.pipe(function GX(...t){return i=>Ml(i,lt(...t))}(!0));ou.set(i,{transition$:l,complete:()=>{_.next(),_.complete()},context:r});const T=function Vq(t){const{transitionDelay:i,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(i)+parseFloat(e))}(i);return t.runOutsideAngular(()=>{const I=Si(i,"transitionend").pipe(yt(S),Kt(({target:ee})=>ee===i));(function NM(...t){return 1===(t=FM(t)).length?Qi(t[0]):new te(function UX(t){return i=>{let e=[];for(let n=0;e&&!i.closed&&n<t.length;n++)e.push(Qi(t[n]).subscribe(ge(i,r=>{if(e){for(let o=0;o<e.length;o++)o!==n&&e[o].unsubscribe();e=null}i.next(r)})))}}(t))})(Wd(T+jq).pipe(yt(S)),I,_).pipe(yt(S)).subscribe(()=>{ou.delete(i),t.run(()=>{s(),l.next(),l.complete()})})}),l.asObservable()},fb=(t,i,e)=>{let{direction:n,maxSize:r,dimension:o}=e;const{classList:s}=t;function l(){s.add("collapse"),"show"===n?s.add("show"):s.remove("show")}if(i)return r||(r=function Gq(t,i){if(typeof navigator>"u")return"0px";const{classList:e}=t,n=e.contains("show");n||e.add("show"),t.style[i]="";const r=t.getBoundingClientRect()[i]+"px";return n||e.remove("show"),r}(t,o),e.maxSize=r,t.style[o]="show"!==n?r:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),nc(t),s.add("collapsing")),t.style[o]="show"===n?r:"0px",()=>{l(),s.remove("collapsing"),t.style[o]=""};l()};let xa=(()=>{class t{constructor(){this.animation=oI.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sI=(()=>{class t{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ce(xa))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zq=0,pb=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),t})(),aI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),t})(),lI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),t})(),mb=(()=>{class t{constructor(){this.disabled=!1,this.id="ngb-panel-"+zq++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new Ye,this.hidden=new Ye}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["ngb-panel"]],contentQueries:function(e,n,r){if(1&e&&(Dt(r,aI,4),Dt(r,pb,4),Dt(r,lI,4)),2&e){let o;Ze(o=et())&&(n.titleTpls=o),Ze(o=et())&&(n.headerTpls=o),Ze(o=et())&&(n.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),t})(),Wq=(()=>{class t{constructor(e){this._El=e,this.ngbRef=new Ye}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return t.\u0275fac=function(e){return new(e||t)(M(Je))},t.\u0275dir=He({type:t,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),t})(),cI=(()=>{class t{constructor(e,n){this.accordion=e,this.panel=n}set ngbPanelToggle(e){e&&(this.panel=e)}}return t.\u0275fac=function(e){return new(e||t)(M(Ct(()=>gb)),M(mb,9))},t.\u0275dir=He({type:t,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,n){1&e&&Ae("click",function(){return n.accordion.toggle(n.panel.id)}),2&e&&(gn("disabled",n.panel.disabled),mt("aria-expanded",n.panel.isOpen)("aria-controls",n.panel.id),tt("collapsed",!n.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),t})(),gb=(()=>{class t{constructor(e,n,r){this._ngZone=n,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new Ye,this.shown=new Ye,this.hidden=new Ye,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const n=this._findPanelById(e);n&&this._changeOpenState(n,!n.isOpen)}ngAfterContentChecked(){tc(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(qt(1)).subscribe(()=>{this.panels.forEach(e=>{const n=e.panelDiv;n?e.initClassDone||(e.initClassDone=!0,hn(this._ngZone,n,fb,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide",dimension:"height"}})):e.initClassDone=!1})})}_changeOpenState(e,n){if(null!=e&&!e.disabled&&e.isOpen!==n){let r=!1;this.panelChange.emit({panelId:e.id,nextState:n,preventDefault:()=>{r=!0}}),r||(e.isOpen=n,e.transitionRunning=!0,n&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,n=!0){this.panels.forEach(r=>{r.id!==e&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=n)})}_findPanelById(e){return this.panels.find(n=>n.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(n=>{n.transitionRunning&&hn(this._ngZone,n.panelDiv,fb,{animation:e,runningTransition:"stop",context:{direction:n.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{n.transitionRunning=!1;const{id:o}=n;n.isOpen?(n.shown.emit(),this.shown.emit(o)):(n.hidden.emit(),this.hidden.emit(o))})})}}return t.\u0275fac=function(e){return new(e||t)(M(sI),M(ot),M(zt))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-accordion"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,mb,4),2&e){let o;Ze(o=et())&&(n.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,n){2&e&&mt("aria-multiselectable",!n.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[qi],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(e,n){1&e&&(pe(0,XQ,3,3,"ng-template",0,1,Dn),pe(2,ZQ,4,11,"ng-template",2)),2&e&&(j(2),z("ngForOf",n.panels))},dependencies:[ei,Hr,cI,Wq,pb,vt],encapsulation:2}),t})(),fI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[gb]}),t})();const qq=({classList:t})=>{t.remove("show")};let Jq=(()=>{class t{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ce(xa))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zq=(()=>{class t{constructor(e,n,r,o){this._renderer=n,this._element=r,this._zone=o,this.closed=new Ye,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=hn(this._zone,this._element.nativeElement,qq,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const n=e.type;n&&!n.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${n.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${n.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return t.\u0275fac=function(e){return new(e||t)(M(Jq),M(or),M(Je),M(ot))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,n){2&e&&tt("fade",n.animation)("alert-dismissible",n.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[gi,qi],ngContentSelectors:vp,decls:2,vars:1,consts:function(){let i;return i=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",i,3,"click",4,"ngIf"],["type","button","aria-label",i,1,"btn-close",3,"click"]]},template:function(e,n){1&e&&(ln(),Oi(0),pe(1,eK,1,0,"button",0)),2&e&&(j(1),z("ngIf",n.dismissible))},dependencies:[vt],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),t})(),pI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[Zq]}),t})();var Ns=(()=>{return(t=Ns||(Ns={})).START="start",t.END="end",Ns;var t})();const mI=({classList:t})=>t.contains("carousel-item-start")||t.contains("carousel-item-end"),su=t=>{t.remove("carousel-item-start"),t.remove("carousel-item-end")},yp=t=>{su(t),t.remove("carousel-item-prev"),t.remove("carousel-item-next")},eJ=(t,i,{direction:e})=>{const{classList:n}=t;return i?(mI(t)?su(n):(n.add("carousel-item-"+(e===Ns.START?"next":"prev")),nc(t),n.add("carousel-item-"+e)),()=>{yp(n),n.add("active")}):(su(n),yp(n),void n.add("active"))},tJ=(t,i,{direction:e})=>{const{classList:n}=t;return i?(mI(t)?su(n):n.add("carousel-item-"+e),()=>{yp(n),n.remove("active")}):(su(n),yp(n),void n.remove("active"))};let iJ=(()=>{class t{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ce(xa))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nJ=0,gI=(()=>{class t{constructor(e){this.tplRef=e,this.id="ngb-slide-"+nJ++,this.slid=new Ye}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),t})(),_I=(()=>{class t{constructor(e,n,r,o,s){this._platformId=n,this._ngZone=r,this._cd=o,this._container=s,this.NgbSlideEventSource=Ta,this._destroy$=new q,this._interval$=new nn(0),this._mouseHover$=new nn(!1),this._focused$=new nn(!1),this._pauseOnHover$=new nn(!1),this._pauseOnFocus$=new nn(!1),this._pause$=new nn(!1),this._wrap$=new nn(!1),this.slide=new Ye,this.slid=new Ye,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Ta.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Ta.ARROW_RIGHT)}ngAfterContentInit(){nd(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=ud([this.slide.pipe(ue(n=>n.current),vn(this.activeId)),this._wrap$,this.slides.changes.pipe(vn(null))]).pipe(ue(([n,r])=>{const o=this.slides.toArray(),s=this._getSlideIdxById(n);return r?o.length>1:s<o.length-1}),jl());ud([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe(ue(([n,r,o,s,l,_,S])=>n||r&&o||s&&l||!S?0:_),jl(),_n(n=>n>0?Wd(n,n):LM),yt(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Ta.TIMER)))}),this.slides.changes.pipe(yt(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(e=>(t=>{ou.get(t)?.complete()})(this._getSlideElement(e))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(qt(1)).subscribe(()=>{for(const{id:e}of this.slides){const n=this._getSlideElement(e);e===this.activeId?n.classList.add("active"):n.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,n){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),n)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Ns.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Ns.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,n,r){const o=this._transitionIds;if(o&&(o[0]!==e||o[1]!==this.activeId))return;let s=this._getSlideById(e);if(s&&s.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:s.id,direction:n,paused:this._pause$.value,source:r});const l={animation:this.animation,runningTransition:"stop",context:{direction:n}},_=[],S=this._getSlideById(this.activeId);if(S){const ee=hn(this._ngZone,this._getSlideElement(S.id),tJ,l);ee.subscribe(()=>{S.slid.emit({isShown:!1,direction:n,source:r})}),_.push(ee)}const T=this.activeId;this.activeId=s.id;const I=this._getSlideById(this.activeId),U=hn(this._ngZone,this._getSlideElement(s.id),eJ,l);U.subscribe(()=>{I?.slid.emit({isShown:!0,direction:n,source:r})}),_.push(U),fp(..._).pipe(qt(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:T,current:s.id,direction:n,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(e,n){return this._getSlideIdxById(e)>this._getSlideIdxById(n)?Ns.END:Ns.START}_getSlideById(e){return this.slides.find(n=>n.id===e)||null}_getSlideIdxById(e){const n=this._getSlideById(e);return null!=n?this.slides.toArray().indexOf(n):-1}_getNextSlide(e){const n=this.slides.toArray(),r=this._getSlideIdxById(e);return r===n.length-1?this.wrap?n[0].id:n[n.length-1].id:n[r+1].id}_getPrevSlide(e){const n=this.slides.toArray(),r=this._getSlideIdxById(e);return 0===r?this.wrap?n[n.length-1].id:n[0].id:n[r-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return t.\u0275fac=function(e){return new(e||t)(M(iJ),M(Js),M(ot),M(zt),M(Je))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-carousel"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,gI,4),2&e){let o;Ze(o=et())&&(n.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,n){1&e&&Ae("keydown.arrowLeft",function(){return n.keyboard&&n.arrowLeft()})("keydown.arrowRight",function(){return n.keyboard&&n.arrowRight()})("mouseenter",function(){return n.mouseHover=!0})("mouseleave",function(){return n.mouseHover=!1})("focusin",function(){return n.focused=!0})("focusout",function(){return n.focused=!1}),2&e&&(mt("aria-activedescendant","slide-"+n.activeId),Zo("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[qi],decls:6,vars:6,consts:function(){let i,e,n;return i=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,n=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],i,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],n]},template:function(e,n){1&e&&(O(0,"div",0),pe(1,tK,1,5,"button",1),N(),O(2,"div",2),pe(3,nK,4,4,"div",3),N(),pe(4,rK,4,0,"button",4),pe(5,oK,4,0,"button",5)),2&e&&(tt("visually-hidden",!n.showNavigationIndicators),j(1),z("ngForOf",n.slides),j(2),z("ngForOf",n.slides),j(1),z("ngIf",n.showNavigationArrows),j(1),z("ngIf",n.showNavigationArrows))},dependencies:[ei,Hr,vt],encapsulation:2,changeDetection:0}),t})();var Ta=(()=>{return(t=Ta||(Ta={})).TIMER="timer",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.INDICATOR="indicator",Ta;var t})();let vI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[_I]}),t})(),bI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})();class fn{constructor(i,e,n){this.year=Ni(i)?i:null,this.month=Ni(e)?e:null,this.day=Ni(n)?n:null}static from(i){return i instanceof fn?i:i?new fn(i.year,i.month,i.day):null}equals(i){return null!=i&&this.year===i.year&&this.month===i.month&&this.day===i.day}before(i){return!!i&&(this.year===i.year?this.month===i.month?this.day!==i.day&&this.day<i.day:this.month<i.month:this.year<i.year)}after(i){return!!i&&(this.year===i.year?this.month===i.month?this.day!==i.day&&this.day>i.day:this.month>i.month:this.year>i.year)}}function rc(t,i){return!function rJ(t,i){return!t&&!i||!!t&&!!i&&t.equals(i)}(t,i)}function yI(t,i){return!(!t&&!i||t&&i&&t.year===i.year&&t.month===i.month)}function Ap(t,i,e){return t&&i&&t.before(i)?i:t&&e&&t.after(e)?e:t||null}function vb(t,i){const{minDate:e,maxDate:n,disabled:r,markDisabled:o}=i;return!(null==t||r||o&&o(t,{year:t.year,month:t.month})||e&&t.before(e)||n&&t.after(n))}function AI(t){return new fn(t.getFullYear(),t.getMonth()+1,t.getDate())}function Cp(t){const i=new Date(t.year,t.month-1,t.day,12);return isNaN(i.getTime())||i.setFullYear(t.year),i}let wp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return function fJ(){return new pJ}()},providedIn:"root"}),t})(),pJ=(()=>{class t extends wp{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,n="d",r=1){let o=Cp(e),s=!0,l=o.getMonth();switch(n){case"y":o.setFullYear(o.getFullYear()+r);break;case"m":l+=r,o.setMonth(l),l%=12,l<0&&(l+=12);break;case"d":o.setDate(o.getDate()+r),s=!1;break;default:return e}return s&&o.getMonth()!==l&&o.setDate(0),AI(o)}getPrev(e,n="d",r=1){return this.getNext(e,n,-r)}getWeekday(e){let r=Cp(e).getDay();return 0===r?7:r}getWeekNumber(e,n){7===n&&(n=0);const s=Cp(e[(11-n)%7]);s.setDate(s.getDate()+4-(s.getDay()||7));const l=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((l-s.getTime())/864e5)/7)+1}getToday(){return AI(new Date)}isValid(e){if(!(e&&Ni(e.year)&&Ni(e.month)&&Ni(e.day)&&0!==e.year))return!1;const n=Cp(e);return!isNaN(n.getTime())&&n.getFullYear()===e.year&&n.getMonth()+1===e.month&&n.getDate()===e.day}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),Da=(()=>{class t{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(e){let n=null;return n=e?new e:function mJ(t){return new gJ(t)}(Ce(sr)),n},providedIn:"root"}),t})(),gJ=(()=>{class t extends Da{constructor(e){super(),this._locale=e,this._monthsShort=D_(e,Ii.Standalone,Ot.Abbreviated),this._monthsFull=D_(e,Ii.Standalone,Ot.Wide)}getWeekdayLabel(e,n){const r=zx(this._locale,Ii.Standalone,void 0===n?Ot.Short:n);return r.map((s,l)=>r[(l+1)%7])[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return $x(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}return t.\u0275fac=function(e){return new(e||t)(Ce(sr))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),bb=(()=>{class t{constructor(e,n){this._calendar=e,this._i18n=n,this._VALIDATORS={dayTemplateData:r=>{if(this._state.dayTemplateData!==r)return{dayTemplateData:r}},displayMonths:r=>{if(Ni(r=Fn(r))&&r>0&&this._state.displayMonths!==r)return{displayMonths:r}},disabled:r=>{if(this._state.disabled!==r)return{disabled:r}},firstDayOfWeek:r=>{if(Ni(r=Fn(r))&&r>=0&&this._state.firstDayOfWeek!==r)return{firstDayOfWeek:r}},focusVisible:r=>{if(this._state.focusVisible!==r&&!this._state.disabled)return{focusVisible:r}},markDisabled:r=>{if(this._state.markDisabled!==r)return{markDisabled:r}},maxDate:r=>{const o=this.toValidDate(r,null);if(rc(this._state.maxDate,o))return{maxDate:o}},minDate:r=>{const o=this.toValidDate(r,null);if(rc(this._state.minDate,o))return{minDate:o}},navigation:r=>{if(this._state.navigation!==r)return{navigation:r}},outsideDays:r=>{if(this._state.outsideDays!==r)return{outsideDays:r}},weekdays:r=>{const o=!0===r||!1===r?Ot.Short:r,s=!0!==r&&!1!==r||r;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==s)return{weekdayWidth:o,weekdaysVisible:s}}},this._model$=new q,this._dateSelect$=new q,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ot.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Kt(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Kt(e=>null!==e))}set(e){let n=Object.keys(e).map(r=>this._VALIDATORS[r](e[r])).reduce((r,o)=>({...r,...o}),{});Object.keys(n).length>0&&this._nextState(n)}focus(e){const n=this.toValidDate(e,null);null!=n&&!this._state.disabled&&rc(this._state.focusDate,n)&&this._nextState({focusDate:e})}focusSelect(){vb(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const n=this.toValidDate(e,this._calendar.getToday());null!=n&&!this._state.disabled&&(!this._state.firstDate||yI(this._state.firstDate,n))&&this._nextState({firstDate:n})}select(e,n={}){const r=this.toValidDate(e,null);null!=r&&!this._state.disabled&&(rc(this._state.selectedDate,r)&&this._nextState({selectedDate:r}),n.emitEvent&&vb(r,this._state)&&this._dateSelect$.next(r))}toValidDate(e,n){const r=fn.from(e);return void 0===n&&(n=this._calendar.getToday()),this._calendar.isValid(r)?r:n}getMonth(e){for(let n of this._state.months)if(e.month===n.number&&e.year===n.year)return n;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const n=this._updateState(e);this._patchContexts(n),this._state=n,this._model$.next(this._state)}_patchContexts(e){const{months:n,displayMonths:r,selectedDate:o,focusDate:s,focusVisible:l,disabled:_,outsideDays:S}=e;e.months.forEach(T=>{T.weeks.forEach(I=>{I.days.forEach(U=>{s&&(U.context.focused=s.equals(U.date)&&l),U.tabindex=!_&&s&&U.date.equals(s)&&s.month===T.number?0:-1,!0===_&&(U.context.disabled=!0),void 0!==o&&(U.context.selected=null!==o&&o.equals(U.date)),T.number!==U.date.month&&(U.hidden="hidden"===S||"collapsed"===S||r>1&&U.date.after(n[0].firstDate)&&U.date.before(n[r-1].lastDate))})})})}_updateState(e){const n=Object.assign({},this._state,e);let r=n.firstDate;if(("minDate"in e||"maxDate"in e)&&(function oJ(t,i){if(i&&t&&i.before(t))throw new Error(`'maxDate' ${i} should be greater than 'minDate' ${t}`)}(n.minDate,n.maxDate),n.focusDate=Ap(n.focusDate,n.minDate,n.maxDate),n.firstDate=Ap(n.firstDate,n.minDate,n.maxDate),r=n.focusDate),"disabled"in e&&(n.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(r=n.selectedDate),"focusVisible"in e||"focusDate"in e&&(n.focusDate=Ap(n.focusDate,n.minDate,n.maxDate),r=n.focusDate,0!==n.months.length&&n.focusDate&&!n.focusDate.before(n.firstDate)&&!n.focusDate.after(n.lastDate)))return n;if("firstDate"in e&&(n.firstDate=Ap(n.firstDate,n.minDate,n.maxDate),r=n.firstDate),r){const s=function dJ(t,i,e,n,r){const{displayMonths:o,months:s}=e,l=s.splice(0,s.length);return Array.from({length:o},(S,T)=>{const I=Object.assign(t.getNext(i,"m",T),{day:1});if(s[T]=null,!r){const U=l.findIndex(ee=>ee.firstDate.equals(I));-1!==U&&(s[T]=l.splice(U,1)[0])}return I}).forEach((S,T)=>{null===s[T]&&(s[T]=function uJ(t,i,e,n,r={}){const{dayTemplateData:o,minDate:s,maxDate:l,firstDayOfWeek:_,markDisabled:S,outsideDays:T,weekdayWidth:I,weekdaysVisible:U}=e,ee=t.getToday();r.firstDate=null,r.lastDate=null,r.number=i.month,r.year=i.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],i=function hJ(t,i,e){const n=t.getDaysPerWeek(),r=new fn(i.year,i.month,1),o=t.getWeekday(r)%n;return t.getPrev(r,"d",(n+o-e)%n)}(t,i,_),U||(r.weekdays.length=0);for(let he=0;he<t.getWeeksPerMonth();he++){let be=r.weeks[he];be||(be=r.weeks[he]={number:0,days:[],collapsed:!0});const we=be.days;for(let De=0;De<t.getDaysPerWeek();De++){0===he&&U&&(r.weekdays[De]=n.getWeekdayLabel(t.getWeekday(i),I));const Ve=new fn(i.year,i.month,i.day),Pe=t.getNext(Ve),ze=n.getDayAriaLabel(Ve);let rt=!!(s&&Ve.before(s)||l&&Ve.after(l));!rt&&S&&(rt=S(Ve,{month:r.number,year:r.year}));let ht=Ve.equals(ee),Bt=o?o(Ve,{month:r.number,year:r.year}):void 0;null===r.firstDate&&Ve.month===r.number&&(r.firstDate=Ve),Ve.month===r.number&&Pe.month!==r.number&&(r.lastDate=Ve);let Qt=we[De];Qt||(Qt=we[De]={}),Qt.date=Ve,Qt.context=Object.assign(Qt.context||{},{$implicit:Ve,date:Ve,data:Bt,currentMonth:r.number,currentYear:r.year,disabled:rt,focused:!1,selected:!1,today:ht}),Qt.tabindex=-1,Qt.ariaLabel=ze,Qt.hidden=!1,i=Pe}be.number=t.getWeekNumber(we.map(De=>De.date),_),be.collapsed="collapsed"===T&&we[0].date.month!==r.number&&we[we.length-1].date.month!==r.number}return r}(t,S,e,n,l.shift()||{}))}),s}(this._calendar,r,n,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);n.months=s,n.firstDate=s[0].firstDate,n.lastDate=s[s.length-1].lastDate,"selectedDate"in e&&!vb(n.selectedDate,n)&&(n.selectedDate=null),"firstDate"in e&&(!n.focusDate||n.focusDate.before(n.firstDate)||n.focusDate.after(n.lastDate))&&(n.focusDate=r);const l=!this._state.firstDate||this._state.firstDate.year!==n.firstDate.year,_=!this._state.firstDate||this._state.firstDate.month!==n.firstDate.month;"select"===n.navigation?(("minDate"in e||"maxDate"in e||0===n.selectBoxes.years.length||l)&&(n.selectBoxes.years=function aJ(t,i,e){if(!t)return[];const n=i?Math.max(i.year,t.year-500):t.year-10,o=(e?Math.min(e.year,t.year+500):t.year+10)-n+1,s=Array(o);for(let l=0;l<o;l++)s[l]=n+l;return s}(n.firstDate,n.minDate,n.maxDate)),("minDate"in e||"maxDate"in e||0===n.selectBoxes.months.length||l)&&(n.selectBoxes.months=function sJ(t,i,e,n){if(!i)return[];let r=t.getMonths(i.year);if(e&&i.year===e.year){const o=r.findIndex(s=>s===e.month);r=r.slice(o)}if(n&&i.year===n.year){const o=r.findIndex(s=>s===n.month);r=r.slice(0,o+1)}return r}(this._calendar,n.firstDate,n.minDate,n.maxDate))):n.selectBoxes={years:[],months:[]},("arrows"===n.navigation||"select"===n.navigation)&&(_||l||"minDate"in e||"maxDate"in e||"disabled"in e)&&(n.prevDisabled=n.disabled||function cJ(t,i,e){const n=Object.assign(t.getPrev(i,"m"),{day:1});return null!=e&&(n.year===e.year&&n.month<e.month||n.year<e.year&&1===e.month)}(this._calendar,n.firstDate,n.minDate),n.nextDisabled=n.disabled||function lJ(t,i,e){const n=Object.assign(t.getNext(i,"m"),{day:1});return null!=e&&n.after(e)}(this._calendar,n.lastDate,n.maxDate))}return n}}return t.\u0275fac=function(e){return new(e||t)(Ce(wp),Ce(Da))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();var oc=(()=>{return(t=oc||(oc={}))[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",oc;var t})();let _J=(()=>{class t{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return t.\u0275fac=function(e){return new(e||t)(M(Da))},t.\u0275cmp=Xe({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,n){2&e&&tt("bg-primary",n.selected)("text-white",n.selected)("text-muted",n.isMuted())("outside",n.isMuted())("active",n.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[qi],attrs:sK,decls:1,vars:1,template:function(e,n){1&e&&ce(0),2&e&&ct(n.i18n.getDayNumerals(n.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),vJ=(()=>{class t{constructor(e,n){this.i18n=e,this._renderer=n,this.select=new Ye,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new fn(this.date.year,Fn(e),1))}changeYear(e){this.select.emit(new fn(Fn(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return t.\u0275fac=function(e){return new(e||t)(M(Da),M(or))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,n){if(1&e&&(Xt(aK,7,Je),Xt(lK,7,Je)),2&e){let r;Ze(r=et())&&(n.monthSelect=r.first),Ze(r=et())&&(n.yearSelect=r.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[qi],decls:6,vars:4,consts:function(){let i,e,n,r;return i=$localize`:@@ngb.datepicker.select-month:Select month`,e=$localize`:@@ngb.datepicker.select-month:Select month`,n=$localize`:@@ngb.datepicker.select-year:Select year`,r=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",i,"title",e,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",n,"title",r,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,n){1&e&&(O(0,"select",0,1),Ae("change",function(o){return n.changeMonth(o.target.value)}),pe(2,cK,2,3,"option",2),N(),O(3,"select",3,4),Ae("change",function(o){return n.changeYear(o.target.value)}),pe(5,dK,2,2,"option",2),N()),2&e&&(z("disabled",n.disabled),j(2),z("ngForOf",n.months),j(1),z("disabled",n.disabled),j(2),z("ngForOf",n.years))},dependencies:[ei],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),t})(),bJ=(()=>{class t{constructor(e){this.i18n=e,this.navigation=oc,this.months=[],this.navigate=new Ye,this.select=new Ye}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return t.\u0275fac=function(e){return new(e||t)(M(Da))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[qi],decls:8,vars:4,consts:function(){let i,e,n,r;return i=$localize`:@@ngb.datepicker.previous-month:Previous month`,e=$localize`:@@ngb.datepicker.previous-month:Previous month`,n=$localize`:@@ngb.datepicker.next-month:Next month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",i,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",n,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,n){1&e&&(O(0,"div",0)(1,"button",1),Ae("click",function(o){return n.onClickPrev(o)}),Ee(2,"span",2),N()(),pe(3,uK,1,4,"ngb-datepicker-navigation-select",3),pe(4,mK,1,1,null,4),O(5,"div",5)(6,"button",6),Ae("click",function(o){return n.onClickNext(o)}),Ee(7,"span",2),N()()),2&e&&(j(1),z("disabled",n.prevDisabled),j(2),z("ngIf",n.showSelect),j(1),z("ngIf",!n.showSelect),j(2),z("disabled",n.nextDisabled))},dependencies:[vt,ei,vJ],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),t})();var Jt=(()=>{return(t=Jt||(Jt={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",Jt;var t})();let yJ=(()=>{class t{processKey(e,n){const{state:r,calendar:o}=n;switch(e.which){case Jt.PageUp:n.focusDate(o.getPrev(r.focusedDate,e.shiftKey?"y":"m",1));break;case Jt.PageDown:n.focusDate(o.getNext(r.focusedDate,e.shiftKey?"y":"m",1));break;case Jt.End:n.focusDate(e.shiftKey?r.maxDate:r.lastDate);break;case Jt.Home:n.focusDate(e.shiftKey?r.minDate:r.firstDate);break;case Jt.ArrowLeft:n.focusDate(o.getPrev(r.focusedDate,"d",1));break;case Jt.ArrowUp:n.focusDate(o.getPrev(r.focusedDate,"d",o.getDaysPerWeek()));break;case Jt.ArrowRight:n.focusDate(o.getNext(r.focusedDate,"d",1));break;case Jt.ArrowDown:n.focusDate(o.getNext(r.focusedDate,"d",o.getDaysPerWeek()));break;case Jt.Enter:case Jt.Space:n.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yb=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ot.Short}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ab=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return function AJ(){return new CJ}()},providedIn:"root"}),t})(),CJ=(()=>{class t extends Ab{fromModel(e){return e&&Ni(e.year)&&Ni(e.month)&&Ni(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Ni(e.year)&&Ni(e.month)&&Ni(e.day)?{year:e.year,month:e.month,day:e.day}:null}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),CI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),t})(),Cb=(()=>{class t{constructor(e,n,r,o){this.i18n=e,this.datepicker=n,this._keyboardService=r,this._service=o}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}}return t.\u0275fac=function(e){return new(e||t)(M(Da),M(Ct(()=>xp)),M(yJ),M(bb))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,n){1&e&&Ae("keydown",function(o){return n.onKeyDown(o)})},inputs:{month:"month"},standalone:!0,features:[qi],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(pe(0,vK,3,2,"div",0),pe(1,xK,1,1,"ng-template",1)),2&e&&(z("ngIf",n.viewModel.weekdays.length>0),j(1),z("ngForOf",n.viewModel.weeks))},dependencies:[vt,ei,Hr],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),t})(),xp=(()=>{class t{constructor(e,n,r,o,s,l,_,S){this._service=e,this._calendar=n,this._i18n=r,this._elementRef=l,this._ngbDateAdapter=_,this._ngZone=S,this.injector=_t(Mi),this._controlValue=null,this._destroyed$=new q,this._publicState={},this.navigate=new Ye,this.dateSelect=new Ye,this.onChange=T=>{},this.onTouched=()=>{},["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(T=>this[T]=o[T]),e.dateSelect$.pipe(yt(this._destroyed$)).subscribe(T=>{this.dateSelect.emit(T)}),e.model$.pipe(yt(this._destroyed$)).subscribe(T=>{const I=T.firstDate,U=this.model?this.model.firstDate:null;this._publicState={maxDate:T.maxDate,minDate:T.minDate,firstDate:T.firstDate,lastDate:T.lastDate,focusedDate:T.focusDate,months:T.months.map(De=>De.firstDate)};let ee=!1;if(!I.equals(U)&&(this.navigate.emit({current:U?{year:U.year,month:U.month}:null,next:{year:I.year,month:I.month},preventDefault:()=>ee=!0}),ee&&null!==U))return void this._service.open(U);const he=T.selectedDate,be=T.focusDate,we=this.model?this.model.focusDate:null;this.model=T,rc(he,this._controlValue)&&(this._controlValue=he,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(he))),rc(be,we)&&we&&T.focusVisible&&this.focus(),s.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(e){this._service.focus(fn.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(qt(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(fn.from(e?e.day?e:{...e,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=Si(this._contentEl.nativeElement,"focusin"),n=Si(this._contentEl.nativeElement,"focusout"),{nativeElement:r}=this._elementRef;Wr(e,n).pipe(Kt(({target:o,relatedTarget:s})=>!(nI(o,"ngb-dp-day")&&nI(s,"ngb-dp-day")&&r.contains(o)&&r.contains(s))),yt(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(n=>e[n]=this[n]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const n={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(r=>r in e).forEach(r=>n[r]=this[r]),this._service.set(n),"startDate"in e){const{currentValue:r,previousValue:o}=e.startDate;yI(o,r)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case oc.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case oc.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=fn.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}return t.\u0275fac=function(e){return new(e||t)(M(bb),M(wp),M(Da),M(yb),M(zt),M(Je),M(Ab),M(ot))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,CI,7),2&e){let o;Ze(o=et())&&(n.contentTemplateFromContent=o.first)}},viewQuery:function(e,n){if(1&e&&(Xt(SK,7),Xt(TK,7)),2&e){let r;Ze(r=et())&&(n._defaultDayTemplate=r.first),Ze(r=et())&&(n._contentEl=r.first)}},hostVars:2,hostBindings:function(e,n){2&e&&tt("disabled",n.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[Pt([{provide:Un,useExisting:Ct(()=>t),multi:!0},bb]),gi,qi],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,n){if(1&e&&(pe(0,DK,1,5,"ng-template",null,0,Dn),pe(2,IK,1,1,"ng-template",null,1,Dn),O(4,"div",2),pe(5,OK,1,7,"ngb-datepicker-navigation",3),N(),O(6,"div",4,5),pe(8,kK,0,0,"ng-template",6),N(),pe(9,PK,0,0,"ng-template",7)),2&e){const r=_i(3);j(5),z("ngIf","none"!==n.navigation),j(1),tt("ngb-dp-months",!n.contentTemplate),j(2),z("ngTemplateOutlet",n.contentTemplate||(null==n.contentTemplateFromContent?null:n.contentTemplateFromContent.templateRef)||r)("ngTemplateOutletContext",Lt(7,eI,n))("ngTemplateOutletInjector",n.injector),j(1),z("ngTemplateOutlet",n.footerTemplate)}},dependencies:[vt,ei,Hr,_J,Cb,bJ],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),t})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const SI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function TI(t){const i=Array.from(t.querySelectorAll(SI)).filter(e=>-1!==e.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let VI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[xp,Cb]}),t})(),UI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})();class Ia{constructor(i,e,n){this.nodes=i,this.viewRef=e,this.componentRef=n}}let YJ=(()=>{class t{constructor(e,n){this._el=e,this._zone=n}ngOnInit(){this._zone.onStable.asObservable().pipe(qt(1)).subscribe(()=>{hn(this._zone,this._el.nativeElement,(e,n)=>{n&&nc(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return hn(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(M(Je),M(ot))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,n){2&e&&(es("modal-backdrop"+(n.backdropClass?" "+n.backdropClass:"")),tt("show",!n.animation)("fade",n.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[qi],decls:0,vars:0,template:function(e,n){},encapsulation:2}),t})();class GI{update(i){}close(i){}dismiss(i){}}const XJ=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],QJ=["animation","backdropClass"];class KJ{constructor(i,e,n,r){this._windowCmptRef=i,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new q,this._dismissed=new q,this._hidden=new q,i.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}_applyWindowOptions(i,e){XJ.forEach(n=>{wa(e[n])&&(i[n]=e[n])})}_applyBackdropOptions(i,e){QJ.forEach(n=>{wa(e[n])&&(i[n]=e[n])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(yt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(yt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function iI(t){return t&&t.then}(e)?!1!==e&&this._dismiss(i):e.then(n=>{!1!==n&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():lt(void 0);i.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),fp(i,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var cu=(()=>{return(t=cu||(cu={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",cu;var t})();let qJ=(()=>{class t{constructor(e,n,r){this._document=e,this._elRef=n,this._zone=r,this._closed$=new q,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ye,this.shown=new q,this.hidden=new q}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":tc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(qt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,n={animation:this.animation,runningTransition:"stop"},s=fp(hn(this._zone,e,()=>e.classList.remove("show"),n),hn(this._zone,this._dialogEl.nativeElement,()=>{},n));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};fp(hn(this._zone,this._elRef.nativeElement,(o,s)=>{s&&nc(o),o.classList.add("show")},e),hn(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Si(e,"keydown").pipe(yt(this._closed$),Kt(r=>r.which===Jt.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(cu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let n=!1;Si(this._dialogEl.nativeElement,"mousedown").pipe(yt(this._closed$),ji(()=>n=!1),_n(()=>Si(e,"mouseup").pipe(yt(this._closed$),qt(1))),Kt(({target:r})=>e===r)).subscribe(()=>{n=!0}),Si(e,"click").pipe(yt(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!n&&this._zone.run(()=>this.dismiss(cu.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const n=e.querySelector("[ngbAutofocus]"),r=TI(e)[0];(n||r||e).focus()}}_restoreFocus(){const e=this._document.body,n=this._elWithFocus;let r;r=n&&n.focus&&e.contains(n)?n:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&hn(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(M(gt),M(Je),M(ot))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,n){if(1&e&&Xt(RK,7),2&e){let r;Ze(r=et())&&(n._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,n){2&e&&(mt("aria-modal",!0)("aria-labelledby",n.ariaLabelledBy)("aria-describedby",n.ariaDescribedBy),es("modal d-block"+(n.windowClass?" "+n.windowClass:"")),tt("fade",n.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[qi],ngContentSelectors:vp,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,n){1&e&&(ln(),O(0,"div",0,1)(2,"div",2),Oi(3),N()()),2&e&&es("modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+n.fullscreenClass+(n.scrollable?" modal-dialog-scrollable":"")+(n.modalDialogClass?" "+n.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),JJ=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,r=n.style,{overflow:o,paddingRight:s}=r;if(e>0){const l=parseFloat(window.getComputedStyle(n).paddingRight);r.paddingRight=`${l+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZJ=(()=>{class t{constructor(e,n,r,o,s,l,_){this._applicationRef=e,this._injector=n,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=l,this._ngZone=_,this._activeWindowCmptHasChanged=new q,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ye,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const S=this._windowCmpts[this._windowCmpts.length-1];((t,i,e,n=!1)=>{t.runOutsideAngular(()=>{const r=Si(i,"focusin").pipe(yt(e),ue(o=>o.target));Si(i,"keydown").pipe(yt(e),Kt(o=>o.which===Jt.Tab),up(r)).subscribe(([o,s])=>{const[l,_]=TI(i);(s===l||s===i)&&o.shiftKey&&(_.focus(),o.preventDefault()),s===_&&!o.shiftKey&&(l.focus(),o.preventDefault())}),n&&Si(i,"click").pipe(yt(e),up(r),ue(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,S.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(S.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,r){const o=r.container instanceof HTMLElement?r.container:wa(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new GI,_=(e=r.injector||e).get(Fr,null)||this._environmentInjector,S=this._getContentRef(e,_,n,l,r);let T=!1!==r.backdrop?this._attachBackdrop(o):void 0,I=this._attachWindowComponent(o,S.nodes),U=new KJ(I,S,T,r.beforeDismiss);return this._registerModalRef(U),this._registerWindowCmpt(I),U.hidden.pipe(qt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=ee=>{U.close(ee)},l.dismiss=ee=>{U.dismiss(ee)},l.update=ee=>{U.update(ee)},U.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),T&&T.instance&&T.changeDetectorRef.detectChanges(),I.changeDetectorRef.detectChanges(),U}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(n=>n.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let n=w_(YJ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let r=w_(qJ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,n,r,o,s){return r?r instanceof Gt?this._createFromTemplateRef(r,o):tc(r)?this._createFromString(r):this._createFromComponent(e,n,r,o,s):new Ia([])}_createFromTemplateRef(e,n){const o=e.createEmbeddedView({$implicit:n,close(s){n.close(s)},dismiss(s){n.dismiss(s)}});return this._applicationRef.attachView(o),new Ia([o.rootNodes],o)}_createFromString(e){const n=this._document.createTextNode(`${e}`);return new Ia([[n]])}_createFromComponent(e,n,r,o,s){const _=w_(r,{environmentInjector:n,elementInjector:Mi.create({providers:[{provide:GI,useValue:o}],parent:e})}),S=_.location.nativeElement;return s.scrollable&&S.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new Ia([[S]],_.hostView,_)}_setAriaHidden(e){const n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,n)=>{e?n.setAttribute("aria-hidden",e):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const n=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const n=this._windowCmpts.indexOf(e);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Ce(Cs),Ce(Mi),Ce(Fr),Ce(gt),Ce(JJ),Ce(ol),Ce(ot))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),eZ=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ce(xa))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tZ=(()=>{class t{constructor(e,n,r){this._injector=e,this._modalStack=n,this._config=r}open(e,n={}){const r={...this._config,animation:this._config.animation,...n};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Ce(Mi),Ce(ZJ),Ce(eZ))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[tZ]}),t})();const aZ=({classList:t})=>(t.remove("show"),()=>t.remove("active")),lZ=(t,i)=>{i&&nc(t),t.classList.add("show")};let Tb=(()=>{class t{constructor(e){this.elRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Je))},t.\u0275dir=He({type:t,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(e,n){2&e&&(gn("id",n.item.panelDomId),mt("role",n.role?n.role:n.nav.roles?"tabpanel":void 0)("aria-labelledby",n.item.domId),tt("fade",n.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),t})(),YI=(()=>{class t{constructor(e,n){this._cd=e,this._ngZone=n,this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(yt(this.nav.destroy$),vn(this._activePane?.item||null),jl(),Id(1)).subscribe(e=>{const n={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?hn(this._ngZone,this._activePane.elRef.nativeElement,aZ,n).subscribe(()=>{const r=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),hn(this._ngZone,this._activePane.elRef.nativeElement,lZ,n).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(e){return this._panes&&this._panes.find(n=>n.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}}return t.\u0275fac=function(e){return new(e||t)(M(zt),M(ot))},t.\u0275cmp=Xe({type:t,selectors:[["","ngbNavOutlet",""]],viewQuery:function(e,n){if(1&e&&Xt(Tb,5),2&e){let r;Ze(r=et())&&(n._panes=r)}},hostVars:2,hostBindings:function(e,n){2&e&&tt("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[qi],attrs:FK,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&pe(0,BK,1,1,"ng-template",0),2&e&&z("ngForOf",n.nav.items)},dependencies:[Tb,ei,vt,Hr],encapsulation:2,changeDetection:0}),t})(),XI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[YI]}),t})(),cZ=(()=>{class t{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),QI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),t})(),KI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),t})(),qI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),t})(),JI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),t})(),ZI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),t})(),eO=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),t})(),tO=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(M(Gt))},t.\u0275dir=He({type:t,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),t})(),iO=(()=>{class t{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new Ye(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,n){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),n<this.pageCount&&(n<this.pageCount-2?this.pages.push(-1):n===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,n=this.pageCount,r=Math.floor(this.maxSize/2);return this.page<=r?n=this.maxSize:this.pageCount-this.page<r?e=this.pageCount-this.maxSize:(e=this.page-r-1,n=this.page+(this.maxSize%2==0?r-1:r)),[e,n]}_applyPagination(){let n=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[n,n+this.maxSize]}_setPageInRange(e){const n=this.page;this.page=bp(e,this.pageCount,1),this.page!==n&&zi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),zi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let n=1;n<=this.pageCount;n++)this.pages.push(n);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let n=0,r=this.pageCount;[n,r]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(n,r),this._applyEllipses(n,r)}}}return t.\u0275fac=function(e){return new(e||t)(M(cZ))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-pagination"]],contentQueries:function(e,n,r){if(1&e&&(Dt(r,QI,5),Dt(r,KI,5),Dt(r,qI,5),Dt(r,JI,5),Dt(r,ZI,5),Dt(r,eO,5),Dt(r,tO,5)),2&e){let o;Ze(o=et())&&(n.tplEllipsis=o.first),Ze(o=et())&&(n.tplFirst=o.first),Ze(o=et())&&(n.tplLast=o.first),Ze(o=et())&&(n.tplNext=o.first),Ze(o=et())&&(n.tplNumber=o.first),Ze(o=et())&&(n.tplPrevious=o.first),Ze(o=et())&&(n.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[gi,qi],decls:20,vars:12,consts:function(){let i,e,n,r,o,s,l,_;return i=$localize`:@@ngb.pagination.first:««`,e=$localize`:@@ngb.pagination.previous:«`,n=$localize`:@@ngb.pagination.next:»`,r=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,s=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,_=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],i,e,n,r,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"]]},template:function(e,n){if(1&e&&(pe(0,VK,2,0,"ng-template",null,0,Dn),pe(2,HK,2,0,"ng-template",null,1,Dn),pe(4,jK,2,0,"ng-template",null,2,Dn),pe(6,UK,2,0,"ng-template",null,3,Dn),pe(8,GK,1,0,"ng-template",null,4,Dn),pe(10,zK,1,1,"ng-template",null,5,Dn),pe(12,JK,1,1,"ng-template",null,6,Dn),O(14,"ul"),pe(15,eq,3,9,"li",7),pe(16,nq,3,8,"li",7),pe(17,rq,0,0,"ng-template",8),pe(18,sq,3,9,"li",7),pe(19,lq,3,9,"li",7),N()),2&e){const r=_i(13);j(14),es("pagination"+(n.size?" pagination-"+n.size:"")),j(1),z("ngIf",n.boundaryLinks),j(1),z("ngIf",n.directionLinks),j(1),z("ngTemplateOutlet",(null==n.tplPages?null:n.tplPages.templateRef)||r)("ngTemplateOutletContext",wl(8,cq,n.page,n.pages,n.disabled)),j(1),z("ngIf",n.directionLinks),j(1),z("ngIf",n.boundaryLinks)}},dependencies:[vt,ei,Hr],encapsulation:2,changeDetection:0}),t})(),nO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[iO]}),t})(),oO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})(),mZ=(()=>{class t{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gZ=(()=>{class t{constructor(e){this.value=0,this.max=e.max,this.animated=e.animated,this.ariaLabel=e.ariaLabel,this.striped=e.striped,this.textType=e.textType,this.type=e.type,this.showValue=e.showValue,this.height=e.height}set max(e){this._max=!zi(e)||e<=0?100:e}get max(){return this._max}getValue(){return bp(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return t.\u0275fac=function(e){return new(e||t)(M(mZ))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(e,n){2&e&&(mt("aria-valuenow",n.getValue())("aria-valuemax",n.max)("aria-label",n.ariaLabel),Zo("height",n.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[qi],ngContentSelectors:vp,decls:3,vars:11,consts:function(){let i;return i=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],i]},template:function(e,n){1&e&&(ln(),O(0,"div"),pe(1,hq,3,3,"span",0),Oi(2),N()),2&e&&(function VC(t,i,e,n,r){Jr(br,Co,ul(We(),t,i,e,n,r),!0)}("progress-bar",n.type?n.textType?" bg-"+n.type:" text-bg-"+n.type:"","",n.textType?" text-"+n.textType:"",""),Zo("width",n.getPercentValue(),"%"),tt("progress-bar-animated",n.animated)("progress-bar-striped",n.striped),j(1),z("ngIf",n.showValue))},dependencies:[vt,cS],encapsulation:2,changeDetection:0}),t})(),sO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[gZ]}),t})(),_Z=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vZ=(()=>{class t{constructor(e,n){this._changeDetectorRef=n,this.contexts=[],this.disabled=!1,this.hover=new Ye,this.leave=new Ye,this.rateChange=new Ye(!0),this.onChange=r=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly,this.tabindex=e.tabindex}ariaValueText(e,n){return`${e} out of ${n}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case Jt.ArrowDown:case Jt.ArrowLeft:this.update(this.rate-1);break;case Jt.ArrowUp:case Jt.ArrowRight:this.update(this.rate+1);break;case Jt.Home:this.update(0);break;case Jt.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate),e.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,n=!0){const r=bp(e,this.max,0);this.isInteractive()&&this.rate!==r&&(this.rate=r,this.rateChange.emit(this.rate)),n&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((n,r)=>n.fill=Math.round(100*bp(e-r,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(e,n)=>({fill:0,index:n}))}}return t.\u0275fac=function(e){return new(e||t)(M(_Z),M(zt))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-rating"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,Gt,5),2&e){let o;Ze(o=et())&&(n.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,n){1&e&&Ae("blur",function(){return n.handleBlur()})("keydown",function(o){return n.handleKeyDown(o)})("mouseleave",function(){return n.reset()}),2&e&&(gn("tabindex",n.disabled?-1:n.tabindex),mt("aria-valuemax",n.max)("aria-valuenow",n.nextRate)("aria-valuetext",n.ariaValueText(n.nextRate,n.max))("aria-disabled",!!n.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[Pt([{provide:Un,useExisting:Ct(()=>t),multi:!0}]),gi,qi],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(pe(0,fq,1,1,"ng-template",null,0,Dn),pe(2,mq,4,5,"ng-template",1)),2&e&&(j(2),z("ngForOf",n.contexts))},dependencies:[ei,Hr],encapsulation:2,changeDetection:0}),t})(),aO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[vZ]}),t})();class lO{constructor(i,e,n){this.hour=Fn(i),this.minute=Fn(e),this.second=Fn(n)}changeHour(i=1){this.updateHour((isNaN(this.hour)?0:this.hour)+i)}updateHour(i){this.hour=zi(i)?(i<0?24+i:i)%24:NaN}changeMinute(i=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+i)}updateMinute(i){zi(i)?(this.minute=i%60<0?60+i%60:i%60,this.changeHour(Math.floor(i/60))):this.minute=NaN}changeSecond(i=1){this.updateSecond((isNaN(this.second)?0:this.second)+i)}updateSecond(i){zi(i)?(this.second=i<0?60+i%60:i%60,this.changeMinute(Math.floor(i/60))):this.second=NaN}isValid(i=!0){return zi(this.hour)&&zi(this.minute)&&(!i||zi(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let bZ=(()=>{class t{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(){return function yZ(){return new AZ}()},providedIn:"root"}),t})(),AZ=(()=>{class t extends cO{fromModel(e){return e&&Ni(e.hour)&&Ni(e.minute)?{hour:e.hour,minute:e.minute,second:Ni(e.second)?e.second:null}:null}toModel(e){return e&&Ni(e.hour)&&Ni(e.minute)?{hour:e.hour,minute:e.minute,second:Ni(e.second)?e.second:null}:null}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=fi(t)))(n||t)}}(),t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),dO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:function(e){let n=null;return n=e?new e:function CZ(t){return new wZ(t)}(Ce(sr)),n},providedIn:"root"}),t})(),wZ=(()=>{class t extends dO{constructor(e){super(),this._periods=Gx(e,Ii.Standalone,Ot.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return t.\u0275fac=function(e){return new(e||t)(Ce(sr))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();const xZ=/[^0-9]/g;let SZ=(()=>{class t{constructor(e,n,r,o){this._config=e,this._ngbTimeAdapter=n,this._cd=r,this.i18n=o,this.onChange=s=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}set hourStep(e){this._hourStep=Ni(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=Ni(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=Ni(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(e){const n=this._ngbTimeAdapter.fromModel(e);this.model=n?new lO(n.hour,n.minute,n.second):new lO,!this.seconds&&(!n||!zi(n.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model?.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model?.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model?.changeSecond(e),this.propagateModelChange()}updateHour(e){const n=!!this.model&&this.model.hour>=12,r=Fn(e);this.model?.updateHour(this.meridian&&(n&&r<12||!n&&12===r)?r+12:r),this.propagateModelChange()}updateMinute(e){this.model?.updateMinute(Fn(e)),this.propagateModelChange()}updateSecond(e){this.model?.updateSecond(Fn(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(xZ,"")}formatHour(e){return zi(e)?ic(this.meridian?e%12==0?12:e%12:e%24):ic(NaN)}formatMinSec(e){return ic(zi(e)?e:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!zi(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return t.\u0275fac=function(e){return new(e||t)(M(bZ),M(cO),M(zt),M(dO))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[Pt([{provide:Un,useExisting:Ct(()=>t),multi:!0}]),gi,qi],decls:16,vars:25,consts:function(){let i,e,n,r,o,s,l,_,S,T,I,U,ee,he;return i=$localize`:@@ngb.timepicker.HH:HH`,e=$localize`:@@ngb.timepicker.hours:Hours`,n=$localize`:@@ngb.timepicker.MM:MM`,r=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,s=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,l=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,_=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,S=$localize`:@@ngb.timepicker.SS:SS`,T=$localize`:@@ngb.timepicker.seconds:Seconds`,I=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,U=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,ee=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,he=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",e,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",r,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],s,l,_,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",S,"aria-label",T,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],I,U,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],ee,he]},template:function(e,n){1&e&&(O(0,"fieldset",0)(1,"div",1)(2,"div",2),pe(3,gq,4,7,"button",3),O(4,"input",4),Ae("change",function(o){return n.updateHour(o.target.value)})("blur",function(){return n.handleBlur()})("input",function(o){return n.formatInput(o.target)})("keydown.ArrowUp",function(o){return n.changeHour(n.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return n.changeHour(-n.hourStep),o.preventDefault()}),N(),pe(5,_q,4,7,"button",3),N(),O(6,"div",5),ce(7,":"),N(),O(8,"div",6),pe(9,vq,4,7,"button",3),O(10,"input",7),Ae("change",function(o){return n.updateMinute(o.target.value)})("blur",function(){return n.handleBlur()})("input",function(o){return n.formatInput(o.target)})("keydown.ArrowUp",function(o){return n.changeMinute(n.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return n.changeMinute(-n.minuteStep),o.preventDefault()}),N(),pe(11,bq,4,7,"button",3),N(),pe(12,yq,2,0,"div",8),pe(13,wq,4,9,"div",9),pe(14,xq,1,0,"div",8),pe(15,Dq,5,9,"div",10),N()()),2&e&&(tt("disabled",n.disabled),z("disabled",n.disabled),j(3),z("ngIf",n.spinners),j(1),tt("form-control-sm",n.isSmallSize)("form-control-lg",n.isLargeSize),z("value",n.formatHour(null==n.model?null:n.model.hour))("readOnly",n.readonlyInputs)("disabled",n.disabled),j(1),z("ngIf",n.spinners),j(4),z("ngIf",n.spinners),j(1),tt("form-control-sm",n.isSmallSize)("form-control-lg",n.isLargeSize),z("value",n.formatMinSec(null==n.model?null:n.model.minute))("readOnly",n.readonlyInputs)("disabled",n.disabled),j(1),z("ngIf",n.spinners),j(1),z("ngIf",n.seconds),j(1),z("ngIf",n.seconds),j(1),z("ngIf",n.meridian),j(1),z("ngIf",n.meridian))},dependencies:[vt],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),t})(),uO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[SZ]}),t})();const TZ=(t,i)=>{const{classList:e}=t;if(i)return e.add("fade"),nc(t),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},DZ=({classList:t})=>(t.add("showing"),()=>{t.remove("show","showing")});let EZ=(()=>{class t{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ce(xa))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=He({type:t,selectors:[["","ngbToastHeader",""]],standalone:!0}),t})(),IZ=(()=>{class t{constructor(e,n,r,o){this.ariaLive=e,this._zone=r,this._element=o,this.contentHeaderTpl=null,this.shown=new Ye,this.hidden=new Ye,null==this.ariaLive&&(this.ariaLive=n.ariaLive),this.delay=n.delay,this.autohide=n.autohide,this.animation=n.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(qt(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=hn(this._zone,this._element.nativeElement,DZ,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=hn(this._zone,this._element.nativeElement,TZ,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return t.\u0275fac=function(e){return new(e||t)(Yo("aria-live"),M(EZ),M(ot),M(Je))},t.\u0275cmp=Xe({type:t,selectors:[["ngb-toast"]],contentQueries:function(e,n,r){if(1&e&&Dt(r,MZ,7,Gt),2&e){let o;Ze(o=et())&&(n.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(e,n){2&e&&(mt("aria-live",n.ariaLive),tt("fade",n.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[gi,qi],ngContentSelectors:vp,decls:5,vars:1,consts:function(){let i;return i=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",i,1,"btn-close",3,"click"]]},template:function(e,n){1&e&&(ln(),pe(0,Eq,2,1,"ng-template",null,0,Dn),pe(2,Iq,3,1,"ng-template",1),O(3,"div",2),Oi(4),N()),2&e&&(j(2),z("ngIf",n.contentHeaderTpl||n.header))},dependencies:[vt,Hr],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),t})(),hO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[IZ]}),t})(),fO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})(),OZ=(()=>{class t{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const n=tI(this.result),r=Array.isArray(this.term)?this.term:[this.term],o=S=>this.accentSensitive?S:rI(S),s=r.map(S=>function Nq(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(tI(S)))).filter(S=>S),l=this.accentSensitive?n:rI(n),_=s.length?l.split(new RegExp(`(${s.join("|")})`,"gmi")):[n];if(this.accentSensitive)this.parts=_;else{let S=0;this.parts=_.map(T=>n.substring(S,S+=T.length))}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Xe({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[gi,qi],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,n){1&e&&pe(0,Pq,3,2,"ng-template",0),2&e&&z("ngForOf",n.parts)},dependencies:[vt,ei],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),t})();new Ge("live announcer delay",{providedIn:"root",factory:function kZ(){return 100}});let pO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[OZ]}),t})(),mO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})();const PZ=[fI,pI,vI,bI,VI,UI,zI,XI,mO,nO,oO,sO,aO,uO,hO,fO,pO];let RZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[PZ,fI,pI,vI,bI,VI,UI,zI,XI,mO,nO,oO,sO,aO,uO,hO,fO,pO]}),t})();const FZ=["photoCarousel"];function NZ(t,i){if(1&t&&(O(0,"div",5),Ee(1,"img",6),N(),O(2,"div",7)(3,"h3"),ce(4),N(),O(5,"p"),ce(6),N()(),O(7,"a",8),Ee(8,"span",9),N(),O(9,"a",10),Ee(10,"span",11),N()),2&t){const e=ae().$implicit;j(1),z("src",e.image,ai),j(3),ct(e.title),j(2),jg("This photo has ",e.comments," Comments, ",e.likes," Likes, ",e.loves," Loves & ",e.celebrates," Celebrations ")}}function LZ(t,i){1&t&&pe(0,NZ,11,6,"ng-template",4)}let BZ=(()=>{class t{constructor(e,n,r){this.pService=e,this.sService=n,this.rService=r,this.photo_activity=[]}ngOnInit(){this.showPhotos(),setTimeout(()=>{console.log(this.photo_activity)},200)}showPhotos(){this.pService.fetchPhotos().subscribe(e=>{e.storyphotos.length>0&&e.storyphotos.forEach(n=>{this.photo_activity.push({image:n.story_image,title:n.story_title,likes:n.story_likes,loves:n.story_loves,celebrates:n.story_celebrates,comments:n.story_comments})}),e.reelphotos.length>0&&e.reelphotos.forEach(n=>{this.photo_activity.push({image:n.reel_image,title:n.reel_caption,likes:n.reel_likes,loves:n.reel_loves,celebrates:n.reel_celebrates,comments:n.reel_comments})})})}static#e=this.\u0275fac=function(n){return new(n||t)(M(hs),M(cr),M(ur))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-photo-carousal"]],viewQuery:function(n,r){if(1&n&&Xt(FZ,5),2&n){let o;Ze(o=et())&&(r.carousel=o.first)}},decls:5,vars:3,consts:[[2,"text-align","center","margin-top","8px !important","margin-bottom","8px !important"],["id","carousel_1",2,"margin","10px auto",3,"showNavigationArrows","showNavigationIndicators"],["photoCarousel","ngbCarousel"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"picsum-img-wrapper","d-flex","justify-content-center"],["alt","photo_item.title",2,"max-width","800px","height","600px",3,"src"],[1,"carousel-caption"],["href","#carousel_1","data-slide","prev",1,"carousel-control-prev"],[1,"carousel-control-prev-icon"],["href","#carousel_1","data-slide","next",1,"carousel-control-next"],[1,"carousel-control-next-icon"]],template:function(n,r){1&n&&(O(0,"h1",0),ce(1,"Your Photos"),N(),O(2,"ngb-carousel",1,2),pe(4,LZ,1,0,null,3),N()),2&n&&(j(2),z("showNavigationArrows",!0)("showNavigationIndicators",!0),j(2),z("ngForOf",r.photo_activity))},dependencies:[ei,_I,gI],styles:[".picsum-img-wrapper[_ngcontent-%COMP%]{background-color:#6c757d}.carousel-control-next-icon[_ngcontent-%COMP%], .carousel-control-prev-icon[_ngcontent-%COMP%]{filter:invert(100%)}"]})}return t})();function VZ(t,i){if(1&t){const e=Qe();O(0,"button",9),Ae("click",function(){return Ie(e),Oe(ae(2).addProfile())}),ce(1," Add Your Profile "),N()}}function HZ(t,i){if(1&t){const e=Qe();O(0,"button",9),Ae("click",function(){return Ie(e),Oe(ae(2).onEditProfile())}),ce(1," Edit Your Profile "),N()}}function jZ(t,i){if(1&t){const e=Qe();O(0,"button",23),Ae("click",function(){return Ie(e),Oe(ae(3).yourPublicProfile())}),ce(1," See Public Profile "),N()}}function UZ(t,i){1&t&&Ee(0,"hr",4)}function GZ(t,i){if(1&t){const e=Qe();O(0,"div",26)(1,"h2",4),ce(2),N(),O(3,"p",4),ce(4),N(),O(5,"div",14)(6,"div",3)(7,"button",27),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).acceptRequest(o.id))}),ce(8,"Accept Friend"),N()(),O(9,"div",3)(10,"button",28),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).rejectRequest(o.id))}),ce(11,"Reject Request"),N()()()()}if(2&t){const e=i.$implicit;j(2),Tt("Request From : ",e.from_user,""),j(2),Tt("Request Message : ",e.message,"")}}function zZ(t,i){if(1&t&&(O(0,"div",24)(1,"h3",4),ce(2,"Pending Friend Requests"),N(),Ee(3,"hr",4),pe(4,GZ,12,2,"div",25),N()),2&t){const e=ae(3);j(4),z("ngForOf",e.pendingRequests)}}function WZ(t,i){if(1&t){const e=Qe();O(0,"div",26)(1,"h2",31),ce(2),N(),O(3,"div",14)(4,"div",3)(5,"button",27),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).goToFriendDetail(o.id))}),ce(6,"View Friend"),N()(),O(7,"div",3)(8,"button",28),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).removeFriend(o.id))}),ce(9,"Remove Friend"),N()()()()}if(2&t){const e=i.$implicit;j(2),ys("",e.first_name," ",e.last_name,"")}}function $Z(t,i){1&t&&(O(0,"div",29)(1,"h3"),ce(2,"You have not made any friends yet!"),N()())}function YZ(t,i){if(1&t&&(O(0,"div",14)(1,"div",29)(2,"h3",4),ce(3,"Friend List"),N(),Ee(4,"hr",4),pe(5,WZ,10,2,"div",25),N(),pe(6,$Z,3,0,"div",30),N()),2&t){const e=ae(3);j(5),z("ngForOf",e.friends),j(1),z("ngIf",!e.friends)}}function XZ(t,i){if(1&t){const e=Qe();O(0,"div",34)(1,"p",35)(2,"a",36),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).goToPublicProfile(o.activityUserID))}),ce(3),N(),ce(4),O(5,"a",36),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).goToStoryDetail(o.story.id))}),ce(6),N()()()}if(2&t){const e=i.$implicit;j(3),ct(e.activityUser),j(1),Tt(" has ",e.action," on your story "),j(2),ct(e.story.title)}}function QZ(t,i){if(1&t){const e=Qe();O(0,"div",34)(1,"p",35)(2,"a",36),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).goToPublicProfile(o.activityUserID))}),ce(3),N(),ce(4),O(5,"a",36),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).goToReelDetail(o.reel.id))}),ce(6),N()()()}if(2&t){const e=i.$implicit;j(3),ct(e.activityUser),j(1),Tt(" has ",e.action," on your reel "),j(2),ct(e.reel.caption)}}function KZ(t,i){if(1&t&&(O(0,"div",3)(1,"div",32)(2,"h3",4),ce(3,"Activity on your stories"),N(),Ee(4,"hr",4),pe(5,XZ,7,3,"div",33),pe(6,QZ,7,3,"div",33),N()()),2&t){const e=ae(3);j(5),z("ngForOf",e.s_activity),j(1),z("ngForOf",e.r_activity)}}function qZ(t,i){if(1&t&&(O(0,"div",10)(1,"div",11),Ee(2,"img",12),N(),Ee(3,"div",13),O(4,"div",3)(5,"div",14)(6,"p")(7,"strong"),ce(8,"Status : "),N(),ce(9),N()(),O(10,"div",14)(11,"h3"),ce(12),N(),O(13,"p"),ce(14),N(),O(15,"p"),ce(16),N(),O(17,"p"),ce(18),N(),O(19,"p"),ce(20),N()(),O(21,"div",15),pe(22,jZ,2,0,"button",16),N()(),pe(23,UZ,1,0,"hr",7),O(24,"div",17)(25,"div",18)(26,"div",14),pe(27,zZ,5,1,"div",19),N(),pe(28,YZ,7,2,"div",20),N(),Ee(29,"div",21),pe(30,KZ,7,2,"div",22),N()()),2&t){const e=ae(2);j(2),vs("alt",e.fullname),z("src",e.profile.avatar,ai),j(7),ct(e.profile.status),j(3),Tt(" ",e.emailId,""),j(2),ct(e.profile.bio),j(2),ct(e.profile.url),j(2),ct(e.profile.gender),j(2),ct(e.profile.city),j(2),z("ngIf",!!e.showProfileEdit),j(1),z("ngIf",!!e.profileAvailable),j(4),z("ngIf",!!e.pendingRequests.length),j(1),z("ngIf",!!e.friends.length),j(2),z("ngIf",!!e.s_activity.length||!!e.r_activity.length)}}function JZ(t,i){1&t&&Ee(0,"hr",4)}function ZZ(t,i){1&t&&(O(0,"div",37),Ee(1,"app-photo-carousal"),N())}function eee(t,i){if(1&t&&(O(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),ce(4),N()(),O(5,"div",3),pe(6,VZ,2,0,"button",5),pe(7,HZ,2,0,"button",5),N()(),pe(8,qZ,31,13,"div",6),pe(9,JZ,1,0,"hr",7),pe(10,ZZ,2,0,"div",8),N()),2&t){const e=ae();j(4),ct(e.fullname),j(2),z("ngIf",!!e.showProfileAdd),j(1),z("ngIf",!!e.showProfileEdit),j(1),z("ngIf",!!e.profileAvailable),j(1),z("ngIf",!!e.s_activity.length||!!e.r_activity.length),j(1),z("ngIf",!(!e.profileAvailable||!e.s_activity.length&&!e.r_activity.length))}}let tee=(()=>{class t{constructor(e,n,r,o,s,l){this.pService=e,this.dialog=n,this.authService=r,this.router=o,this.route=s,this.pFileTransferService=l,this.isAuth=!1,this.showProfileAdd=!1,this.showProfileEdit=!1,this.profileAvailable=!1,this.fullname="",this.pendingRequests=[],this.friends=[],this.emailId="",this.s_activity=[],this.r_activity=[]}ngOnInit(){this.authService.user().subscribe(e=>{this.loggedInUserId=+e.id,this.fullname=e.first_name+" "+e.last_name,this.emailId=e.email}),this.isAuth=!!Yt.authEmitter,this.pService.fetchPrivateProfile().subscribe(e=>{console.log(e),e.length>0?(this.profile={...e[0]},this.profileAvailable=!0,this.showProfileEdit=!0):(this.profileAvailable=!1,this.showProfileAdd=!0)}),setTimeout(()=>{this.loadFriendStates(),this.loadFeedData()},100),setTimeout(()=>{this.s_activity.sort((e,n)=>{e.story.updated_at.localeCompare(n.story.updated_at)}),this.r_activity.sort((e,n)=>{e.reel.updated_at.localeCompare(n.reel.updated_at)})},300)}addProfile(){const e=new on;e.autoFocus=!0,e.minWidth="800px",e.disableClose=!0,e.panelClass="custom-modalbox",this.dialog.open(HX,e).afterClosed().subscribe(n=>{if(n){console.log(n.data);const r=new FormData;r.append("avatar",this.pFileTransferService.avatar);let o={id:no(),gender:n.data.gender,status:n.data.status,city:n.data.city,bio:n.data.bio,url:n.data.url,user:this.loggedInUserId};console.log(o),this.pService.addProfile(o).subscribe(s=>{this.pService.addProfileImage(s.id,r).subscribe(l=>{console.log(l),this.pFileTransferService.avatar=null})})}})}onEditProfile(){console.log(this.profile.id),this.router.navigate(["profile/personal",this.profile.id])}acceptRequest(e){this.pService.acceptFriendRequest({id:e}).subscribe()}rejectRequest(e){this.pService.rejectFriendRequest({id:e}).subscribe()}removeFriend(e){this.pService.removeFriend({to_user:e}).subscribe()}goToFriendDetail(e){this.router.navigateByUrl("/friends/"+e)}yourPublicProfile(){this.router.navigateByUrl("/profile/"+this.loggedInUserId)}goToStoryDetail(e){this.router.navigateByUrl("/story/"+e)}goToReelDetail(e){this.router.navigateByUrl("/reel/detail/"+e)}goToPublicProfile(e){this.router.navigateByUrl("/profile/"+e)}loadFriendStates(){var e=this;return us(function*(){const n=e.pService.pendingReceivedFriendRequests();e.pendingRequests=yield ii(n);const r=e.pService.listFriends();e.friends=yield ii(r)})()}loadFeedData(){var e=this;return us(function*(){const n=e.pService.fetchStoryReactionActivityFeed();try{e.storyfeeddata=yield ii(n),e.storyfeeddata?e.storyfeeddata.forEach(s=>{let l={};l.activityUserID=s.doneByUser,l.activityUser=s.fullname,l.story=s.story,"Liked"===s.action||"Loved"===s.action||"Celebrated"===s.action?l.action=s.action:"Unliked"===s.action?l.action="Removed like":"Unloved"===s.action?l.action="Removed love":"Uncelebrated"===s.action?l.action="Removed celebration":console.log(l.action),e.s_activity.push(l)}):console.log("No Data for Story Activity Feed")}catch(s){console.log(s)}try{const s=e.pService.fetchStoryCommentActivityFeed();e.storycommentdata=yield ii(s),e.storycommentdata?e.storycommentdata.forEach(l=>{let _={};_.activityUserID=l.commentByUser,_.activityUser=l.fullname,_.story=l.story,_.action=l.action,_.activityUser!==e.fullname&&e.s_activity.push(_)}):console.log("No Data for Story Comment Feed")}catch(s){console.log(s)}const r=e.pService.fetchReelReactionActivityFeed();try{e.reelfeeddata=yield ii(r),e.reelfeeddata?e.reelfeeddata.forEach(s=>{let l={};l.activityUserID=s.doneByUser,l.activityUser=s.fullname,l.reel=s.reel,"Liked"===s.action||"Loved"===s.action||"Celebrated"===s.action?l.action=s.action:"Unliked"===s.action?l.action="Removed like":"Unloved"===s.action?l.action="Removed love":"Uncelebrated"===s.action?l.action="Removed celebration":console.log(l.action),e.r_activity.push(l)}):console.log("No Data for Reel Activity Feed")}catch(s){console.log(s)}const o=e.pService.fetchReelCommentActivityFeed();try{e.reelcommentdata=yield ii(o),e.reelcommentdata?e.reelcommentdata.forEach(s=>{let l={};l.activityUserID=s.commentByUser,l.activityUser=s.fullname,l.reel=s.reel,l.action=s.action,l.activityUser!==e.fullname&&e.r_activity.push(l)}):console.log("No Data for Reel Comment Feed")}catch(s){console.log(s)}})()}static#e=this.\u0275fac=function(n){return new(n||t)(M(hs),M(Po),M(Yt),M(ti),M(Ui),M(tb))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-private-profile"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","mainrow"],[1,"col-md-6"],[1,"heading"],["mat-mini-fab","","class","btn btn-primary float-end",3,"click",4,"ngIf"],["class","row profile-body",4,"ngIf"],["class","heading",4,"ngIf"],["class","photo-carousal",4,"ngIf"],["mat-mini-fab","",1,"btn","btn-primary","float-end",3,"click"],[1,"row","profile-body"],[1,"col-md-4"],[1,"avatar","card-img-top","img-fluid",3,"src","alt"],[1,"col-md-2"],[1,"row"],[1,"row",2,"justify-content","center"],["mat-mini-fab","","class","btn btn-primary float-start",3,"click",4,"ngIf"],[1,"row","feed-container"],[1,"col-md-5"],["class","col-md-12 friends",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-1"],["class","col-md-6",4,"ngIf"],["mat-mini-fab","",1,"btn","btn-primary","float-start",3,"click"],[1,"col-md-12","friends"],["class","friend-card",4,"ngFor","ngForOf"],[1,"friend-card"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[1,"friends"],["class","friends",4,"ngIf"],[1,"heading",2,"text-align","center"],[1,"activities"],["class","feed-item",4,"ngFor","ngForOf"],[1,"feed-item"],[2,"margin","auto"],[2,"cursor","pointer","color","#6c757d",3,"click"],[1,"photo-carousal"]],template:function(n,r){1&n&&pe(0,eee,11,6,"div",0),2&n&&z("ngIf",!!r.isAuth)},dependencies:[ei,vt,QG,BZ],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#fff;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:-moz-fit-content;max-width:fit-content}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:-moz-fit-content;max-width:fit-content}.mainrow[_ngcontent-%COMP%]{text-align:left;background-color:#a0c9d5;padding:10px auto;margin:10px auto;border-radius:5px}.feed-container[_ngcontent-%COMP%]{padding:0px auto!important;margin:10px auto;text-align:center}.friends[_ngcontent-%COMP%], .activities[_ngcontent-%COMP%]{padding:10px 0!important;margin:10px auto!important;border-radius:5px;justify-content:center}.friend-card[_ngcontent-%COMP%]{border-radius:5px;color:#0c2b57;text-align:center;box-shadow:#0c2b57 1px 0 10px;background-color:#a0c9d5;margin:15px auto;padding:10px}.profile-body[_ngcontent-%COMP%], .feed-container[_ngcontent-%COMP%]{margin:10px auto;padding:10px auto;overflow:hidden}.profile-body[_ngcontent-%COMP%] > .col-md-4[_ngcontent-%COMP%], .profile-body[_ngcontent-%COMP%] > .col-md-2[_ngcontent-%COMP%], .profile-body[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%]{margin:10px auto;padding:10px 0}.avatar[_ngcontent-%COMP%]{border-radius:25px;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}.heading[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important}.feed-item[_ngcontent-%COMP%]{color:#0c2b57;text-align:left;box-shadow:#0c2b57 1px 0 10px;background-color:#a0c9d5;margin:15px auto;padding:5px;height:-moz-fit-content;height:fit-content}.photo-carousal[_ngcontent-%COMP%]{max-width:800px;padding:10px auto!important;margin:10px auto!important;border-radius:5px;justify-content:center}"]})}return t})();function iee(t,i){1&t&&(O(0,"h3",8),ce(1,"User's Public Profile"),N())}function nee(t,i){1&t&&(O(0,"h3",8),ce(1,"Your Public Profile"),N())}function ree(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){return Ie(e),Oe(ae(2).viewFriend())}),ce(1,"View Friend"),N()}}function oee(t,i){if(1&t){const e=Qe();O(0,"button",11),Ae("click",function(){return Ie(e),Oe(ae(2).addFriend())}),ce(1,"Add Friend"),N()}}function see(t,i){1&t&&(O(0,"p",15),ce(1,"Request Pending"),N())}function aee(t,i){if(1&t&&(O(0,"p",16),ce(1),N()),2&t){const e=ae(3);j(1),Tt("Sent Request Rejected on ",e.rejectedOnSent,"")}}function lee(t,i){if(1&t&&(O(0,"p",16),ce(1),N()),2&t){const e=ae(3);j(1),Tt("Received Request Rejected on ",e.rejectedOnReceived,"")}}function cee(t,i){if(1&t&&(O(0,"div",12),pe(1,see,2,0,"p",13),pe(2,aee,2,1,"p",14),pe(3,lee,2,1,"p",14),N()),2&t){const e=ae(2);j(1),z("ngIf",!!e.pendingAddFriendButton&&!e.rejectedOnSent&&!e.rejectedOnReceived),j(1),z("ngIf",e.rejectedOnSent&&!e.rejectedOnReceived),j(1),z("ngIf",e.rejectedOnReceived&&!e.rejectedOnSent)}}function dee(t,i){if(1&t&&(O(0,"div",1)(1,"div",3),pe(2,ree,2,0,"button",9),pe(3,oee,2,0,"button",9),N(),pe(4,cee,4,3,"div",10),N()),2&t){const e=ae();j(2),z("ngIf",!e.showAddFriendButton),j(1),z("ngIf",!(!e.showAddFriendButton||e.pendingAddFriendButton||e.rejectedOnSent||e.rejectedOnReceived)),j(1),z("ngIf",!!e.pendingAddFriendButton||!!e.rejectedOnSent||!!e.rejectedOnReceived)}}function uee(t,i){if(1&t&&(O(0,"div",1)(1,"div",17),Ee(2,"img",18),N(),Ee(3,"div",19),O(4,"div",20)(5,"div",1)(6,"p"),ce(7),N(),O(8,"p"),ce(9),N(),O(10,"p"),ce(11),N(),O(12,"p"),ce(13),N(),O(14,"p"),ce(15),N(),O(16,"p"),ce(17),N()()()()),2&t){const e=ae();j(2),vs("alt",e.fullName),z("src","http://localhost:8000/"+e.profile.avatar,ai),j(5),Tt("Name : ",e.fullName,""),j(2),Tt("Status : ",e.profile.status,""),j(2),Tt("Bio : ",e.profile.bio,""),j(2),Tt("URL : ",e.profile.url,""),j(2),Tt("Gender : ",e.profile.gender,""),j(2),Tt("City : ",e.profile.city,"")}}function hee(t,i){1&t&&(O(0,"div",1)(1,"h2"),ce(2,"User has not filled in his profile!!"),N()())}let fee=(()=>{class t{constructor(e,n,r,o,s){this.router=e,this.route=n,this.pService=r,this.aService=o,this.datePipe=s,this.fullName="",this.loggedUserName="",this.profileUserEmail="",this.showAddFriendButton=!0,this.pendingAddFriendButton=!1,this.canShow=!1,this.receivedRequest=!1}ngOnInit(){this.route.params.subscribe(e=>{this.userId=+e.userId}),this.aService.user().subscribe(e=>{this.loggedInUserId=+e.id,this.loggedUserName=e.first_name+" "+e.last_name}),setTimeout(()=>{this.pService.fetchPublicProfile(this.userId).subscribe(e=>{this.profile={...e},console.log(e),this.canShow=!0},e=>{404==e.status&&(this.canShow=!1)})},50),setTimeout(()=>{this.aService.publicUser(this.userId).subscribe(e=>{this.fullName=e.first_name+" "+e.last_name,this.profileUserEmail=e.email})},50),setTimeout(()=>{this.loadButtonStates()},100)}addFriend(e="Please change this"){this.pService.sendFriendRequest({to_user:this.userId,message:e}).subscribe(()=>{this.pendingAddFriendButton=!0})}viewFriend(){this.router.navigateByUrl("/friends/"+this.userId)}loadButtonStates(){var e=this;return us(function*(){const n=e.pService.listFriends();e.friends=yield ii(n),e.friends.forEach(l=>{e.profile&&l.id==+e.profile.user&&(e.showAddFriendButton=!1)});const r=e.pService.pendingSentFriendRequests();e.pendingFriends=yield ii(r),e.pendingFriends.forEach(l=>{String(l.to_user)==String(e.profileUserEmail)&&(e.pendingAddFriendButton=!0)});const o=e.pService.rejectedSentFriendRequests(e.userId);e.rejSentFriends=yield ii(o),e.rejSentFriends&&(console.log(e.rejSentFriends),e.rejSentFriends.forEach(l=>{l.to_user==e.fullName&&l.from_user==e.loggedUserName&&(e.rejectedOnSent=e.datePipe.transform(e.rejSentFriends[0].rejected,"yyyy-MM-dd"))}));const s=e.pService.rejectedReceivedFriendRequests();e.rejRecievedFriends=yield ii(s),e.rejRecievedFriends&&e.rejRecievedFriends.forEach(l=>{l.from_user==e.fullName&&l.to_user==e.loggedUserName&&(e.rejectedOnReceived=e.datePipe.transform(e.rejRecievedFriends[0].rejected,"yyyy-MM-dd"))})})()}static#e=this.\u0275fac=function(n){return new(n||t)(M(ti),M(Ui),M(hs),M(Yt),M(j_))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-public-profile"]],features:[Pt([j_])],decls:13,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-md-4"],[1,"row",2,"margin","10px auto"],["style","text-align: center;margin: 10px auto;",4,"ngIf"],[1,"col-md-8"],["class","row",4,"ngIf"],[1,"spacer"],[2,"text-align","center","margin","10px auto"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],["class","row","style","margin: -15px auto;",4,"ngIf"],[1,"btn","btn-primary","float-end",3,"click"],[1,"row",2,"margin","-15px auto"],["class","text-messages-1",4,"ngIf"],["class","text-messages-2",4,"ngIf"],[1,"text-messages-1"],[1,"text-messages-2"],[1,"container2","col-md-4"],[1,"circular_image",3,"src","alt"],[1,"col-md-2"],[1,"container4","col-md-6"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),pe(4,iee,2,0,"h3",4),pe(5,nee,2,0,"h3",4),N()(),O(6,"div",5),pe(7,dee,5,3,"div",6),N()(),Ee(8,"hr")(9,"div",7),pe(10,uee,18,8,"div",6),Ee(11,"hr"),pe(12,hee,3,0,"div",6),N()),2&n&&(j(4),z("ngIf",r.loggedInUserId!=r.userId),j(1),z("ngIf",r.loggedInUserId==r.userId),j(2),z("ngIf",r.loggedInUserId!=r.userId),j(3),z("ngIf",!!r.canShow),j(2),z("ngIf",!r.canShow))},dependencies:[vt],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;text-align:center;padding:20px auto;float:none;justify-content:center;max-width:800px;max-height:100%;align-content:center}.container[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-md-4[_ngcontent-%COMP%], .container[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-md-8[_ngcontent-%COMP%]{margin:10px auto}.container2[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;float:none;justify-content:center;max-width:800px}.container4[_ngcontent-%COMP%]{margin:20px auto;text-align:left;padding:20px auto;float:none;justify-content:center;max-width:800px}.container4[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:5px;padding:5px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px auto;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;width:200px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px auto;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;width:200px}.circular_image[_ngcontent-%COMP%]{width:250px;height:250px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}.text-messages-1[_ngcontent-%COMP%]{width:300px;max-height:100%;margin:10px auto;padding:10px;text-align:center;border-radius:10px;background-color:#d4f3fd}.text-messages-2[_ngcontent-%COMP%]{width:300px;max-height:100%;margin:10px auto;padding:10px;text-align:center;border-radius:10px;background-color:red}.spacer[_ngcontent-%COMP%]{height:20px}"]})}return t})();function pee(t,i){if(1&t&&(O(0,"div",21),Ee(1,"img",22),N()),2&t){const e=ae(2);j(1),z("src",e.profileForm.get("avatar").value,ai)}}function mee(t,i){if(1&t&&(O(0,"div",21),Ee(1,"img",22),N()),2&t){const e=ae(2);j(1),z("src",e.imageUrl,ai)}}function gee(t,i){if(1&t){const e=Qe();O(0,"div",2)(1,"form",3),Ae("ngSubmit",function(){return Ie(e),Oe(ae().onSubmit())}),O(2,"div",4)(3,"div",2)(4,"div",5)(5,"label",6),ce(6,"Status"),N(),Ee(7,"input",7),N()()(),O(8,"div",4)(9,"div",2)(10,"div",5)(11,"label",8),ce(12,"Bio"),N(),Ee(13,"input",9),N()()(),O(14,"div",4)(15,"div",2)(16,"div",4),pe(17,pee,2,1,"div",10),pe(18,mee,2,1,"div",10),N(),O(19,"div",5)(20,"input",11),Ae("change",function(r){return Ie(e),Oe(ae().onFileSelected(r))}),N()()()(),O(21,"div",4)(22,"div",2)(23,"div",5)(24,"label",12),ce(25,"City"),N(),Ee(26,"input",13),N()()(),O(27,"div",4)(28,"div",2)(29,"div",5)(30,"label",14),ce(31,"Gender"),N(),Ee(32,"input",15),N()()(),O(33,"div",4)(34,"div",2)(35,"div",5)(36,"label",16),ce(37,"URL"),N(),Ee(38,"input",17),N()()(),O(39,"div",4)(40,"div",18)(41,"button",19),Ae("click",function(){return Ie(e),Oe(ae().onCancel())}),ce(42,"Cancel"),N()(),O(43,"div",18)(44,"button",20),ce(45,"Save Profile"),N()()()()()}if(2&t){const e=ae();j(1),z("formGroup",e.profileForm),j(16),z("ngIf",!e.imageUrl),j(1),z("ngIf",!!e.imageUrl)}}let _ee=(()=>{class t{constructor(e,n,r,o,s){this.route=e,this.pService=n,this.router=r,this.authService=o,this.pFileTransferService=s}ngOnInit(){this.route.params.subscribe(e=>{this.profileId=+e.profileId}),this.authService.user().subscribe(e=>{this.user_id=e.id}),this.pService.fetchPrivateProfileById(this.profileId).subscribe(e=>{this.profile={...e}}),setTimeout(()=>{this.initForm()},250)}onFileSelected(e){this.selectedFile=e.target.files[0],this.imageUrl=URL.createObjectURL(this.selectedFile),this.pFileTransferService.avatar=this.selectedFile}onSubmit(){console.log(this.profileForm.value);const e=new FormData;this.pFileTransferService.avatar&&e.append("avatar",this.pFileTransferService.avatar);const n=new FormData;n.append("id",this.profile.id),n.append("status",this.profileForm.value.status),n.append("bio",this.profileForm.value.bio),n.append("city",this.profileForm.value.city),n.append("gender",this.profileForm.value.gender),n.append("url",this.profileForm.value.url),n.append("user",this.user_id.toString()),setTimeout(()=>{this.pService.updateProfile(this.profileId,n).subscribe(r=>{console.log(r),this.pFileTransferService.avatar&&this.pService.addProfileImage(r.id,e).subscribe(()=>{console.log("profile image updated"),this.pFileTransferService.avatar=null})})},100),this.router.navigateByUrl("/profile/personal")}onCancel(){this.router.navigateByUrl("/profile/personal").then(()=>{window.location.reload()})}initForm(){let e="",n="",r="",o=null,s="",l="",_=this.user_id;e=this.profile.status,n=this.profile.bio,r=this.profile.gender,o=this.profile.avatar,s=this.profile.url,l=this.profile.city,this.profileForm=new oo({status:new xi(e,pi.required),bio:new xi(n,pi.required),avatar:new xi(o,pi.required),url:new xi(s,pi.required),city:new xi(l,pi.required),gender:new xi(r,pi.required),user:new xi(_,pi.required)})}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(hs),M(ti),M(Yt),M(tb))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-private-profile-edit"]],decls:2,vars:1,consts:[[1,"container","row"],["class","col-xs-12",4,"ngIf"],[1,"col-xs-12"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group"],["for","status"],["type","text","id","status","formControlName","status",1,"form-control"],["for","bio"],["type","text","id","bio","formControlName","bio",1,"form-control"],["class","col-xs-12 imagerow",4,"ngIf"],["type","file","accept","image/*",3,"change"],["for","city"],["type","text","id","city","formControlName","city",1,"form-control"],["for","gender"],["type","text","id","gender","formControlName","gender",1,"form-control"],["for","url"],["type","text","id","url","formControlName","url",1,"form-control"],[1,"col-md-6"],["type","button",1,"btn","btn-primary","float-start",3,"click"],["type","submit",1,"btn","btn-primary","float-end"],[1,"col-xs-12","imagerow"],[2,"max-width","200px",3,"src"]],template:function(n,r){1&n&&(O(0,"div",0),pe(1,gee,46,3,"div",1),N()),2&n&&(j(1),z("ngIf",!!r.profileForm))},dependencies:[vt,Oo,yn,Gn,zn,Rn,dr],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:800px}.row[_ngcontent-%COMP%]{margin:20px auto}.imagerow[_ngcontent-%COMP%]{margin:10px auto}.imagerow[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;background-color:#a0c9d5;display:block;margin:auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}return t})(),vee=(()=>{class t{constructor(e){this.router=e}ngOnInit(){}goToFriendDetail(e){this.router.navigateByUrl("/friends/"+e)}static#e=this.\u0275fac=function(n){return new(n||t)(M(ti))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-friend-item"]],inputs:{friend:"friend",index:"index"},decls:6,vars:3,consts:[[1,"card"],[1,"card-body",2,"cursor","pointer",3,"click"],[1,"card-title"],[1,"card-text"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1),Ae("click",function(){return r.goToFriendDetail(r.friend.id)}),O(2,"h3",2),ce(3),N(),O(4,"p",3),ce(5),N()()()),2&n&&(j(3),ys("",r.friend.first_name," ",r.friend.last_name,""),j(2),ct(r.friend.email))},styles:[".card[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;overflow-x:hidden!important;overflow-y:hidden!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;max-width:800px}.card-title[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{margin:5px auto;padding:5px auto}"]})}return t})();function bee(t,i){if(1&t&&Ee(0,"app-friend-item",3),2&t){const n=i.index;z("friend",i.$implicit)("index",n)}}function yee(t,i){if(1&t&&(O(0,"div",1),pe(1,bee,1,2,"app-friend-item",2),N()),2&t){const e=i.ngIf;j(1),z("ngForOf",e)}}let gO=(()=>{class t{constructor(e,n,r,o){this.authservice=e,this.fService=n,this.router=r,this.route=o}ngOnInit(){this.friends$=this.fService.listFriends()}static#e=this.\u0275fac=function(n){return new(n||t)(M(Yt),M(ya),M(ti),M(Ui))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-friend-list"]],decls:2,vars:3,consts:[["class","friend-list",4,"ngIf"],[1,"friend-list"],[3,"friend","index",4,"ngFor","ngForOf"],[3,"friend","index"]],template:function(n,r){1&n&&(pe(0,yee,2,1,"div",0),Tn(1,"async")),2&n&&z("ngIf",Cr(1,1,r.friends$))},dependencies:[ei,vt,vee,os],styles:[".friend-list[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important}"]})}return t})();function Aee(t,i){if(1&t){const e=Qe();O(0,"div",9)(1,"h3"),ce(2),N(),O(3,"p"),ce(4),N(),O(5,"div",10)(6,"div",11)(7,"button",12),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(2).acceptRequest(o.id))}),ce(8,"Accept Friend"),N()(),O(9,"div",11)(10,"button",13),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(2).rejectRequest(o.id))}),ce(11,"Reject Request"),N()()()()}if(2&t){const e=i.$implicit;j(2),Tt("From User : ",e.from_user,""),j(2),Tt("Message Received : ",e.message,"")}}function Cee(t,i){if(1&t&&(O(0,"div",7),pe(1,Aee,12,2,"div",8),N()),2&t){const e=ae();j(1),z("ngForOf",e.receivedRequests)}}function wee(t,i){if(1&t&&(O(0,"div",9)(1,"h3"),ce(2),N(),O(3,"p"),ce(4),N()()),2&t){const e=i.$implicit;j(2),Tt("To User : ",e.to_user,""),j(2),Tt("Message Sent : ",e.message,"")}}function xee(t,i){if(1&t&&(O(0,"div",7),pe(1,wee,5,2,"div",8),N()),2&t){const e=ae();j(1),z("ngForOf",e.sentRequests)}}function See(t,i){if(1&t&&(O(0,"div",9)(1,"h3"),ce(2),N(),O(3,"p"),ce(4),N()()),2&t){const e=i.$implicit;j(2),Tt("From User : ",e.from_user,""),j(2),Tt("Message Received : ",e.message,"")}}function Tee(t,i){if(1&t&&(O(0,"div",7),pe(1,See,5,2,"div",8),N()),2&t){const e=ae();j(1),z("ngForOf",e.rejectedRequests)}}function Eee(t,i){if(1&t){const e=Qe();O(0,"div",15)(1,"p",16),ce(2),O(3,"a",17),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).goToStoryDetail(o.story.id))}),ce(4),N()()()}if(2&t){const e=i.$implicit,n=ae(4);j(2),ys("",n.fullName," has ",e.action," "),j(2),ct(e.story.title)}}function Mee(t,i){if(1&t){const e=Qe();O(0,"div",15)(1,"p",16),ce(2),O(3,"a",17),Ae("click",function(){const o=Ie(e).$implicit;return Oe(ae(4).goToReelDetail(o.reel.id))}),ce(4),N()()()}if(2&t){const e=i.$implicit,n=ae(4);j(2),ys("",n.fullName," has ",e.action," "),j(2),ct(e.reel.caption)}}function Iee(t,i){if(1&t&&(O(0,"div",11)(1,"h3",12),ce(2),N(),Ee(3,"hr"),O(4,"div",13),pe(5,Eee,5,3,"div",14),pe(6,Mee,5,3,"div",14),N()()),2&t){const e=ae(3);j(2),Tt("Activity by your friend ",e.fullName,""),j(3),z("ngForOf",e.storyFeed),j(1),z("ngForOf",e.reelFeed)}}function Oee(t,i){if(1&t&&(O(0,"div",3)(1,"div",4)(2,"div",5),Ee(3,"img",6),N(),Ee(4,"div",7),O(5,"div",8)(6,"div",3)(7,"p",9)(8,"strong"),ce(9,"Status : "),N(),ce(10),N()(),O(11,"div",3)(12,"h3"),ce(13),N(),O(14,"p"),ce(15),N(),O(16,"p"),ce(17),N(),O(18,"p"),ce(19),N(),O(20,"p"),ce(21),N()()()(),pe(22,Iee,7,3,"div",10),N()),2&t){const e=ae(2);j(3),vs("alt",e.fullName),z("src","http://localhost:8000/"+e.profile.avatar,ai),j(7),ct(e.profile.status),j(3),ct(e.fullName),j(2),ct(e.profile.bio),j(2),ct(e.profile.url),j(2),ct(e.profile.gender),j(2),ct(e.profile.city),j(1),z("ngIf",!!e.storyFeed.length)}}function kee(t,i){if(1&t&&(O(0,"div",1),pe(1,Oee,23,9,"div",2),N()),2&t){const e=ae();j(1),z("ngIf",!!e.profile)}}const Pee=[{path:"login",component:$Y},{path:"register",component:YY},{path:"forgot",component:QY},{path:"reset/:token",component:KY},{path:"feed",canActivate:[Kl],children:[{path:"",component:rX},{path:":storyId",component:xX},{path:"reel/:reelId",component:LX}]},{path:"story",component:nV,canActivate:[Kl],children:[{path:"",component:lV},{path:"new",component:PG},{path:":id",component:CY},{path:":id/edit",component:DW}]},{path:"reel",canActivate:[Kl],children:[{path:"personal/:userId",component:ZY},{path:"story/:storyId",component:SY},{path:"detail/:reelId",component:VY}]},{path:"profile",canActivate:[Kl],children:[{path:"personal",component:tee},{path:"personal/:profileId",component:_ee},{path:":userId",component:fee}]},{path:"friends",component:(()=>{class t{constructor(e,n){this.fService=e,this.pService=n,this.receivedRequests=[],this.sentRequests=[],this.rejectedRequests=[]}ngOnInit(){this.fService.pendingReceivedFriendRequests().subscribe(e=>{this.receivedRequests=e}),this.fService.pendingSentFriendRequests().subscribe(e=>{this.sentRequests=e}),this.fService.rejectedFriendRequests().subscribe(e=>{this.rejectedRequests=e})}acceptRequest(e){this.pService.acceptFriendRequest({id:e}).subscribe()}rejectRequest(e){this.pService.rejectFriendRequest({id:e}).subscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(M(ya),M(hs))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-friends"]],decls:10,vars:4,consts:[[1,"custom-friendbox"],["dynamicHeight","","animationDuration","500ms",3,"color"],["label","Friends",1,"mat-tab"],["label","Pending Requests",1,"mat-tab"],["class","container",4,"ngIf"],["label","Sent Requests",1,"mat-tab"],["label","Rejected Requests",1,"mat-tab"],[1,"container"],["class","itemData",4,"ngFor","ngForOf"],[1,"itemData"],[1,"row"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2),Ee(3,"app-friend-list"),N(),O(4,"mat-tab",3),pe(5,Cee,2,1,"div",4),N(),O(6,"mat-tab",5),pe(7,xee,2,1,"div",4),N(),O(8,"mat-tab",6),pe(9,Tee,2,1,"div",4),N()()()),2&n&&(j(1),z("color","accent"),j(4),z("ngIf",!!r.receivedRequests.length),j(2),z("ngIf",!!r.sentRequests.length),j(2),z("ngIf",!!r.rejectedRequests.length))},dependencies:[ei,vt,Kv,TM,gO],styles:[".custom-friendbox[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important;text-align:center}.container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;overflow-x:hidden!important;overflow-y:hidden!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;max-width:800px}.container[_ngcontent-%COMP%] > .item-data[_ngcontent-%COMP%]{padding:20px auto}.container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important}.itemData[_ngcontent-%COMP%]{margin:20px auto;overflow-x:hidden!important;overflow-y:hidden!important;vertical-align:middle}.itemData[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%], .itemData[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:5px auto;padding:5px auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;width:150px}"]})}return t})(),canActivate:[Kl],children:[{path:"",component:gO}]},{path:"friends/:friendId",canActivate:[Kl],component:(()=>{class t{constructor(e,n,r,o,s){this.route=e,this.pService=n,this.aService=r,this.fService=o,this.router=s,this.fullName="",this.isAuth=!1,this.storyFeed=[],this.reelFeed=[]}ngOnInit(){this.route.params.subscribe(e=>{this.friendId=+e.friendId,console.log(this.friendId)}),setTimeout(()=>{this.pService.fetchPublicProfile(this.friendId).subscribe(e=>{this.profile={...e}})},50),setTimeout(()=>{this.aService.publicUser(this.friendId).subscribe(e=>{this.fullName=e.first_name+" "+e.last_name})},50),this.isAuth=!!Yt.authEmitter,setTimeout(()=>{this.fetchFriendStoryFeed(),this.fetchFriendReelFeed()},250)}fetchFriendStoryFeed(){this.fService.friendstoryActivity(this.friendId).subscribe(e=>{e.forEach(n=>{let r={};r.story={...n.story},r.action=n.action,this.storyFeed.push(r)})})}fetchFriendReelFeed(){this.fService.friendreelActivity(this.friendId).subscribe(e=>{e.forEach(n=>{let r={};r.reel={...n.reel},r.action=n.action,this.reelFeed.push(r)})})}goToStoryDetail(e){this.router.navigateByUrl("/feed/"+e)}goToReelDetail(e){this.router.navigateByUrl("/feed/reel/"+e)}static#e=this.\u0275fac=function(n){return new(n||t)(M(Ui),M(hs),M(Yt),M(ya),M(ti))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-friend-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow",2,"padding","0px"],[1,"col-md-4","float-start"],[1,"avatar","card-img-top","img-fluid",3,"src","alt"],[1,"col-md-1"],[1,"col-md-7","float-end"],[1,"heading"],["class","activities",4,"ngIf"],[1,"activities"],[2,"text-align","center","padding","10px auto","margin","10px auto"],[1,"col-md-12"],["class","row feed-item",4,"ngFor","ngForOf"],[1,"row","feed-item"],[2,"margin","auto"],[2,"cursor","pointer","color","#6c757d",3,"click"]],template:function(n,r){1&n&&pe(0,kee,2,1,"div",0),2&n&&z("ngIf",!!r.isAuth)},dependencies:[ei,vt],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.mainrow[_ngcontent-%COMP%]{text-align:left;margin:10px auto;border-radius:25px;border:1px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px}.heading[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important}.activities[_ngcontent-%COMP%]{padding:10px auto!important;margin:20px auto!important;border-radius:5px;justify-content:center;max-width:80%;text-align:center}.feed-item[_ngcontent-%COMP%]{color:#0c2b57;text-align:left;box-shadow:#0c2b57 1px 0 10px;background-color:#a0c9d5;margin:15px auto;padding:5px;height:50px;max-width:100%}.avatar[_ngcontent-%COMP%]{border-radius:25px;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}"]})}return t})()}];let Ree=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=pt({type:t});static#i=this.\u0275inj=ut({imports:[bf.forRoot(Pee),bf]})}return t})();function Fee(t,i){1&t&&(O(0,"ul",5)(1,"li")(2,"a",6),ce(3,"Feed"),N()(),O(4,"li")(5,"a",7),ce(6,"Your Stories"),N()()())}function Nee(t,i){if(1&t){const e=Qe();O(0,"ul",5)(1,"li")(2,"a",8),ce(3,"Create Story"),N()(),O(4,"li")(5,"a",9),ce(6,"Your Friendship"),N()(),O(7,"li")(8,"a",10),ce(9,"Your Profile"),N()(),O(10,"li")(11,"a",11),Ae("click",function(){return Ie(e),Oe(ae().logout())}),ce(12,"Logout"),N()()()}}function Lee(t,i){1&t&&(O(0,"ul",5)(1,"li")(2,"a",12),ce(3,"Login"),N()(),O(4,"li")(5,"a",13),ce(6,"Register"),N()()())}let Bee=(()=>{class t{constructor(e){this.authService=e,this.authenticated=!1}ngOnInit(){Yt.authEmitter.subscribe(e=>{this.authenticated=e}),console.log()}logout(){this.authService.logout().subscribe(()=>{this.authService.accessToken="",localStorage.removeItem("access"),Yt.authEmitter.emit(!1)})}static#e=this.\u0275fac=function(n){return new(n||t)(M(Yt))};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-navigation"]],decls:8,vars:3,consts:[[1,"main"],[1,"row"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["class","nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0",4,"ngIf"],[1,"text-end"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/feed",1,"btn","btn-outline-light","me-2"],["routerLink","/story",1,"btn","btn-outline-light","me-2"],["routerLink","/story/new",1,"btn","btn-outline-light","me-2"],["routerLink","/friends",1,"btn","btn-outline-light","me-2"],["routerLink","/profile/personal",1,"btn","btn-outline-light","me-2"],["routerLink","/login",1,"btn","btn-outline-light","me-2",3,"click"],["routerLink","/login",1,"btn","btn-outline-light","me-2"],["routerLink","/register",1,"btn","btn-outline-light","me-2"]],template:function(n,r){1&n&&(O(0,"header",0)(1,"div",1)(2,"div",2),pe(3,Fee,7,0,"ul",3),O(4,"div",4),pe(5,Nee,13,0,"ul",3),N(),O(6,"div",4),pe(7,Lee,7,0,"ul",3),N()()()()),2&n&&(j(3),z("ngIf",!!r.authenticated),j(2),z("ngIf",!!r.authenticated),j(2),z("ngIf",!r.authenticated))},dependencies:[vt,Es],styles:[".main[_ngcontent-%COMP%]{background-color:#2292b7;border-bottom-left-radius:10px;border-bottom-right-radius:10px;padding:10px}a.btn[_ngcontent-%COMP%]{border:3px solid;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}return t})(),Vee=(()=>{class t{constructor(){this.title="frontend-app"}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Xe({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&Ee(0,"app-navigation")(1,"router-outlet")},dependencies:[cf,Bee]})}return t})(),kp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni,lr,X0,ni]}),t})(),Yee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni]}),t})(),Xee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({}),t})(),Qee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({imports:[ni,kp,kp,Xee,ni]}),t})();const ete={provide:new Ge("mat-select-scroll-strategy"),deps:[xr],useFactory:function Zee(t){return()=>t.scrollStrategies.reposition()}};let _O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:[ete],imports:[lr,Xl,jD,ni,Yd,kp,jD,ni]}),t})(),tte=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=pt({type:t});static#i=this.\u0275inj=ut({imports:[lr,JS,bf,u2,h2,lE,kp,Yee,Qee,Fv,Nd,mM,IM,DM,Wv,Bv,Nd,Wv,_O,tM,sM,Hv,Y2,lE,Fv,Nd]})}return t})();function vO(t){return new Ue(3e3,!1)}function Nte(){return typeof window<"u"&&typeof window.document<"u"}function Db(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ls(t){switch(t.length){case 0:return new Ld;case 1:return t[0];default:return new JD(t)}}function bO(t,i,e,n,r=new Map,o=new Map){const s=[],l=[];let _=-1,S=null;if(n.forEach(T=>{const I=T.get("offset"),U=I==_,ee=U&&S||new Map;T.forEach((he,be)=>{let we=be,De=he;if("offset"!==be)switch(we=i.normalizePropertyName(we,s),De){case cv:De=r.get(be);break;case ds:De=o.get(be);break;default:De=i.normalizeStyleValue(be,we,De,s)}ee.set(we,De)}),U||l.push(ee),S=ee,_=I}),s.length)throw function xte(t){return new Ue(3502,!1)}();return l}function Eb(t,i,e,n){switch(i){case"start":t.onStart(()=>n(e&&Mb(e,"start",t)));break;case"done":t.onDone(()=>n(e&&Mb(e,"done",t)));break;case"destroy":t.onDestroy(()=>n(e&&Mb(e,"destroy",t)))}}function Mb(t,i,e){const o=Ib(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(o._data=s),o}function Ib(t,i,e,n,r="",o=0,s){return{element:t,triggerName:i,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Er(t,i,e){let n=t.get(i);return n||t.set(i,n=e),n}function yO(t){const i=t.indexOf(":");return[t.substring(1,i),t.slice(i+1)]}let Ob=(t,i)=>!1,AO=(t,i,e)=>[],CO=null;function kb(t){const i=t.parentNode||t.host;return i===CO?null:i}(Db()||typeof Element<"u")&&(Nte()?(CO=(()=>document.documentElement)(),Ob=(t,i)=>{for(;i;){if(i===t)return!0;i=kb(i)}return!1}):Ob=(t,i)=>t.contains(i),AO=(t,i,e)=>{if(e)return Array.from(t.querySelectorAll(i));const n=t.querySelector(i);return n?[n]:[]});let Oa=null,wO=!1;const xO=Ob,SO=AO;let TO=(()=>{class t{validateStyleProperty(e){return function Bte(t){Oa||(Oa=function Vte(){return typeof document<"u"?document.body:null}()||{},wO=!!Oa.style&&"WebkitAppearance"in Oa.style);let i=!0;return Oa.style&&!function Lte(t){return"ebkit"==t.substring(1,6)}(t)&&(i=t in Oa.style,!i&&wO&&(i="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Oa.style)),i}(e)}matchesElement(e,n){return!1}containsElement(e,n){return xO(e,n)}getParentElement(e){return kb(e)}query(e,n,r){return SO(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,l=[],_){return new Ld(r,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})(),Pb=(()=>{class t{}return t.NOOP=new TO,t})();const Hte=1e3,Rb="ng-enter",Pp="ng-leave",Rp="ng-trigger",Fp=".ng-trigger",EO="ng-animating",Fb=".ng-animating";function ps(t){if("number"==typeof t)return t;const i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Nb(parseFloat(i[1]),i[2])}function Nb(t,i){return"s"===i?t*Hte:t}function Np(t,i,e){return t.hasOwnProperty("duration")?t:function Ute(t,i,e){let r,o=0,s="";if("string"==typeof t){const l=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return i.push(vO()),{duration:0,delay:0,easing:""};r=Nb(parseFloat(l[1]),l[2]);const _=l[3];null!=_&&(o=Nb(parseFloat(_),l[4]));const S=l[5];S&&(s=S)}else r=t;if(!e){let l=!1,_=i.length;r<0&&(i.push(function ite(){return new Ue(3100,!1)}()),l=!0),o<0&&(i.push(function nte(){return new Ue(3101,!1)}()),l=!0),l&&i.splice(_,0,vO())}return{duration:r,delay:o,easing:s}}(t,i,e)}function uu(t,i={}){return Object.keys(t).forEach(e=>{i[e]=t[e]}),i}function MO(t){const i=new Map;return Object.keys(t).forEach(e=>{i.set(e,t[e])}),i}function Bs(t,i=new Map,e){if(e)for(let[n,r]of e)i.set(n,r);for(let[n,r]of t)i.set(n,r);return i}function OO(t,i,e){return e?i+":"+e+";":""}function kO(t){let i="";for(let e=0;e<t.style.length;e++){const n=t.style.item(e);i+=OO(0,n,t.style.getPropertyValue(n))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(i+=OO(0,$te(e),t.style[e]));t.setAttribute("style",i)}function No(t,i,e){t.style&&(i.forEach((n,r)=>{const o=Bb(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=n}),Db()&&kO(t))}function ka(t,i){t.style&&(i.forEach((e,n)=>{const r=Bb(n);t.style[r]=""}),Db()&&kO(t))}function hu(t){return Array.isArray(t)?1==t.length?t[0]:KD(t):t}const Lb=new RegExp("{{\\s*(.+?)\\s*}}","g");function PO(t){let i=[];if("string"==typeof t){let e;for(;e=Lb.exec(t);)i.push(e[1]);Lb.lastIndex=0}return i}function fu(t,i,e){const n=t.toString(),r=n.replace(Lb,(o,s)=>{let l=i[s];return null==l&&(e.push(function ote(t){return new Ue(3003,!1)}()),l=""),l.toString()});return r==n?t:r}function Lp(t){const i=[];let e=t.next();for(;!e.done;)i.push(e.value),e=t.next();return i}const Wte=/-+([a-z0-9])/g;function Bb(t){return t.replace(Wte,(...i)=>i[1].toUpperCase())}function $te(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mr(t,i,e){switch(i.type){case 7:return t.visitTrigger(i,e);case 0:return t.visitState(i,e);case 1:return t.visitTransition(i,e);case 2:return t.visitSequence(i,e);case 3:return t.visitGroup(i,e);case 4:return t.visitAnimate(i,e);case 5:return t.visitKeyframes(i,e);case 6:return t.visitStyle(i,e);case 8:return t.visitReference(i,e);case 9:return t.visitAnimateChild(i,e);case 10:return t.visitAnimateRef(i,e);case 11:return t.visitQuery(i,e);case 12:return t.visitStagger(i,e);default:throw function ste(t){return new Ue(3004,!1)}()}}function RO(t,i){return window.getComputedStyle(t)[i]}const Hp="*";function Jte(t,i){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(n=>function Zte(t,i,e){if(":"==t[0]){const _=function eie(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(function yte(t){return new Ue(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof _)return void i.push(_);t=_}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function bte(t){return new Ue(3015,!1)}()),i;const r=n[1],o=n[2],s=n[3];i.push(FO(r,s));"<"==o[0]&&!(r==Hp&&s==Hp)&&i.push(FO(s,r))}(n,e,i)):e.push(t),e}const jp=new Set(["true","1"]),Up=new Set(["false","0"]);function FO(t,i){const e=jp.has(t)||Up.has(t),n=jp.has(i)||Up.has(i);return(r,o)=>{let s=t==Hp||t==r,l=i==Hp||i==o;return!s&&e&&"boolean"==typeof r&&(s=r?jp.has(t):Up.has(t)),!l&&n&&"boolean"==typeof o&&(l=o?jp.has(i):Up.has(i)),s&&l}}const tie=new RegExp("s*:selfs*,?","g");function Vb(t,i,e,n){return new iie(t).build(i,e,n)}class iie{constructor(i){this._driver=i}build(i,e,n){const r=new oie(e);return this._resetContextStyleTimingState(r),Mr(this,hu(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==i.name.charAt(0)&&e.errors.push(function lte(){return new Ue(3006,!1)}()),i.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const _=l,S=_.name;S.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,o.push(this.visitState(_,e))}),_.name=S}else if(1==l.type){const _=this.visitTransition(l,e);n+=_.queryCount,r+=_.depCount,s.push(_)}else e.errors.push(function cte(){return new Ue(3007,!1)}())}),{type:7,name:i.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(i,e){const n=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){const o=new Set,s=r||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(_=>{PO(_).forEach(S=>{s.hasOwnProperty(S)||o.add(S)})})}),o.size&&(Lp(o.values()),e.errors.push(function dte(t,i){return new Ue(3008,!1)}()))}return{type:0,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const n=Mr(this,hu(i.animation),e);return{type:1,matchers:Jte(i.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Pa(i.options)}}visitSequence(i,e){return{type:2,steps:i.steps.map(n=>Mr(this,n,e)),options:Pa(i.options)}}visitGroup(i,e){const n=e.currentTime;let r=0;const o=i.steps.map(s=>{e.currentTime=n;const l=Mr(this,s,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:3,steps:o,options:Pa(i.options)}}visitAnimate(i,e){const n=function aie(t,i){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return Hb(Np(t,i).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Hb(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Np(e,i);return Hb(r.duration,r.delay,r.easing)}(i.timings,e.errors);e.currentAnimateTimings=n;let r,o=i.styles?i.styles:ri({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=i.styles,l=!1;if(!s){l=!0;const S={};n.easing&&(S.easing=n.easing),s=ri(S)}e.currentTime+=n.duration+n.delay;const _=this.visitStyle(s,e);_.isEmptyStep=l,r=_}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(i,e){const n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){const n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let l of r)"string"==typeof l?l===ds?n.push(l):e.errors.push(new Ue(3002,!1)):n.push(MO(l));let o=!1,s=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o))for(let _ of l.values())if(_.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:s,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),i.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,_)=>{const S=e.collectedStyles.get(e.currentQuerySelector),T=S.get(_);let I=!0;T&&(o!=r&&o>=T.startTime&&r<=T.endTime&&(e.errors.push(function hte(t,i,e,n,r){return new Ue(3010,!1)}()),I=!1),o=T.startTime),I&&S.set(_,{startTime:o,endTime:r}),e.options&&function zte(t,i,e){const n=i.params||{},r=PO(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function rte(t){return new Ue(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(i,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function fte(){return new Ue(3011,!1)}()),n;let o=0;const s=[];let l=!1,_=!1,S=0;const T=i.steps.map(De=>{const Ve=this._makeStyleAst(De,e);let Pe=null!=Ve.offset?Ve.offset:function sie(t){if("string"==typeof t)return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;i=parseFloat(e.get("offset")),e.delete("offset")}return i}(Ve.styles),ze=0;return null!=Pe&&(o++,ze=Ve.offset=Pe),_=_||ze<0||ze>1,l=l||ze<S,S=ze,s.push(ze),Ve});_&&e.errors.push(function pte(){return new Ue(3012,!1)}()),l&&e.errors.push(function mte(){return new Ue(3200,!1)}());const I=i.steps.length;let U=0;o>0&&o<I?e.errors.push(function gte(){return new Ue(3202,!1)}()):0==o&&(U=1/(I-1));const ee=I-1,he=e.currentTime,be=e.currentAnimateTimings,we=be.duration;return T.forEach((De,Ve)=>{const Pe=U>0?Ve==ee?1:U*Ve:s[Ve],ze=Pe*we;e.currentTime=he+be.delay+ze,be.duration=ze,this._validateStyleAst(De,e),De.offset=Pe,n.styles.push(De)}),n}visitReference(i,e){return{type:8,animation:Mr(this,hu(i.animation),e),options:Pa(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:9,options:Pa(i.options)}}visitAnimateRef(i,e){return{type:10,animation:this.visitReference(i.animation,e),options:Pa(i.options)}}visitQuery(i,e){const n=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;const[o,s]=function nie(t){const i=!!t.split(/\s*,\s*/).find(e=>":self"==e);return i&&(t=t.replace(tie,"")),t=t.replace(/@\*/g,Fp).replace(/@\w+/g,e=>Fp+"-"+e.slice(1)).replace(/:animating/g,Fb),[t,i]}(i.selector);e.currentQuerySelector=n.length?n+" "+o:o,Er(e.collectedStyles,e.currentQuerySelector,new Map);const l=Mr(this,hu(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:l,originalSelector:i.selector,options:Pa(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(function _te(){return new Ue(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:Np(i.timings,e.errors,!0);return{type:12,animation:Mr(this,hu(i.animation),e),timings:n,options:null}}}class oie{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pa(t){return t?(t=uu(t)).params&&(t.params=function rie(t){return t?uu(t):null}(t.params)):t={},t}function Hb(t,i,e){return{duration:t,delay:i,easing:e}}function jb(t,i,e,n,r,o,s=null,l=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:l}}class Gp{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const die=new RegExp(":enter","g"),hie=new RegExp(":leave","g");function Ub(t,i,e,n,r,o=new Map,s=new Map,l,_,S=[]){return(new fie).buildKeyframes(t,i,e,n,r,o,s,l,_,S)}class fie{buildKeyframes(i,e,n,r,o,s,l,_,S,T=[]){S=S||new Gp;const I=new Gb(i,e,S,r,o,T,[]);I.options=_;const U=_.delay?ps(_.delay):0;I.currentTimeline.delayNextStep(U),I.currentTimeline.setStyles([s],null,I.errors,_),Mr(this,n,I);const ee=I.timelines.filter(he=>he.containsAnimation());if(ee.length&&l.size){let he;for(let be=ee.length-1;be>=0;be--){const we=ee[be];if(we.element===e){he=we;break}}he&&!he.allowOnlyTimelineStyles()&&he.setStyles([l],null,I.errors,_)}return ee.length?ee.map(he=>he.buildKeyframes()):[jb(e,[],[],[],0,U,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(i.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=i}visitAnimateRef(i,e){const n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(const r of i){const o=r?.delay;if(o){const s="number"==typeof o?o:ps(fu(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(i,e,n){let o=e.currentTimeline.currentTime;const s=null!=n.duration?ps(n.duration):null,l=null!=n.delay?ps(n.delay):null;return 0!==s&&i.forEach(_=>{const S=e.appendInstructionToTimeline(_,s,l);o=Math.max(o,S.duration+S.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),Mr(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const n=e.subContextCount;let r=e;const o=i.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zp);const s=ps(o.delay);r.delayNextStep(s)}i.steps.length&&(i.steps.forEach(s=>Mr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const n=[];let r=e.currentTimeline.currentTime;const o=i.options&&i.options.delay?ps(i.options.delay):0;i.steps.forEach(s=>{const l=e.createSubContext(i.options);o&&l.delayNextStep(o),Mr(this,s,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const n=i.strValue;return Np(e.params?fu(n,e.params,e.errors):n,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const n=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=i.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(o):n.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,l=e.createSubContext().currentTimeline;l.easing=n.easing,i.styles.forEach(_=>{l.forwardTime((_.offset||0)*o),l.setStyles(_.styles,_.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+o),e.previousNode=i}visitQuery(i,e){const n=e.currentTimeline.currentTime,r=i.options||{},o=r.delay?ps(r.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zp);let s=n;const l=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let _=null;l.forEach((S,T)=>{e.currentQueryIndex=T;const I=e.createSubContext(i.options,S);o&&I.delayNextStep(o),S===e.element&&(_=I.currentTimeline),Mr(this,i.animation,I),I.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const n=e.parentContext,r=e.currentTimeline,o=i.timings,s=Math.abs(o.duration),l=s*(e.currentQueryTotal-1);let _=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=l-_;break;case"full":_=n.currentStaggerTime}const T=e.currentTimeline;_&&T.delayNextStep(_);const I=T.currentTime;Mr(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=r.currentTime-I+(r.startTime-n.currentTimeline.startTime)}}const zp={};class Gb{constructor(i,e,n,r,o,s,l,_){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Wp(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const n=i;let r=this.options;null!=n.duration&&(r.duration=ps(n.duration)),null!=n.delay&&(r.delay=ps(n.delay));const o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!e||!s.hasOwnProperty(l))&&(s[l]=fu(o[l],s,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const n=i.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return i}createSubContext(i=null,e,n){const r=e||this.element,o=new Gb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=zp,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){const r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},o=new pie(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,r,o,s){let l=[];if(r&&l.push(this.element),i.length>0){i=(i=i.replace(die,"."+this._enterClassName)).replace(hie,"."+this._leaveClassName);let S=this._driver.query(this.element,i,1!=n);0!==n&&(S=n<0?S.slice(S.length+n,S.length):S.slice(0,n)),l.push(...S)}return!o&&0==l.length&&s.push(function vte(t){return new Ue(3014,!1)}()),l}}class Wp{constructor(i,e,n,r){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new Wp(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||ds),this._currentKeyframe.set(e,ds);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function mie(t,i){const e=new Map;let n;return t.forEach(r=>{if("*"===r){n=n||i.keys();for(let o of n)e.set(o,ds)}else Bs(r,e)}),e}(i,this._globalTimelineStyles);for(let[l,_]of s){const S=fu(_,o,n);this._pendingStyles.set(l,S),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??ds),this._updateStyle(l,S)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,_)=>{const S=Bs(l,new Map,this._backFill);S.forEach((T,I)=>{T===cv?i.add(I):T===ds&&e.add(I)}),n||S.set("offset",_/this.duration),r.push(S)});const o=i.size?Lp(i.values()):[],s=e.size?Lp(e.values()):[];if(n){const l=r[0],_=new Map(l);l.set("offset",0),_.set("offset",1),r=[l,_]}return jb(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class pie extends Wp{constructor(i,e,n,r,o,s,l=!1){super(i,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=n+e,l=e/s,_=Bs(i[0]);_.set("offset",0),o.push(_);const S=Bs(i[0]);S.set("offset",BO(l)),o.push(S);const T=i.length-1;for(let I=1;I<=T;I++){let U=Bs(i[I]);const ee=U.get("offset");U.set("offset",BO((e+ee*n)/s)),o.push(U)}n=s,e=0,r="",i=o}return jb(this.element,i,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function BO(t,i=3){const e=Math.pow(10,i-1);return Math.round(t*e)/e}class zb{}const gie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _ie extends zb{normalizePropertyName(i,e){return Bb(i)}normalizeStyleValue(i,e,n,r){let o="";const s=n.toString().trim();if(gie.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function ate(t,i){return new Ue(3005,!1)}())}return s+o}}function VO(t,i,e,n,r,o,s,l,_,S,T,I,U){return{type:0,element:t,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:l,queriedElements:_,preStyleProps:S,postStyleProps:T,totalTime:I,errors:U}}const Wb={};class HO{constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,r){return function vie(t,i,e,n,r){return t.some(o=>o(i,e,n,r))}(this.ast.matchers,i,e,n,r)}buildStyles(i,e,n){let r=this._stateStyles.get("*");return void 0!==i&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(e,n):new Map}build(i,e,n,r,o,s,l,_,S,T){const I=[],U=this.ast.options&&this.ast.options.params||Wb,he=this.buildStyles(n,l&&l.params||Wb,I),be=_&&_.params||Wb,we=this.buildStyles(r,be,I),De=new Set,Ve=new Map,Pe=new Map,ze="void"===r,rt={params:bie(be,U),delay:this.ast.options?.delay},ht=T?[]:Ub(i,e,this.ast.animation,o,s,he,we,rt,S,I);let Bt=0;if(ht.forEach(vi=>{Bt=Math.max(vi.duration+vi.delay,Bt)}),I.length)return VO(e,this._triggerName,n,r,ze,he,we,[],[],Ve,Pe,Bt,I);ht.forEach(vi=>{const mi=vi.element,pn=Er(Ve,mi,new Set);vi.preStyleProps.forEach(Li=>pn.add(Li));const Nn=Er(Pe,mi,new Set);vi.postStyleProps.forEach(Li=>Nn.add(Li)),mi!==e&&De.add(mi)});const Qt=Lp(De.values());return VO(e,this._triggerName,n,r,ze,he,we,ht,Qt,Ve,Pe,Bt)}}function bie(t,i){const e=uu(i);for(const n in t)t.hasOwnProperty(n)&&null!=t[n]&&(e[n]=t[n]);return e}class yie{constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){const n=new Map,r=uu(this.defaultParams);return Object.keys(i).forEach(o=>{const s=i[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,l)=>{s&&(s=fu(s,r,e));const _=this.normalizer.normalizePropertyName(l,e);s=this.normalizer.normalizeStyleValue(l,_,s,e),n.set(l,s)})}),n}}class Cie{constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new yie(r.style,r.options&&r.options.params||{},n))}),jO(this.states,"true","1"),jO(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new HO(i,r,this.states))}),this.fallbackTransition=function wie(t,i,e){return new HO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,l)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,r){return this.transitionFactories.find(s=>s.match(i,e,n,r))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}}function jO(t,i,e){t.has(i)?t.has(e)||t.set(e,t.get(i)):t.has(e)&&t.set(i,t.get(e))}const xie=new Gp;class Sie{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){const n=[],r=[],o=Vb(this._driver,e,n,r);if(n.length)throw function Ste(t){return new Ue(3503,!1)}();this._animations.set(i,o)}_buildPlayer(i,e,n){const r=i.element,o=bO(0,this._normalizer,0,i.keyframes,e,n);return this._driver.animate(r,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){const r=[],o=this._animations.get(i);let s;const l=new Map;if(o?(s=Ub(this._driver,e,o,Rb,Pp,new Map,new Map,n,xie,r),s.forEach(T=>{const I=Er(l,T.element,new Map);T.postStyleProps.forEach(U=>I.set(U,null))})):(r.push(function Tte(){return new Ue(3300,!1)}()),s=[]),r.length)throw function Dte(t){return new Ue(3504,!1)}();l.forEach((T,I)=>{T.forEach((U,ee)=>{T.set(ee,this._driver.computeStyle(I,ee,ds))})});const S=Ls(s.map(T=>{const I=l.get(T.element);return this._buildPlayer(T,new Map,I)}));return this._playersById.set(i,S),S.onDestroy(()=>this.destroy(i)),this.players.push(S),S}destroy(i){const e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){const e=this._playersById.get(i);if(!e)throw function Ete(t){return new Ue(3301,!1)}();return e}listen(i,e,n,r){const o=Ib(e,"","","");return Eb(this._getPlayer(i),n,o,r),()=>{}}command(i,e,n,r){if("register"==n)return void this.register(i,r[0]);if("create"==n)return void this.create(i,e,r[0]||{});const o=this._getPlayer(i);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i)}}}const UO="ng-animate-queued",$b="ng-animate-disabled",Iie=[],GO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oie={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gr="__ng_removed";class Yb{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;const n=i&&i.hasOwnProperty("value");if(this.value=function Fie(t){return t??null}(n?i.value:i),n){const o=uu(i);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const e=i.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const pu="void",Xb=new Yb(pu);class kie{constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,zr(e,this._hostClassName)}listen(i,e,n,r){if(!this._triggers.has(e))throw function Mte(t,i){return new Ue(3302,!1)}();if(null==n||0==n.length)throw function Ite(t){return new Ue(3303,!1)}();if(!function Nie(t){return"start"==t||"done"==t}(n))throw function Ote(t,i){return new Ue(3400,!1)}();const o=Er(this._elementListeners,i,[]),s={name:e,phase:n,callback:r};o.push(s);const l=Er(this._engine.statesByElement,i,new Map);return l.has(e)||(zr(i,Rp),zr(i,Rp+"-"+e),l.set(e,Xb)),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(s);_>=0&&o.splice(_,1),this._triggers.has(e)||l.delete(e)})}}register(i,e){return!this._triggers.has(i)&&(this._triggers.set(i,e),!0)}_getTrigger(i){const e=this._triggers.get(i);if(!e)throw function kte(t){return new Ue(3401,!1)}();return e}trigger(i,e,n,r=!0){const o=this._getTrigger(e),s=new Qb(this.id,e,i);let l=this._engine.statesByElement.get(i);l||(zr(i,Rp),zr(i,Rp+"-"+e),this._engine.statesByElement.set(i,l=new Map));let _=l.get(e);const S=new Yb(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&_&&S.absorbOptions(_.options),l.set(e,S),_||(_=Xb),S.value!==pu&&_.value===S.value){if(!function Vie(t,i){const e=Object.keys(t),n=Object.keys(i);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!i.hasOwnProperty(o)||t[o]!==i[o])return!1}return!0}(_.params,S.params)){const be=[],we=o.matchStyles(_.value,_.params,be),De=o.matchStyles(S.value,S.params,be);be.length?this._engine.reportError(be):this._engine.afterFlush(()=>{ka(i,we),No(i,De)})}return}const U=Er(this._engine.playersByElement,i,[]);U.forEach(be=>{be.namespaceId==this.id&&be.triggerName==e&&be.queued&&be.destroy()});let ee=o.matchTransition(_.value,S.value,i,S.params),he=!1;if(!ee){if(!r)return;ee=o.fallbackTransition,he=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:ee,fromState:_,toState:S,player:s,isFallbackTransition:he}),he||(zr(i,UO),s.onStart(()=>{lc(i,UO)})),s.onDone(()=>{let be=this.players.indexOf(s);be>=0&&this.players.splice(be,1);const we=this._engine.playersByElement.get(i);if(we){let De=we.indexOf(s);De>=0&&we.splice(De,1)}}),this.players.push(s),U.push(s),s}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const n=this._engine.driver.query(i,Fp,!0);n.forEach(r=>{if(r[Gr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,n,r){const o=this._engine.statesByElement.get(i),s=new Map;if(o){const l=[];if(o.forEach((_,S)=>{if(s.set(S,_.value),this._triggers.has(S)){const T=this.trigger(i,S,pu,r);T&&l.push(T)}}),l.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,s),n&&Ls(l).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const _=this._triggers.get(s).fallbackTransition,S=n.get(s)||Xb,T=new Yb(pu),I=new Qb(this.id,s,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:s,transition:_,fromState:S,toState:T,player:I,isFallbackTransition:!0})})}}removeNode(i,e){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(i):[];if(o&&o.length)r=!0;else{let s=i;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,e);else{const o=i[Gr];(!o||o===GO)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){zr(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==n.triggerName){const _=Ib(o,n.triggerName,n.fromState.value,n.toState.value);_._data=i,Eb(n.player,l.phase,_,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let e=!1;return this._elementListeners.has(i)&&(e=!0),e=!!this._queue.find(n=>n.element===i)||e,e}}class Pie{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n){this.bodyNode=i,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){const n=new kie(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,l=this.driver.getParentElement(e);for(;l;){const _=r.get(l);if(_){const S=n.indexOf(_);n.splice(S+1,0,i),s=!0;break}l=this.driver.getParentElement(l)}s||n.unshift(i)}else n.push(i);return r.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let r=this._namespaceLookup[i];r&&r.register(e,n)&&this.totalAnimations++}destroy(i,e){if(!i)return;const n=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[i];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,n=this.statesByElement.get(i);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(i,e,n,r){if($p(e)){const o=this._fetchNamespace(i);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(i,e,n,r){if(!$p(e))return;const o=e[Gr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(i){const s=this._fetchNamespace(i);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),zr(i,$b)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),lc(i,$b))}removeNode(i,e,n,r){if($p(e)){const o=i?this._fetchNamespace(i):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(i,e,!1,r),n){const s=this.namespacesByHostElement.get(e);s&&s.id!==i&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(i,e,n,r,o){this.collectedLeaveElements.push(e),e[Gr]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,n,r,o){return $p(e)?this._fetchNamespace(i).listen(e,n,r,o):()=>{}}_buildInstruction(i,e,n,r,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,Fp,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,Fb,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Ls(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[Gr];if(e&&e.setForRemoval){if(i[Gr]=GO,e.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains($b)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)zr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Ls(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw function Pte(t){return new Ue(3402,!1)}()}_flushAnimations(i,e){const n=new Gp,r=[],o=new Map,s=[],l=new Map,_=new Map,S=new Map,T=new Set;this.disabledNodes.forEach(it=>{T.add(it);const dt=this.driver.query(it,".ng-animate-queued",!0);for(let bt=0;bt<dt.length;bt++)T.add(dt[bt])});const I=this.bodyNode,U=Array.from(this.statesByElement.keys()),ee=$O(U,this.collectedEnterElements),he=new Map;let be=0;ee.forEach((it,dt)=>{const bt=Rb+be++;he.set(dt,bt),it.forEach(jt=>zr(jt,bt))});const we=[],De=new Set,Ve=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const dt=this.collectedLeaveElements[it],bt=dt[Gr];bt&&bt.setForRemoval&&(we.push(dt),De.add(dt),bt.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(jt=>De.add(jt)):Ve.add(dt))}const Pe=new Map,ze=$O(U,Array.from(De));ze.forEach((it,dt)=>{const bt=Pp+be++;Pe.set(dt,bt),it.forEach(jt=>zr(jt,bt))}),i.push(()=>{ee.forEach((it,dt)=>{const bt=he.get(dt);it.forEach(jt=>lc(jt,bt))}),ze.forEach((it,dt)=>{const bt=Pe.get(dt);it.forEach(jt=>lc(jt,bt))}),we.forEach(it=>{this.processLeaveNode(it)})});const rt=[],ht=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(e).forEach(bt=>{const jt=bt.player,Bi=bt.element;if(rt.push(jt),this.collectedEnterElements.length){const Xi=Bi[Gr];if(Xi&&Xi.setForMove){if(Xi.previousTriggersValues&&Xi.previousTriggersValues.has(bt.triggerName)){const Jn=Xi.previousTriggersValues.get(bt.triggerName),Wn=this.statesByElement.get(bt.element);if(Wn&&Wn.has(bt.triggerName)){const cc=Wn.get(bt.triggerName);cc.value=Jn,Wn.set(bt.triggerName,cc)}}return void jt.destroy()}}const fr=!I||!this.driver.containsElement(I,Bi),mn=Pe.get(Bi),Ir=he.get(Bi),ui=this._buildInstruction(bt,n,Ir,mn,fr);if(ui.errors&&ui.errors.length)return void ht.push(ui);if(fr)return jt.onStart(()=>ka(Bi,ui.fromStyles)),jt.onDestroy(()=>No(Bi,ui.toStyles)),void r.push(jt);if(bt.isFallbackTransition)return jt.onStart(()=>ka(Bi,ui.fromStyles)),jt.onDestroy(()=>No(Bi,ui.toStyles)),void r.push(jt);const ho=[];ui.timelines.forEach(Xi=>{Xi.stretchStartingKeyframe=!0,this.disabledNodes.has(Xi.element)||ho.push(Xi)}),ui.timelines=ho,n.append(Bi,ui.timelines),s.push({instruction:ui,player:jt,element:Bi}),ui.queriedElements.forEach(Xi=>Er(l,Xi,[]).push(jt)),ui.preStyleProps.forEach((Xi,Jn)=>{if(Xi.size){let Wn=_.get(Jn);Wn||_.set(Jn,Wn=new Set),Xi.forEach((cc,Fa)=>Wn.add(Fa))}}),ui.postStyleProps.forEach((Xi,Jn)=>{let Wn=S.get(Jn);Wn||S.set(Jn,Wn=new Set),Xi.forEach((cc,Fa)=>Wn.add(Fa))})});if(ht.length){const it=[];ht.forEach(dt=>{it.push(function Rte(t,i){return new Ue(3505,!1)}())}),rt.forEach(dt=>dt.destroy()),this.reportError(it)}const Bt=new Map,Qt=new Map;s.forEach(it=>{const dt=it.element;n.has(dt)&&(Qt.set(dt,dt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,Bt))}),r.forEach(it=>{const dt=it.element;this._getPreviousPlayers(dt,!1,it.namespaceId,it.triggerName,null).forEach(jt=>{Er(Bt,dt,[]).push(jt),jt.destroy()})});const vi=we.filter(it=>XO(it,_,S)),mi=new Map;WO(mi,this.driver,Ve,S,ds).forEach(it=>{XO(it,_,S)&&vi.push(it)});const Nn=new Map;ee.forEach((it,dt)=>{WO(Nn,this.driver,new Set(it),_,cv)}),vi.forEach(it=>{const dt=mi.get(it),bt=Nn.get(it);mi.set(it,new Map([...Array.from(dt?.entries()??[]),...Array.from(bt?.entries()??[])]))});const Li=[],Lo=[],Bo={};s.forEach(it=>{const{element:dt,player:bt,instruction:jt}=it;if(n.has(dt)){if(T.has(dt))return bt.onDestroy(()=>No(dt,jt.toStyles)),bt.disabled=!0,bt.overrideTotalTime(jt.totalTime),void r.push(bt);let Bi=Bo;if(Qt.size>1){let mn=dt;const Ir=[];for(;mn=mn.parentNode;){const ui=Qt.get(mn);if(ui){Bi=ui;break}Ir.push(mn)}Ir.forEach(ui=>Qt.set(ui,Bi))}const fr=this._buildAnimation(bt.namespaceId,jt,Bt,o,Nn,mi);if(bt.setRealPlayer(fr),Bi===Bo)Li.push(bt);else{const mn=this.playersByElement.get(Bi);mn&&mn.length&&(bt.parentPlayer=Ls(mn)),r.push(bt)}}else ka(dt,jt.fromStyles),bt.onDestroy(()=>No(dt,jt.toStyles)),Lo.push(bt),T.has(dt)&&r.push(bt)}),Lo.forEach(it=>{const dt=o.get(it.element);if(dt&&dt.length){const bt=Ls(dt);it.setRealPlayer(bt)}}),r.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<we.length;it++){const dt=we[it],bt=dt[Gr];if(lc(dt,Pp),bt&&bt.hasAnimation)continue;let jt=[];if(l.size){let fr=l.get(dt);fr&&fr.length&&jt.push(...fr);let mn=this.driver.query(dt,Fb,!0);for(let Ir=0;Ir<mn.length;Ir++){let ui=l.get(mn[Ir]);ui&&ui.length&&jt.push(...ui)}}const Bi=jt.filter(fr=>!fr.destroyed);Bi.length?Lie(this,dt,Bi):this.processLeaveNode(dt)}return we.length=0,Li.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const dt=this.players.indexOf(it);this.players.splice(dt,1)}),it.play()}),Li}elementContainsData(i,e){let n=!1;const r=e[Gr];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(i).elementContainsData(e)||n}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,r,o){let s=[];if(e){const l=this.playersByQueriedElement.get(i);l&&(s=l)}else{const l=this.playersByElement.get(i);if(l){const _=!o||o==pu;l.forEach(S=>{S.queued||!_&&S.triggerName!=r||s.push(S)})}}return(n||r)&&(s=s.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),s}_beforeAnimationBuild(i,e,n){const o=e.element,s=e.isRemovalTransition?void 0:i,l=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const S=_.element,T=S!==o,I=Er(n,S,[]);this._getPreviousPlayers(S,T,s,l,e.toState).forEach(ee=>{const he=ee.getRealPlayer();he.beforeDestroy&&he.beforeDestroy(),ee.destroy(),I.push(ee)})}ka(o,e.fromStyles)}_buildAnimation(i,e,n,r,o,s){const l=e.triggerName,_=e.element,S=[],T=new Set,I=new Set,U=e.timelines.map(he=>{const be=he.element;T.add(be);const we=be[Gr];if(we&&we.removedBeforeQueried)return new Ld(he.duration,he.delay);const De=be!==_,Ve=function Bie(t){const i=[];return YO(t,i),i}((n.get(be)||Iie).map(Bt=>Bt.getRealPlayer())).filter(Bt=>!!Bt.element&&Bt.element===be),Pe=o.get(be),ze=s.get(be),rt=bO(0,this._normalizer,0,he.keyframes,Pe,ze),ht=this._buildPlayer(he,rt,Ve);if(he.subTimeline&&r&&I.add(be),De){const Bt=new Qb(i,l,be);Bt.setRealPlayer(ht),S.push(Bt)}return ht});S.forEach(he=>{Er(this.playersByQueriedElement,he.element,[]).push(he),he.onDone(()=>function Rie(t,i,e){let n=t.get(i);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&t.delete(i)}return n}(this.playersByQueriedElement,he.element,he))}),T.forEach(he=>zr(he,EO));const ee=Ls(U);return ee.onDestroy(()=>{T.forEach(he=>lc(he,EO)),No(_,e.toStyles)}),I.forEach(he=>{Er(r,he,[]).push(ee)}),ee}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new Ld(i.duration,i.delay)}}class Qb{constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n,this._player=new Ld,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Eb(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Er(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function $p(t){return t&&1===t.nodeType}function zO(t,i){const e=t.style.display;return t.style.display=i??"none",e}function WO(t,i,e,n,r){const o=[];e.forEach(_=>o.push(zO(_)));const s=[];n.forEach((_,S)=>{const T=new Map;_.forEach(I=>{const U=i.computeStyle(S,I,r);T.set(I,U),(!U||0==U.length)&&(S[Gr]=Oie,s.push(S))}),t.set(S,T)});let l=0;return e.forEach(_=>zO(_,o[l++])),s}function $O(t,i){const e=new Map;if(t.forEach(l=>e.set(l,[])),0==i.length)return e;const n=1,r=new Set(i),o=new Map;function s(l){if(!l)return n;let _=o.get(l);if(_)return _;const S=l.parentNode;return _=e.has(S)?S:r.has(S)?n:s(S),o.set(l,_),_}return i.forEach(l=>{const _=s(l);_!==n&&e.get(_).push(l)}),e}function zr(t,i){t.classList?.add(i)}function lc(t,i){t.classList?.remove(i)}function Lie(t,i,e){Ls(e).onDone(()=>t.processLeaveNode(i))}function YO(t,i){for(let e=0;e<t.length;e++){const n=t[e];n instanceof JD?YO(n.players,i):i.push(n)}}function XO(t,i,e){const n=e.get(t);if(!n)return!1;let r=i.get(t);return r?n.forEach(o=>r.add(o)):i.set(t,n),e.delete(t),!0}class Yp{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Pie(i,e,n),this._timelineEngine=new Sie(i,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(i,e,n,r,o){const s=i+"-"+r;let l=this._triggerCache[s];if(!l){const _=[],S=[],T=Vb(this._driver,o,_,S);if(_.length)throw function wte(t,i){return new Ue(3404,!1)}();l=function Aie(t,i,e){return new Cie(t,i,e)}(r,T,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(e,r,l)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,r){this._transitionEngine.insertNode(i,e,n,r)}onRemove(i,e,n,r){this._transitionEngine.removeNode(i,e,r||!1,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,r){if("@"==n.charAt(0)){const[o,s]=yO(n);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(i,e,n,r)}listen(i,e,n,r,o){if("@"==n.charAt(0)){const[s,l]=yO(n);return this._timelineEngine.listen(s,e,l,o)}return this._transitionEngine.listen(i,e,n,r,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jie=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&No(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(No(this._element,this._initialStyles),this._endStyles&&(No(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ka(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ka(this._element,this._endStyles),this._endStyles=null),No(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Kb(t){let i=null;return t.forEach((e,n)=>{(function Uie(t){return"display"===t||"position"===t})(n)&&(i=i||new Map,i.set(n,e))}),i}class QO{constructor(i,e,n,r){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&i.set(r,this._finished?n:RO(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){const e="start"===i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Gie{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,e){return!1}containsElement(i,e){return xO(i,e)}getParentElement(i){return kb(i)}query(i,e,n){return SO(i,e,n)}computeStyle(i,e,n){return window.getComputedStyle(i)[e]}animate(i,e,n,r,o,s=[]){const _={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(_.easing=o);const S=new Map,T=s.filter(ee=>ee instanceof QO);(function Yte(t,i){return 0===t||0===i})(n,r)&&T.forEach(ee=>{ee.currentSnapshot.forEach((he,be)=>S.set(be,he))});let I=function Gte(t){return t.length?t[0]instanceof Map?t:t.map(i=>MO(i)):[]}(e).map(ee=>Bs(ee));I=function Xte(t,i,e){if(e.size&&i.length){let n=i[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<i.length;o++){let s=i[o];r.forEach(l=>s.set(l,RO(t,l)))}}return i}(i,I,S);const U=function Hie(t,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=Kb(i[0]),i.length>1&&(n=Kb(i[i.length-1]))):i instanceof Map&&(e=Kb(i)),e||n?new jie(t,e,n):null}(i,I);return new QO(i,I,_,U)}}let zie=(()=>{class t extends XD{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:$r.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?KD(e):e;return KO(this._renderer,null,n,"register",[r]),new Wie(n,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Ce(ol),Ce(gt))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();class Wie extends $H{constructor(i,e){super(),this._id=i,this._renderer=e}create(i,e){return new $ie(this._id,i,e||{},this._renderer)}}class $ie{constructor(i,e,n,r){this.id=i,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(i,e){return this._renderer.listen(this.element,`@@${this.id}:${i}`,e)}_command(i,...e){return KO(this._renderer,this.element,this.id,i,e)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KO(t,i,e,n,r){return t.setProperty(i,`@@${e}:${n}`,r)}const qO="@.disabled";let Yie=(()=>{class t{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(o,s)=>{const l=s?.parentNode(o);l&&s.removeChild(l,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let T=this._rendererCache.get(o);return T||(T=new JO("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,T)),T}const s=n.id,l=n.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(s,l,e,T.name,T)};return n.data.animation.forEach(_),new Xie(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Ce(ol),Ce(Yp),Ce(ot))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})();class JO{constructor(i,e,n,r){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,r=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,r){this.delegate.setAttribute(i,e,n,r)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,r){this.delegate.setStyle(i,e,n,r)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){"@"==e.charAt(0)&&e==qO?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n){return this.delegate.listen(i,e,n)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class Xie extends JO{constructor(i,e,n,r,o){super(e,n,r,o),this.factory=i,this.namespaceId=e}setProperty(i,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==qO?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n){if("@"==e.charAt(0)){const r=function Qie(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Kie(t){const i=t.indexOf(".");return[t.substring(0,i),t.slice(i+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,l=>{this.factory.scheduleListenerCallback(l._data||-1,n,l)})}return this.delegate.listen(i,e,n)}}const ZO=[{provide:XD,useClass:zie},{provide:zb,useFactory:function Jie(){return new _ie}},{provide:Yp,useClass:(()=>{class t extends Yp{constructor(e,n,r,o){super(e.body,n,r)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt),Ce(Pb),Ce(zb),Ce(Cs))},t.\u0275prov=Le({token:t,factory:t.\u0275fac}),t})()},{provide:ol,useFactory:function Zie(t,i,e){return new Yie(t,i,e)},deps:[Gh,Yp,ot]}],qb=[{provide:Pb,useFactory:()=>new Gie},{provide:En,useValue:"BrowserAnimations"},...ZO],ek=[{provide:Pb,useClass:TO},{provide:En,useValue:"NoopAnimations"},...ZO];let ene=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?ek:qb}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=pt({type:t}),t.\u0275inj=ut({providers:qb,imports:[RS]}),t})(),tne=(()=>{class t{constructor(e){this.authService=e,this.refresh=!1,this.token=JSON.parse(localStorage.getItem("access"))}intercept(e,n){const r=e.clone({setHeaders:{Authorization:`Bearer ${this.token}`}});return n.handle(r).pipe(Do(o=>401!==o.status||this.refresh?(this.refresh=!1,ta(()=>o)):(this.refresh=!0,this.authService.refresh().pipe(_n(s=>(this.authService.accessToken=s.token,console.log("Calling Interceptor for refresh!!"),n.handle(e.clone({setHeaders:{Authorization:`Bearer ${this.authService.accessToken}`}}))))))))}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(Yt))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac})}return t})(),tk=(()=>{class t{constructor(e,n){this.document=e,this.platformId=n,this.documentIsAccessible=nd(this.platformId)}static getCookieRegExp(e){const n=e.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),t.getCookieRegExp(e).test(this.document.cookie))}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);const r=t.getCookieRegExp(e).exec(this.document.cookie);return r[1]?t.safeDecodeURIComponent(r[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const e={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach(r=>{const[o,s]=r.split("=");e[t.safeDecodeURIComponent(o.replace(/^ /,""))]=t.safeDecodeURIComponent(s)}),e}set(e,n,r,o,s,l,_){if(!this.documentIsAccessible)return;if("number"==typeof r||r instanceof Date||o||s||l||_)return void this.set(e,n,{expires:r,path:o,domain:s,secure:l,sameSite:_||"Lax"});let S=encodeURIComponent(e)+"="+encodeURIComponent(n)+";";const T=r||{};T.expires&&(S+="number"==typeof T.expires?"expires="+new Date((new Date).getTime()+1e3*T.expires*60*60*24).toUTCString()+";":"expires="+T.expires.toUTCString()+";"),T.path&&(S+="path="+T.path+";"),T.domain&&(S+="domain="+T.domain+";"),!1===T.secure&&"None"===T.sameSite&&(T.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),T.secure&&(S+="secure;"),T.sameSite||(T.sameSite="Lax"),S+="sameSite="+T.sameSite+";",this.document.cookie=S}delete(e,n,r,o,s="Lax"){this.documentIsAccessible&&this.set(e,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:n,domain:r,secure:o,sameSite:s})}deleteAll(e,n,r,o="Lax"){if(!this.documentIsAccessible)return;const s=this.getAll();for(const l in s)s.hasOwnProperty(l)&&this.delete(l,e,n,r,o)}}return t.\u0275fac=function(e){return new(e||t)(Ce(gt),Ce(Js))},t.\u0275prov=Le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ine=(()=>{class t{constructor(e){this.cookieService=e,this.csrfToken=this.cookieService.get("csrftoken")}intercept(e,n){if(this.csrfToken){const r=e.clone({headers:e.headers.set("X-CSRFToken",this.csrfToken)});return n.handle(r)}return n.handle(e)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(tk))};static#t=this.\u0275prov=Le({token:t,factory:t.\u0275fac})}return t})(),nne=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=pt({type:t,bootstrap:[Vee]});static#i=this.\u0275inj=ut({providers:[{provide:o0,useClass:tne,multi:!0},tk,{provide:o0,useClass:ine,multi:!0},Ql],imports:[RS,lr,Ree,JS,tte,bf,u2,h2,ene,Fv,mM,IM,DM,RZ,Bv,Nd,Wv,_O,tM,sM,Hv,Y2]})}return t})();QB().bootstrapModule(nne).catch(t=>console.error(t))},4901:$e=>{"use strict";var F={single_source_shortest_paths:function(G,C,Y){var W={},X={};X[C]=0;var B,y,d,m,g,c,H=F.PriorityQueue.make();for(H.push(C,0);!H.empty();)for(d in m=(B=H.pop()).cost,g=G[y=B.value]||{})g.hasOwnProperty(d)&&(c=m+g[d],(typeof X[d]>"u"||X[d]>c)&&(X[d]=c,H.push(d,c),W[d]=y));if(typeof Y<"u"&&typeof X[Y]>"u"){var p=["Could not find a path from ",C," to ",Y,"."].join("");throw new Error(p)}return W},extract_shortest_path_from_predecessor_list:function(G,C){for(var Y=[],W=C;W;)Y.push(W),W=G[W];return Y.reverse(),Y},find_path:function(G,C,Y){var W=F.single_source_shortest_paths(G,C,Y);return F.extract_shortest_path_from_predecessor_list(W,Y)},PriorityQueue:{make:function(G){var W,C=F.PriorityQueue,Y={};for(W in G=G||{},C)C.hasOwnProperty(W)&&(Y[W]=C[W]);return Y.queue=[],Y.sorter=G.sorter||C.default_sorter,Y},default_sorter:function(G,C){return G.cost-C.cost},push:function(G,C){this.queue.push({value:G,cost:C}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};$e.exports=F},8419:$e=>{"use strict";$e.exports=function(G){for(var C=[],Y=G.length,W=0;W<Y;W++){var X=G.charCodeAt(W);if(X>=55296&&X<=56319&&Y>W+1){var H=G.charCodeAt(W+1);H>=56320&&H<=57343&&(X=1024*(X-55296)+H-56320+65536,W+=1)}X<128?C.push(X):X<2048?(C.push(X>>6|192),C.push(63&X|128)):X<55296||X>=57344&&X<65536?(C.push(X>>12|224),C.push(X>>6&63|128),C.push(63&X|128)):X>=65536&&X<=1114111?(C.push(X>>18|240),C.push(X>>12&63|128),C.push(X>>6&63|128),C.push(63&X|128)):C.push(239,191,189)}return new Uint8Array(C).buffer}},8621:($e,F,G)=>{var y,d,m,g,u,c,C=C||{version:"5.3.0"};if(F.fabric=C,typeof document<"u"&&typeof window<"u")C.document=document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),C.window=window;else{var W=new(G(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;C.document=W.document,C.jsdomImplForWrapper=G(6759).implForWrapper,C.nodeCanvas=G(6272).Canvas,C.window=W,DOMParser=C.window.DOMParser}function H(y,d){var m=y.canvas,g=d.targetCanvas,u=g.getContext("2d");u.translate(0,g.height),u.scale(1,-1),u.drawImage(m,0,m.height-g.height,g.width,g.height,0,0,g.width,g.height)}function B(y,d){var g=d.targetCanvas.getContext("2d"),u=d.destinationWidth,c=d.destinationHeight,a=u*c*4,h=new Uint8Array(this.imageBuffer,0,a),p=new Uint8ClampedArray(this.imageBuffer,0,a);y.readPixels(0,0,u,c,y.RGBA,y.UNSIGNED_BYTE,h);var f=new ImageData(p,u,c);g.putImageData(f,0,0)}C.isTouchSupported="ontouchstart"in C.window||"ontouchstart"in C.document||C.window&&C.window.navigator&&C.window.navigator.maxTouchPoints>0,C.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",C.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],C.DPI=96,C.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",C.commaWsp="(?:\\s+,?\\s*|,\\s*)",C.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,C.reNonWord=/[ \n\.,;!\?\-]/,C.fontPaths={},C.iMatrix=[1,0,0,1,0,0],C.svgNS="http://www.w3.org/2000/svg",C.perfLimitSizeTotal=2097152,C.maxCacheSideLimit=4096,C.minCacheSideLimit=256,C.charWidthsCache={},C.textureSize=2048,C.disableStyleCopyPaste=!1,C.enableGLFiltering=!0,C.devicePixelRatio=C.window.devicePixelRatio||C.window.webkitDevicePixelRatio||C.window.mozDevicePixelRatio||1,C.browserShadowBlurConstant=1,C.arcToSegmentsCache={},C.boundsOfCurveCache={},C.cachesBoundsOfCurve=!0,C.forceGLPutImageData=!1,C.initFilterBackend=function(){return C.enableGLFiltering&&C.isWebglSupported&&C.isWebglSupported(C.textureSize)?(console.log("max texture size: "+C.maxTextureSize),new C.WebglFilterBackend({tileSize:C.textureSize})):C.Canvas2dFilterBackend?new C.Canvas2dFilterBackend:void 0},typeof document<"u"&&typeof window<"u"&&(window.fabric=C),function(){function y(a,h){if(this.__eventListeners[a]){var p=this.__eventListeners[a];h?p[p.indexOf(h)]=!1:C.util.array.fill(p,!1)}}function m(a,h){var p=function(){h.apply(this,arguments),this.off(a,p)}.bind(this);this.on(a,p)}C.Observable={fire:function c(a,h){if(!this.__eventListeners)return this;var p=this.__eventListeners[a];if(!p)return this;for(var f=0,v=p.length;f<v;f++)p[f]&&p[f].call(this,h||{});return this.__eventListeners[a]=p.filter(function(w){return!1!==w}),this},on:function d(a,h){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var p in a)this.on(p,a[p]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(h);return this},once:function g(a,h){if(1===arguments.length)for(var p in a)m.call(this,p,a[p]);else m.call(this,a,h);return this},off:function u(a,h){if(!this.__eventListeners)return this;if(0===arguments.length)for(a in this.__eventListeners)y.call(this,a);else if(1===arguments.length&&"object"==typeof arguments[0])for(var p in a)y.call(this,p,a[p]);else y.call(this,a,h);return this}}}(),C.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var y=0,d=arguments.length;y<d;y++)this._onObjectAdded(arguments[y]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(y,d,m){var g=this._objects;return m?g[d]=y:g.splice(d,0,y),this._onObjectAdded&&this._onObjectAdded(y),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var d,y=this._objects,m=!1,g=0,u=arguments.length;g<u;g++)-1!==(d=y.indexOf(arguments[g]))&&(m=!0,y.splice(d,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[g]));return this.renderOnAddRemove&&m&&this.requestRenderAll(),this},forEachObject:function(y,d){for(var m=this.getObjects(),g=0,u=m.length;g<u;g++)y.call(d,m[g],g,m);return this},getObjects:function(y){return typeof y>"u"?this._objects.concat():this._objects.filter(function(d){return d.type===y})},item:function(y){return this._objects[y]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(y,d){return this._objects.indexOf(y)>-1||!!d&&this._objects.some(function(m){return"function"==typeof m.contains&&m.contains(y,!0)})},complexity:function(){return this._objects.reduce(function(y,d){return y+(d.complexity?d.complexity():0)},0)}},C.CommonMethods={_setOptions:function(y){for(var d in y)this.set(d,y[d])},_initGradient:function(y,d){y&&y.colorStops&&!(y instanceof C.Gradient)&&this.set(d,new C.Gradient(y))},_initPattern:function(y,d,m){!y||!y.source||y instanceof C.Pattern?m&&m():this.set(d,new C.Pattern(y,m))},_setObject:function(y){for(var d in y)this._set(d,y[d])},set:function(y,d){return"object"==typeof y?this._setObject(y):this._set(y,d),this},_set:function(y,d){this[y]=d},toggle:function(y){var d=this.get(y);return"boolean"==typeof d&&this.set(y,!d),this},get:function(y){return this[y]}},y=F,d=Math.sqrt,m=Math.atan2,g=Math.pow,u=Math.PI/180,c=Math.PI/2,C.util={cos:function(a){if(0===a)return 1;switch(a<0&&(a=-a),a/c){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(0===a)return 0;var p=1;switch(a<0&&(p=-1),a/c){case 1:return p;case 2:return 0;case 3:return-p}return Math.sin(a)},removeFromArray:function(a,h){var p=a.indexOf(h);return-1!==p&&a.splice(p,1),a},getRandomInt:function(a,h){return Math.floor(Math.random()*(h-a+1))+a},degreesToRadians:function(a){return a*u},radiansToDegrees:function(a){return a/u},rotatePoint:function(a,h,p){var f=new C.Point(a.x-h.x,a.y-h.y),v=C.util.rotateVector(f,p);return new C.Point(v.x,v.y).addEquals(h)},rotateVector:function(a,h){var p=C.util.sin(h),f=C.util.cos(h);return{x:a.x*f-a.y*p,y:a.x*p+a.y*f}},createVector:function(a,h){return new C.Point(h.x-a.x,h.y-a.y)},calcAngleBetweenVectors:function(a,h){return Math.acos((a.x*h.x+a.y*h.y)/(Math.hypot(a.x,a.y)*Math.hypot(h.x,h.y)))},getHatVector:function(a){return new C.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,h,p){var f=C.util.createVector(a,h),v=C.util.createVector(a,p),w=C.util.calcAngleBetweenVectors(f,v),b=C.util.calcAngleBetweenVectors(C.util.rotateVector(f,w),v);return{vector:C.util.getHatVector(C.util.rotateVector(f,w*(0===b?1:-1)/2)),angle:w}},projectStrokeOnPoints:function(a,h,p){var f=[],v=h.strokeWidth/2,w=h.strokeUniform?new C.Point(1/h.scaleX,1/h.scaleY):new C.Point(1,1),b=function(x){var D=v/Math.hypot(x.x,x.y);return new C.Point(x.x*D*w.x,x.y*D*w.y)};return a.length<=1||a.forEach(function(x,D){var k,L,E=new C.Point(x.x,x.y);0===D?(L=a[D+1],k=p?b(C.util.createVector(L,E)).addEquals(E):a[a.length-1]):D===a.length-1?(k=a[D-1],L=p?b(C.util.createVector(k,E)).addEquals(E):a[0]):(k=a[D-1],L=a[D+1]);var ie,se,$=C.util.getBisector(E,k,L),V=$.vector;if("miter"===h.strokeLineJoin&&(ie=-v/Math.sin($.angle/2),se=new C.Point(V.x*ie*w.x,V.y*ie*w.y),Math.hypot(se.x,se.y)/v<=h.strokeMiterLimit))return f.push(E.add(se)),void f.push(E.subtract(se));ie=-v*Math.SQRT2,se=new C.Point(V.x*ie*w.x,V.y*ie*w.y),f.push(E.add(se)),f.push(E.subtract(se))}),f},transformPoint:function(a,h,p){return p?new C.Point(h[0]*a.x+h[2]*a.y,h[1]*a.x+h[3]*a.y):new C.Point(h[0]*a.x+h[2]*a.y+h[4],h[1]*a.x+h[3]*a.y+h[5])},makeBoundingBoxFromPoints:function(a,h){if(h)for(var p=0;p<a.length;p++)a[p]=C.util.transformPoint(a[p],h);var f=[a[0].x,a[1].x,a[2].x,a[3].x],v=C.util.array.min(f),b=C.util.array.max(f)-v,x=[a[0].y,a[1].y,a[2].y,a[3].y],D=C.util.array.min(x);return{left:v,top:D,width:b,height:C.util.array.max(x)-D}},invertTransform:function(a){var h=1/(a[0]*a[3]-a[1]*a[2]),p=[h*a[3],-h*a[1],-h*a[2],h*a[0]],f=C.util.transformPoint({x:a[4],y:a[5]},p,!0);return p[4]=-f.x,p[5]=-f.y,p},toFixed:function(a,h){return parseFloat(Number(a).toFixed(h))},parseUnit:function(a,h){var p=/\D{0,2}$/.exec(a),f=parseFloat(a);switch(h||(h=C.Text.DEFAULT_SVG_FONT_SIZE),p[0]){case"mm":return f*C.DPI/25.4;case"cm":return f*C.DPI/2.54;case"in":return f*C.DPI;case"pt":return f*C.DPI/72;case"pc":return f*C.DPI/72*12;case"em":return f*h;default:return f}},falseFunction:function(){return!1},getKlass:function(a,h){return a=C.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),C.util.resolveNamespace(h)[a]},getSvgAttributes:function(a){var h=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":h=h.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":h=h.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":h=h.concat(["offset","stop-color","stop-opacity"])}return h},resolveNamespace:function(a){if(!a)return C;var f,h=a.split("."),p=h.length,v=y||C.window;for(f=0;f<p;++f)v=v[h[f]];return v},loadImage:function(a,h,p,f){if(a){var v=C.util.createImage(),w=function(){h&&h.call(p,v,!1),v=v.onload=v.onerror=null};v.onload=w,v.onerror=function(){C.log("Error loading "+v.src),h&&h.call(p,null,!0),v=v.onload=v.onerror=null},0!==a.indexOf("data")&&null!=f&&(v.crossOrigin=f),"data:image/svg"===a.substring(0,14)&&(v.onload=null,C.util.loadImageInDom(v,w)),v.src=a}else h&&h.call(p,a)},loadImageInDom:function(a,h){var p=C.document.createElement("div");p.style.width=p.style.height="1px",p.style.left=p.style.top="-100%",p.style.position="absolute",p.appendChild(a),C.document.querySelector("body").appendChild(p),a.onload=function(){h(),p.parentNode.removeChild(p),p=null}},enlivenObjects:function(a,h,p,f){var v=[],w=0,b=(a=a||[]).length;function x(){++w===b&&h&&h(v.filter(function(D){return D}))}b?a.forEach(function(D,E){D&&D.type?C.util.getKlass(D.type,p).fromObject(D,function(L,$){$||(v[E]=L),f&&f(D,L,$),x()}):x()}):h&&h(v)},enlivenObjectEnlivables:function(a,h,p){var f=C.Object.ENLIVEN_PROPS.filter(function(v){return!!a[v]});C.util.enlivenObjects(f.map(function(v){return a[v]}),function(v){var w={};f.forEach(function(b,x){w[b]=v[x],h&&(h[b]=v[x])}),p&&p(w)})},enlivenPatterns:function(a,h){function p(){++v===w&&h&&h(f)}var f=[],v=0,w=(a=a||[]).length;w?a.forEach(function(b,x){b&&b.source?new C.Pattern(b,function(D){f[x]=D,p()}):(f[x]=b,p())}):h&&h(f)},groupSVGElements:function(a,h,p){var f;return a&&1===a.length?(typeof p<"u"&&(a[0].sourcePath=p),a[0]):(h&&(h.width&&h.height?h.centerPoint={x:h.width/2,y:h.height/2}:(delete h.width,delete h.height)),f=new C.Group(a,h),typeof p<"u"&&(f.sourcePath=p),f)},populateWithProperties:function(a,h,p){if(p&&Array.isArray(p))for(var f=0,v=p.length;f<v;f++)p[f]in a&&(h[p[f]]=a[p[f]])},createCanvasElement:function(){return C.document.createElement("canvas")},copyCanvasElement:function(a){var h=C.util.createCanvasElement();return h.width=a.width,h.height=a.height,h.getContext("2d").drawImage(a,0,0),h},toDataURL:function(a,h,p){return a.toDataURL("image/"+h,p)},createImage:function(){return C.document.createElement("img")},multiplyTransformMatrices:function(a,h,p){return[a[0]*h[0]+a[2]*h[1],a[1]*h[0]+a[3]*h[1],a[0]*h[2]+a[2]*h[3],a[1]*h[2]+a[3]*h[3],p?0:a[0]*h[4]+a[2]*h[5]+a[4],p?0:a[1]*h[4]+a[3]*h[5]+a[5]]},qrDecompose:function(a){var h=m(a[1],a[0]),p=g(a[0],2)+g(a[1],2),f=d(p),v=(a[0]*a[3]-a[2]*a[1])/f,w=m(a[0]*a[2]+a[1]*a[3],p);return{angle:h/u,scaleX:f,scaleY:v,skewX:w/u,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return C.iMatrix.concat();var h=C.util.degreesToRadians(a.angle),p=C.util.cos(h),f=C.util.sin(h);return[p,f,-f,p,0,0]},calcDimensionsMatrix:function(a){var h=typeof a.scaleX>"u"?1:a.scaleX,p=typeof a.scaleY>"u"?1:a.scaleY,f=[a.flipX?-h:h,0,0,a.flipY?-p:p,0,0],v=C.util.multiplyTransformMatrices,w=C.util.degreesToRadians;return a.skewX&&(f=v(f,[1,0,Math.tan(w(a.skewX)),1],!0)),a.skewY&&(f=v(f,[1,Math.tan(w(a.skewY)),0,1],!0)),f},composeMatrix:function(a){var h=[1,0,0,1,a.translateX||0,a.translateY||0],p=C.util.multiplyTransformMatrices;return a.angle&&(h=p(h,C.util.calcRotateMatrix(a))),(1!==a.scaleX||1!==a.scaleY||a.skewX||a.skewY||a.flipX||a.flipY)&&(h=p(h,C.util.calcDimensionsMatrix(a))),h},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,h,p,f){f>0&&(h>f?h-=f:h=0,p>f?p-=f:p=0);var w,v=!0,x=a.getImageData(h,p,2*f||1,2*f||1),D=x.data.length;for(w=3;w<D&&0!=(v=x.data[w]<=0);w+=4);return x=null,v},parsePreserveAspectRatioAttribute:function(a){var w,h="meet",v=a.split(" ");return v&&v.length&&("meet"!==(h=v.pop())&&"slice"!==h?(w=h,h="meet"):v.length&&(w=v.pop())),{meetOrSlice:h,alignX:"none"!==w?w.slice(1,4):"none",alignY:"none"!==w?w.slice(5,8):"none"}},clearFabricFontCache:function(a){(a=(a||"").toLowerCase())?C.charWidthsCache[a]&&delete C.charWidthsCache[a]:C.charWidthsCache={}},limitDimsByArea:function(a,h){var p=Math.sqrt(h*a),f=Math.floor(h/p);return{x:Math.floor(p),y:f}},capValue:function(a,h,p){return Math.max(a,Math.min(h,p))},findScaleToFit:function(a,h){return Math.min(h.width/a.width,h.height/a.height)},findScaleToCover:function(a,h){return Math.max(h.width/a.width,h.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(h){return C.util.toFixed(h,C.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,h){var p=C.util.invertTransform(h),f=C.util.multiplyTransformMatrices(p,a.calcOwnMatrix());C.util.applyTransformToObject(a,f)},addTransformToObject:function(a,h){C.util.applyTransformToObject(a,C.util.multiplyTransformMatrices(h,a.calcOwnMatrix()))},applyTransformToObject:function(a,h){var p=C.util.qrDecompose(h),f=new C.Point(p.translateX,p.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",p.scaleX),a.set("scaleY",p.scaleY),a.skewX=p.skewX,a.skewY=p.skewY,a.angle=p.angle,a.setPositionByOrigin(f,"center","center")},sizeAfterTransform:function(a,h,p){var f=a/2,v=h/2,w=[{x:-f,y:-v},{x:f,y:-v},{x:-f,y:v},{x:f,y:v}],b=C.util.calcDimensionsMatrix(p),x=C.util.makeBoundingBoxFromPoints(w,b);return{x:x.width,y:x.height}},mergeClipPaths:function(a,h){var p=a,f=h;p.inverted&&!f.inverted&&(p=h,f=a),C.util.applyTransformToObject(f,C.util.multiplyTransformMatrices(C.util.invertTransform(p.calcTransformMatrix()),f.calcTransformMatrix()));var v=p.inverted&&f.inverted;return v&&(p.inverted=f.inverted=!1),new C.Group([p],{clipPath:f,inverted:v})},hasStyleChanged:function(a,h,p){return p=p||!1,a.fill!==h.fill||a.stroke!==h.stroke||a.strokeWidth!==h.strokeWidth||a.fontSize!==h.fontSize||a.fontFamily!==h.fontFamily||a.fontWeight!==h.fontWeight||a.fontStyle!==h.fontStyle||a.textBackgroundColor!==h.textBackgroundColor||a.deltaY!==h.deltaY||p&&(a.overline!==h.overline||a.underline!==h.underline||a.linethrough!==h.linethrough)},stylesToArray:function(p,h){p=C.util.object.clone(p,!0);for(var f=h.split("\n"),v=-1,w={},b=[],x=0;x<f.length;x++)if(p[x])for(var D=0;D<f[x].length;D++){v++;var E=p[x][D];E&&Object.keys(E).length>0&&(C.util.hasStyleChanged(w,E,!0)?b.push({start:v,end:v+1,style:E}):b[b.length-1].end++),w=E||{}}else v+=f[x].length;return b},stylesFromArray:function(a,h){if(!Array.isArray(a))return a;for(var p=h.split("\n"),f=-1,v=0,w={},b=0;b<p.length;b++)for(var x=0;x<p[b].length;x++)f++,a[v]&&a[v].start<=f&&f<a[v].end&&(w[b]=w[b]||{},w[b][x]=Object.assign({},a[v].style),f===a[v].end-1&&v++);return w}},function(){var y=Array.prototype.join,d={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},m={m:"l",M:"L"};function g(R,Q,K,q,ye,oe,Z,ge,re,ue,_e){var Se=C.util.cos(R),ke=C.util.sin(R),je=C.util.cos(Q),Me=C.util.sin(Q),Te=K*ye*je-q*oe*Me+Z,Fe=q*ye*je+K*oe*Me+ge;return["C",ue+re*(-K*ye*ke-q*oe*Se),_e+re*(-q*ye*ke+K*oe*Se),Te+re*(K*ye*Me+q*oe*je),Fe+re*(q*ye*Me-K*oe*je),Te,Fe]}function c(R,Q,K,q){var ye=Math.atan2(Q,R),oe=Math.atan2(q,K);return oe>=ye?oe-ye:2*Math.PI-(ye-oe)}function h(R,Q,K){for(var _e=function u(R,Q,K,q,ye,oe,Z){var ge=Math.PI,re=Z*ge/180,ue=C.util.sin(re),_e=C.util.cos(re),Se=0,ke=0,je=-_e*R*.5-ue*Q*.5,Me=-_e*Q*.5+ue*R*.5,Te=(K=Math.abs(K))*K,Fe=(q=Math.abs(q))*q,me=Me*Me,le=je*je,ve=Te*Fe-Te*me-Fe*le,xe=0;if(ve<0){var Ne=Math.sqrt(1-ve/(Te*Fe));K*=Ne,q*=Ne}else xe=(ye===oe?-1:1)*Math.sqrt(ve/(Te*me+Fe*le));var Be=xe*K*Me/q,Re=-xe*q*je/K,Ke=_e*Be-ue*Re+.5*R,qe=ue*Be+_e*Re+.5*Q,ft=c(1,0,(je-Be)/K,(Me-Re)/q),Ft=c((je-Be)/K,(Me-Re)/q,(-je-Be)/K,(-Me-Re)/q);0===oe&&Ft>0?Ft-=2*ge:1===oe&&Ft<0&&(Ft+=2*ge);for(var kt=Math.ceil(Math.abs(Ft/ge*2)),hi=[],Nt=Ft/kt,Ti=8/3*Math.sin(Nt/4)*Math.sin(Nt/4)/Math.sin(Nt/2),Zn=ft+Nt,$t=0;$t<kt;$t++)hi[$t]=g(ft,Zn,_e,ue,K,q,Ke,qe,Ti,Se,ke),Se=hi[$t][5],ke=hi[$t][6],ft=Zn,Zn+=Nt;return hi}(K[6]-R,K[7]-Q,K[1],K[2],K[4],K[5],K[3]),Se=0,ke=_e.length;Se<ke;Se++)_e[Se][1]+=R,_e[Se][2]+=Q,_e[Se][3]+=R,_e[Se][4]+=Q,_e[Se][5]+=R,_e[Se][6]+=Q;return _e}function f(R,Q,K,q){return Math.sqrt((K-R)*(K-R)+(q-Q)*(q-Q))}function D(R,Q,K,q,ye,oe,Z,ge){return function(re){var ue=function v(R){return R*R*R}(re),_e=function w(R){return 3*R*R*(1-R)}(re),Se=function b(R){return 3*R*(1-R)*(1-R)}(re),ke=function x(R){return(1-R)*(1-R)*(1-R)}(re);return{x:Z*ue+ye*_e+K*Se+R*ke,y:ge*ue+oe*_e+q*Se+Q*ke}}}function E(R,Q,K,q,ye,oe,Z,ge){return function(re){var ue=1-re;return Math.atan2(3*ue*ue*(q-Q)+6*ue*re*(oe-q)+3*re*re*(ge-oe),3*ue*ue*(K-R)+6*ue*re*(ye-K)+3*re*re*(Z-ye))}}function V(R,Q,K,q,ye,oe){return function(Z){var ge=function k(R){return R*R}(Z),re=function L(R){return 2*R*(1-R)}(Z),ue=function $(R){return(1-R)*(1-R)}(Z);return{x:ye*ge+K*re+R*ue,y:oe*ge+q*re+Q*ue}}}function ne(R,Q,K,q,ye,oe){return function(Z){var ge=1-Z;return Math.atan2(2*ge*(q-Q)+2*Z*(oe-q),2*ge*(K-R)+2*Z*(ye-K))}}function ie(R,Q,K){var ye,Z,q={x:Q,y:K},oe=0;for(Z=1;Z<=100;Z+=1)ye=R(Z/100),oe+=f(q.x,q.y,ye.x,ye.y),q=ye;return oe}function de(R){for(var q,ue,_e,Se,Q=0,K=R.length,ye=0,oe=0,Z=0,ge=0,re=[],ke=0;ke<K;ke++){switch(_e={x:ye,y:oe,command:(q=R[ke])[0]},q[0]){case"M":_e.length=0,Z=ye=q[1],ge=oe=q[2];break;case"L":_e.length=f(ye,oe,q[1],q[2]),ye=q[1],oe=q[2];break;case"C":ue=D(ye,oe,q[1],q[2],q[3],q[4],q[5],q[6]),Se=E(ye,oe,q[1],q[2],q[3],q[4],q[5],q[6]),_e.iterator=ue,_e.angleFinder=Se,_e.length=ie(ue,ye,oe),ye=q[5],oe=q[6];break;case"Q":ue=V(ye,oe,q[1],q[2],q[3],q[4]),Se=ne(ye,oe,q[1],q[2],q[3],q[4]),_e.iterator=ue,_e.angleFinder=Se,_e.length=ie(ue,ye,oe),ye=q[3],oe=q[4];break;case"Z":case"z":_e.destX=Z,_e.destY=ge,_e.length=f(ye,oe,Z,ge),ye=Z,oe=ge}Q+=_e.length,re.push(_e)}return re.push({length:Q,x:ye,y:oe}),re}C.util.joinPath=function(R){return R.map(function(Q){return Q.join(" ")}).join(" ")},C.util.parsePath=function J(R){var q,ye,Se,ke,je,Q=[],K=[],oe=C.rePathCommand,Z="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",ge="("+Z+")"+C.commaWsp,re="([01])"+C.commaWsp+"?",_e=new RegExp(ge+"?"+ge+"?"+ge+re+re+ge+"?("+Z+")","g");if(!R||!R.match)return Q;for(var Te,Me=0,Fe=(je=R.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;Me<Fe;Me++){ke=(q=je[Me]).slice(1).trim(),K.length=0;var me=q.charAt(0);if(Te=[me],"a"===me.toLowerCase())for(var le;le=_e.exec(ke);)for(var ve=1;ve<le.length;ve++)K.push(le[ve]);else for(;Se=oe.exec(ke);)K.push(Se[0]);ve=0;for(var xe=K.length;ve<xe;ve++)ye=parseFloat(K[ve]),isNaN(ye)||Te.push(ye);var Ne=d[me.toLowerCase()],Be=m[me]||me;if(Te.length-1>Ne)for(var Re=1,Ke=Te.length;Re<Ke;Re+=Ne)Q.push([me].concat(Te.slice(Re,Re+Ne))),me=Be;else Q.push(Te)}return Q},C.util.makePathSimpler=function p(R){var Z,ge,re,_e,Se,ke,Q=0,K=0,q=R.length,ye=0,oe=0,ue=[];for(ge=0;ge<q;++ge){switch(re=!1,(Z=R[ge].slice(0))[0]){case"l":Z[0]="L",Z[1]+=Q,Z[2]+=K;case"L":Q=Z[1],K=Z[2];break;case"h":Z[1]+=Q;case"H":Z[0]="L",Z[2]=K,Q=Z[1];break;case"v":Z[1]+=K;case"V":Z[0]="L",K=Z[1],Z[1]=Q,Z[2]=K;break;case"m":Z[0]="M",Z[1]+=Q,Z[2]+=K;case"M":Q=Z[1],K=Z[2],ye=Z[1],oe=Z[2];break;case"c":Z[0]="C",Z[1]+=Q,Z[2]+=K,Z[3]+=Q,Z[4]+=K,Z[5]+=Q,Z[6]+=K;case"C":Se=Z[3],ke=Z[4],Q=Z[5],K=Z[6];break;case"s":Z[0]="S",Z[1]+=Q,Z[2]+=K,Z[3]+=Q,Z[4]+=K;case"S":"C"===_e?(Se=2*Q-Se,ke=2*K-ke):(Se=Q,ke=K),Q=Z[3],K=Z[4],Z[0]="C",Z[5]=Z[3],Z[6]=Z[4],Z[3]=Z[1],Z[4]=Z[2],Z[1]=Se,Z[2]=ke,Se=Z[3],ke=Z[4];break;case"q":Z[0]="Q",Z[1]+=Q,Z[2]+=K,Z[3]+=Q,Z[4]+=K;case"Q":Se=Z[1],ke=Z[2],Q=Z[3],K=Z[4];break;case"t":Z[0]="T",Z[1]+=Q,Z[2]+=K;case"T":"Q"===_e?(Se=2*Q-Se,ke=2*K-ke):(Se=Q,ke=K),Z[0]="Q",Q=Z[1],K=Z[2],Z[1]=Se,Z[2]=ke,Z[3]=Q,Z[4]=K;break;case"a":Z[0]="A",Z[6]+=Q,Z[7]+=K;case"A":re=!0,ue=ue.concat(h(Q,K,Z)),Q=Z[6],K=Z[7];break;case"z":case"Z":Q=ye,K=oe}re||ue.push(Z),_e=Z[0]}return ue},C.util.getSmoothPathFromPoints=function te(R,Q){var q,K=[],ye=new C.Point(R[0].x,R[0].y),oe=new C.Point(R[1].x,R[1].y),Z=R.length,ge=1,re=0,ue=Z>2;for(ue&&(ge=R[2].x<oe.x?-1:R[2].x===oe.x?0:1,re=R[2].y<oe.y?-1:R[2].y===oe.y?0:1),K.push(["M",ye.x-ge*(Q=Q||0),ye.y-re*Q]),q=1;q<Z;q++){if(!ye.eq(oe)){var _e=ye.midPointFrom(oe);K.push(["Q",ye.x,ye.y,_e.x,_e.y])}ye=R[q],q+1<R.length&&(oe=R[q+1])}return ue&&(ge=ye.x>R[q-2].x?1:ye.x===R[q-2].x?0:-1,re=ye.y>R[q-2].y?1:ye.y===R[q-2].y?0:-1),K.push(["L",ye.x+ge*Q,ye.y+re*Q]),K},C.util.getPathSegmentsInfo=de,C.util.getBoundsOfCurve=function a(R,Q,K,q,ye,oe,Z,ge){var re;if(C.cachesBoundsOfCurve&&(re=y.call(arguments),C.boundsOfCurveCache[re]))return C.boundsOfCurveCache[re];var Te,Fe,me,le,ve,xe,Ne,Be,ue=Math.sqrt,_e=Math.min,Se=Math.max,ke=Math.abs,je=[],Me=[[],[]];Fe=6*R-12*K+6*ye,Te=-3*R+9*K-9*ye+3*Z,me=3*K-3*R;for(var Re=0;Re<2;++Re)if(Re>0&&(Fe=6*Q-12*q+6*oe,Te=-3*Q+9*q-9*oe+3*ge,me=3*q-3*Q),ke(Te)<1e-12){if(ke(Fe)<1e-12)continue;0<(le=-me/Fe)&&le<1&&je.push(le)}else!((Ne=Fe*Fe-4*me*Te)<0)&&(0<(ve=(-Fe+(Be=ue(Ne)))/(2*Te))&&ve<1&&je.push(ve),0<(xe=(-Fe-Be)/(2*Te))&&xe<1&&je.push(xe));for(var kt,ft=je.length,Ft=ft;ft--;)Me[0][ft]=(kt=1-(le=je[ft]))*kt*kt*R+3*kt*kt*le*K+3*kt*le*le*ye+le*le*le*Z,Me[1][ft]=kt*kt*kt*Q+3*kt*kt*le*q+3*kt*le*le*oe+le*le*le*ge;Me[0][Ft]=R,Me[1][Ft]=Q,Me[0][Ft+1]=Z,Me[1][Ft+1]=ge;var hi=[{x:_e.apply(null,Me[0]),y:_e.apply(null,Me[1])},{x:Se.apply(null,Me[0]),y:Se.apply(null,Me[1])}];return C.cachesBoundsOfCurve&&(C.boundsOfCurveCache[re]=hi),hi},C.util.getPointOnPath=function P(R,Q,K){K||(K=de(R));for(var q=0;Q-K[q].length>0&&q<K.length-2;)Q-=K[q].length,q++;var re,ye=K[q],oe=Q/ye.length,ge=R[q];switch(ye.command){case"M":return{x:ye.x,y:ye.y,angle:0};case"Z":case"z":return(re=new C.Point(ye.x,ye.y).lerp(new C.Point(ye.destX,ye.destY),oe)).angle=Math.atan2(ye.destY-ye.y,ye.destX-ye.x),re;case"L":return(re=new C.Point(ye.x,ye.y).lerp(new C.Point(ge[1],ge[2]),oe)).angle=Math.atan2(ge[2]-ye.y,ge[1]-ye.x),re;case"C":case"Q":return function se(R,Q){for(var Z,ge,_e,K=0,q=0,ye=R.iterator,oe={x:R.x,y:R.y},re=.01,ue=R.angleFinder;q<Q&&re>1e-4;)Z=ye(K),_e=K,(ge=f(oe.x,oe.y,Z.x,Z.y))+q>Q?(K-=re,re/=2):(oe=Z,K+=re,q+=ge);return Z.angle=ue(_e),Z}(ye,Q)}},C.util.transformPath=function fe(R,Q,K){return K&&(Q=C.util.multiplyTransformMatrices(Q,[1,0,0,1,-K.x,-K.y])),R.map(function(q){for(var ye=q.slice(0),oe={},Z=1;Z<q.length-1;Z+=2)oe.x=q[Z],oe.y=q[Z+1],oe=C.util.transformPoint(oe,Q),ye[Z]=oe.x,ye[Z+1]=oe.y;return ye})}}(),function(){var y=Array.prototype.slice;function c(a,h,p){if(a&&0!==a.length){var f=a.length-1,v=h?a[f][h]:a[f];if(h)for(;f--;)p(a[f][h],v)&&(v=a[f][h]);else for(;f--;)p(a[f],v)&&(v=a[f]);return v}}C.util.array={fill:function u(a,h){for(var p=a.length;p--;)a[p]=h;return a},invoke:function d(a,h){for(var p=y.call(arguments,2),f=[],v=0,w=a.length;v<w;v++)f[v]=p.length?a[v][h].apply(a[v],p):a[v][h].call(a[v]);return f},min:function g(a,h){return c(a,h,function(p,f){return p<f})},max:function m(a,h){return c(a,h,function(p,f){return p>=f})}}}(),function(){function y(m,g,u){if(u)if(!C.isLikelyNode&&g instanceof Element)m=g;else if(g instanceof Array){m=[];for(var c=0,a=g.length;c<a;c++)m[c]=y({},g[c],u)}else if(g&&"object"==typeof g)for(var h in g)"canvas"===h||"group"===h?m[h]=null:g.hasOwnProperty(h)&&(m[h]=y({},g[h],u));else m=g;else for(var h in g)m[h]=g[h];return m}C.util.object={extend:y,clone:function d(m,g){return y({},m,g)}},C.util.object.extend(C.util,C.Observable)}(),function(){function u(c,a){var h=c.charCodeAt(a);if(isNaN(h))return"";if(h<55296||h>57343)return c.charAt(a);if(55296<=h&&h<=56319){if(c.length<=a+1)throw"High surrogate without following low surrogate";var p=c.charCodeAt(a+1);if(56320>p||p>57343)throw"High surrogate without following low surrogate";return c.charAt(a)+c.charAt(a+1)}if(0===a)throw"Low surrogate without preceding high surrogate";var f=c.charCodeAt(a-1);if(55296>f||f>56319)throw"Low surrogate without preceding high surrogate";return!1}C.util.string={camelize:function y(c){return c.replace(/-+(.)?/g,function(a,h){return h?h.toUpperCase():""})},capitalize:function d(c,a){return c.charAt(0).toUpperCase()+(a?c.slice(1):c.slice(1).toLowerCase())},escapeXml:function m(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function g(c){var h,a=0,p=[];for(a=0;a<c.length;a++)!1!==(h=u(c,a))&&p.push(h);return p}}}(),function(){var y=Array.prototype.slice,d=function(){},m=function(){for(var h in{toString:1})if("toString"===h)return!1;return!0}(),g=function(h,p,f){for(var v in p)h.prototype[v]=v in h.prototype&&"function"==typeof h.prototype[v]&&(p[v]+"").indexOf("callSuper")>-1?function(w){return function(){var b=this.constructor.superclass;this.constructor.superclass=f;var x=p[w].apply(this,arguments);if(this.constructor.superclass=b,"initialize"!==w)return x}}(v):p[v],m&&(p.toString!==Object.prototype.toString&&(h.prototype.toString=p.toString),p.valueOf!==Object.prototype.valueOf&&(h.prototype.valueOf=p.valueOf))};function u(){}function c(h){for(var p=null,f=this;f.constructor.superclass;){var v=f.constructor.superclass.prototype[h];if(f[h]!==v){p=v;break}f=f.constructor.superclass.prototype}return p?arguments.length>1?p.apply(this,y.call(arguments,1)):p.call(this):console.log("tried to callSuper "+h+", method not found in prototype chain",this)}C.util.createClass=function a(){var h=null,p=y.call(arguments,0);function f(){this.initialize.apply(this,arguments)}"function"==typeof p[0]&&(h=p.shift()),f.superclass=h,f.subclasses=[],h&&(u.prototype=h.prototype,f.prototype=new u,h.subclasses.push(f));for(var v=0,w=p.length;v<w;v++)g(f,p[v],h);return f.prototype.initialize||(f.prototype.initialize=d),f.prototype.constructor=f,f.prototype.callSuper=c,f}}(),function(){var y=!!C.document.createElement("div").attachEvent,d=["touchstart","touchmove","touchend"];C.util.addListener=function(g,u,c,a){g&&g.addEventListener(u,c,!y&&a)},C.util.removeListener=function(g,u,c,a){g&&g.removeEventListener(u,c,!y&&a)},C.util.getPointer=function(g){var c=C.util.getScrollLeftTop(g.target),a=function m(g){var u=g.changedTouches;return u&&u[0]?u[0]:g}(g);return{x:a.clientX+c.left,y:a.clientY+c.top}},C.util.isTouchEvent=function(g){return d.indexOf(g.type)>-1||"touch"===g.pointerType}}(),function(){var d=C.document.createElement("div"),u=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(a){return a};"string"==typeof d.style.opacity?c=function(a,h){return a.style.opacity=h,a}:"string"==typeof d.style.filter&&(c=function(a,h){var p=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(p.zoom=1),u.test(p.filter)?p.filter=p.filter.replace(u,h=h>=.9999?"":"alpha(opacity="+100*h+")"):p.filter+=" alpha(opacity="+100*h+")",a}),C.util.setStyle=function y(a,h){var p=a.style;if(!p)return a;if("string"==typeof h)return a.style.cssText+=";"+h,h.indexOf("opacity")>-1?c(a,h.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var f in h)"opacity"===f?c(a,h[f]):p.setProperty("float"===f||"cssFloat"===f?typeof p.styleFloat>"u"?"cssFloat":"styleFloat":f,h[f]);return a}}(),function(){var m,f,x,D,y=Array.prototype.slice,g=function(x){return y.call(x,0)};try{m=g(C.document.childNodes)instanceof Array}catch{}function u(x,D){var E=C.document.createElement(x);for(var k in D)"class"===k?E.className=D[k]:"for"===k?E.htmlFor=D[k]:E.setAttribute(k,D[k]);return E}function h(x){for(var D=0,E=0,k=C.document.documentElement,L=C.document.body||{scrollLeft:0,scrollTop:0};x&&(x.parentNode||x.host)&&((x=x.parentNode||x.host)===C.document?(D=L.scrollLeft||k.scrollLeft||0,E=L.scrollTop||k.scrollTop||0):(D+=x.scrollLeft||0,E+=x.scrollTop||0),1!==x.nodeType||"fixed"!==x.style.position););return{left:D,top:E}}m||(g=function(x){for(var D=new Array(x.length),E=x.length;E--;)D[E]=x[E];return D}),f=C.document.defaultView&&C.document.defaultView.getComputedStyle?function(x,D){var E=C.document.defaultView.getComputedStyle(x,null);return E?E[D]:void 0}:function(x,D){var E=x.style[D];return!E&&x.currentStyle&&(E=x.currentStyle[D]),E},D="userSelect"in(x=C.document.documentElement.style)?"userSelect":"MozUserSelect"in x?"MozUserSelect":"WebkitUserSelect"in x?"WebkitUserSelect":"KhtmlUserSelect"in x?"KhtmlUserSelect":"",C.util.makeElementUnselectable=function E(L){return typeof L.onselectstart<"u"&&(L.onselectstart=C.util.falseFunction),D?L.style[D]="none":"string"==typeof L.unselectable&&(L.unselectable="on"),L},C.util.makeElementSelectable=function k(L){return typeof L.onselectstart<"u"&&(L.onselectstart=null),D?L.style[D]="":"string"==typeof L.unselectable&&(L.unselectable=""),L},C.util.setImageSmoothing=function b(x,D){x.imageSmoothingEnabled=x.imageSmoothingEnabled||x.webkitImageSmoothingEnabled||x.mozImageSmoothingEnabled||x.msImageSmoothingEnabled||x.oImageSmoothingEnabled,x.imageSmoothingEnabled=D},C.util.getById=function d(x){return"string"==typeof x?C.document.getElementById(x):x},C.util.toArray=g,C.util.addClass=function c(x,D){x&&-1===(" "+x.className+" ").indexOf(" "+D+" ")&&(x.className+=(x.className?" ":"")+D)},C.util.makeElement=u,C.util.wrapElement=function a(x,D,E){return"string"==typeof D&&(D=u(D,E)),x.parentNode&&x.parentNode.replaceChild(D,x),D.appendChild(x),D},C.util.getScrollLeftTop=h,C.util.getElementOffset=function p(x){var D,$,E=x&&x.ownerDocument,k={left:0,top:0},L={left:0,top:0},V={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!E)return L;for(var ne in V)L[V[ne]]+=parseInt(f(x,ne),10)||0;return D=E.documentElement,typeof x.getBoundingClientRect<"u"&&(k=x.getBoundingClientRect()),$=h(x),{left:k.left+$.left-(D.clientLeft||0)+L.left,top:k.top+$.top-(D.clientTop||0)+L.top}},C.util.getNodeCanvas=function v(x){var D=C.jsdomImplForWrapper(x);return D._canvas||D._image},C.util.cleanUpJsdomNode=function w(x){if(C.isLikelyNode){var D=C.jsdomImplForWrapper(x);D&&(D._image=null,D._canvas=null,D._currentSrc=null,D._attributes=null,D._classList=null)}}}(),function(){function d(){}C.util.request=function m(g,u){u||(u={});var c=u.method?u.method.toUpperCase():"GET",a=u.onComplete||function(){},h=new C.window.XMLHttpRequest,p=u.body||u.parameters;return h.onreadystatechange=function(){4===h.readyState&&(a(h),h.onreadystatechange=d)},"GET"===c&&(p=null,"string"==typeof u.parameters&&(g=function y(g,u){return g+(/\?/.test(g)?"&":"?")+u}(g,u.parameters))),h.open(c,g,!0),("POST"===c||"PUT"===c)&&h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.send(p),h}}(),C.log=console.log,C.warn=console.warn,function(){var y=C.util.object.extend,d=C.util.object.clone,m=[];function g(){return!1}function u(v,w,b,x){return-b*Math.cos(v/x*(Math.PI/2))+b+w}C.util.object.extend(m,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(w){w.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var w=this.filter(function(b){return"object"==typeof b.target&&b.target.canvas===v});return w.forEach(function(b){b.cancel()}),w},cancelByTarget:function(v){var w=this.findAnimationsByTarget(v);return w.forEach(function(b){b.cancel()}),w},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(w){return w.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(w){return w.target===v}):[]}});var a=C.window.requestAnimationFrame||C.window.webkitRequestAnimationFrame||C.window.mozRequestAnimationFrame||C.window.oRequestAnimationFrame||C.window.msRequestAnimationFrame||function(v){return C.window.setTimeout(v,1e3/60)},h=C.window.cancelAnimationFrame||C.window.clearTimeout;function p(){return a.apply(C.window,arguments)}C.util.animate=function c(v){v||(v={});var b,w=!1,x=function(){var D=C.runningAnimations.indexOf(b);return D>-1&&C.runningAnimations.splice(D,1)[0]};return b=y(d(v),{cancel:function(){return w=!0,x()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),C.runningAnimations.push(b),p(function(D){var $,E=D||+new Date,k=v.duration||500,L=E+k,V=v.onChange||g,ne=v.abort||g,ie=v.onComplete||g,se=v.easing||u,de="startValue"in v&&v.startValue.length>0,P="startValue"in v?v.startValue:0,J="endValue"in v?v.endValue:100,te=v.byValue||(de?P.map(function(fe,R){return J[R]-P[R]}):J-P);v.onStart&&v.onStart(),function fe(R){var Q=($=R||+new Date)>L?k:$-E,K=Q/k,q=de?P.map(function(oe,Z){return se(Q,P[Z],te[Z],k)}):se(Q,P,te,k),ye=Math.abs(de?(q[0]-P[0])/te[0]:(q-P)/te);if(b.currentValue=de?q.slice():q,b.completionRate=ye,b.durationRate=K,!w){if(ne(q,ye,K))return void x();if($>L)return b.currentValue=de?J.slice():J,b.completionRate=1,b.durationRate=1,V(de?J.slice():J,1,1),ie(J,1,1),void x();V(q,ye,K),p(fe)}}(E)}),b.cancel},C.util.requestAnimFrame=p,C.util.cancelAnimFrame=function f(){return h.apply(C.window,arguments)},C.runningAnimations=m}(),function(){function y(m,g,u){var c="rgba("+parseInt(m[0]+u*(g[0]-m[0]),10)+","+parseInt(m[1]+u*(g[1]-m[1]),10)+","+parseInt(m[2]+u*(g[2]-m[2]),10);return(c+=","+(m&&g?parseFloat(m[3]+u*(g[3]-m[3])):1))+")"}C.util.animateColor=function d(m,g,u,c){var a=new C.Color(m).getSource(),h=new C.Color(g).getSource(),p=c.onComplete,f=c.onChange;return C.util.animate(C.util.object.extend(c=c||{},{duration:u||500,startValue:a,endValue:h,byValue:h,easing:function(v,w,b,x){return y(w,b,c.colorEasing?c.colorEasing(v,x):1-Math.cos(v/x*(Math.PI/2)))},onComplete:function(v,w,b){if(p)return p(y(h,h,0),w,b)},onChange:function(v,w,b){if(f){if(Array.isArray(v))return f(y(v,v,0),w,b);f(v,w,b)}}}))}}(),function(){function y(R,Q,K,q){return R<Math.abs(Q)?(R=Q,q=K/4):q=0===Q&&0===R?K/(2*Math.PI)*Math.asin(1):K/(2*Math.PI)*Math.asin(Q/R),{a:R,c:Q,p:K,s:q}}function d(R,Q,K){return R.a*Math.pow(2,10*(Q-=1))*Math.sin((Q*K-R.s)*(2*Math.PI)/R.p)}function J(R,Q,K,q){return K-te(q-R,0,K,q)+Q}function te(R,Q,K,q){return(R/=q)<1/2.75?K*(7.5625*R*R)+Q:R<2/2.75?K*(7.5625*(R-=1.5/2.75)*R+.75)+Q:R<2.5/2.75?K*(7.5625*(R-=2.25/2.75)*R+.9375)+Q:K*(7.5625*(R-=2.625/2.75)*R+.984375)+Q}C.util.ease={easeInQuad:function(R,Q,K,q){return K*(R/=q)*R+Q},easeOutQuad:function(R,Q,K,q){return-K*(R/=q)*(R-2)+Q},easeInOutQuad:function(R,Q,K,q){return(R/=q/2)<1?K/2*R*R+Q:-K/2*(--R*(R-2)-1)+Q},easeInCubic:function(R,Q,K,q){return K*(R/=q)*R*R+Q},easeOutCubic:function m(R,Q,K,q){return K*((R=R/q-1)*R*R+1)+Q},easeInOutCubic:function g(R,Q,K,q){return(R/=q/2)<1?K/2*R*R*R+Q:K/2*((R-=2)*R*R+2)+Q},easeInQuart:function u(R,Q,K,q){return K*(R/=q)*R*R*R+Q},easeOutQuart:function c(R,Q,K,q){return-K*((R=R/q-1)*R*R*R-1)+Q},easeInOutQuart:function a(R,Q,K,q){return(R/=q/2)<1?K/2*R*R*R*R+Q:-K/2*((R-=2)*R*R*R-2)+Q},easeInQuint:function h(R,Q,K,q){return K*(R/=q)*R*R*R*R+Q},easeOutQuint:function p(R,Q,K,q){return K*((R=R/q-1)*R*R*R*R+1)+Q},easeInOutQuint:function f(R,Q,K,q){return(R/=q/2)<1?K/2*R*R*R*R*R+Q:K/2*((R-=2)*R*R*R*R+2)+Q},easeInSine:function v(R,Q,K,q){return-K*Math.cos(R/q*(Math.PI/2))+K+Q},easeOutSine:function w(R,Q,K,q){return K*Math.sin(R/q*(Math.PI/2))+Q},easeInOutSine:function b(R,Q,K,q){return-K/2*(Math.cos(Math.PI*R/q)-1)+Q},easeInExpo:function x(R,Q,K,q){return 0===R?Q:K*Math.pow(2,10*(R/q-1))+Q},easeOutExpo:function D(R,Q,K,q){return R===q?Q+K:K*(1-Math.pow(2,-10*R/q))+Q},easeInOutExpo:function E(R,Q,K,q){return 0===R?Q:R===q?Q+K:(R/=q/2)<1?K/2*Math.pow(2,10*(R-1))+Q:K/2*(2-Math.pow(2,-10*--R))+Q},easeInCirc:function k(R,Q,K,q){return-K*(Math.sqrt(1-(R/=q)*R)-1)+Q},easeOutCirc:function L(R,Q,K,q){return K*Math.sqrt(1-(R=R/q-1)*R)+Q},easeInOutCirc:function $(R,Q,K,q){return(R/=q/2)<1?-K/2*(Math.sqrt(1-R*R)-1)+Q:K/2*(Math.sqrt(1-(R-=2)*R)+1)+Q},easeInElastic:function V(R,Q,K,q){var oe=0;return 0===R?Q:1==(R/=q)?Q+K:(oe||(oe=.3*q),-d(y(K,K,oe,1.70158),R,q)+Q)},easeOutElastic:function ne(R,Q,K,q){var oe=0;if(0===R)return Q;if(1==(R/=q))return Q+K;oe||(oe=.3*q);var ge=y(K,K,oe,1.70158);return ge.a*Math.pow(2,-10*R)*Math.sin((R*q-ge.s)*(2*Math.PI)/ge.p)+ge.c+Q},easeInOutElastic:function ie(R,Q,K,q){var oe=0;if(0===R)return Q;if(2==(R/=q/2))return Q+K;oe||(oe=q*(.3*1.5));var ge=y(K,K,oe,1.70158);return R<1?-.5*d(ge,R,q)+Q:ge.a*Math.pow(2,-10*(R-=1))*Math.sin((R*q-ge.s)*(2*Math.PI)/ge.p)*.5+ge.c+Q},easeInBack:function se(R,Q,K,q,ye){return void 0===ye&&(ye=1.70158),K*(R/=q)*R*((ye+1)*R-ye)+Q},easeOutBack:function de(R,Q,K,q,ye){return void 0===ye&&(ye=1.70158),K*((R=R/q-1)*R*((ye+1)*R+ye)+1)+Q},easeInOutBack:function P(R,Q,K,q,ye){return void 0===ye&&(ye=1.70158),(R/=q/2)<1?K/2*(R*R*((1+(ye*=1.525))*R-ye))+Q:K/2*((R-=2)*R*((1+(ye*=1.525))*R+ye)+2)+Q},easeInBounce:J,easeOutBounce:te,easeInOutBounce:function fe(R,Q,K,q){return R<q/2?.5*J(2*R,0,K,q)+Q:.5*te(2*R-q,0,K,q)+.5*K+Q}}}(),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.extend,g=d.util.object.clone,u=d.util.toFixed,c=d.util.parseUnit,a=d.util.multiplyTransformMatrices,w={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},x="font-size",D="clip-path";function E(oe){return oe in w?w[oe]:oe}function k(oe,Z,ge,re){var _e,ue=Array.isArray(Z);if("fill"!==oe&&"stroke"!==oe||"none"!==Z){if("strokeUniform"===oe)return"non-scaling-stroke"===Z;if("strokeDashArray"===oe)Z="none"===Z?null:Z.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===oe)Z=ge&&ge.transformMatrix?a(ge.transformMatrix,d.parseTransformAttribute(Z)):d.parseTransformAttribute(Z);else if("visible"===oe)Z="none"!==Z&&"hidden"!==Z,ge&&!1===ge.visible&&(Z=!1);else if("opacity"===oe)Z=parseFloat(Z),ge&&typeof ge.opacity<"u"&&(Z*=ge.opacity);else if("textAnchor"===oe)Z="start"===Z?"left":"end"===Z?"right":"center";else if("charSpacing"===oe)_e=c(Z,re)/re*1e3;else if("paintFirst"===oe){var Se=Z.indexOf("fill"),ke=Z.indexOf("stroke");Z="fill",(Se>-1&&ke>-1&&ke<Se||-1===Se&&ke>-1)&&(Z="stroke")}else{if("href"===oe||"xlink:href"===oe||"font"===oe)return Z;if("imageSmoothing"===oe)return"optimizeQuality"===Z;_e=ue?Z.map(c):c(Z,re)}}else Z="";return!ue&&isNaN(_e)?Z:_e}function L(oe){return new RegExp("^("+oe.join("|")+")\\b","i")}function V(oe,Z){var ue,_e,Se,re=[];for(_e=0,Se=Z.length;_e<Se;_e++)ue=oe.getElementsByTagName(Z[_e]),re=re.concat(Array.prototype.slice.call(ue));return re}function de(oe,Z){var ge,re=!0;return(ge=J(oe,Z.pop()))&&Z.length&&(re=function P(oe,Z){for(var ge,re=!0;oe.parentNode&&1===oe.parentNode.nodeType&&Z.length;)re&&(ge=Z.pop()),re=J(oe=oe.parentNode,ge);return 0===Z.length}(oe,Z)),ge&&re&&0===Z.length}function J(oe,Z){var _e,Se,ge=oe.nodeName,re=oe.getAttribute("class"),ue=oe.getAttribute("id");if(_e=new RegExp("^"+ge,"i"),Z=Z.replace(_e,""),ue&&Z.length&&(_e=new RegExp("#"+ue+"(?![a-zA-Z\\-]+)","i"),Z=Z.replace(_e,"")),re&&Z.length)for(Se=(re=re.split(" ")).length;Se--;)_e=new RegExp("\\."+re[Se]+"(?![a-zA-Z\\-]+)","i"),Z=Z.replace(_e,"");return 0===Z.length}function te(oe,Z){var ge;if(oe.getElementById&&(ge=oe.getElementById(Z)),ge)return ge;var re,ue,_e,Se=oe.getElementsByTagName("*");for(ue=0,_e=Se.length;ue<_e;ue++)if(Z===(re=Se[ue]).getAttribute("id"))return re}d.svgValidTagNamesRegEx=L(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),d.svgViewBoxElementsRegEx=L(["symbol","image","marker","pattern","view","svg"]),d.svgInvalidAncestorsRegEx=L(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),d.svgValidParentsRegEx=L(["symbol","g","a","svg","clipPath","defs"]),d.cssRules={},d.gradientDefs={},d.clipPaths={},d.parseTransformAttribute=function(){function ge(Re,Ke,qe){Re[qe]=Math.tan(d.util.degreesToRadians(Ke[0]))}var ue=d.iMatrix,_e=d.reNum,Se=d.commaWsp,le="(?:(?:(matrix)\\s*\\(\\s*("+_e+")"+Se+"("+_e+")"+Se+"("+_e+")"+Se+"("+_e+")"+Se+"("+_e+")"+Se+"("+_e+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+_e+")(?:"+Se+"("+_e+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+_e+")(?:"+Se+"("+_e+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+_e+")(?:"+Se+"("+_e+")"+Se+"("+_e+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+_e+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+_e+")\\s*\\)))",Ne=new RegExp("^\\s*(?:(?:"+le+"(?:"+Se+"*"+le+")*)?)\\s*$"),Be=new RegExp(le,"g");return function(Re){var Ke=ue.concat(),qe=[];if(!Re||Re&&!Ne.test(Re))return Ke;Re.replace(Be,function(Ft){var kt=new RegExp(le).exec(Ft).filter(function(Ti){return!!Ti}),hi=kt[1],Nt=kt.slice(2).map(parseFloat);switch(hi){case"translate":!function re(Re,Ke){Re[4]=Ke[0],2===Ke.length&&(Re[5]=Ke[1])}(Ke,Nt);break;case"rotate":Nt[0]=d.util.degreesToRadians(Nt[0]),function oe(Re,Ke){var qe=d.util.cos(Ke[0]),ft=d.util.sin(Ke[0]),Ft=0,kt=0;3===Ke.length&&(Ft=Ke[1],kt=Ke[2]),Re[0]=qe,Re[1]=ft,Re[2]=-ft,Re[3]=qe,Re[4]=Ft-(qe*Ft-ft*kt),Re[5]=kt-(ft*Ft+qe*kt)}(Ke,Nt);break;case"scale":!function Z(Re,Ke){var ft=2===Ke.length?Ke[1]:Ke[0];Re[0]=Ke[0],Re[3]=ft}(Ke,Nt);break;case"skewX":ge(Ke,Nt,2);break;case"skewY":ge(Ke,Nt,1);break;case"matrix":Ke=Nt}qe.push(Ke.concat()),Ke=ue.concat()});for(var ft=qe[0];qe.length>1;)qe.shift(),ft=d.util.multiplyTransformMatrices(ft,qe[0]);return ft}}();var R=new RegExp("^\\s*("+d.reNum+"+)\\s*,?\\s*("+d.reNum+"+)\\s*,?\\s*("+d.reNum+"+)\\s*,?\\s*("+d.reNum+"+)\\s*$");function Q(oe){if(!d.svgViewBoxElementsRegEx.test(oe.nodeName))return{};var ue,_e,Se,ke,je,Me,Z=oe.getAttribute("viewBox"),ge=1,re=1,Te=oe.getAttribute("width"),Fe=oe.getAttribute("height"),me=oe.getAttribute("x")||0,le=oe.getAttribute("y")||0,ve=oe.getAttribute("preserveAspectRatio")||"",xe=!Z||!(Z=Z.match(R)),Ne=!Te||!Fe||"100%"===Te||"100%"===Fe,Be=xe&&Ne,Re={},Ke="",qe=0,ft=0;if(Re.width=0,Re.height=0,Re.toBeParsed=Be,xe&&(me||le)&&oe.parentNode&&"#document"!==oe.parentNode.nodeName&&(Ke=" translate("+c(me)+" "+c(le)+") ",je=(oe.getAttribute("transform")||"")+Ke,oe.setAttribute("transform",je),oe.removeAttribute("x"),oe.removeAttribute("y")),Be)return Re;if(xe)return Re.width=c(Te),Re.height=c(Fe),Re;if(ue=-parseFloat(Z[1]),_e=-parseFloat(Z[2]),Se=parseFloat(Z[3]),ke=parseFloat(Z[4]),Re.minX=ue,Re.minY=_e,Re.viewBoxWidth=Se,Re.viewBoxHeight=ke,Ne?(Re.width=Se,Re.height=ke):(Re.width=c(Te),Re.height=c(Fe),ge=Re.width/Se,re=Re.height/ke),"none"!==(ve=d.util.parsePreserveAspectRatioAttribute(ve)).alignX&&("meet"===ve.meetOrSlice&&(re=ge=ge>re?re:ge),"slice"===ve.meetOrSlice&&(re=ge=ge>re?ge:re),qe=Re.width-Se*ge,ft=Re.height-ke*ge,"Mid"===ve.alignX&&(qe/=2),"Mid"===ve.alignY&&(ft/=2),"Min"===ve.alignX&&(qe=0),"Min"===ve.alignY&&(ft=0)),1===ge&&1===re&&0===ue&&0===_e&&0===me&&0===le)return Re;if((me||le)&&"#document"!==oe.parentNode.nodeName&&(Ke=" translate("+c(me)+" "+c(le)+") "),je=Ke+" matrix("+ge+" 0 0 "+re+" "+(ue*ge+qe)+" "+(_e*re+ft)+") ","svg"===oe.nodeName){for(Me=oe.ownerDocument.createElementNS(d.svgNS,"g");oe.firstChild;)Me.appendChild(oe.firstChild);oe.appendChild(Me)}else(Me=oe).removeAttribute("x"),Me.removeAttribute("y"),je=Me.getAttribute("transform")+je;return Me.setAttribute("transform",je),Re}function q(oe,Z){var re="xlink:href",_e=te(oe,Z.getAttribute(re).slice(1));if(_e&&_e.getAttribute(re)&&q(oe,_e),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(ke){_e&&!Z.hasAttribute(ke)&&_e.hasAttribute(ke)&&Z.setAttribute(ke,_e.getAttribute(ke))}),!Z.children.length)for(var Se=_e.cloneNode(!0);Se.firstChild;)Z.appendChild(Se.firstChild);Z.removeAttribute(re)}d.parseSVGDocument=function(oe,Z,ge,re){if(oe){!function fe(oe){for(var Z=V(oe,["use","svg:use"]),ge=0;Z.length&&ge<Z.length;){var re=Z[ge],ue=re.getAttribute("xlink:href")||re.getAttribute("href");if(null===ue)return;var me,le,ve,xe,_e=ue.slice(1),Se=re.getAttribute("x")||0,ke=re.getAttribute("y")||0,je=te(oe,_e).cloneNode(!0),Me=(je.getAttribute("transform")||"")+" translate("+Se+", "+ke+")",Fe=Z.length,Ne=d.svgNS;if(Q(je),/^svg$/i.test(je.nodeName)){var Be=je.ownerDocument.createElementNS(Ne,"g");for(le=0,xe=(ve=je.attributes).length;le<xe;le++)me=ve.item(le),Be.setAttributeNS(Ne,me.nodeName,me.nodeValue);for(;je.firstChild;)Be.appendChild(je.firstChild);je=Be}for(le=0,xe=(ve=re.attributes).length;le<xe;le++)"x"!==(me=ve.item(le)).nodeName&&"y"!==me.nodeName&&"xlink:href"!==me.nodeName&&"href"!==me.nodeName&&("transform"===me.nodeName?Me=me.nodeValue+" "+Me:je.setAttribute(me.nodeName,me.nodeValue));je.setAttribute("transform",Me),je.setAttribute("instantiated_by_use","1"),je.removeAttribute("id"),re.parentNode.replaceChild(je,re),Z.length===Fe&&ge++}}(oe);var _e,Se,ue=d.Object.__uid++,ke=Q(oe),je=d.util.toArray(oe.getElementsByTagName("*"));if(ke.crossOrigin=re&&re.crossOrigin,ke.svgUid=ue,0===je.length&&d.isLikelyNode){var Me=[];for(_e=0,Se=(je=oe.selectNodes('//*[name(.)!="svg"]')).length;_e<Se;_e++)Me[_e]=je[_e];je=Me}var Te=je.filter(function(me){return Q(me),d.svgValidTagNamesRegEx.test(me.nodeName.replace("svg:",""))&&!function K(oe,Z){for(;oe&&(oe=oe.parentNode);)if(oe.nodeName&&Z.test(oe.nodeName.replace("svg:",""))&&!oe.getAttribute("instantiated_by_use"))return!0;return!1}(me,d.svgInvalidAncestorsRegEx)});if(!Te||Te&&!Te.length)return void(Z&&Z([],{}));var Fe={};je.filter(function(me){return"clipPath"===me.nodeName.replace("svg:","")}).forEach(function(me){var le=me.getAttribute("id");Fe[le]=d.util.toArray(me.getElementsByTagName("*")).filter(function(ve){return d.svgValidTagNamesRegEx.test(ve.nodeName.replace("svg:",""))})}),d.gradientDefs[ue]=d.getGradientDefs(oe),d.cssRules[ue]=d.getCSSRules(oe),d.clipPaths[ue]=Fe,d.parseElements(Te,function(me,le){Z&&(Z(me,ke,le,je),delete d.gradientDefs[ue],delete d.cssRules[ue],delete d.clipPaths[ue])},g(ke),ge,re)}};var ye=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+d.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+d.reNum+"))?\\s+(.*)");m(d,{parseFontDeclaration:function(oe,Z){var ge=oe.match(ye);if(ge){var re=ge[1],ue=ge[3],_e=ge[4],Se=ge[5],ke=ge[6];re&&(Z.fontStyle=re),ue&&(Z.fontWeight=isNaN(parseFloat(ue))?ue:parseFloat(ue)),_e&&(Z.fontSize=c(_e)),ke&&(Z.fontFamily=ke),Se&&(Z.lineHeight="normal"===Se?1:Se)}},getGradientDefs:function(oe){var re,ge=V(oe,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),ue=0,_e={};for(ue=ge.length;ue--;)(re=ge[ue]).getAttribute("xlink:href")&&q(oe,re),_e[re.getAttribute("id")]=re;return _e},parseAttributes:function(oe,Z,ge){if(oe){var re,_e,Se,ue={};typeof ge>"u"&&(ge=oe.getAttribute("svgUid")),oe.parentNode&&d.svgValidParentsRegEx.test(oe.parentNode.nodeName)&&(ue=d.parseAttributes(oe.parentNode,Z,ge));var ke=Z.reduce(function(ve,xe){return(re=oe.getAttribute(xe))&&(ve[xe]=re),ve},{}),je=m(function se(oe,Z){var ge={};for(var re in d.cssRules[Z])if(de(oe,re.split(" ")))for(var ue in d.cssRules[Z][re])ge[ue]=d.cssRules[Z][re][ue];return ge}(oe,ge),d.parseStyleAttribute(oe));ke=m(ke,je),je[D]&&oe.setAttribute(D,je[D]),_e=Se=ue.fontSize||d.Text.DEFAULT_SVG_FONT_SIZE,ke[x]&&(ke[x]=_e=c(ke[x],Se));var Me,Te,Fe={};for(var me in ke)Te=k(Me=E(me),ke[me],ue,_e),Fe[Me]=Te;Fe&&Fe.font&&d.parseFontDeclaration(Fe.font,Fe);var le=m(ue,Fe);return d.svgValidParentsRegEx.test(oe.nodeName)?le:function $(oe){for(var Z in b)if(!(typeof oe[b[Z]]>"u"||""===oe[Z])){if(typeof oe[Z]>"u"){if(!d.Object.prototype[Z])continue;oe[Z]=d.Object.prototype[Z]}if(0!==oe[Z].indexOf("url(")){var ge=new d.Color(oe[Z]);oe[Z]=ge.setAlpha(u(ge.getAlpha()*oe[b[Z]],2)).toRgba()}}return oe}(le)}},parseElements:function(oe,Z,ge,re,ue){new d.ElementsParser(oe,Z,ge,re,ue).parse()},parseStyleAttribute:function(oe){var Z={},ge=oe.getAttribute("style");return ge&&("string"==typeof ge?function ne(oe,Z){var ge,re;oe.replace(/;\s*$/,"").split(";").forEach(function(ue){var _e=ue.split(":");ge=_e[0].trim().toLowerCase(),re=_e[1].trim(),Z[ge]=re})}(ge,Z):function ie(oe,Z){for(var ue in oe)typeof oe[ue]>"u"||(Z[ue.toLowerCase()]=oe[ue])}(ge,Z)),Z},parsePointsAttribute:function(oe){if(!oe)return null;var ge,re,Z=[];for(ge=0,re=(oe=(oe=oe.replace(/,/g," ").trim()).split(/\s+/)).length;ge<re;ge+=2)Z.push({x:parseFloat(oe[ge]),y:parseFloat(oe[ge+1])});return Z},getCSSRules:function(oe){var ge,re,Z=oe.getElementsByTagName("style"),ue={};for(ge=0,re=Z.length;ge<re;ge++){var Se=Z[ge].textContent;""!==(Se=Se.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&Se.split("}").filter(function(ke){return ke.trim()}).forEach(function(ke){var je=ke.split("{"),Me={},Fe=je[1].trim().split(";").filter(function(xe){return xe.trim()});for(ge=0,re=Fe.length;ge<re;ge++){var me=Fe[ge].split(":"),le=me[0].trim(),ve=me[1].trim();Me[le]=ve}(ke=je[0].trim()).split(",").forEach(function(xe){""!==(xe=xe.replace(/^svg/i,"").trim())&&(ue[xe]?d.util.object.extend(ue[xe],Me):ue[xe]=d.util.object.clone(Me))})})}return ue},loadSVGFromURL:function(oe,Z,ge,re){oe=oe.replace(/^\n\s*/,"").trim(),new d.util.request(oe,{method:"get",onComplete:function ue(_e){var Se=_e.responseXML;if(!Se||!Se.documentElement)return Z&&Z(null),!1;d.parseSVGDocument(Se.documentElement,function(ke,je,Me,Te){Z&&Z(ke,je,Me,Te)},ge,re)}})},loadSVGFromString:function(oe,Z,ge,re){var _e=(new d.window.DOMParser).parseFromString(oe.trim(),"text/xml");d.parseSVGDocument(_e.documentElement,function(Se,ke,je,Me){Z(Se,ke,je,Me)},ge,re)}})}(F),C.ElementsParser=function(y,d,m,g,u,c){this.elements=y,this.callback=d,this.options=m,this.reviver=g,this.svgUid=m&&m.svgUid||0,this.parsingOptions=u,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c},function(y){y.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},y.createObjects=function(){var d=this;this.elements.forEach(function(m,g){m.setAttribute("svgUid",d.svgUid),d.createObject(m,g)})},y.findTag=function(d){return C[C.util.string.capitalize(d.tagName.replace("svg:",""))]},y.createObject=function(d,m){var g=this.findTag(d);if(g&&g.fromElement)try{g.fromElement(d,this.createCallback(m,d),this.options)}catch(u){C.log(u)}else this.checkIfDone()},y.createCallback=function(d,m){var g=this;return function(u){var c;g.resolveGradient(u,m,"fill"),g.resolveGradient(u,m,"stroke"),u instanceof C.Image&&u._originalElement&&(c=u.parsePreserveAspectRatioAttribute(m)),u._removeTransformMatrix(c),g.resolveClipPath(u,m),g.reviver&&g.reviver(m,u),g.instances[d]=u,g.checkIfDone()}},y.extractPropertyDefinition=function(d,m,g){var u=d[m],c=this.regexUrl;if(c.test(u)){c.lastIndex=0;var a=c.exec(u)[1];return c.lastIndex=0,C[g][this.svgUid][a]}},y.resolveGradient=function(d,m,g){var u=this.extractPropertyDefinition(d,g,"gradientDefs");if(u){var c=m.getAttribute(g+"-opacity"),a=C.Gradient.fromElement(u,d,c,this.options);d.set(g,a)}},y.createClipPathCallback=function(d,m){return function(g){g._removeTransformMatrix(),g.fillRule=g.clipRule,m.push(g)}},y.resolveClipPath=function(d,m){var u,a,h,p,g=this.extractPropertyDefinition(d,"clipPath","clipPaths");if(g){h=[],a=C.util.invertTransform(d.calcTransformMatrix());for(var v=g[0].parentNode,w=m;w.parentNode&&w.getAttribute("clip-path")!==d.clipPath;)w=w.parentNode;w.parentNode.appendChild(v);for(var b=0;b<g.length;b++)this.findTag(u=g[b]).fromElement(u,this.createClipPathCallback(d,h),this.options);g=1===h.length?h[0]:new C.Group(h),p=C.util.multiplyTransformMatrices(a,g.calcTransformMatrix()),g.clipPath&&this.resolveClipPath(g,w);var f=C.util.qrDecompose(p);g.flipX=!1,g.flipY=!1,g.set("scaleX",f.scaleX),g.set("scaleY",f.scaleY),g.angle=f.angle,g.skewX=f.skewX,g.skewY=0,g.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),d.clipPath=g}else delete d.clipPath},y.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(d){return null!=d}),this.callback(this.instances,this.elements))}}(C.ElementsParser.prototype),function(y){"use strict";var d=y.fabric||(y.fabric={});function m(g,u){this.x=g,this.y=u}d.Point?d.warn("fabric.Point is already defined"):(d.Point=m,m.prototype={type:"point",constructor:m,add:function(g){return new m(this.x+g.x,this.y+g.y)},addEquals:function(g){return this.x+=g.x,this.y+=g.y,this},scalarAdd:function(g){return new m(this.x+g,this.y+g)},scalarAddEquals:function(g){return this.x+=g,this.y+=g,this},subtract:function(g){return new m(this.x-g.x,this.y-g.y)},subtractEquals:function(g){return this.x-=g.x,this.y-=g.y,this},scalarSubtract:function(g){return new m(this.x-g,this.y-g)},scalarSubtractEquals:function(g){return this.x-=g,this.y-=g,this},multiply:function(g){return new m(this.x*g,this.y*g)},multiplyEquals:function(g){return this.x*=g,this.y*=g,this},divide:function(g){return new m(this.x/g,this.y/g)},divideEquals:function(g){return this.x/=g,this.y/=g,this},eq:function(g){return this.x===g.x&&this.y===g.y},lt:function(g){return this.x<g.x&&this.y<g.y},lte:function(g){return this.x<=g.x&&this.y<=g.y},gt:function(g){return this.x>g.x&&this.y>g.y},gte:function(g){return this.x>=g.x&&this.y>=g.y},lerp:function(g,u){return typeof u>"u"&&(u=.5),u=Math.max(Math.min(1,u),0),new m(this.x+(g.x-this.x)*u,this.y+(g.y-this.y)*u)},distanceFrom:function(g){var u=this.x-g.x,c=this.y-g.y;return Math.sqrt(u*u+c*c)},midPointFrom:function(g){return this.lerp(g)},min:function(g){return new m(Math.min(this.x,g.x),Math.min(this.y,g.y))},max:function(g){return new m(Math.max(this.x,g.x),Math.max(this.y,g.y))},toString:function(){return this.x+","+this.y},setXY:function(g,u){return this.x=g,this.y=u,this},setX:function(g){return this.x=g,this},setY:function(g){return this.y=g,this},setFromPoint:function(g){return this.x=g.x,this.y=g.y,this},swap:function(g){var u=this.x,c=this.y;this.x=g.x,this.y=g.y,g.x=u,g.y=c},clone:function(){return new m(this.x,this.y)}})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={});function m(g){this.status=g,this.points=[]}d.Intersection?d.warn("fabric.Intersection is already defined"):(d.Intersection=m,d.Intersection.prototype={constructor:m,appendPoint:function(g){return this.points.push(g),this},appendPoints:function(g){return this.points=this.points.concat(g),this}},d.Intersection.intersectLineLine=function(g,u,c,a){var h,p=(a.x-c.x)*(g.y-c.y)-(a.y-c.y)*(g.x-c.x),f=(u.x-g.x)*(g.y-c.y)-(u.y-g.y)*(g.x-c.x),v=(a.y-c.y)*(u.x-g.x)-(a.x-c.x)*(u.y-g.y);if(0!==v){var w=p/v,b=f/v;0<=w&&w<=1&&0<=b&&b<=1?(h=new m("Intersection")).appendPoint(new d.Point(g.x+w*(u.x-g.x),g.y+w*(u.y-g.y))):h=new m}else h=new m(0===p||0===f?"Coincident":"Parallel");return h},d.Intersection.intersectLinePolygon=function(g,u,c){var v,w,a=new m,h=c.length;for(w=0;w<h;w++)v=m.intersectLineLine(g,u,c[w],c[(w+1)%h]),a.appendPoints(v.points);return a.points.length>0&&(a.status="Intersection"),a},d.Intersection.intersectPolygonPolygon=function(g,u){var h,c=new m,a=g.length;for(h=0;h<a;h++){var v=m.intersectLinePolygon(g[h],g[(h+1)%a],u);c.appendPoints(v.points)}return c.points.length>0&&(c.status="Intersection"),c},d.Intersection.intersectPolygonRectangle=function(g,u,c){var a=u.min(c),h=u.max(c),p=new d.Point(h.x,a.y),f=new d.Point(a.x,h.y),v=m.intersectLinePolygon(a,p,g),w=m.intersectLinePolygon(p,h,g),b=m.intersectLinePolygon(h,f,g),x=m.intersectLinePolygon(f,a,g),D=new m;return D.appendPoints(v.points),D.appendPoints(w.points),D.appendPoints(b.points),D.appendPoints(x.points),D.points.length>0&&(D.status="Intersection"),D})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={});function m(u){u?this._tryParsingColor(u):this.setSource([0,0,0,1])}function g(u,c,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?u+6*(c-u)*a:a<.5?c:a<2/3?u+(c-u)*(2/3-a)*6:u}d.Color?d.warn("fabric.Color is already defined."):(d.Color=m,d.Color.prototype={_tryParsingColor:function(u){var c;u in m.colorNameMap&&(u=m.colorNameMap[u]),"transparent"===u&&(c=[255,255,255,0]),c||(c=m.sourceFromHex(u)),c||(c=m.sourceFromRgb(u)),c||(c=m.sourceFromHsl(u)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(u,c,a){var h,p,f,v=d.util.array.max([u/=255,c/=255,a/=255]),w=d.util.array.min([u,c,a]);if(f=(v+w)/2,v===w)h=p=0;else{var b=v-w;switch(p=f>.5?b/(2-v-w):b/(v+w),v){case u:h=(c-a)/b+(c<a?6:0);break;case c:h=(a-u)/b+2;break;case a:h=(u-c)/b+4}h/=6}return[Math.round(360*h),Math.round(100*p),Math.round(100*f)]},getSource:function(){return this._source},setSource:function(u){this._source=u},toRgb:function(){var u=this.getSource();return"rgb("+u[0]+","+u[1]+","+u[2]+")"},toRgba:function(){var u=this.getSource();return"rgba("+u[0]+","+u[1]+","+u[2]+","+u[3]+")"},toHsl:function(){var u=this.getSource(),c=this._rgbToHsl(u[0],u[1],u[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var u=this.getSource(),c=this._rgbToHsl(u[0],u[1],u[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+u[3]+")"},toHex:function(){var c,a,h,u=this.getSource();return c=1===(c=u[0].toString(16)).length?"0"+c:c,a=1===(a=u[1].toString(16)).length?"0"+a:a,h=1===(h=u[2].toString(16)).length?"0"+h:h,c.toUpperCase()+a.toUpperCase()+h.toUpperCase()},toHexa:function(){var c,u=this.getSource();return c=1===(c=(c=Math.round(255*u[3])).toString(16)).length?"0"+c:c,this.toHex()+c.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(u){var c=this.getSource();return c[3]=u,this.setSource(c),this},toGrayscale:function(){var u=this.getSource(),c=parseInt((.3*u[0]+.59*u[1]+.11*u[2]).toFixed(0),10);return this.setSource([c,c,c,u[3]]),this},toBlackWhite:function(u){var c=this.getSource(),a=(.3*c[0]+.59*c[1]+.11*c[2]).toFixed(0),h=c[3];return u=u||127,a=Number(a)<Number(u)?0:255,this.setSource([a,a,a,h]),this},overlayWith:function(u){u instanceof m||(u=new m(u));var v,c=[],a=this.getAlpha(),p=this.getSource(),f=u.getSource();for(v=0;v<3;v++)c.push(Math.round(.5*p[v]+.5*f[v]));return c[3]=a,this.setSource(c),this}},d.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,d.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,d.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,d.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},d.Color.fromRgb=function(u){return m.fromSource(m.sourceFromRgb(u))},d.Color.sourceFromRgb=function(u){var c=u.match(m.reRGBa);if(c){var a=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),h=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),p=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(a,10),parseInt(h,10),parseInt(p,10),c[4]?parseFloat(c[4]):1]}},d.Color.fromRgba=m.fromRgb,d.Color.fromHsl=function(u){return m.fromSource(m.sourceFromHsl(u))},d.Color.sourceFromHsl=function(u){var c=u.match(m.reHSLa);if(c){var f,v,w,a=(parseFloat(c[1])%360+360)%360/360,h=parseFloat(c[2])/(/%$/.test(c[2])?100:1),p=parseFloat(c[3])/(/%$/.test(c[3])?100:1);if(0===h)f=v=w=p;else{var b=p<=.5?p*(h+1):p+h-p*h,x=2*p-b;f=g(x,b,a+1/3),v=g(x,b,a),w=g(x,b,a-1/3)}return[Math.round(255*f),Math.round(255*v),Math.round(255*w),c[4]?parseFloat(c[4]):1]}},d.Color.fromHsla=m.fromHsl,d.Color.fromHex=function(u){return m.fromSource(m.sourceFromHex(u))},d.Color.sourceFromHex=function(u){if(u.match(m.reHex)){var c=u.slice(u.indexOf("#")+1),a=3===c.length||4===c.length,h=8===c.length||4===c.length,p=a?c.charAt(0)+c.charAt(0):c.substring(0,2),f=a?c.charAt(1)+c.charAt(1):c.substring(2,4),v=a?c.charAt(2)+c.charAt(2):c.substring(4,6),w=h?a?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(p,16),parseInt(f,16),parseInt(v,16),parseFloat((parseInt(w,16)/255).toFixed(2))]}},d.Color.fromSource=function(u){var c=new m;return c.setSource(u),c})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=["e","se","s","sw","w","nw","n","ne","e"],g=["ns","nesw","ew","nwse"],u={},c="left",a="top",h="right",p="bottom",f="center",v={top:p,bottom:a,left:h,right:c,center:f},w=d.util.radiansToDegrees,b=Math.sign||function(Me){return(Me>0)-(Me<0)||+Me};function x(Me,Te){var Fe=Me.angle+w(Math.atan2(Te.y,Te.x))+360;return Math.round(Fe%360/45)}function D(Me,Te){var Fe=Te.transform.target,me=Fe.canvas,le=d.util.object.clone(Te);le.target=Fe,me&&me.fire("object:"+Me,le),Fe.fire(Me,Te)}function E(Me,Te){var Fe=Te.canvas,le=Me[Fe.uniScaleKey];return Fe.uniformScaling&&!le||!Fe.uniformScaling&&le}function k(Me){return Me.originX===f&&Me.originY===f}function L(Me,Te,Fe){var me=Me.lockScalingX,le=Me.lockScalingY;return!!(me&&le||!Te&&(me||le)&&Fe||me&&"x"===Te||le&&"y"===Te)}function de(Me,Te,Fe,me){return{e:Me,transform:Te,pointer:{x:Fe,y:me}}}function P(Me){return function(Te,Fe,me,le){var ve=Fe.target,xe=ve.getCenterPoint(),Ne=ve.translateToOriginPoint(xe,Fe.originX,Fe.originY),Be=Me(Te,Fe,me,le);return ve.setPositionByOrigin(Ne,Fe.originX,Fe.originY),Be}}function J(Me,Te){return function(Fe,me,le,ve){var xe=Te(Fe,me,le,ve);return xe&&D(Me,de(Fe,me,le,ve)),xe}}function te(Me,Te,Fe,me,le){var ve=Me.target,xe=ve.controls[Me.corner],Ne=ve.canvas.getZoom(),Be=ve.padding/Ne,Re=ve.toLocalPoint(new d.Point(me,le),Te,Fe);return Re.x>=Be&&(Re.x-=Be),Re.x<=-Be&&(Re.x+=Be),Re.y>=Be&&(Re.y-=Be),Re.y<=Be&&(Re.y+=Be),Re.x-=xe.offsetX,Re.y-=xe.offsetY,Re}function fe(Me){return Me.flipX!==Me.flipY}function R(Me,Te,Fe,me,le){if(0!==Me[Te]){var ve=Me._getTransformedDimensions()[me];Me.set(Fe,le/ve*Me[Fe])}}function Q(Me,Te,Fe,me){var Re,le=Te.target,ve=le._getTransformedDimensions(0,le.skewY),xe=te(Te,Te.originX,Te.originY,Fe,me),Ne=Math.abs(2*xe.x)-ve.x,Be=le.skewX;Ne<2?Re=0:(Re=w(Math.atan2(Ne/le.scaleX,ve.y/le.scaleY)),Te.originX===c&&Te.originY===p&&(Re=-Re),Te.originX===h&&Te.originY===a&&(Re=-Re),fe(le)&&(Re=-Re));var Ke=Be!==Re;if(Ke){var qe=le._getTransformedDimensions().y;le.set("skewX",Re),R(le,"skewY","scaleY","y",qe)}return Ke}function K(Me,Te,Fe,me){var Re,le=Te.target,ve=le._getTransformedDimensions(le.skewX,0),xe=te(Te,Te.originX,Te.originY,Fe,me),Ne=Math.abs(2*xe.y)-ve.y,Be=le.skewY;Ne<2?Re=0:(Re=w(Math.atan2(Ne/le.scaleY,ve.x/le.scaleX)),Te.originX===c&&Te.originY===p&&(Re=-Re),Te.originX===h&&Te.originY===a&&(Re=-Re),fe(le)&&(Re=-Re));var Ke=Be!==Re;if(Ke){var qe=le._getTransformedDimensions().x;le.set("skewY",Re),R(le,"skewX","scaleX","x",qe)}return Ke}function Z(Me,Te,Fe,me,le){var Re,Ke,qe,ft,hi,Nt,ve=Te.target,xe=ve.lockScalingX,Ne=ve.lockScalingY,Be=(le=le||{}).by,Ft=E(Me,ve),kt=L(ve,Be,Ft),Ti=Te.gestureScale;if(kt)return!1;if(Ti)Ke=Te.scaleX*Ti,qe=Te.scaleY*Ti;else{if(Re=te(Te,Te.originX,Te.originY,Fe,me),hi="y"!==Be?b(Re.x):1,Nt="x"!==Be?b(Re.y):1,Te.signX||(Te.signX=hi),Te.signY||(Te.signY=Nt),ve.lockScalingFlip&&(Te.signX!==hi||Te.signY!==Nt))return!1;if(ft=ve._getTransformedDimensions(),Ft&&!Be){var Zn=Math.abs(Re.x)+Math.abs(Re.y),$t=Te.original,La=Zn/(Math.abs(ft.x*$t.scaleX/ve.scaleX)+Math.abs(ft.y*$t.scaleY/ve.scaleY));Ke=$t.scaleX*La,qe=$t.scaleY*La}else Ke=Math.abs(Re.x*ve.scaleX/ft.x),qe=Math.abs(Re.y*ve.scaleY/ft.y);k(Te)&&(Ke*=2,qe*=2),Te.signX!==hi&&"y"!==Be&&(Te.originX=v[Te.originX],Ke*=-1,Te.signX=hi),Te.signY!==Nt&&"x"!==Be&&(Te.originY=v[Te.originY],qe*=-1,Te.signY=Nt)}var dc=ve.scaleX,uc=ve.scaleY;return Be?("x"===Be&&ve.set("scaleX",Ke),"y"===Be&&ve.set("scaleY",qe)):(!xe&&ve.set("scaleX",Ke),!Ne&&ve.set("scaleY",qe)),dc!==ve.scaleX||uc!==ve.scaleY}u.scaleCursorStyleHandler=function $(Me,Te,Fe){var le=E(Me,Fe),ve="";if(0!==Te.x&&0===Te.y?ve="x":0===Te.x&&0!==Te.y&&(ve="y"),L(Fe,ve,le))return"not-allowed";var xe=x(Fe,Te);return m[xe]+"-resize"},u.skewCursorStyleHandler=function V(Me,Te,Fe){if(0!==Te.x&&Fe.lockSkewingY||0!==Te.y&&Fe.lockSkewingX)return"not-allowed";var le=x(Fe,Te)%4;return g[le]+"-resize"},u.scaleSkewCursorStyleHandler=function ne(Me,Te,Fe){return Me[Fe.canvas.altActionKey]?u.skewCursorStyleHandler(Me,Te,Fe):u.scaleCursorStyleHandler(Me,Te,Fe)},u.rotationWithSnapping=J("rotating",P(function oe(Me,Te,Fe,me){var le=Te,ve=le.target,xe=ve.translateToOriginPoint(ve.getCenterPoint(),le.originX,le.originY);if(ve.lockRotation)return!1;var Ke,Ne=Math.atan2(le.ey-xe.y,le.ex-xe.x),Be=Math.atan2(me-xe.y,Fe-xe.x),Re=w(Be-Ne+le.theta);if(ve.snapAngle>0){var qe=ve.snapAngle,ft=ve.snapThreshold||qe,Ft=Math.ceil(Re/qe)*qe,kt=Math.floor(Re/qe)*qe;Math.abs(Re-kt)<ft?Re=kt:Math.abs(Re-Ft)<ft&&(Re=Ft)}return Re<0&&(Re=360+Re),Ke=ve.angle!==(Re%=360),ve.angle=Re,Ke})),u.scalingEqually=J("scaling",P(function ge(Me,Te,Fe,me){return Z(Me,Te,Fe,me)})),u.scalingX=J("scaling",P(function re(Me,Te,Fe,me){return Z(Me,Te,Fe,me,{by:"x"})})),u.scalingY=J("scaling",P(function ue(Me,Te,Fe,me){return Z(Me,Te,Fe,me,{by:"y"})})),u.scalingYOrSkewingX=function _e(Me,Te,Fe,me){return Me[Te.target.canvas.altActionKey]?u.skewHandlerX(Me,Te,Fe,me):u.scalingY(Me,Te,Fe,me)},u.scalingXOrSkewingY=function Se(Me,Te,Fe,me){return Me[Te.target.canvas.altActionKey]?u.skewHandlerY(Me,Te,Fe,me):u.scalingX(Me,Te,Fe,me)},u.changeWidth=J("resizing",P(function ke(Me,Te,Fe,me){var le=Te.target,ve=te(Te,Te.originX,Te.originY,Fe,me),xe=le.strokeWidth/(le.strokeUniform?le.scaleX:1),Ne=k(Te)?2:1,Be=le.width,Re=Math.abs(ve.x*Ne/le.scaleX)-xe;return le.set("width",Math.max(Re,0)),Be!==Re})),u.skewHandlerX=function q(Me,Te,Fe,me){var xe,le=Te.target,ve=le.skewX,Ne=Te.originY;return!le.lockSkewingX&&(0===ve?xe=te(Te,f,f,Fe,me).x>0?c:h:(ve>0&&(xe=Ne===a?c:h),ve<0&&(xe=Ne===a?h:c),fe(le)&&(xe=xe===c?h:c)),Te.originX=xe,J("skewing",P(Q))(Me,Te,Fe,me))},u.skewHandlerY=function ye(Me,Te,Fe,me){var xe,le=Te.target,ve=le.skewY,Ne=Te.originX;return!le.lockSkewingY&&(0===ve?xe=te(Te,f,f,Fe,me).y>0?a:p:(ve>0&&(xe=Ne===c?a:p),ve<0&&(xe=Ne===c?p:a),fe(le)&&(xe=xe===a?p:a)),Te.originY=xe,J("skewing",P(K))(Me,Te,Fe,me))},u.dragHandler=function je(Me,Te,Fe,me){var le=Te.target,ve=Fe-Te.offsetX,xe=me-Te.offsetY,Ne=!le.get("lockMovementX")&&le.left!==ve,Be=!le.get("lockMovementY")&&le.top!==xe;return Ne&&le.set("left",ve),Be&&le.set("top",xe),(Ne||Be)&&D("moving",de(Me,Te,Fe,me)),Ne||Be},u.scaleOrSkewActionName=function ie(Me,Te,Fe){var me=Me[Fe.canvas.altActionKey];return 0===Te.x?me?"skewX":"scaleY":0===Te.y?me?"skewY":"scaleX":void 0},u.rotationStyleHandler=function se(Me,Te,Fe){return Fe.lockRotation?"not-allowed":Te.cursorStyle},u.fireEvent=D,u.wrapWithFixedAnchor=P,u.wrapWithFireEvent=J,u.getLocalPoint=te,d.controlsUtils=u}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.degreesToRadians,g=d.controlsUtils;g.renderCircleControl=function u(a,h,p,f,v){f=f||{};var $,w=this.sizeX||f.cornerSize||v.cornerSize,b=this.sizeY||f.cornerSize||v.cornerSize,x=typeof f.transparentCorners<"u"?f.transparentCorners:v.transparentCorners,D=x?"stroke":"fill",E=!x&&(f.cornerStrokeColor||v.cornerStrokeColor),k=h,L=p;a.save(),a.fillStyle=f.cornerColor||v.cornerColor,a.strokeStyle=f.cornerStrokeColor||v.cornerStrokeColor,w>b?($=w,a.scale(1,b/w),L=p*w/b):b>w?($=b,a.scale(w/b,1),k=h*b/w):$=w,a.lineWidth=1,a.beginPath(),a.arc(k,L,$/2,0,2*Math.PI,!1),a[D](),E&&a.stroke(),a.restore()},g.renderSquareControl=function c(a,h,p,f,v){f=f||{};var w=this.sizeX||f.cornerSize||v.cornerSize,b=this.sizeY||f.cornerSize||v.cornerSize,x=typeof f.transparentCorners<"u"?f.transparentCorners:v.transparentCorners,D=x?"stroke":"fill",E=!x&&(f.cornerStrokeColor||v.cornerStrokeColor),k=w/2,L=b/2;a.save(),a.fillStyle=f.cornerColor||v.cornerColor,a.strokeStyle=f.cornerStrokeColor||v.cornerStrokeColor,a.lineWidth=1,a.translate(h,p),a.rotate(m(v.angle)),a[D+"Rect"](-k,-L,w,b),E&&a.strokeRect(-k,-L,w,b),a.restore()}}(F),function(y){"use strict";var d=y.fabric||(y.fabric={});d.Control=function m(g){for(var u in g)this[u]=g[u]},d.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(g,u){return u.cursorStyle},getActionName:function(g,u){return u.actionName},getVisibility:function(g,u){var c=g._controlsVisibility;return c&&typeof c[u]<"u"?c[u]:this.visible},setVisibility:function(g){this.visible=g},positionHandler:function(g,u){return d.util.transformPoint({x:this.x*g.x+this.offsetX,y:this.y*g.y+this.offsetY},u)},calcCornerCoords:function(g,u,c,a,h){var p,f,v,w,b=h?this.touchSizeX:this.sizeX,x=h?this.touchSizeY:this.sizeY;if(b&&x&&b!==x){var D=Math.atan2(x,b),E=Math.sqrt(b*b+x*x)/2,k=D-d.util.degreesToRadians(g),L=Math.PI/2-D-d.util.degreesToRadians(g);p=E*d.util.cos(k),f=E*d.util.sin(k),v=E*d.util.cos(L),w=E*d.util.sin(L)}else E=.7071067812*(b&&x?b:u),k=d.util.degreesToRadians(45-g),p=v=E*d.util.cos(k),f=w=E*d.util.sin(k);return{tl:{x:c-w,y:a-v},tr:{x:c+p,y:a-f},bl:{x:c-p,y:a+f},br:{x:c+w,y:a+v}}},render:function(g,u,c,a,h){"circle"===((a=a||{}).cornerStyle||h.cornerStyle)?d.controlsUtils.renderCircleControl.call(this,g,u,c,a,h):d.controlsUtils.renderSquareControl.call(this,g,u,c,a,h)}}}(F),function(){function y(c,a){var f,v,w,b,h=c.getAttribute("style"),p=c.getAttribute("offset")||0;if(p=(p=parseFloat(p)/(/%$/.test(p)?100:1))<0?0:p>1?1:p,h){var x=h.split(/\s*;\s*/);for(""===x[x.length-1]&&x.pop(),b=x.length;b--;){var D=x[b].split(/\s*:\s*/),E=D[0].trim(),k=D[1].trim();"stop-color"===E?f=k:"stop-opacity"===E&&(w=k)}}return f||(f=c.getAttribute("stop-color")||"rgb(0,0,0)"),w||(w=c.getAttribute("stop-opacity")),v=(f=new C.Color(f)).getAlpha(),w=isNaN(parseFloat(w))?1:parseFloat(w),w*=v*a,{offset:p,color:f.toRgb(),opacity:w}}var g=C.util.object.clone;C.Gradient=C.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(c){c||(c={}),c.coords||(c.coords={});var a,h=this;Object.keys(c).forEach(function(p){h[p]=c[p]}),this.id?this.id+="_"+C.Object.__uid++:this.id=C.Object.__uid++,a={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},"radial"===this.type&&(a.r1=c.coords.r1||0,a.r2=c.coords.r2||0),this.coords=a,this.colorStops=c.colorStops.slice()},addColorStop:function(c){for(var a in c){var h=new C.Color(c[a]);this.colorStops.push({offset:parseFloat(a),color:h.toRgb(),opacity:h.getAlpha()})}return this},toObject:function(c){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return C.util.populateWithProperties(this,a,c),a},toSVG:function(c,v){var p,f,w,b,h=g(this.coords,!0),x=(v=v||{},g(this.colorStops,!0)),D=h.r1>h.r2,E=this.gradientTransform?this.gradientTransform.concat():C.iMatrix.concat(),k=-this.offsetX,L=-this.offsetY,$=!!v.additionalTransform,V="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(x.sort(function(P,J){return P.offset-J.offset}),"objectBoundingBox"===V?(k/=c.width,L/=c.height):(k+=c.width/2,L+=c.height/2),"path"===c.type&&"percentage"!==this.gradientUnits&&(k-=c.pathOffset.x,L-=c.pathOffset.y),E[4]-=k,E[5]-=L,b='id="SVGID_'+this.id+'" gradientUnits="'+V+'"',b+=' gradientTransform="'+($?v.additionalTransform+" ":"")+C.util.matrixToSVG(E)+'" ',"linear"===this.type?w=["<linearGradient ",b,' x1="',h.x1,'" y1="',h.y1,'" x2="',h.x2,'" y2="',h.y2,'">\n']:"radial"===this.type&&(w=["<radialGradient ",b,' cx="',D?h.x1:h.x2,'" cy="',D?h.y1:h.y2,'" r="',D?h.r1:h.r2,'" fx="',D?h.x2:h.x1,'" fy="',D?h.y2:h.y1,'">\n']),"radial"===this.type){if(D)for((x=x.concat()).reverse(),p=0,f=x.length;p<f;p++)x[p].offset=1-x[p].offset;var ne=Math.min(h.r1,h.r2);if(ne>0){var se=ne/Math.max(h.r1,h.r2);for(p=0,f=x.length;p<f;p++)x[p].offset+=se*(1-x[p].offset)}}for(p=0,f=x.length;p<f;p++){var de=x[p];w.push("<stop ",'offset="',100*de.offset+"%",'" style="stop-color:',de.color,typeof de.opacity<"u"?";stop-opacity: "+de.opacity:";",'"/>\n')}return w.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),w.join("")},toLive:function(c){var a,p,f,h=C.util.object.clone(this.coords);if(this.type){for("linear"===this.type?a=c.createLinearGradient(h.x1,h.y1,h.x2,h.y2):"radial"===this.type&&(a=c.createRadialGradient(h.x1,h.y1,h.r1,h.x2,h.y2,h.r2)),p=0,f=this.colorStops.length;p<f;p++){var v=this.colorStops[p].color,w=this.colorStops[p].opacity,b=this.colorStops[p].offset;typeof w<"u"&&(v=new C.Color(v).setAlpha(w).toRgba()),a.addColorStop(b,v)}return a}}}),C.util.object.extend(C.Gradient,{fromElement:function(c,a,h,p){var f=parseFloat(h)/(/%$/.test(h)?100:1);f=f<0?0:f>1?1:f,isNaN(f)&&(f=1);var w,E,k,V,v=c.getElementsByTagName("stop"),b="userSpaceOnUse"===c.getAttribute("gradientUnits")?"pixels":"percentage",x=c.getAttribute("gradientTransform")||"",D=[],L=0,$=0;for("linearGradient"===c.nodeName||"LINEARGRADIENT"===c.nodeName?(w="linear",E=function d(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}(c)):(w="radial",E=function m(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}(c)),k=v.length;k--;)D.push(y(v[k],f));return V=C.parseTransformAttribute(x),function u(c,a,h,p){var f,v;Object.keys(a).forEach(function(w){"Infinity"===(f=a[w])?v=1:"-Infinity"===f?v=0:(v=parseFloat(a[w],10),"string"==typeof f&&/^(\d+\.\d+)%|(\d+)%$/.test(f)&&(v*=.01,"pixels"===p&&(("x1"===w||"x2"===w||"r2"===w)&&(v*=h.viewBoxWidth||h.width),("y1"===w||"y2"===w)&&(v*=h.viewBoxHeight||h.height)))),a[w]=v})}(0,E,p,b),"pixels"===b&&(L=-a.left,$=-a.top),new C.Gradient({id:c.getAttribute("id"),type:w,coords:E,colorStops:D,gradientUnits:b,gradientTransform:V,offsetX:L,offsetY:$})}})}(),function(){"use strict";var y=C.util.toFixed;C.Pattern=C.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(d,m){if(d||(d={}),this.id=C.Object.__uid++,this.setOptions(d),!d.source||d.source&&"string"!=typeof d.source)m&&m(this);else{var g=this;this.source=C.util.createImage(),C.util.loadImage(d.source,function(u,c){g.source=u,m&&m(g,c)},null,this.crossOrigin)}},toObject:function(d){var g,u,m=C.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?g=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(g=this.source.toDataURL()),u={type:"pattern",source:g,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:y(this.offsetX,m),offsetY:y(this.offsetY,m),patternTransform:this.patternTransform?this.patternTransform.concat():null},C.util.populateWithProperties(this,u,d),u},toSVG:function(d){var m="function"==typeof this.source?this.source():this.source,g=m.width/d.width,u=m.height/d.height,c=this.offsetX/d.width,a=this.offsetY/d.height,h="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(u=1,a&&(u+=Math.abs(a))),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(g=1,c&&(g+=Math.abs(c))),m.src?h=m.src:m.toDataURL&&(h=m.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+a+'" width="'+g+'" height="'+u+'">\n<image x="0" y="0" width="'+m.width+'" height="'+m.height+'" xlink:href="'+h+'"></image>\n</pattern>\n'},setOptions:function(d){for(var m in d)this[m]=d[m]},toLive:function(d){var m=this.source;return!m||typeof m.src<"u"&&(!m.complete||0===m.naturalWidth||0===m.naturalHeight)?"":d.createPattern(m,this.repeat)}})}(),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.toFixed;d.Shadow?d.warn("fabric.Shadow is already defined."):(d.Shadow=d.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(g){for(var u in"string"==typeof g&&(g=this._parseShadow(g)),g)this[u]=g[u];this.id=d.Object.__uid++},_parseShadow:function(g){var u=g.trim(),c=d.Shadow.reOffsetsAndBlur.exec(u)||[];return{color:(u.replace(d.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(c[1],10)||0,offsetY:parseFloat(c[2],10)||0,blur:parseFloat(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(g){var u=40,c=40,a=d.Object.NUM_FRACTION_DIGITS,h=d.util.rotateVector({x:this.offsetX,y:this.offsetY},d.util.degreesToRadians(-g.angle)),f=new d.Color(this.color);return g.width&&g.height&&(u=100*m((Math.abs(h.x)+this.blur)/g.width,a)+20,c=100*m((Math.abs(h.y)+this.blur)/g.height,a)+20),g.flipX&&(h.x*=-1),g.flipY&&(h.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+u+'%" width="'+(100+2*u)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+m(this.blur?this.blur/2:0,a)+'"></feGaussianBlur>\n\t<feOffset dx="'+m(h.x,a)+'" dy="'+m(h.y,a)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+f.toRgb()+'" flood-opacity="'+f.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var g={},u=d.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(c){this[c]!==u[c]&&(g[c]=this[c])},this),g}}),d.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(F),function(){"use strict";if(C.StaticCanvas)C.warn("fabric.StaticCanvas is already defined.");else{var y=C.util.object.extend,d=C.util.getElementOffset,m=C.util.removeFromArray,g=C.util.toFixed,u=C.util.transformPoint,c=C.util.invertTransform,a=C.util.getNodeCanvas,h=C.util.createCanvasElement,p=new Error("Could not initialize `canvas` element");C.StaticCanvas=C.util.createClass(C.CommonMethods,{initialize:function(f,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:C.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(f,v){var w=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(f),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,w),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,w),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,w),v.overlayColor&&this.setOverlayColor(v.overlayColor,w),this.calcOffset()},_isRetinaScaling:function(){return C.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,C.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var f=C.devicePixelRatio;this.__initRetinaScaling(f,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(f,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(f,v,w){v.setAttribute("width",this.width*f),v.setAttribute("height",this.height*f),w.scale(f,f)},calcOffset:function(){return this._offset=d(this.lowerCanvasEl),this},setOverlayImage:function(f,v,w){return this.__setBgOverlayImage("overlayImage",f,v,w)},setBackgroundImage:function(f,v,w){return this.__setBgOverlayImage("backgroundImage",f,v,w)},setOverlayColor:function(f,v){return this.__setBgOverlayColor("overlayColor",f,v)},setBackgroundColor:function(f,v){return this.__setBgOverlayColor("backgroundColor",f,v)},__setBgOverlayImage:function(f,v,w,b){return"string"==typeof v?C.util.loadImage(v,function(x,D){if(x){var E=new C.Image(x,b);this[f]=E,E.canvas=this}w&&w(x,D)},this,b&&b.crossOrigin):(b&&v.setOptions(b),this[f]=v,v&&(v.canvas=this),w&&w(v,!1)),this},__setBgOverlayColor:function(f,v,w){return this[f]=v,this._initGradient(v,f),this._initPattern(v,f,w),this},_createCanvasElement:function(){var f=h();if(!f||(f.style||(f.style={}),typeof f.getContext>"u"))throw p;return f},_initOptions:function(f){var v=this.lowerCanvasEl;this._setOptions(f),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(f){this.lowerCanvasEl=f&&f.getContext?f:C.util.getById(f)||this._createCanvasElement(),C.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(f,v){return this.setDimensions({width:f},v)},setHeight:function(f,v){return this.setDimensions({height:f},v)},setDimensions:function(f,v){var w;for(var b in v=v||{},f)w=f[b],v.cssOnly||(this._setBackstoreDimension(b,f[b]),w+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(b,w);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(f,v){return this.lowerCanvasEl[f]=v,this.upperCanvasEl&&(this.upperCanvasEl[f]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[f]=v),this[f]=v,this},_setCssDimension:function(f,v){return this.lowerCanvasEl.style[f]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[f]=v),this.wrapperEl&&(this.wrapperEl.style[f]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(f){var x,D,E,v=this._activeObject,w=this.backgroundImage,b=this.overlayImage;for(this.viewportTransform=f,D=0,E=this._objects.length;D<E;D++)(x=this._objects[D]).group||x.setCoords(!0);return v&&v.setCoords(),w&&w.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(f,v){var w=f,b=this.viewportTransform.slice(0);f=u(f,c(this.viewportTransform)),b[0]=v,b[3]=v;var x=u(f,b);return b[4]+=w.x-x.x,b[5]+=w.y-x.y,this.setViewportTransform(b)},setZoom:function(f){return this.zoomToPoint(new C.Point(0,0),f),this},absolutePan:function(f){var v=this.viewportTransform.slice(0);return v[4]=-f.x,v[5]=-f.y,this.setViewportTransform(v)},relativePan:function(f){return this.absolutePan(new C.Point(-f.x-this.viewportTransform[4],-f.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(f){this.stateful&&f.setupState(),f._set("canvas",this),f.setCoords(),this.fire("object:added",{target:f}),f.fire("added")},_onObjectRemoved:function(f){this.fire("object:removed",{target:f}),f.fire("removed"),delete f.canvas},clearContext:function(f){return f.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=C.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var f={},v=this.width,w=this.height,b=c(this.viewportTransform);return f.tl=u({x:0,y:0},b),f.br=u({x:v,y:w},b),f.tr=new C.Point(f.br.x,f.tl.y),f.bl=new C.Point(f.tl.x,f.br.y),this.vptCoords=f,f},cancelRequestedRender:function(){this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(f,v){var w=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(f),C.util.setImageSmoothing(f,this.imageSmoothingEnabled),this.fire("before:render",{ctx:f}),this._renderBackground(f),f.save(),f.transform(w[0],w[1],w[2],w[3],w[4],w[5]),this._renderObjects(f,v),f.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(f)),this._renderOverlay(f),this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),this.fire("after:render",{ctx:f})},drawClipPathOnCanvas:function(f){var v=this.viewportTransform,w=this.clipPath;f.save(),f.transform(v[0],v[1],v[2],v[3],v[4],v[5]),f.globalCompositeOperation="destination-in",w.transform(f),f.scale(1/w.zoomX,1/w.zoomY),f.drawImage(w._cacheCanvas,-w.cacheTranslationX,-w.cacheTranslationY),f.restore()},_renderObjects:function(f,v){var w,b;for(w=0,b=v.length;w<b;++w)v[w]&&v[w].render(f)},_renderBackgroundOrOverlay:function(f,v){var w=this[v+"Color"],b=this[v+"Image"],x=this.viewportTransform,D=this[v+"Vpt"];if(w||b){if(w){f.save(),f.beginPath(),f.moveTo(0,0),f.lineTo(this.width,0),f.lineTo(this.width,this.height),f.lineTo(0,this.height),f.closePath(),f.fillStyle=w.toLive?w.toLive(f,this):w,D&&f.transform(x[0],x[1],x[2],x[3],x[4],x[5]),f.transform(1,0,0,1,w.offsetX||0,w.offsetY||0);var E=w.gradientTransform||w.patternTransform;E&&f.transform(E[0],E[1],E[2],E[3],E[4],E[5]),f.fill(),f.restore()}b&&(f.save(),D&&f.transform(x[0],x[1],x[2],x[3],x[4],x[5]),b.render(f),f.restore())}},_renderBackground:function(f){this._renderBackgroundOrOverlay(f,"background")},_renderOverlay:function(f){this._renderBackgroundOrOverlay(f,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new C.Point(this.width/2,this.height/2)},centerObjectH:function(f){return this._centerObject(f,new C.Point(this.getCenterPoint().x,f.getCenterPoint().y))},centerObjectV:function(f){return this._centerObject(f,new C.Point(f.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(f){var v=this.getCenterPoint();return this._centerObject(f,v)},viewportCenterObject:function(f){var v=this.getVpCenter();return this._centerObject(f,v)},viewportCenterObjectH:function(f){var v=this.getVpCenter();return this._centerObject(f,new C.Point(v.x,f.getCenterPoint().y)),this},viewportCenterObjectV:function(f){var v=this.getVpCenter();return this._centerObject(f,new C.Point(f.getCenterPoint().x,v.y))},getVpCenter:function(){var f=this.getCenterPoint(),v=c(this.viewportTransform);return u(f,v)},_centerObject:function(f,v){return f.setPositionByOrigin(v,"center","center"),f.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(f){return this.toDatalessObject(f)},toObject:function(f){return this._toObjectMethod("toObject",f)},toDatalessObject:function(f){return this._toObjectMethod("toDatalessObject",f)},_toObjectMethod:function(f,v){var w=this.clipPath,b={version:C.version,objects:this._toObjects(f,v)};return w&&!w.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,f,v)),y(b,this.__serializeBgOverlay(f,v)),C.util.populateWithProperties(this,b,v),b},_toObjects:function(f,v){return this._objects.filter(function(w){return!w.excludeFromExport}).map(function(w){return this._toObject(w,f,v)},this)},_toObject:function(f,v,w){var b;this.includeDefaultValues||(b=f.includeDefaultValues,f.includeDefaultValues=!1);var x=f[v](w);return this.includeDefaultValues||(f.includeDefaultValues=b),x},__serializeBgOverlay:function(f,v){var w={},b=this.backgroundImage,x=this.overlayImage,D=this.backgroundColor,E=this.overlayColor;return D&&D.toObject?D.excludeFromExport||(w.background=D.toObject(v)):D&&(w.background=D),E&&E.toObject?E.excludeFromExport||(w.overlay=E.toObject(v)):E&&(w.overlay=E),b&&!b.excludeFromExport&&(w.backgroundImage=this._toObject(b,f,v)),x&&!x.excludeFromExport&&(w.overlayImage=this._toObject(x,f,v)),w},svgViewportTransformation:!0,toSVG:function(f,v){f||(f={}),f.reviver=v;var w=[];return this._setSVGPreamble(w,f),this._setSVGHeader(w,f),this.clipPath&&w.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(w,"background"),this._setSVGBgOverlayImage(w,"backgroundImage",v),this._setSVGObjects(w,v),this.clipPath&&w.push("</g>\n"),this._setSVGBgOverlayColor(w,"overlay"),this._setSVGBgOverlayImage(w,"overlayImage",v),w.push("</svg>"),w.join("")},_setSVGPreamble:function(f,v){v.suppressPreamble||f.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(f,v){var x,w=v.width||this.width,b=v.height||this.height,D='viewBox="0 0 '+this.width+" "+this.height+'" ',E=C.Object.NUM_FRACTION_DIGITS;v.viewBox?D='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(D='viewBox="'+g(-(x=this.viewportTransform)[4]/x[0],E)+" "+g(-x[5]/x[3],E)+" "+g(this.width/x[0],E)+" "+g(this.height/x[3],E)+'" '),f.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',w,'" ','height="',b,'" ',D,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",C.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),"</defs>\n")},createSVGClipPathMarkup:function(f){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+C.Object.__uid++,'<clipPath id="'+v.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(f.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var f=this;return["background","overlay"].map(function(w){var b=f[w+"Color"];if(b&&b.toLive){var x=f[w+"Vpt"],D=f.viewportTransform;return b.toSVG({width:f.width/(x?D[0]:1),height:f.height/(x?D[3]:1)},{additionalTransform:x?C.util.matrixToSVG(D):""})}}).join("")},createSVGFontFacesMarkup:function(){var w,b,x,D,E,L,$,V,f="",v={},ne=C.fontPaths,ie=[];for(this._objects.forEach(function de(P){ie.push(P),P._objects&&P._objects.forEach(de)}),$=0,V=ie.length;$<V;$++)if(b=(w=ie[$]).fontFamily,-1!==w.type.indexOf("text")&&!v[b]&&ne[b]&&(v[b]=!0,w.styles))for(E in x=w.styles)for(L in D=x[E])!v[b=D[L].fontFamily]&&ne[b]&&(v[b]=!0);for(var se in v)f+=["\t\t@font-face {\n","\t\t\tfont-family: '",se,"';\n","\t\t\tsrc: url('",ne[se],"');\n","\t\t}\n"].join("");return f&&(f=['\t<style type="text/css">',"<![CDATA[\n",f,"]]>","</style>\n"].join("")),f},_setSVGObjects:function(f,v){var w,b,x,D=this._objects;for(b=0,x=D.length;b<x;b++)!(w=D[b]).excludeFromExport&&this._setSVGObject(f,w,v)},_setSVGObject:function(f,v,w){f.push(v.toSVG(w))},_setSVGBgOverlayImage:function(f,v,w){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&f.push(this[v].toSVG(w))},_setSVGBgOverlayColor:function(f,v){var w=this[v+"Color"],x=this.width,D=this.height;if(w)if(w.toLive){var E=w.repeat,k=C.util.invertTransform(this.viewportTransform),$=this[v+"Vpt"]?C.util.matrixToSVG(k):"";f.push('<rect transform="'+$+" translate(",x/2,",",D/2,')"',' x="',w.offsetX-x/2,'" y="',w.offsetY-D/2,'" ','width="',"repeat-y"===E||"no-repeat"===E?w.source.width:x,'" height="',"repeat-x"===E||"no-repeat"===E?w.source.height:D,'" fill="url(#SVGID_'+w.id+')"',"></rect>\n")}else f.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',w,'"',"></rect>\n")},sendToBack:function(f){if(!f)return this;var w,b,x,v=this._activeObject;if(f===v&&"activeSelection"===f.type)for(w=(x=v._objects).length;w--;)m(this._objects,b=x[w]),this._objects.unshift(b);else m(this._objects,f),this._objects.unshift(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(f){if(!f)return this;var w,b,x,v=this._activeObject;if(f===v&&"activeSelection"===f.type)for(x=v._objects,w=0;w<x.length;w++)m(this._objects,b=x[w]),this._objects.push(b);else m(this._objects,f),this._objects.push(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(f,v){if(!f)return this;var b,x,D,E,k,w=this._activeObject,L=0;if(f===w&&"activeSelection"===f.type)for(k=w._objects,b=0;b<k.length;b++)(D=this._objects.indexOf(x=k[b]))>0+L&&(E=D-1,m(this._objects,x),this._objects.splice(E,0,x)),L++;else 0!==(D=this._objects.indexOf(f))&&(E=this._findNewLowerIndex(f,D,v),m(this._objects,f),this._objects.splice(E,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(f,v,w){var b,x;if(w){for(b=v,x=v-1;x>=0;--x)if(f.intersectsWithObject(this._objects[x])||f.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(f)){b=x;break}}else b=v-1;return b},bringForward:function(f,v){if(!f)return this;var b,x,D,E,k,w=this._activeObject,L=0;if(f===w&&"activeSelection"===f.type)for(b=(k=w._objects).length;b--;)(D=this._objects.indexOf(x=k[b]))<this._objects.length-1-L&&(E=D+1,m(this._objects,x),this._objects.splice(E,0,x)),L++;else(D=this._objects.indexOf(f))!==this._objects.length-1&&(E=this._findNewUpperIndex(f,D,v),m(this._objects,f),this._objects.splice(E,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(f,v,w){var b,x,D;if(w){for(b=v,x=v+1,D=this._objects.length;x<D;++x)if(f.intersectsWithObject(this._objects[x])||f.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(f)){b=x;break}}else b=v+1;return b},moveTo:function(f,v){return m(this._objects,f),this._objects.splice(v,0,f),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),C.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),C.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),y(C.StaticCanvas.prototype,C.Observable),y(C.StaticCanvas.prototype,C.Collection),y(C.StaticCanvas.prototype,C.DataURLExporter),y(C.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(f){var v=h();if(!v||!v.getContext)return null;var w=v.getContext("2d");return w&&"setLineDash"===f?typeof w.setLineDash<"u":null}}),C.StaticCanvas.prototype.toJSON=C.StaticCanvas.prototype.toObject,C.isLikelyNode&&(C.StaticCanvas.prototype.createPNGStream=function(){var f=a(this.lowerCanvasEl);return f&&f.createPNGStream()},C.StaticCanvas.prototype.createJPEGStream=function(f){var v=a(this.lowerCanvasEl);return v&&v.createJPEGStream(f)})}}(),C.BaseBrush=C.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(y){y.strokeStyle=this.color,y.lineWidth=this.width,y.lineCap=this.strokeLineCap,y.miterLimit=this.strokeMiterLimit,y.lineJoin=this.strokeLineJoin,y.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(y){var d=this.canvas.viewportTransform;y.save(),y.transform(d[0],d[1],d[2],d[3],d[4],d[5])},_setShadow:function(){if(this.shadow){var y=this.canvas,d=this.shadow,m=y.contextTop,g=y.getZoom();y&&y._isRetinaScaling()&&(g*=C.devicePixelRatio),m.shadowColor=d.color,m.shadowBlur=d.blur*g,m.shadowOffsetX=d.offsetX*g,m.shadowOffsetY=d.offsetY*g}},needsFullRender:function(){return new C.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var y=this.canvas.contextTop;y.shadowColor="",y.shadowBlur=y.shadowOffsetX=y.shadowOffsetY=0},_isOutSideCanvas:function(y){return y.x<0||y.x>this.canvas.getWidth()||y.y<0||y.y>this.canvas.getHeight()}}),C.PencilBrush=C.util.createClass(C.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(y){this.canvas=y,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(y,d,m){var g=d.midPointFrom(m);return y.quadraticCurveTo(d.x,d.y,g.x,g.y),g},onMouseDown:function(y,d){this.canvas._isMainEvent(d.e)&&(this.drawStraightLine=d.e[this.straightLineKey],this._prepareForDrawing(y),this._captureDrawingPath(y),this._render())},onMouseMove:function(y,d){if(this.canvas._isMainEvent(d.e)&&(this.drawStraightLine=d.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(y))&&this._captureDrawingPath(y)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var m=this._points,g=m.length,u=this.canvas.contextTop;this._saveAndTransform(u),this.oldEnd&&(u.beginPath(),u.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(u,m[g-2],m[g-1],!0),u.stroke(),u.restore()}},onMouseUp:function(y){return!this.canvas._isMainEvent(y.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(y){var d=new C.Point(y.x,y.y);this._reset(),this._addPoint(d),this.canvas.contextTop.moveTo(d.x,d.y)},_addPoint:function(y){return!(this._points.length>1&&y.eq(this._points[this._points.length-1])||(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(y),0))},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(y){var d=new C.Point(y.x,y.y);return this._addPoint(d)},_render:function(y){var d,m,g=this._points[0],u=this._points[1];if(this._saveAndTransform(y=y||this.canvas.contextTop),y.beginPath(),2===this._points.length&&g.x===u.x&&g.y===u.y){var c=this.width/1e3;g=new C.Point(g.x,g.y),u=new C.Point(u.x,u.y),g.x-=c,u.x+=c}for(y.moveTo(g.x,g.y),d=1,m=this._points.length;d<m;d++)this._drawSegment(y,g,u),g=this._points[d],u=this._points[d+1];y.lineTo(g.x,g.y),y.stroke(),y.restore()},convertPointsToSVGPath:function(y){return C.util.getSmoothPathFromPoints(y,this.width/1e3)},_isEmptySVGPath:function(y){return"M 0 0 Q 0 0 0 0 L 0 0"===C.util.joinPath(y)},createPath:function(y){var d=new C.Path(y,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,d.shadow=new C.Shadow(this.shadow)),d},decimatePoints:function(y,d){if(y.length<=2)return y;var u,m=this.canvas.getZoom(),g=Math.pow(d/m,2),c=y.length-1,a=y[0],h=[a];for(u=1;u<c-1;u++)Math.pow(a.x-y[u].x,2)+Math.pow(a.y-y[u].y,2)>=g&&h.push(a=y[u]);return h.push(y[c]),h},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var d=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(d))this.canvas.requestRenderAll();else{var m=this.createPath(d);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:m}),this.canvas.add(m),this.canvas.requestRenderAll(),m.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:m})}}}),C.CircleBrush=C.util.createClass(C.BaseBrush,{width:10,initialize:function(y){this.canvas=y,this.points=[]},drawDot:function(y){var d=this.addPoint(y),m=this.canvas.contextTop;this._saveAndTransform(m),this.dot(m,d),m.restore()},dot:function(y,d){y.fillStyle=d.fill,y.beginPath(),y.arc(d.x,d.y,d.radius,0,2*Math.PI,!1),y.closePath(),y.fill()},onMouseDown:function(y){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(y)},_render:function(){var d,m,y=this.canvas.contextTop,g=this.points;for(this._saveAndTransform(y),d=0,m=g.length;d<m;d++)this.dot(y,g[d]);y.restore()},onMouseMove:function(y){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(y)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(y),this._render()):this.drawDot(y))},onMouseUp:function(){var d,m,y=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var g=[];for(d=0,m=this.points.length;d<m;d++){var u=this.points[d],c=new C.Circle({radius:u.radius,left:u.x,top:u.y,originX:"center",originY:"center",fill:u.fill});this.shadow&&(c.shadow=new C.Shadow(this.shadow)),g.push(c)}var a=new C.Group(g);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=y,this.canvas.requestRenderAll()},addPoint:function(y){var d=new C.Point(y.x,y.y),m=C.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,g=new C.Color(this.color).setAlpha(C.util.getRandomInt(0,100)/100).toRgba();return d.radius=m,d.fill=g,this.points.push(d),d}}),C.SprayBrush=C.util.createClass(C.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(y){this.canvas=y,this.sprayChunks=[]},onMouseDown:function(y){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(y),this.render(this.sprayChunkPoints)},onMouseMove:function(y){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(y)||(this.addSprayChunk(y),this.render(this.sprayChunkPoints))},onMouseUp:function(){var y=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var d=[],m=0,g=this.sprayChunks.length;m<g;m++)for(var u=this.sprayChunks[m],c=0,a=u.length;c<a;c++){var h=new C.Rect({width:u[c].width,height:u[c].width,left:u[c].x+1,top:u[c].y+1,originX:"center",originY:"center",fill:this.color});d.push(h)}this.optimizeOverlapping&&(d=this._getOptimizedRects(d));var p=new C.Group(d);this.shadow&&p.set("shadow",new C.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:p}),this.canvas.add(p),this.canvas.fire("path:created",{path:p}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=y,this.canvas.requestRenderAll()},_getOptimizedRects:function(y){var m,g,u,d={};for(g=0,u=y.length;g<u;g++)d[m=y[g].left+""+y[g].top]||(d[m]=y[g]);var c=[];for(m in d)c.push(d[m]);return c},render:function(y){var m,g,d=this.canvas.contextTop;for(d.fillStyle=this.color,this._saveAndTransform(d),m=0,g=y.length;m<g;m++){var u=y[m];typeof u.opacity<"u"&&(d.globalAlpha=u.opacity),d.fillRect(u.x,u.y,u.width,u.width)}d.restore()},_render:function(){var d,m,y=this.canvas.contextTop;for(y.fillStyle=this.color,this._saveAndTransform(y),d=0,m=this.sprayChunks.length;d<m;d++)this.render(this.sprayChunks[d]);y.restore()},addSprayChunk:function(y){this.sprayChunkPoints=[];var d,m,g,c,u=this.width/2;for(c=0;c<this.density;c++){d=C.util.getRandomInt(y.x-u,y.x+u),m=C.util.getRandomInt(y.y-u,y.y+u),g=this.dotWidthVariance?C.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new C.Point(d,m);a.width=g,this.randomOpacity&&(a.opacity=C.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),C.PatternBrush=C.util.createClass(C.PencilBrush,{getPatternSrc:function(){var m=C.util.createCanvasElement(),g=m.getContext("2d");return m.width=m.height=25,g.fillStyle=this.color,g.beginPath(),g.arc(10,10,10,0,2*Math.PI,!1),g.closePath(),g.fill(),m},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(y){return y.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(y){this.callSuper("_setBrushStyles",y),y.strokeStyle=this.getPattern(y)},createPath:function(y){var d=this.callSuper("createPath",y),m=d._getLeftTopCoords().scalarAdd(d.strokeWidth/2);return d.stroke=new C.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-m.x,offsetY:-m.y}),d}}),function(){var y=C.util.getPointer,d=C.util.degreesToRadians,m=C.util.isTouchEvent;for(var g in C.Canvas=C.util.createClass(C.StaticCanvas,{initialize:function(u,c){c||(c={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(u,c),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=C.PencilBrush&&new C.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var c,a,h,u=this.getActiveObjects();if(u.length>0&&!this.preserveObjectStacking){a=[],h=[];for(var p=0,f=this._objects.length;p<f;p++)-1===u.indexOf(c=this._objects[p])?a.push(c):h.push(c);u.length>1&&(this._activeObject._objects=h),a.push.apply(a,h)}else a=this._objects;return a},renderAll:function(){return this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(u){u.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(u),this.contextTopDirty=!0),u.restore()},renderTop:function(){var u=this.contextTop;return this.clearContext(u),this.renderTopLayer(u),this.fire("after:render"),this},_normalizePointer:function(u,c){var a=u.calcTransformMatrix(),h=C.util.invertTransform(a),p=this.restorePointerVpt(c);return C.util.transformPoint(p,h)},isTargetTransparent:function(u,c,a){if(u.shouldCache()&&u._cacheCanvas&&u!==this._activeObject){var h=this._normalizePointer(u,{x:c,y:a}),p=Math.max(u.cacheTranslationX+h.x*u.zoomX,0),f=Math.max(u.cacheTranslationY+h.y*u.zoomY,0);return C.util.isTransparent(u._cacheContext,Math.round(p),Math.round(f),this.targetFindTolerance)}var v=this.contextCache,w=u.selectionBackgroundColor,b=this.viewportTransform;return u.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(b[0],b[1],b[2],b[3],b[4],b[5]),u.render(v),v.restore(),u.selectionBackgroundColor=w,C.util.isTransparent(v,c,a,this.targetFindTolerance)},_isSelectionKeyPressed:function(u){return Array.isArray(this.selectionKey)?!!this.selectionKey.find(function(a){return!0===u[a]}):u[this.selectionKey]},_shouldClearSelection:function(u,c){var a=this.getActiveObjects(),h=this._activeObject;return!c||c&&h&&a.length>1&&-1===a.indexOf(c)&&h!==c&&!this._isSelectionKeyPressed(u)||c&&!c.evented||c&&!c.selectable&&h&&h!==c},_shouldCenterTransform:function(u,c,a){var h;if(u)return"scale"===c||"scaleX"===c||"scaleY"===c||"resizing"===c?h=this.centeredScaling||u.centeredScaling:"rotate"===c&&(h=this.centeredRotation||u.centeredRotation),h?!a:a},_getOriginFromCorner:function(u,c){var a={x:u.originX,y:u.originY};return"ml"===c||"tl"===c||"bl"===c?a.x="right":("mr"===c||"tr"===c||"br"===c)&&(a.x="left"),"tl"===c||"mt"===c||"tr"===c?a.y="bottom":("bl"===c||"mb"===c||"br"===c)&&(a.y="top"),a},_getActionFromCorner:function(u,c,a,h){if(!c||!u)return"drag";var p=h.controls[c];return p.getActionName(a,p,h)},_setupCurrentTransform:function(u,c,a){if(c){var h=this.getPointer(u),p=c.__corner,f=c.controls[p],v=a&&p?f.getActionHandler(u,c,f):C.controlsUtils.dragHandler,w=this._getActionFromCorner(a,p,u,c),b=this._getOriginFromCorner(c,p),x=u[this.centeredKey],D={target:c,action:w,actionHandler:v,corner:p,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,offsetX:h.x-c.left,offsetY:h.y-c.top,originX:b.x,originY:b.y,ex:h.x,ey:h.y,lastX:h.x,lastY:h.y,theta:d(c.angle),width:c.width*c.scaleX,shiftKey:u.shiftKey,altKey:x,original:C.util.saveObjectTransform(c)};this._shouldCenterTransform(c,w,x)&&(D.originX="center",D.originY="center"),D.original.originX=b.x,D.original.originY=b.y,this._currentTransform=D,this._beforeTransform(u)}},setCursor:function(u){this.upperCanvasEl.style.cursor=u},_drawSelection:function(u){var c=this._groupSelector,a=new C.Point(c.ex,c.ey),h=C.util.transformPoint(a,this.viewportTransform),p=new C.Point(c.ex+c.left,c.ey+c.top),f=C.util.transformPoint(p,this.viewportTransform),v=Math.min(h.x,f.x),w=Math.min(h.y,f.y),b=Math.max(h.x,f.x),x=Math.max(h.y,f.y),D=this.selectionLineWidth/2;this.selectionColor&&(u.fillStyle=this.selectionColor,u.fillRect(v,w,b-v,x-w)),this.selectionLineWidth&&this.selectionBorderColor&&(u.lineWidth=this.selectionLineWidth,u.strokeStyle=this.selectionBorderColor,v+=D,w+=D,b-=D,x-=D,C.Object.prototype._setLineDash.call(this,u,this.selectionDashArray),u.strokeRect(v,w,b-v,x-w))},findTarget:function(u,c){if(!this.skipTargetFind){var v,w,h=this.getPointer(u,!0),p=this._activeObject,f=this.getActiveObjects(),b=m(u),x=f.length>1&&!c||1===f.length;if(this.targets=[],x&&p._findTargetCorner(h,b)||f.length>1&&!c&&p===this._searchPossibleTargets([p],h))return p;if(1===f.length&&p===this._searchPossibleTargets([p],h)){if(!this.preserveObjectStacking)return p;v=p,w=this.targets,this.targets=[]}var D=this._searchPossibleTargets(this._objects,h);return u[this.altSelectionKey]&&D&&v&&D!==v&&(D=v,this.targets=w),D}},_checkTarget:function(u,c,a){if(c&&c.visible&&c.evented&&c.containsPoint(u)){if(!this.perPixelTargetFind&&!c.perPixelTargetFind||c.isEditing)return!0;if(!this.isTargetTransparent(c,a.x,a.y))return!0}},_searchPossibleTargets:function(u,c){for(var a,p,h=u.length;h--;){var f=u[h],v=f.group?this._normalizePointer(f.group,c):c;if(this._checkTarget(v,f,c)){(a=u[h]).subTargetCheck&&a instanceof C.Group&&(p=this._searchPossibleTargets(a._objects,c))&&this.targets.push(p);break}}return a},restorePointerVpt:function(u){return C.util.transformPoint(u,C.util.invertTransform(this.viewportTransform))},getPointer:function(u,c){if(this._absolutePointer&&!c)return this._absolutePointer;if(this._pointer&&c)return this._pointer;var w,a=y(u),h=this.upperCanvasEl,p=h.getBoundingClientRect(),f=p.width||0,v=p.height||0;(!f||!v)&&("top"in p&&"bottom"in p&&(v=Math.abs(p.top-p.bottom)),"right"in p&&"left"in p&&(f=Math.abs(p.right-p.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,c||(a=this.restorePointerVpt(a));var b=this.getRetinaScaling();return 1!==b&&(a.x/=b,a.y/=b),{x:a.x*(w=0===f||0===v?{width:1,height:1}:{width:h.width/f,height:h.height/v}).width,y:a.y*w.height}},_createUpperCanvas:function(){var u=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),c=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),C.util.addClass(a,"upper-canvas "+u),this.wrapperEl.appendChild(a),this._copyCanvasStyle(c,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=C.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),C.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),C.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(u){var c=this.width||u.width,a=this.height||u.height;C.util.setStyle(u,{position:"absolute",width:c+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),u.width=c,u.height=a,C.util.makeElementUnselectable(u)},_copyCanvasStyle:function(u,c){c.style.cssText=u.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var u=this._activeObject;return u?"activeSelection"===u.type&&u._objects?u._objects.slice(0):[u]:[]},_onObjectRemoved:function(u){u===this._activeObject&&(this.fire("before:selection:cleared",{target:u}),this._discardActiveObject(),this.fire("selection:cleared",{target:u}),u.fire("deselected")),u===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",u)},_fireSelectionEvents:function(u,c){var a=!1,h=this.getActiveObjects(),p=[],f=[];u.forEach(function(v){-1===h.indexOf(v)&&(a=!0,v.fire("deselected",{e:c,target:v}),f.push(v))}),h.forEach(function(v){-1===u.indexOf(v)&&(a=!0,v.fire("selected",{e:c,target:v}),p.push(v))}),u.length>0&&h.length>0?a&&this.fire("selection:updated",{e:c,selected:p,deselected:f}):h.length>0?this.fire("selection:created",{e:c,selected:p}):u.length>0&&this.fire("selection:cleared",{e:c,deselected:f})},setActiveObject:function(u,c){var a=this.getActiveObjects();return this._setActiveObject(u,c),this._fireSelectionEvents(a,c),this},_setActiveObject:function(u,c){return!(this._activeObject===u||!this._discardActiveObject(c,u)||u.onSelect({e:c})||(this._activeObject=u,0))},_discardActiveObject:function(u,c){var a=this._activeObject;if(a){if(a.onDeselect({e:u,object:c}))return!1;this._activeObject=null}return!0},discardActiveObject:function(u){var c=this.getActiveObjects(),a=this.getActiveObject();return c.length&&this.fire("before:selection:cleared",{target:a,e:u}),this._discardActiveObject(u),this._fireSelectionEvents(c,u),this},dispose:function(){var u=this.wrapperEl;return this.removeListeners(),u.removeChild(this.upperCanvasEl),u.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(c){C.util.cleanUpJsdomNode(this[c]),this[c]=void 0}.bind(this)),u.parentNode&&u.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,C.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(u){var c=this._activeObject;c&&c._renderControls(u)},_toObject:function(u,c,a){var h=this._realizeGroupTransformOnObject(u),p=this.callSuper("_toObject",u,c,a);return this._unwindGroupTransformOnObject(u,h),p},_realizeGroupTransformOnObject:function(u){if(u.group&&"activeSelection"===u.group.type&&this._activeObject===u.group){var a={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(h){a[h]=u[h]}),C.util.addTransformToObject(u,this._activeObject.calcOwnMatrix()),a}return null},_unwindGroupTransformOnObject:function(u,c){c&&u.set(c)},_setSVGObject:function(u,c,a){var h=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",u,c,a),this._unwindGroupTransformOnObject(c,h)},setViewportTransform:function(u){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),C.StaticCanvas.prototype.setViewportTransform.call(this,u)}}),C.StaticCanvas)"prototype"!==g&&(C.Canvas[g]=C.StaticCanvas[g])}(),function(){var y=C.util.addListener,d=C.util.removeListener,c={passive:!1};function a(h,p){return h.button&&h.button===p-1}C.util.object.extend(C.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(y,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(h,p){var f=this.upperCanvasEl,v=this._getEventPrefix();h(C.window,"resize",this._onResize),h(f,v+"down",this._onMouseDown),h(f,v+"move",this._onMouseMove,c),h(f,v+"out",this._onMouseOut),h(f,v+"enter",this._onMouseEnter),h(f,"wheel",this._onMouseWheel),h(f,"contextmenu",this._onContextMenu),h(f,"dblclick",this._onDoubleClick),h(f,"dragover",this._onDragOver),h(f,"dragenter",this._onDragEnter),h(f,"dragleave",this._onDragLeave),h(f,"drop",this._onDrop),this.enablePointerEvents||h(f,"touchstart",this._onTouchStart,c),typeof eventjs<"u"&&p in eventjs&&(eventjs[p](f,"gesture",this._onGesture),eventjs[p](f,"drag",this._onDrag),eventjs[p](f,"orientation",this._onOrientationChange),eventjs[p](f,"shake",this._onShake),eventjs[p](f,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(d,"remove");var h=this._getEventPrefix();d(C.document,h+"up",this._onMouseUp),d(C.document,"touchend",this._onTouchEnd,c),d(C.document,h+"move",this._onMouseMove,c),d(C.document,"touchmove",this._onMouseMove,c)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(h,p){this.__onTransformGesture&&this.__onTransformGesture(h,p)},_onDrag:function(h,p){this.__onDrag&&this.__onDrag(h,p)},_onMouseWheel:function(h){this.__onMouseWheel(h)},_onMouseOut:function(h){var p=this._hoveredTarget;this.fire("mouse:out",{target:p,e:h}),this._hoveredTarget=null,p&&p.fire("mouseout",{e:h});var f=this;this._hoveredTargets.forEach(function(v){f.fire("mouse:out",{target:p,e:h}),v&&p.fire("mouseout",{e:h})}),this._hoveredTargets=[]},_onMouseEnter:function(h){!this._currentTransform&&!this.findTarget(h)&&(this.fire("mouse:over",{target:null,e:h}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(h,p){this.__onOrientationChange&&this.__onOrientationChange(h,p)},_onShake:function(h,p){this.__onShake&&this.__onShake(h,p)},_onLongPress:function(h,p){this.__onLongPress&&this.__onLongPress(h,p)},_onDragOver:function(h){h.preventDefault();var p=this._simpleEventHandler("dragover",h);this._fireEnterLeaveEvents(p,h)},_onDrop:function(h){return this._simpleEventHandler("drop:before",h),this._simpleEventHandler("drop",h)},_onContextMenu:function(h){return this.stopContextMenu&&(h.stopPropagation(),h.preventDefault()),!1},_onDoubleClick:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"dblclick"),this._resetTransformEventData(h)},getPointerId:function(h){var p=h.changedTouches;return p?p[0]&&p[0].identifier:this.enablePointerEvents?h.pointerId:-1},_isMainEvent:function(h){return!0===h.isPrimary||!1!==h.isPrimary&&("touchend"===h.type&&0===h.touches.length||!h.changedTouches||h.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(h){h.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(h)),this.__onMouseDown(h),this._resetTransformEventData();var p=this.upperCanvasEl,f=this._getEventPrefix();y(C.document,"touchend",this._onTouchEnd,c),y(C.document,"touchmove",this._onMouseMove,c),d(p,f+"down",this._onMouseDown)},_onMouseDown:function(h){this.__onMouseDown(h),this._resetTransformEventData();var p=this.upperCanvasEl,f=this._getEventPrefix();d(p,f+"move",this._onMouseMove,c),y(C.document,f+"up",this._onMouseUp),y(C.document,f+"move",this._onMouseMove,c)},_onTouchEnd:function(h){if(!(h.touches.length>0)){this.__onMouseUp(h),this._resetTransformEventData(),this.mainTouchId=null;var p=this._getEventPrefix();d(C.document,"touchend",this._onTouchEnd,c),d(C.document,"touchmove",this._onMouseMove,c);var f=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){y(f.upperCanvasEl,p+"down",f._onMouseDown),f._willAddMouseDown=0},400)}},_onMouseUp:function(h){this.__onMouseUp(h),this._resetTransformEventData();var p=this.upperCanvasEl,f=this._getEventPrefix();this._isMainEvent(h)&&(d(C.document,f+"up",this._onMouseUp),d(C.document,f+"move",this._onMouseMove,c),y(p,f+"move",this._onMouseMove,c))},_onMouseMove:function(h){!this.allowTouchScrolling&&h.preventDefault&&h.preventDefault(),this.__onMouseMove(h)},_onResize:function(){this.calcOffset()},_shouldRender:function(h){var p=this._activeObject;return!!(!!p!=!!h||p&&h&&p!==h)},__onMouseUp:function(h){var p,f=this._currentTransform,v=this._groupSelector,w=!1,b=!v||0===v.left&&0===v.top;if(this._cacheTransformEventData(h),p=this._target,this._handleEvent(h,"up:before"),a(h,3))this.fireRightClick&&this._handleEvent(h,"up",3,b);else{if(a(h,2))return this.fireMiddleClick&&this._handleEvent(h,"up",2,b),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(h);else if(this._isMainEvent(h)){if(f&&(this._finalizeCurrentTransform(h),w=f.actionPerformed),!b){var x=p===this._activeObject;this._maybeGroupObjects(h),w||(w=this._shouldRender(p)||!x&&p===this._activeObject)}var D,E;if(p){if(D=p._findTargetCorner(this.getPointer(h,!0),C.util.isTouchEvent(h)),p.selectable&&p!==this._activeObject&&"up"===p.activeOn)this.setActiveObject(p,h),w=!0;else{var k=p.controls[D],L=k&&k.getMouseUpHandler(h,p,k);L&&L(h,f,(E=this.getPointer(h)).x,E.y)}p.isMoving=!1}if(f&&(f.target!==p||f.corner!==D)){var $=f.target&&f.target.controls[f.corner],V=$&&$.getMouseUpHandler(h,p,k);E=E||this.getPointer(h),V&&V(h,f,E.x,E.y)}this._setCursorFromEvent(h,p),this._handleEvent(h,"up",1,b),this._groupSelector=null,this._currentTransform=null,p&&(p.__corner=0),w?this.requestRenderAll():b||this.renderTop()}}},_simpleEventHandler:function(h,p){var f=this.findTarget(p),v=this.targets,w={e:p,target:f,subTargets:v};if(this.fire(h,w),f&&f.fire(h,w),!v)return f;for(var b=0;b<v.length;b++)v[b].fire(h,w);return f},_handleEvent:function(h,p,f,v){var w=this._target,b=this.targets||[],x={e:h,target:w,subTargets:b,button:f||1,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===p&&(x.currentTarget=this.findTarget(h),x.currentSubTargets=this.targets),this.fire("mouse:"+p,x),w&&w.fire("mouse"+p,x);for(var D=0;D<b.length;D++)b[D].fire("mouse"+p,x)},_finalizeCurrentTransform:function(h){var p=this._currentTransform,f=p.target,v={e:h,target:f,transform:p,action:p.action};f._scaling&&(f._scaling=!1),f.setCoords(),(p.actionPerformed||this.stateful&&f.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(h){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(h).requestRenderAll();var p=this.getPointer(h);this.freeDrawingBrush.onMouseDown(p,{e:h,pointer:p}),this._handleEvent(h,"down")},_onMouseMoveInDrawingMode:function(h){if(this._isCurrentlyDrawing){var p=this.getPointer(h);this.freeDrawingBrush.onMouseMove(p,{e:h,pointer:p})}this.setCursor(this.freeDrawingCursor),this._handleEvent(h,"move")},_onMouseUpInDrawingMode:function(h){var p=this.getPointer(h);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:h,pointer:p}),this._handleEvent(h,"up")},__onMouseDown:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"down:before");var p=this._target;if(a(h,3))this.fireRightClick&&this._handleEvent(h,"down",3);else if(a(h,2))this.fireMiddleClick&&this._handleEvent(h,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(h);else if(this._isMainEvent(h)&&!this._currentTransform){this._previousPointer=f=this._pointer;var v=this._shouldRender(p),w=this._shouldGroup(h,p);if(this._shouldClearSelection(h,p)?this.discardActiveObject(h):w&&(this._handleGrouping(h,p),p=this._activeObject),this.selection&&(!p||!p.selectable&&!p.isEditing&&p!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),p){var b=p===this._activeObject;p.selectable&&"down"===p.activeOn&&this.setActiveObject(p,h);var x=p._findTargetCorner(this.getPointer(h,!0),C.util.isTouchEvent(h));if(p.__corner=x,p===this._activeObject&&(x||!w)){this._setupCurrentTransform(h,p,b);var D=p.controls[x],f=this.getPointer(h),E=D&&D.getMouseDownHandler(h,p,D);E&&E(h,this._currentTransform,f.x,f.y)}}this._handleEvent(h,"down"),(v||w)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(h){this._resetTransformEventData(),this._pointer=this.getPointer(h,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(h)||null},_beforeTransform:function(h){var p=this._currentTransform;this.stateful&&p.target.saveState(),this.fire("before:transform",{e:h,transform:p})},__onMouseMove:function(h){var p,f;if(this._handleEvent(h,"move:before"),this._cacheTransformEventData(h),this.isDrawingMode)this._onMouseMoveInDrawingMode(h);else if(this._isMainEvent(h)){var v=this._groupSelector;v?(v.left=(f=this._absolutePointer).x-v.ex,v.top=f.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(h):(p=this.findTarget(h)||null,this._setCursorFromEvent(h,p),this._fireOverOutEvents(p,h)),this._handleEvent(h,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(h,p){var f=this._hoveredTarget,v=this._hoveredTargets,w=this.targets,b=Math.max(v.length,w.length);this.fireSyntheticInOutEvents(h,p,{oldTarget:f,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var x=0;x<b;x++)this.fireSyntheticInOutEvents(w[x],p,{oldTarget:v[x],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=h,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(h,p){var f=this._draggedoverTarget,v=this._hoveredTargets,w=this.targets,b=Math.max(v.length,w.length);this.fireSyntheticInOutEvents(h,p,{oldTarget:f,evtOut:"dragleave",evtIn:"dragenter"});for(var x=0;x<b;x++)this.fireSyntheticInOutEvents(w[x],p,{oldTarget:v[x],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=h},fireSyntheticInOutEvents:function(h,p,f){var v,w,D,b=f.oldTarget,E=b!==h,k=f.canvasEvtIn,L=f.canvasEvtOut;E&&(v={e:p,target:h,previousTarget:b},w={e:p,target:b,nextTarget:h}),D=h&&E,b&&E&&(L&&this.fire(L,w),b.fire(f.evtOut,w)),D&&(k&&this.fire(k,v),h.fire(f.evtIn,v))},__onMouseWheel:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"wheel"),this._resetTransformEventData()},_transformObject:function(h){var p=this.getPointer(h),f=this._currentTransform;f.reset=!1,f.shiftKey=h.shiftKey,f.altKey=h[this.centeredKey],this._performTransformAction(h,f,p),f.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(h,p,f){var b=p.action,x=!1,D=p.actionHandler;D&&(x=D(h,p,f.x,f.y)),"drag"===b&&x&&(p.target.isMoving=!0,this.setCursor(p.target.moveCursor||this.moveCursor)),p.actionPerformed=p.actionPerformed||x},_fire:C.controlsUtils.fireEvent,_setCursorFromEvent:function(h,p){if(!p)return this.setCursor(this.defaultCursor),!1;var f=p.hoverCursor||this.hoverCursor,v=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,w=(!v||!v.contains(p))&&p._findTargetCorner(this.getPointer(h,!0));w?this.setCursor(this.getCornerCursor(w,p,h)):(p.subTargetCheck&&this.targets.concat().reverse().map(function(b){f=b.hoverCursor||f}),this.setCursor(f))},getCornerCursor:function(h,p,f){var v=p.controls[h];return v.cursorStyleHandler(f,v,p)}})}(),function(){var y=Math.min,d=Math.max;C.util.object.extend(C.Canvas.prototype,{_shouldGroup:function(m,g){var u=this._activeObject;return u&&this._isSelectionKeyPressed(m)&&g&&g.selectable&&this.selection&&(u!==g||"activeSelection"===u.type)&&!g.onSelect({e:m})},_handleGrouping:function(m,g){var u=this._activeObject;u.__corner||g===u&&(!(g=this.findTarget(m,!0))||!g.selectable)||(u&&"activeSelection"===u.type?this._updateActiveSelection(g,m):this._createActiveSelection(g,m))},_updateActiveSelection:function(m,g){var u=this._activeObject,c=u._objects.slice(0);u.contains(m)?(u.removeWithUpdate(m),this._hoveredTarget=m,this._hoveredTargets=this.targets.concat(),1===u.size()&&this._setActiveObject(u.item(0),g)):(u.addWithUpdate(m),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(c,g)},_createActiveSelection:function(m,g){var u=this.getActiveObjects(),c=this._createGroup(m);this._hoveredTarget=c,this._setActiveObject(c,g),this._fireSelectionEvents(u,g)},_createGroup:function(m){var g=this._objects,c=g.indexOf(this._activeObject)<g.indexOf(m)?[this._activeObject,m]:[m,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new C.ActiveSelection(c,{canvas:this})},_groupSelectedObjects:function(m){var u,g=this._collectObjects(m);1===g.length?this.setActiveObject(g[0],m):g.length>1&&(u=new C.ActiveSelection(g.reverse(),{canvas:this}),this.setActiveObject(u,m))},_collectObjects:function(m){for(var u,g=[],c=this._groupSelector.ex,a=this._groupSelector.ey,h=c+this._groupSelector.left,p=a+this._groupSelector.top,f=new C.Point(y(c,h),y(a,p)),v=new C.Point(d(c,h),d(a,p)),w=!this.selectionFullyContained,b=c===h&&a===p,x=this._objects.length;x--&&!((u=this._objects[x])&&u.selectable&&u.visible&&(w&&u.intersectsWithRect(f,v,!0)||u.isContainedWithinRect(f,v,!0)||w&&u.containsPoint(f,null,!0)||w&&u.containsPoint(v,null,!0))&&(g.push(u),b)););return g.length>1&&(g=g.filter(function(D){return!D.onSelect({e:m})})),g},_maybeGroupObjects:function(m){this.selection&&this._groupSelector&&this._groupSelectedObjects(m),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),C.util.object.extend(C.StaticCanvas.prototype,{toDataURL:function(y){y||(y={});var d=y.format||"png",m=y.quality||1,g=(y.multiplier||1)*(y.enableRetinaScaling?this.getRetinaScaling():1),u=this.toCanvasElement(g,y);return C.util.toDataURL(u,d,m)},toCanvasElement:function(y,d){var m=((d=d||{}).width||this.width)*(y=y||1),g=(d.height||this.height)*y,u=this.getZoom(),c=this.width,a=this.height,h=u*y,p=this.viewportTransform,w=this.interactive,b=[h,0,0,h,(p[4]-(d.left||0))*y,(p[5]-(d.top||0))*y],x=this.enableRetinaScaling,D=C.util.createCanvasElement(),E=this.contextTop;return D.width=m,D.height=g,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=m,this.height=g,this.calcViewportBoundaries(),this.renderCanvas(D.getContext("2d"),this._objects),this.viewportTransform=p,this.width=c,this.height=a,this.calcViewportBoundaries(),this.interactive=w,this.enableRetinaScaling=x,this.contextTop=E,D}}),C.util.object.extend(C.StaticCanvas.prototype,{loadFromJSON:function(y,d,m){if(y){var g="string"==typeof y?JSON.parse(y):C.util.object.clone(y),u=this,c=g.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete g.clipPath,this._enlivenObjects(g.objects,function(h){u.clear(),u._setBgOverlay(g,function(){c?u._enlivenObjects([c],function(p){u.clipPath=p[0],u.__setupCanvas.call(u,g,h,a,d)}):u.__setupCanvas.call(u,g,h,a,d)})},m),this}},__setupCanvas:function(y,d,m,g){var u=this;d.forEach(function(c,a){u.insertAt(c,a)}),this.renderOnAddRemove=m,delete y.objects,delete y.backgroundImage,delete y.overlayImage,delete y.background,delete y.overlay,this._setOptions(y),this.renderAll(),g&&g()},_setBgOverlay:function(y,d){var m={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(y.backgroundImage||y.overlayImage||y.background||y.overlay){var g=function(){m.backgroundImage&&m.overlayImage&&m.backgroundColor&&m.overlayColor&&d&&d()};this.__setBgOverlay("backgroundImage",y.backgroundImage,m,g),this.__setBgOverlay("overlayImage",y.overlayImage,m,g),this.__setBgOverlay("backgroundColor",y.background,m,g),this.__setBgOverlay("overlayColor",y.overlay,m,g)}else d&&d()},__setBgOverlay:function(y,d,m,g){var u=this;if(!d)return m[y]=!0,void(g&&g());"backgroundImage"===y||"overlayImage"===y?C.util.enlivenObjects([d],function(c){u[y]=c[0],m[y]=!0,g&&g()}):this["set"+C.util.string.capitalize(y,!0)](d,function(){m[y]=!0,g&&g()})},_enlivenObjects:function(y,d,m){y&&0!==y.length?C.util.enlivenObjects(y,function(g){d&&d(g)},null,m):d&&d([])},_toDataURL:function(y,d){this.clone(function(m){d(m.toDataURL(y))})},_toDataURLWithMultiplier:function(y,d,m){this.clone(function(g){m(g.toDataURLWithMultiplier(y,d))})},clone:function(y,d){var m=JSON.stringify(this.toJSON(d));this.cloneWithoutData(function(g){g.loadFromJSON(m,function(){y&&y(g)})})},cloneWithoutData:function(y){var d=C.util.createCanvasElement();d.width=this.width,d.height=this.height;var m=new C.Canvas(d);this.backgroundImage?(m.setBackgroundImage(this.backgroundImage.src,function(){m.renderAll(),y&&y(m)}),m.backgroundImageOpacity=this.backgroundImageOpacity,m.backgroundImageStretch=this.backgroundImageStretch):y&&y(m)}}),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.extend,g=d.util.object.clone,u=d.util.toFixed,c=d.util.string.capitalize,a=d.util.degreesToRadians;d.Object||(d.Object=d.util.createClass(d.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!d.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(f){f&&this.setOptions(f)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=d.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(f){var v=d.perfLimitSizeTotal,w=f.width,b=f.height,x=d.maxCacheSideLimit,D=d.minCacheSideLimit;if(w<=x&&b<=x&&w*b<=v)return w<D&&(f.width=D),b<D&&(f.height=D),f;var k=d.util.limitDimsByArea(w/b,v),L=d.util.capValue,$=L(D,k.x,x),V=L(D,k.y,x);return w>$&&(f.zoomX/=w/$,f.width=$,f.capped=!0),b>V&&(f.zoomY/=b/V,f.height=V,f.capped=!0),f},_getCacheCanvasDimensions:function(){var f=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),w=v.x*f.scaleX/this.scaleX,b=v.y*f.scaleY/this.scaleY;return{width:w+2,height:b+2,zoomX:f.scaleX,zoomY:f.scaleY,x:w,y:b}},_updateCacheCanvas:function(){var f=this.canvas;if(this.noScaleCache&&f&&f._currentTransform){var w=f._currentTransform.action;if(this===f._currentTransform.target&&w.slice&&"scale"===w.slice(0,5))return!1}var L,$,b=this._cacheCanvas,x=this._limitCacheSize(this._getCacheCanvasDimensions()),D=d.minCacheSideLimit,E=x.width,k=x.height,V=x.zoomX,ne=x.zoomY,ie=E!==this.cacheWidth||k!==this.cacheHeight,de=ie||this.zoomX!==V||this.zoomY!==ne,P=0,J=0,te=!1;if(ie){var fe=this._cacheCanvas.width,R=this._cacheCanvas.height,Q=E>fe||k>R;te=Q||(E<.9*fe||k<.9*R)&&fe>D&&R>D,Q&&!x.capped&&(E>D||k>D)&&(P=.1*E,J=.1*k)}return this instanceof d.Text&&this.path&&(de=!0,te=!0,P+=this.getHeightOfLine(0)*this.zoomX,J+=this.getHeightOfLine(0)*this.zoomY),!!de&&(te?(b.width=Math.ceil(E+P),b.height=Math.ceil(k+J)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),L=x.x/2,$=x.y/2,this.cacheTranslationX=Math.round(b.width/2-L)+L,this.cacheTranslationY=Math.round(b.height/2-$)+$,this.cacheWidth=E,this.cacheHeight=k,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(V,ne),this.zoomX=V,this.zoomY=ne,!0)},setOptions:function(f){this._setOptions(f),this._initGradient(f.fill,"fill"),this._initGradient(f.stroke,"stroke"),this._initPattern(f.fill,"fill"),this._initPattern(f.stroke,"stroke")},transform:function(f){var w=this.calcTransformMatrix(!(this.group&&!this.group._transformDone||this.group&&this.canvas&&f===this.canvas.contextTop));f.transform(w[0],w[1],w[2],w[3],w[4],w[5])},toObject:function(f){var v=d.Object.NUM_FRACTION_DIGITS,w={type:this.type,version:d.version,originX:this.originX,originY:this.originY,left:u(this.left,v),top:u(this.top,v),width:u(this.width,v),height:u(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:u(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:u(this.strokeMiterLimit,v),scaleX:u(this.scaleX,v),scaleY:u(this.scaleY,v),angle:u(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:u(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:u(this.skewX,v),skewY:u(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(w.clipPath=this.clipPath.toObject(f),w.clipPath.inverted=this.clipPath.inverted,w.clipPath.absolutePositioned=this.clipPath.absolutePositioned),d.util.populateWithProperties(this,w,f),this.includeDefaultValues||(w=this._removeDefaultValues(w)),w},toDatalessObject:function(f){return this.toObject(f)},_removeDefaultValues:function(f){var v=d.util.getKlass(f.type).prototype;return v.stateProperties.forEach(function(b){"left"===b||"top"===b||(f[b]===v[b]&&delete f[b],Array.isArray(f[b])&&Array.isArray(v[b])&&0===f[b].length&&0===v[b].length&&delete f[b])}),f},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var f=d.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(f.scaleX),scaleY:Math.abs(f.scaleY)}},getTotalObjectScaling:function(){var f=this.getObjectScaling(),v=f.scaleX,w=f.scaleY;if(this.canvas){var b=this.canvas.getZoom(),x=this.canvas.getRetinaScaling();v*=b*x,w*=b*x}return{scaleX:v,scaleY:w}},getObjectOpacity:function(){var f=this.opacity;return this.group&&(f*=this.group.getObjectOpacity()),f},_set:function(f,v){var b=this[f]!==v,x=!1;return("scaleX"===f||"scaleY"===f)&&(v=this._constrainScale(v)),"scaleX"===f&&v<0?(this.flipX=!this.flipX,v*=-1):"scaleY"===f&&v<0?(this.flipY=!this.flipY,v*=-1):"shadow"!==f||!v||v instanceof d.Shadow?"dirty"===f&&this.group&&this.group.set("dirty",v):v=new d.Shadow(v),this[f]=v,b&&(x=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(f)>-1?(this.dirty=!0,x&&this.group.set("dirty",!0)):x&&this.stateProperties.indexOf(f)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:d.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(f){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(f.save(),this._setupCompositeOperation(f),this.drawSelectionBackground(f),this.transform(f),this._setOpacity(f),this._setShadow(f,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(f)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(f),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),f.restore())},renderCache:function(f){f=f||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,f.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!!("stroke"===this.paintFirst&&this.hasFill()&&this.hasStroke()&&"object"==typeof this.shadow||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(f,v){if(f.save(),f.globalCompositeOperation=v.inverted?"destination-out":"destination-in",v.absolutePositioned){var w=d.util.invertTransform(this.calcTransformMatrix());f.transform(w[0],w[1],w[2],w[3],w[4],w[5])}v.transform(f),f.scale(1/v.zoomX,1/v.zoomY),f.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),f.restore()},drawObject:function(f,v){var w=this.fill,b=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(f)):this._renderBackground(f),this._render(f),this._drawClipPath(f,this.clipPath),this.fill=w,this.stroke=b},_drawClipPath:function(f,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(f,v))},drawCacheOnCanvas:function(f){f.scale(1/this.zoomX,1/this.zoomY),f.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(f){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!f&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!f){var v=this.cacheWidth/this.zoomX,w=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-w/2,v,w)}return!0}return!1},_renderBackground:function(f){if(this.backgroundColor){var v=this._getNonTransformedDimensions();f.fillStyle=this.backgroundColor,f.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(f)}},_setOpacity:function(f){this.group&&!this.group._transformDone?f.globalAlpha=this.getObjectOpacity():f.globalAlpha*=this.opacity},_setStrokeStyles:function(f,v){var w=v.stroke;w&&(f.lineWidth=v.strokeWidth,f.lineCap=v.strokeLineCap,f.lineDashOffset=v.strokeDashOffset,f.lineJoin=v.strokeLineJoin,f.miterLimit=v.strokeMiterLimit,w.toLive?"percentage"===w.gradientUnits||w.gradientTransform||w.patternTransform?this._applyPatternForTransformedGradient(f,w):(f.strokeStyle=w.toLive(f,this),this._applyPatternGradientTransform(f,w)):f.strokeStyle=v.stroke)},_setFillStyles:function(f,v){var w=v.fill;w&&(w.toLive?(f.fillStyle=w.toLive(f,this),this._applyPatternGradientTransform(f,v.fill)):f.fillStyle=w)},_setClippingProperties:function(f){f.globalAlpha=1,f.strokeStyle="transparent",f.fillStyle="#000000"},_setLineDash:function(f,v){!v||0===v.length||(1&v.length&&v.push.apply(v,v),f.setLineDash(v))},_renderControls:function(f,v){var x,D,E,w=this.getViewportTransform(),b=this.calcTransformMatrix();D=typeof(v=v||{}).hasBorders<"u"?v.hasBorders:this.hasBorders,E=typeof v.hasControls<"u"?v.hasControls:this.hasControls,b=d.util.multiplyTransformMatrices(w,b),x=d.util.qrDecompose(b),f.save(),f.translate(x.translateX,x.translateY),f.lineWidth=1*this.borderScaleFactor,this.group||(f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(x.angle-=180),f.rotate(a(this.group?x.angle:this.angle)),v.forActiveSelection||this.group?D&&this.drawBordersInGroup(f,x,v):D&&this.drawBorders(f,v),E&&this.drawControls(f,v),f.restore()},_setShadow:function(f){if(this.shadow){var b,v=this.shadow,w=this.canvas,x=w&&w.viewportTransform[0]||1,D=w&&w.viewportTransform[3]||1;b=v.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),w&&w._isRetinaScaling()&&(x*=d.devicePixelRatio,D*=d.devicePixelRatio),f.shadowColor=v.color,f.shadowBlur=v.blur*d.browserShadowBlurConstant*(x+D)*(b.scaleX+b.scaleY)/4,f.shadowOffsetX=v.offsetX*x*b.scaleX,f.shadowOffsetY=v.offsetY*D*b.scaleY}},_removeShadow:function(f){this.shadow&&(f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0)},_applyPatternGradientTransform:function(f,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var w=v.gradientTransform||v.patternTransform,b=-this.width/2+v.offsetX||0,x=-this.height/2+v.offsetY||0;return"percentage"===v.gradientUnits?f.transform(this.width,0,0,this.height,b,x):f.transform(1,0,0,1,b,x),w&&f.transform(w[0],w[1],w[2],w[3],w[4],w[5]),{offsetX:b,offsetY:x}},_renderPaintInOrder:function(f){"stroke"===this.paintFirst?(this._renderStroke(f),this._renderFill(f)):(this._renderFill(f),this._renderStroke(f))},_render:function(){},_renderFill:function(f){this.fill&&(f.save(),this._setFillStyles(f,this),"evenodd"===this.fillRule?f.fill("evenodd"):f.fill(),f.restore())},_renderStroke:function(f){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();f.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&f.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(f,this.strokeDashArray),this._setStrokeStyles(f,this),f.stroke(),f.restore()}},_applyPatternForTransformedGradient:function(f,v){var x,w=this._limitCacheSize(this._getCacheCanvasDimensions()),b=d.util.createCanvasElement(),D=this.canvas.getRetinaScaling(),E=w.x/this.scaleX/D,k=w.y/this.scaleY/D;b.width=E,b.height=k,(x=b.getContext("2d")).beginPath(),x.moveTo(0,0),x.lineTo(E,0),x.lineTo(E,k),x.lineTo(0,k),x.closePath(),x.translate(E/2,k/2),x.scale(w.zoomX/this.scaleX/D,w.zoomY/this.scaleY/D),this._applyPatternGradientTransform(x,v),x.fillStyle=v.toLive(f),x.fill(),f.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),f.scale(D*this.scaleX/w.zoomX,D*this.scaleY/w.zoomY),f.strokeStyle=x.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var f=d.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",f.scaleX),this.set("scaleY",f.scaleY),this.angle=f.angle,this.skewX=f.skewX,this.skewY=0}},_removeTransformMatrix:function(f){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=d.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,f&&(this.scaleX*=f.scaleX,this.scaleY*=f.scaleY,this.cropX=f.cropX,this.cropY=f.cropY,v.x+=f.offsetLeft,v.y+=f.offsetTop,this.width=f.width,this.height=f.height),this.setPositionByOrigin(v,"center","center")},clone:function(f,v){var w=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(w,f):d.Object._fromObject("Object",w,f)},cloneAsImage:function(f,v){var w=this.toCanvasElement(v);return f&&f(new d.Image(w)),this},toCanvasElement:function(f){f||(f={});var v=d.util,w=v.saveObjectTransform(this),b=this.group,x=this.shadow,D=Math.abs,E=(f.multiplier||1)*(f.enableRetinaScaling?d.devicePixelRatio:1);delete this.group,f.withoutTransform&&v.resetObjectTransform(this),f.withoutShadow&&(this.shadow=null);var V,ie,de,k=d.util.createCanvasElement(),L=this.getBoundingRect(!0,!0),$=this.shadow,ne={x:0,y:0};$&&(ie=$.blur,V=$.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),ne.x=2*Math.round(D($.offsetX)+ie)*D(V.scaleX),ne.y=2*Math.round(D($.offsetY)+ie)*D(V.scaleY)),de=L.height+ne.y,k.width=Math.ceil(L.width+ne.x),k.height=Math.ceil(de);var P=new d.StaticCanvas(k,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===f.format&&(P.backgroundColor="#fff"),this.setPositionByOrigin(new d.Point(P.width/2,P.height/2),"center","center");var J=this.canvas;P.add(this);var te=P.toCanvasElement(E||1,f);return this.shadow=x,this.set("canvas",J),b&&(this.group=b),this.set(w).setCoords(),P._objects=[],P.dispose(),P=null,te},toDataURL:function(f){return f||(f={}),d.util.toDataURL(this.toCanvasElement(f),f.format||"png",f.quality||1)},isType:function(f){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===f},complexity:function(){return 1},toJSON:function(f){return this.toObject(f)},rotate:function(f){var v=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",f),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(f,v){v=v||this.canvas.getPointer(f);var w=new d.Point(v.x,v.y),b=this._getLeftTopCoords();return this.angle&&(w=d.util.rotatePoint(w,b,a(-this.angle))),{x:w.x-b.x,y:w.y-b.y}},_setupCompositeOperation:function(f){this.globalCompositeOperation&&(f.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){d.runningAnimations&&d.runningAnimations.cancelByTarget(this)}}),d.util.createAccessors&&d.util.createAccessors(d.Object),m(d.Object.prototype,d.Observable),d.Object.NUM_FRACTION_DIGITS=2,d.Object.ENLIVEN_PROPS=["clipPath"],d.Object._fromObject=function(f,v,w,b){var x=d[f];v=g(v,!0),d.util.enlivenPatterns([v.fill,v.stroke],function(D){typeof D[0]<"u"&&(v.fill=D[0]),typeof D[1]<"u"&&(v.stroke=D[1]),d.util.enlivenObjectEnlivables(v,v,function(){var E=b?new x(v[b],v):new x(v);w&&w(E)})})},d.Object.__uid=0)}(F),function(){var y=C.util.degreesToRadians,d={left:-.5,center:0,right:.5},m={top:-.5,center:0,bottom:.5};C.util.object.extend(C.Object.prototype,{translateToGivenOrigin:function(g,u,c,a,h){var v,w,b,p=g.x,f=g.y;return"string"==typeof u?u=d[u]:u-=.5,"string"==typeof a?a=d[a]:a-=.5,"string"==typeof c?c=m[c]:c-=.5,"string"==typeof h?h=m[h]:h-=.5,w=h-c,((v=a-u)||w)&&(b=this._getTransformedDimensions(),p=g.x+v*b.x,f=g.y+w*b.y),new C.Point(p,f)},translateToCenterPoint:function(g,u,c){var a=this.translateToGivenOrigin(g,u,c,"center","center");return this.angle?C.util.rotatePoint(a,g,y(this.angle)):a},translateToOriginPoint:function(g,u,c){var a=this.translateToGivenOrigin(g,"center","center",u,c);return this.angle?C.util.rotatePoint(a,g,y(this.angle)):a},getCenterPoint:function(){var g=new C.Point(this.left,this.top);return this.translateToCenterPoint(g,this.originX,this.originY)},getPointByOrigin:function(g,u){var c=this.getCenterPoint();return this.translateToOriginPoint(c,g,u)},toLocalPoint:function(g,u,c){var h,p,a=this.getCenterPoint();return h=typeof u<"u"&&typeof c<"u"?this.translateToGivenOrigin(a,"center","center",u,c):new C.Point(this.left,this.top),p=new C.Point(g.x,g.y),this.angle&&(p=C.util.rotatePoint(p,a,-y(this.angle))),p.subtractEquals(h)},setPositionByOrigin:function(g,u,c){var a=this.translateToCenterPoint(g,u,c),h=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",h.x),this.set("top",h.y)},adjustPosition:function(g){var p,f,u=y(this.angle),c=this.getScaledWidth(),a=C.util.cos(u)*c,h=C.util.sin(u)*c;this.left+=a*((f="string"==typeof g?d[g]:g-.5)-(p="string"==typeof this.originX?d[this.originX]:this.originX-.5)),this.top+=h*(f-p),this.setCoords(),this.originX=g},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var g=this.getCenterPoint();this.originX="center",this.originY="center",this.left=g.x,this.top=g.y},_resetOrigin:function(){var g=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=g.x,this.top=g.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var d=C.util,m=d.degreesToRadians,g=d.multiplyTransformMatrices,u=d.transformPoint;d.object.extend(C.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(c,a){return a?c?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),c?this.aCoords:this.lineCoords)},getCoords:function(c,a){return function y(c){return[new C.Point(c.tl.x,c.tl.y),new C.Point(c.tr.x,c.tr.y),new C.Point(c.br.x,c.br.y),new C.Point(c.bl.x,c.bl.y)]}(this._getCoords(c,a))},intersectsWithRect:function(c,a,h,p){var f=this.getCoords(h,p);return"Intersection"===C.Intersection.intersectPolygonRectangle(f,c,a).status},intersectsWithObject:function(c,a,h){return"Intersection"===C.Intersection.intersectPolygonPolygon(this.getCoords(a,h),c.getCoords(a,h)).status||c.isContainedWithinObject(this,a,h)||this.isContainedWithinObject(c,a,h)},isContainedWithinObject:function(c,a,h){for(var p=this.getCoords(a,h),v=0,w=c._getImageLines(a?c.aCoords:c.lineCoords);v<4;v++)if(!c.containsPoint(p[v],w))return!1;return!0},isContainedWithinRect:function(c,a,h,p){var f=this.getBoundingRect(h,p);return f.left>=c.x&&f.left+f.width<=a.x&&f.top>=c.y&&f.top+f.height<=a.y},containsPoint:function(c,v,h,p){var f=this._getCoords(h,p),w=(v=v||this._getImageLines(f),this._findCrossPoints(c,v));return 0!==w&&w%2==1},isOnScreen:function(c){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,h=this.canvas.vptCoords.br;return!(!this.getCoords(!0,c).some(function(f){return f.x<=h.x&&f.x>=a.x&&f.y<=h.y&&f.y>=a.y})&&!this.intersectsWithRect(a,h,!0,c))||this._containsCenterOfCanvas(a,h,c)},_containsCenterOfCanvas:function(c,a,h){return!!this.containsPoint({x:(c.x+a.x)/2,y:(c.y+a.y)/2},null,!0,h)},isPartiallyOnScreen:function(c){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,h=this.canvas.vptCoords.br;return!!this.intersectsWithRect(a,h,!0,c)||this.getCoords(!0,c).every(function(f){return(f.x>=h.x||f.x<=a.x)&&(f.y>=h.y||f.y<=a.y)})&&this._containsCenterOfCanvas(a,h,c)},_getImageLines:function(c){return{topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}}},_findCrossPoints:function(c,a){var p,f,v,w,x,b=0;for(var D in a)if(!((x=a[D]).o.y<c.y&&x.d.y<c.y||x.o.y>=c.y&&x.d.y>=c.y||(x.o.x===x.d.x&&x.o.x>=c.x?w=x.o.x:(p=(x.d.y-x.o.y)/(x.d.x-x.o.x),f=c.y-0*c.x,v=x.o.y-p*x.o.x,w=-(f-v)/(0-p)),w>=c.x&&(b+=1),2!==b)))break;return b},getBoundingRect:function(c,a){var h=this.getCoords(c,a);return d.makeBoundingBoxFromPoints(h)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?c<0?-this.minScaleLimit:this.minScaleLimit:0===c?1e-4:c},scale:function(c){return this._set("scaleX",c),this._set("scaleY",c),this.setCoords()},scaleToWidth:function(c,a){var h=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(c/this.width/h)},scaleToHeight:function(c,a){var h=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(c/this.height/h)},calcLineCoords:function(){var c=this.getViewportTransform(),a=this.padding,h=m(this.angle),v=d.cos(h)*a,w=d.sin(h)*a,b=v+w,x=v-w,D=this.calcACoords(),E={tl:u(D.tl,c),tr:u(D.tr,c),bl:u(D.bl,c),br:u(D.br,c)};return a&&(E.tl.x-=x,E.tl.y-=b,E.tr.x+=b,E.tr.y-=x,E.bl.x-=b,E.bl.y+=x,E.br.x+=x,E.br.y+=b),E},calcOCoords:function(){var c=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),h=this.getViewportTransform(),p=g(h,a),f=g(p,c),v=(f=g(f,[1/h[0],0,0,1/h[3],0,0]),this._calculateCurrentDimensions()),w={};return this.forEachControl(function(b,x,D){w[x]=b.positionHandler(v,f,D)}),w},calcACoords:function(){var c=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),h=g(a,c),p=this._getTransformedDimensions(),f=p.x/2,v=p.y/2;return{tl:u({x:-f,y:-v},h),tr:u({x:f,y:-v},h),bl:u({x:-f,y:v},h),br:u({x:f,y:v},h)}},setCoords:function(c){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),c||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return d.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var c=this.getCenterPoint();return[1,0,0,1,c.x,c.y]},transformMatrixKey:function(c){var a="_",h="";return!c&&this.group&&(h=this.group.transformMatrixKey(c)+a),h+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(c){var a=this.calcOwnMatrix();if(c||!this.group)return a;var h=this.transformMatrixKey(c),p=this.matrixCache||(this.matrixCache={});return p.key===h?p.value:(this.group&&(a=g(this.group.calcTransformMatrix(!1),a)),p.key=h,p.value=a,a)},calcOwnMatrix:function(){var c=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===c)return a.value;var h=this._calcTranslateMatrix(),p={angle:this.angle,translateX:h[4],translateY:h[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=c,a.value=d.composeMatrix(p),a.value},_getNonTransformedDimensions:function(){var c=this.strokeWidth;return{x:this.width+c,y:this.height+c}},_getTransformedDimensions:function(c,a){typeof c>"u"&&(c=this.skewX),typeof a>"u"&&(a=this.skewY);var h,p,f,v=0===c&&0===a;if(this.strokeUniform?(p=this.width,f=this.height):(p=(h=this._getNonTransformedDimensions()).x,f=h.y),v)return this._finalizeDimensions(p*this.scaleX,f*this.scaleY);var w=d.sizeAfterTransform(p,f,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:c,skewY:a});return this._finalizeDimensions(w.x,w.y)},_finalizeDimensions:function(c,a){return this.strokeUniform?{x:c+this.strokeWidth,y:a+this.strokeWidth}:{x:c,y:a}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),a=this._getTransformedDimensions();return u(a,c,!0).scalarAdd(2*this.padding)}})}(),C.util.object.extend(C.Object.prototype,{sendToBack:function(){return this.group?C.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?C.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(y){return this.group?C.StaticCanvas.prototype.sendBackwards.call(this.group,this,y):this.canvas&&this.canvas.sendBackwards(this,y),this},bringForward:function(y){return this.group?C.StaticCanvas.prototype.bringForward.call(this.group,this,y):this.canvas&&this.canvas.bringForward(this,y),this},moveTo:function(y){return this.group&&"activeSelection"!==this.group.type?C.StaticCanvas.prototype.moveTo.call(this.group,this,y):this.canvas&&this.canvas.moveTo(this,y),this}}),function(){function y(m,g){if(g){if(g.toLive)return m+": url(#SVGID_"+g.id+"); ";var u=new C.Color(g),c=m+": "+u.toRgb()+"; ",a=u.getAlpha();return 1!==a&&(c+=m+"-opacity: "+a.toString()+"; "),c}return m+": none; "}var d=C.util.toFixed;C.util.object.extend(C.Object.prototype,{getSvgStyles:function(m){var g=this.fillRule?this.fillRule:"nonzero",u=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",h=this.strokeLineCap?this.strokeLineCap:"butt",p=this.strokeLineJoin?this.strokeLineJoin:"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",w=this.visible?"":" visibility: hidden;",b=m?"":this.getSvgFilter(),x=y("fill",this.fill);return[y("stroke",this.stroke),"stroke-width: ",u,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",h,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",p,"; ","stroke-miterlimit: ",f,"; ",x,"fill-rule: ",g,"; ","opacity: ",v,";",b,w].join("")},getSvgSpanStyles:function(m,g){var u="; ",a=m.fontFamily?"font-family: "+(-1===m.fontFamily.indexOf("'")&&-1===m.fontFamily.indexOf('"')?"'"+m.fontFamily+"'":m.fontFamily)+u:"",c=m.strokeWidth?"stroke-width: "+m.strokeWidth+u:"",h=m.fontSize?"font-size: "+m.fontSize+"px"+u:"",p=m.fontStyle?"font-style: "+m.fontStyle+u:"",f=m.fontWeight?"font-weight: "+m.fontWeight+u:"",v=m.fill?y("fill",m.fill):"",w=m.stroke?y("stroke",m.stroke):"",b=this.getSvgTextDecoration(m);return b&&(b="text-decoration: "+b+u),[w,c,a,h,p,f,b,v,m.deltaY?"baseline-shift: "+-m.deltaY+"; ":"",g?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(m){return["overline","underline","line-through"].filter(function(g){return m[g.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(m,g){var u=m?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+C.util.matrixToSVG(u)+(g||"")+'" '},_setSVGBg:function(m){if(this.backgroundColor){var g=C.Object.NUM_FRACTION_DIGITS;m.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',d(-this.width/2,g),'" y="',d(-this.height/2,g),'" width="',d(this.width,g),'" height="',d(this.height,g),'"></rect>\n')}},toSVG:function(m){return this._createBaseSVGMarkup(this._toSVG(m),{reviver:m})},toClipPathSVG:function(m){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(m),{reviver:m})},_createBaseClipPathSVGMarkup:function(m,g){var u=(g=g||{}).reviver,a=[this.getSvgTransform(!0,g.additionalTransform||""),this.getSvgCommons()].join(""),h=m.indexOf("COMMON_PARTS");return m[h]=a,u?u(m.join("")):m.join("")},_createBaseSVGMarkup:function(m,g){var D,k,u=(g=g||{}).noStyle,c=g.reviver,a=u?"":'style="'+this.getSvgStyles()+'" ',h=g.withShadow?'style="'+this.getSvgFilter()+'" ':"",p=this.clipPath,f=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=p&&p.absolutePositioned,w=this.stroke,b=this.fill,x=this.shadow,E=[],L=m.indexOf("COMMON_PARTS"),$=g.additionalTransform;return p&&(p.clipPathId="CLIPPATH_"+C.Object.__uid++,k='<clipPath id="'+p.clipPathId+'" >\n'+p.toClipPathSVG(c)+"</clipPath>\n"),v&&E.push("<g ",h,this.getSvgCommons()," >\n"),E.push("<g ",this.getSvgTransform(!1),v?"":h+this.getSvgCommons()," >\n"),D=[a,f,u?"":this.addPaintOrder()," ",$?'transform="'+$+'" ':""].join(""),m[L]=D,b&&b.toLive&&E.push(b.toSVG(this)),w&&w.toLive&&E.push(w.toSVG(this)),x&&E.push(x.toSVG(this)),p&&E.push(k),E.push(m.join("")),E.push("</g>\n"),v&&E.push("</g>\n"),c?c(E.join("")):E.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var y=C.util.object.extend,d="stateProperties";function m(u,c,a){var h={};a.forEach(function(f){h[f]=u[f]}),y(u[c],h,!0)}function g(u,c,a){if(u===c)return!0;if(Array.isArray(u)){if(!Array.isArray(c)||u.length!==c.length)return!1;for(var h=0,p=u.length;h<p;h++)if(!g(u[h],c[h]))return!1;return!0}if(u&&"object"==typeof u){var v,f=Object.keys(u);if(!c||"object"!=typeof c||!a&&f.length!==Object.keys(c).length)return!1;for(h=0,p=f.length;h<p;h++)if("canvas"!==(v=f[h])&&"group"!==v&&!g(u[v],c[v]))return!1;return!0}}C.util.object.extend(C.Object.prototype,{hasStateChanged:function(u){var c="_"+(u=u||d);return Object.keys(this[c]).length<this[u].length||!g(this[c],this,!0)},saveState:function(u){var c=u&&u.propertySet||d,a="_"+c;return this[a]?(m(this,a,this[c]),u&&u.stateProperties&&m(this,a,u.stateProperties),this):this.setupState(u)},setupState:function(u){var c=(u=u||{}).propertySet||d;return u.propertySet=c,this["_"+c]={},this.saveState(u),this}})}(),function(){var y=C.util.degreesToRadians;C.util.object.extend(C.Object.prototype,{_findTargetCorner:function(d,m){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var c,a,f,g=d.x,u=d.y,h=Object.keys(this.oCoords),p=h.length-1;for(this.__corner=0;p>=0;p--)if(this.isControlVisible(f=h[p])&&(a=this._getImageLines(m?this.oCoords[f].touchCorner:this.oCoords[f].corner),0!==(c=this._findCrossPoints({x:g,y:u},a))&&c%2==1))return this.__corner=f,f;return!1},forEachControl:function(d){for(var m in this.controls)d(this.controls[m],m,this)},_setCornerCoords:function(){var d=this.oCoords;for(var m in d){var g=this.controls[m];d[m].corner=g.calcCornerCoords(this.angle,this.cornerSize,d[m].x,d[m].y,!1),d[m].touchCorner=g.calcCornerCoords(this.angle,this.touchCornerSize,d[m].x,d[m].y,!0)}},drawSelectionBackground:function(d){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;d.save();var m=this.getCenterPoint(),g=this._calculateCurrentDimensions(),u=this.canvas.viewportTransform;return d.translate(m.x,m.y),d.scale(1/u[0],1/u[3]),d.rotate(y(this.angle)),d.fillStyle=this.selectionBackgroundColor,d.fillRect(-g.x/2,-g.y/2,g.x,g.y),d.restore(),this},drawBorders:function(d,m){m=m||{};var g=this._calculateCurrentDimensions(),u=this.borderScaleFactor,c=g.x+u,a=g.y+u,h=typeof m.hasControls<"u"?m.hasControls:this.hasControls,p=!1;return d.save(),d.strokeStyle=m.borderColor||this.borderColor,this._setLineDash(d,m.borderDashArray||this.borderDashArray),d.strokeRect(-c/2,-a/2,c,a),h&&(d.beginPath(),this.forEachControl(function(f,v,w){f.withConnection&&f.getVisibility(w,v)&&(p=!0,d.moveTo(f.x*c,f.y*a),d.lineTo(f.x*c+f.offsetX,f.y*a+f.offsetY))}),p&&d.stroke()),d.restore(),this},drawBordersInGroup:function(d,m,g){g=g||{};var u=C.util.sizeAfterTransform(this.width,this.height,m),c=this.strokeWidth,a=this.strokeUniform,h=this.borderScaleFactor,p=u.x+c*(a?this.canvas.getZoom():m.scaleX)+h,f=u.y+c*(a?this.canvas.getZoom():m.scaleY)+h;return d.save(),this._setLineDash(d,g.borderDashArray||this.borderDashArray),d.strokeStyle=g.borderColor||this.borderColor,d.strokeRect(-p/2,-f/2,p,f),d.restore(),this},drawControls:function(d,m){m=m||{},d.save();var u,c,g=this.canvas.getRetinaScaling();return d.setTransform(g,0,0,g,0,0),d.strokeStyle=d.fillStyle=m.cornerColor||this.cornerColor,this.transparentCorners||(d.strokeStyle=m.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(d,m.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(u=this.group.calcTransformMatrix()),this.forEachControl(function(a,h,p){c=p.oCoords[h],a.getVisibility(p,h)&&(u&&(c=C.util.transformPoint(c,u)),a.render(d,c.x,c.y,m,p))}),d.restore(),this},isControlVisible:function(d){return this.controls[d]&&this.controls[d].getVisibility(this,d)},setControlVisible:function(d,m){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[d]=m,this},setControlsVisibility:function(d){for(var m in d||(d={}),d)this.setControlVisible(m,d[m]);return this},onDeselect:function(){},onSelect:function(){}})}(),C.util.object.extend(C.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(y,d){var m=function(){},g=(d=d||{}).onComplete||m,u=d.onChange||m,c=this;return C.util.animate({target:this,startValue:y.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){y.set("left",a),c.requestRenderAll(),u()},onComplete:function(){y.setCoords(),g()}})},fxCenterObjectV:function(y,d){var m=function(){},g=(d=d||{}).onComplete||m,u=d.onChange||m,c=this;return C.util.animate({target:this,startValue:y.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){y.set("top",a),c.requestRenderAll(),u()},onComplete:function(){y.setCoords(),g()}})},fxRemove:function(y,d){var m=function(){},g=(d=d||{}).onComplete||m,u=d.onChange||m,c=this;return C.util.animate({target:this,startValue:y.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){y.set("opacity",a),c.requestRenderAll(),u()},onComplete:function(){c.remove(y),g()}})}}),C.util.object.extend(C.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var d,y=[],g=[];for(d in arguments[0])y.push(d);for(var u=0,c=y.length;u<c;u++)g.push(this._animate(d=y[u],arguments[0][d],arguments[1],u!==c-1));return g}return this._animate.apply(this,arguments)},_animate:function(y,d,m,g){var c,u=this;d=d.toString(),m=m?C.util.object.clone(m):{},~y.indexOf(".")&&(c=y.split("."));var a=u.colorProperties.indexOf(y)>-1||c&&u.colorProperties.indexOf(c[1])>-1,h=c?this.get(c[0])[c[1]]:this.get(y);"from"in m||(m.from=h),a||(d=~d.indexOf("=")?h+parseFloat(d.replace("=","")):parseFloat(d));var p={target:this,startValue:m.from,endValue:d,byValue:m.by,easing:m.easing,duration:m.duration,abort:m.abort&&function(f,v,w){return m.abort.call(u,f,v,w)},onChange:function(f,v,w){c?u[c[0]][c[1]]=f:u.set(y,f),!g&&m.onChange&&m.onChange(f,v,w)},onComplete:function(f,v,w){g||(u.setCoords(),m.onComplete&&m.onComplete(f,v,w))}};return a?C.util.animateColor(p.startValue,p.endValue,p.duration,p):C.util.animate(p)}}),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.extend,g=d.util.object.clone,u={x1:1,x2:1,y1:1,y2:1};function c(a,h){var p=a.origin,f=a.axis1,v=a.axis2,w=a.dimension,b=h.nearest,x=h.center,D=h.farthest;return function(){switch(this.get(p)){case b:return Math.min(this.get(f),this.get(v));case x:return Math.min(this.get(f),this.get(v))+.5*this.get(w);case D:return Math.max(this.get(f),this.get(v))}}}d.Line?d.warn("fabric.Line is already defined"):(d.Line=d.util.createClass(d.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:d.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,h){a||(a=[0,0,0,0]),this.callSuper("initialize",h),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(h)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,h){return this.callSuper("_set",a,h),typeof u[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var h=this.calcLinePoints();a.moveTo(h.x1,h.y1),a.lineTo(h.x2,h.y2),a.lineWidth=this.strokeWidth;var p=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=p},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return m(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(a.y-=this.strokeWidth),0===this.height&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,h=this.y1<=this.y2?-1:1;return{x1:a*this.width*.5,x2:a*this.width*-.5,y1:h*this.height*.5,y2:h*this.height*-.5}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'" />\n']}}),d.Line.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),d.Line.fromElement=function(a,h,p){p=p||{};var f=d.parseAttributes(a,d.Line.ATTRIBUTE_NAMES);h(new d.Line([f.x1||0,f.y1||0,f.x2||0,f.y2||0],m(f,p)))},d.Line.fromObject=function(a,h){var f=g(a,!0);f.points=[a.x1,a.y1,a.x2,a.y2],d.Object._fromObject("Line",f,function p(v){delete v.points,h&&h(v)},"points")})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.degreesToRadians;d.Circle?d.warn("fabric.Circle is already defined."):(d.Circle=d.util.createClass(d.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:d.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(u,c){return this.callSuper("_set",u,c),"radius"===u&&this.setRadius(c),this},toObject:function(u){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(u))},_toSVG:function(){var u,h=(this.endAngle-this.startAngle)%360;if(0===h)u=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var p=m(this.startAngle),f=m(this.endAngle),v=this.radius;u=['<path d="M '+d.util.cos(p)*v+" "+d.util.sin(p)*v," A "+v+" "+v," 0 ",+(h>180?"1":"0")+" 1"," "+d.util.cos(f)*v+" "+d.util.sin(f)*v,'" ',"COMMON_PARTS"," />\n"]}return u},_render:function(u){u.beginPath(),u.arc(0,0,this.radius,m(this.startAngle),m(this.endAngle),!1),this._renderPaintInOrder(u)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(u){return this.radius=u,this.set("width",2*u).set("height",2*u)}}),d.Circle.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),d.Circle.fromElement=function(u,c){var a=d.parseAttributes(u,d.Circle.ATTRIBUTE_NAMES);if(!function g(u){return"radius"in u&&u.radius>=0}(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,c(new d.Circle(a))},d.Circle.fromObject=function(u,c){d.Object._fromObject("Circle",u,c)})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={});d.Triangle?d.warn("fabric.Triangle is already defined"):(d.Triangle=d.util.createClass(d.Object,{type:"triangle",width:100,height:100,_render:function(m){var g=this.width/2,u=this.height/2;m.beginPath(),m.moveTo(-g,u),m.lineTo(0,-u),m.lineTo(g,u),m.closePath(),this._renderPaintInOrder(m)},_toSVG:function(){var m=this.width/2,g=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-m+" "+g,"0 "+-g,m+" "+g].join(","),'" />']}}),d.Triangle.fromObject=function(m,g){return d.Object._fromObject("Triangle",m,g)})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=2*Math.PI;d.Ellipse?d.warn("fabric.Ellipse is already defined."):(d.Ellipse=d.util.createClass(d.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:d.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this.set("rx",g&&g.rx||0),this.set("ry",g&&g.ry||0)},_set:function(g,u){switch(this.callSuper("_set",g,u),g){case"rx":this.rx=u,this.set("width",2*u);break;case"ry":this.ry=u,this.set("height",2*u)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(g){g.beginPath(),g.save(),g.transform(1,0,0,this.ry/this.rx,0,0),g.arc(0,0,this.rx,0,m,!1),g.restore(),this._renderPaintInOrder(g)}}),d.Ellipse.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),d.Ellipse.fromElement=function(g,u){var c=d.parseAttributes(g,d.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,u(new d.Ellipse(c))},d.Ellipse.fromObject=function(g,u){d.Object._fromObject("Ellipse",g,u)})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.extend;d.Rect?d.warn("fabric.Rect is already defined"):(d.Rect=d.util.createClass(d.Object,{stateProperties:d.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:d.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(g){var u=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,h=this.height,p=-this.width/2,f=-this.height/2,v=0!==u||0!==c,w=.4477152502;g.beginPath(),g.moveTo(p+u,f),g.lineTo(p+a-u,f),v&&g.bezierCurveTo(p+a-w*u,f,p+a,f+w*c,p+a,f+c),g.lineTo(p+a,f+h-c),v&&g.bezierCurveTo(p+a,f+h-w*c,p+a-w*u,f+h,p+a-u,f+h),g.lineTo(p+u,f+h),v&&g.bezierCurveTo(p+w*u,f+h,p,f+h-w*c,p,f+h-c),g.lineTo(p,f+c),v&&g.bezierCurveTo(p,f+w*c,p+w*u,f,p+u,f),g.closePath(),this._renderPaintInOrder(g)},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),d.Rect.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),d.Rect.fromElement=function(g,u,c){if(!g)return u(null);c=c||{};var a=d.parseAttributes(g,d.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var h=new d.Rect(m(c?d.util.object.clone(c):{},a));h.visible=h.visible&&h.width>0&&h.height>0,u(h)},d.Rect.fromObject=function(g,u){return d.Object._fromObject("Rect",g,u)})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.extend,g=d.util.array.min,u=d.util.array.max,c=d.util.toFixed,a=d.util.projectStrokeOnPoints;d.Polyline?d.warn("fabric.Polyline is already defined"):(d.Polyline=d.util.createClass(d.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:d.Object.prototype.cacheProperties.concat("points"),initialize:function(h,p){p=p||{},this.points=h||[],this.callSuper("initialize",p),this._setPositionDimensions(p)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(h){var f,p=this._calcDimensions(h),v=this.exactBoundingBox?this.strokeWidth:0;this.width=p.width-v,this.height=p.height-v,h.fromSVG||(f=this.translateToGivenOrigin({x:p.left-this.strokeWidth/2+v/2,y:p.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof h.left>"u"&&(this.left=h.fromSVG?p.left:f.x),typeof h.top>"u"&&(this.top=h.fromSVG?p.top:f.y),this.pathOffset={x:p.left+this.width/2+v/2,y:p.top+this.height/2+v/2}},_calcDimensions:function(){var h=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,p=g(h,"x")||0,f=g(h,"y")||0;return{left:p,top:f,width:(u(h,"x")||0)-p,height:(u(h,"y")||0)-f}},toObject:function(h){return m(this.callSuper("toObject",h),{points:this.points.concat()})},_toSVG:function(){for(var h=[],p=this.pathOffset.x,f=this.pathOffset.y,v=d.Object.NUM_FRACTION_DIGITS,w=0,b=this.points.length;w<b;w++)h.push(c(this.points[w].x-p,v),",",c(this.points[w].y-f,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',h.join(""),'" />\n']},commonRender:function(h){var p,f=this.points.length,v=this.pathOffset.x,w=this.pathOffset.y;if(!f||isNaN(this.points[f-1].y))return!1;h.beginPath(),h.moveTo(this.points[0].x-v,this.points[0].y-w);for(var b=0;b<f;b++)h.lineTo((p=this.points[b]).x-v,p.y-w);return!0},_render:function(h){this.commonRender(h)&&this._renderPaintInOrder(h)},complexity:function(){return this.get("points").length}}),d.Polyline.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat(),d.Polyline.fromElementGenerator=function(h){return function(p,f,v){if(!p)return f(null);v||(v={});var w=d.parsePointsAttribute(p.getAttribute("points")),b=d.parseAttributes(p,d[h].ATTRIBUTE_NAMES);b.fromSVG=!0,f(new d[h](w,m(b,v)))}},d.Polyline.fromElement=d.Polyline.fromElementGenerator("Polyline"),d.Polyline.fromObject=function(h,p){return d.Object._fromObject("Polyline",h,p,"points")})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.projectStrokeOnPoints;d.Polygon?d.warn("fabric.Polygon is already defined"):(d.Polygon=d.util.createClass(d.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return m(this.points,this)},_render:function(g){this.commonRender(g)&&(g.closePath(),this._renderPaintInOrder(g))}}),d.Polygon.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat(),d.Polygon.fromElement=d.Polyline.fromElementGenerator("Polygon"),d.Polygon.fromObject=function(g,u){d.Object._fromObject("Polygon",g,u,"points")})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.array.min,g=d.util.array.max,u=d.util.object.extend,c=d.util.object.clone,a=d.util.toFixed;d.Path?d.warn("fabric.Path is already defined"):(d.Path=d.util.createClass(d.Object,{type:"path",path:null,cacheProperties:d.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:d.Object.prototype.stateProperties.concat("path"),initialize:function(h,p){delete(p=c(p||{})).path,this.callSuper("initialize",p),this._setPath(h||[],p)},_setPath:function(h,p){this.path=d.util.makePathSimpler(Array.isArray(h)?h:d.util.parsePath(h)),d.Polyline.prototype._setPositionDimensions.call(this,p||{})},_renderPathCommands:function(h){var p,f=0,v=0,w=0,b=0,E=-this.pathOffset.x,k=-this.pathOffset.y;h.beginPath();for(var L=0,$=this.path.length;L<$;++L)switch(p=this.path[L],p[0]){case"L":h.lineTo((w=p[1])+E,(b=p[2])+k);break;case"M":f=w=p[1],v=b=p[2],h.moveTo(w+E,b+k);break;case"C":h.bezierCurveTo(p[1]+E,p[2]+k,p[3]+E,p[4]+k,(w=p[5])+E,(b=p[6])+k);break;case"Q":h.quadraticCurveTo(p[1]+E,p[2]+k,p[3]+E,p[4]+k),w=p[3],b=p[4];break;case"z":case"Z":w=f,b=v,h.closePath()}},_render:function(h){this._renderPathCommands(h),this._renderPaintInOrder(h)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(h){return u(this.callSuper("toObject",h),{path:this.path.map(function(p){return p.slice()})})},toDatalessObject:function(h){var p=this.toObject(["sourcePath"].concat(h));return p.sourcePath&&delete p.path,p},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',d.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var h=d.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,h)+", "+a(-this.pathOffset.y,h)+")"},toClipPathSVG:function(h){var p=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:h,additionalTransform:p})},toSVG:function(h){var p=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,additionalTransform:p})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var f,D,h=[],p=[],v=0,w=0,b=0,x=0,E=0,k=this.path.length;E<k;++E){switch((f=this.path[E])[0]){case"L":b=f[1],x=f[2],D=[];break;case"M":v=b=f[1],w=x=f[2],D=[];break;case"C":D=d.util.getBoundsOfCurve(b,x,f[1],f[2],f[3],f[4],f[5],f[6]),b=f[5],x=f[6];break;case"Q":D=d.util.getBoundsOfCurve(b,x,f[1],f[2],f[1],f[2],f[3],f[4]),b=f[3],x=f[4];break;case"z":case"Z":b=v,x=w}D.forEach(function(de){h.push(de.x),p.push(de.y)}),h.push(b),p.push(x)}var L=m(h)||0,$=m(p)||0;return{left:L,top:$,width:(g(h)||0)-L,height:(g(p)||0)-$}}}),d.Path.fromObject=function(h,p){"string"==typeof h.sourcePath?d.loadSVGFromURL(h.sourcePath,function(v){var w=v[0];w.setOptions(h),h.clipPath?d.util.enlivenObjects([h.clipPath],function(b){w.clipPath=b[0],p&&p(w)}):p&&p(w)}):d.Object._fromObject("Path",h,p,"path")},d.Path.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat(["d"]),d.Path.fromElement=function(h,p,f){var v=d.parseAttributes(h,d.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,p(new d.Path(v.d,u(v,f)))})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.array.min,g=d.util.array.max;d.Group||(d.Group=d.util.createClass(d.Object,d.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(u,c,a){c=c||{},this._objects=[],a&&this.callSuper("initialize",c),this._objects=u||[];for(var h=this._objects.length;h--;)this._objects[h].group=this;if(a)this._updateObjectsACoords();else{var p=c&&c.centerPoint;void 0!==c.originX&&(this.originX=c.originX),void 0!==c.originY&&(this.originY=c.originY),p||this._calcBounds(),this._updateObjectsCoords(p),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var c=this._objects.length;c--;)this._objects[c].setCoords(!0)},_updateObjectsCoords:function(c){c=c||this.getCenterPoint();for(var a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],c)},_updateObjectCoords:function(u,c){u.set({left:u.left-c.x,top:u.top-c.y}),u.group=this,u.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(u){var c=!!this.group;return this._restoreObjectsState(),d.util.resetObjectTransform(this),u&&(c&&d.util.removeTransformFromObject(u,this.group.calcTransformMatrix()),this._objects.push(u),u.group=this,u._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,c?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(u){return this._restoreObjectsState(),d.util.resetObjectTransform(this),this.remove(u),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(u){this.dirty=!0,u.group=this,u._set("canvas",this.canvas)},_onObjectRemoved:function(u){this.dirty=!0,delete u.group},_set:function(u,c){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(u,c);if("canvas"===u)for(;a--;)this._objects[a]._set(u,c);d.Object.prototype._set.call(this,u,c)},toObject:function(u){var c=this.includeDefaultValues,a=this._objects.filter(function(p){return!p.excludeFromExport}).map(function(p){var f=p.includeDefaultValues;p.includeDefaultValues=c;var v=p.toObject(u);return p.includeDefaultValues=f,v}),h=d.Object.prototype.toObject.call(this,u);return h.objects=a,h},toDatalessObject:function(u){var c,a=this.sourcePath;if(a)c=a;else{var h=this.includeDefaultValues;c=this._objects.map(function(f){var v=f.includeDefaultValues;f.includeDefaultValues=h;var w=f.toDatalessObject(u);return f.includeDefaultValues=v,w})}var p=d.Object.prototype.toDatalessObject.call(this,u);return p.objects=c,p},render:function(u){this._transformDone=!0,this.callSuper("render",u),this._transformDone=!1},shouldCache:function(){var u=d.Object.prototype.shouldCache.call(this);if(u)for(var c=0,a=this._objects.length;c<a;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1;return u},willDrawShadow:function(){if(d.Object.prototype.willDrawShadow.call(this))return!0;for(var u=0,c=this._objects.length;u<c;u++)if(this._objects[u].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(u){for(var c=0,a=this._objects.length;c<a;c++)this._objects[c].render(u);this._drawClipPath(u,this.clipPath)},isCacheDirty:function(u){if(this.callSuper("isCacheDirty",u))return!0;if(!this.statefullCache)return!1;for(var c=0,a=this._objects.length;c<a;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var h=this.cacheWidth/this.zoomX,p=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-h/2,-p/2,h,p)}return!0}return!1},_restoreObjectsState:function(){var u=this.calcOwnMatrix();return this._objects.forEach(function(c){d.util.addTransformToObject(c,u),delete c.group,c.setCoords()}),this},destroy:function(){return this._objects.forEach(function(u){u.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(u){u.dispose&&u.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var u=this._objects,c=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var h=new d.ActiveSelection([]);return h.set(a),h.type="activeSelection",c.remove(this),u.forEach(function(p){p.group=h,p.dirty=!0,c.add(p)}),h.canvas=c,h._objects=u,c._activeObject=h,h.setCoords(),h}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(c){c.setCoords(!0)}),this},_calcBounds:function(u){for(var h,p,f,x,c=[],a=[],v=["tr","br","bl","tl"],w=0,b=this._objects.length,D=v.length;w<b;++w){for(f=(h=this._objects[w]).calcACoords(),x=0;x<D;x++)c.push(f[p=v[x]].x),a.push(f[p].y);h.aCoords=f}this._getBounds(c,a,u)},_getBounds:function(u,c,a){var h=new d.Point(m(u),m(c)),p=new d.Point(g(u),g(c)),f=h.y||0,v=h.x||0,b=p.y-h.y||0;this.width=p.x-h.x||0,this.height=b,a||this.setPositionByOrigin({x:v,y:f},"left","top")},_toSVG:function(u){for(var c=["<g ","COMMON_PARTS"," >\n"],a=0,h=this._objects.length;a<h;a++)c.push("\t\t",this._objects[a].toSVG(u));return c.push("</g>\n"),c},getSvgStyles:function(){var c=this.visible?"":" visibility: hidden;";return[typeof this.opacity<"u"&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),c].join("")},toClipPathSVG:function(u){for(var c=[],a=0,h=this._objects.length;a<h;a++)c.push("\t",this._objects[a].toClipPathSVG(u));return this._createBaseClipPathSVGMarkup(c,{reviver:u})}}),d.Group.fromObject=function(u,c){var a=u.objects,h=d.util.object.clone(u,!0);delete h.objects,"string"!=typeof a?d.util.enlivenObjects(a,function(p){d.util.enlivenObjectEnlivables(u,h,function(){c&&c(new d.Group(p,h,!0))})}):d.loadSVGFromURL(a,function(p){var f=d.util.groupSVGElements(p,u,a),v=h.clipPath;delete h.clipPath,f.set(h),v?d.util.enlivenObjects([v],function(w){f.clipPath=w[0],c&&c(f)}):c&&c(f)})})}(F),function(y){"use strict";var d=y.fabric||(y.fabric={});d.ActiveSelection||(d.ActiveSelection=d.util.createClass(d.Group,{type:"activeSelection",initialize:function(m,g){g=g||{},this._objects=m||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;g.originX&&(this.originX=g.originX),g.originY&&(this.originY=g.originY),this._calcBounds(),this._updateObjectsCoords(),d.Object.prototype.initialize.call(this,g),this.setCoords()},toGroup:function(){var m=this._objects.concat();this._objects=[];var g=d.Object.prototype.toObject.call(this),u=new d.Group([]);if(delete g.type,u.set(g),m.forEach(function(a){a.canvas.remove(a),a.group=u}),u._objects=m,!this.canvas)return u;var c=this.canvas;return c.add(u),c._activeObject=u,u.setCoords(),u},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(m,g,u){m.save(),m.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",m,g),typeof(u=u||{}).hasControls>"u"&&(u.hasControls=!1),u.forActiveSelection=!0;for(var c=0,a=this._objects.length;c<a;c++)this._objects[c]._renderControls(m,u);m.restore()}}),d.ActiveSelection.fromObject=function(m,g){d.util.enlivenObjects(m.objects,function(u){delete m.objects,g&&g(new d.ActiveSelection(u,m,!0))})})}(F),function(y){"use strict";var d=C.util.object.extend;y.fabric||(y.fabric={}),y.fabric.Image?C.warn("fabric.Image is already defined."):(C.Image=C.util.createClass(C.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:C.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:C.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(m,g){g||(g={}),this.filters=[],this.cacheKey="texture"+C.Object.__uid++,this.callSuper("initialize",g),this._initElement(m,g)},getElement:function(){return this._element||{}},setElement:function(m,g){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=m,this._originalElement=m,this._initConfig(g),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(m){var g=C.filterBackend;g&&g.evictCachesForKey&&g.evictCachesForKey(m)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(m){C.util.cleanUpJsdomNode(this[m]),this[m]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var m=this.getElement();return{width:m.naturalWidth||m.width,height:m.naturalHeight||m.height}},_stroke:function(m){if(this.stroke&&0!==this.strokeWidth){var g=this.width/2,u=this.height/2;m.beginPath(),m.moveTo(-g,-u),m.lineTo(g,-u),m.lineTo(g,u),m.lineTo(-g,u),m.lineTo(-g,-u),m.closePath()}},toObject:function(m){var g=[];this.filters.forEach(function(c){c&&g.push(c.toObject())});var u=d(this.callSuper("toObject",["cropX","cropY"].concat(m)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:g});return this.resizeFilter&&(u.resizeFilter=this.resizeFilter.toObject()),u},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u,m=[],g=[],c=this._element,a=-this.width/2,h=-this.height/2,p="",f="";if(!c)return[];if(this.hasCrop()){var v=C.Object.__uid++;m.push('<clipPath id="imageCrop_'+v+'">\n','\t<rect x="'+a+'" y="'+h+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),p=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(f='" image-rendering="optimizeSpeed'),g.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',h-this.cropY,'" width="',c.width||c.naturalWidth,'" height="',c.height||c.height,f,'"',p,"></image>\n"),this.stroke||this.strokeDashArray){var w=this.fill;this.fill=null,u=["\t<rect ",'x="',a,'" y="',h,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=w}return"fill"!==this.paintFirst?m.concat(u,g):m.concat(g,u)},getSrc:function(m){var g=m?this._element:this._originalElement;return g?g.toDataURL?g.toDataURL():this.srcFromAttribute?g.getAttribute("src"):g.src:this.src||""},setSrc:function(m,g,u){return C.util.loadImage(m,function(c,a){this.setElement(c,u),this._setWidthHeight(),g&&g(this,a)},this,u&&u.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var m=this.resizeFilter,g=this.minimumScaleTrigger,u=this.getTotalObjectScaling(),c=u.scaleX,a=u.scaleY,h=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!m||c>g&&a>g)return this._element=h,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,void(this._lastScaleY=a);C.filterBackend||(C.filterBackend=C.initFilterBackend());var p=C.util.createCanvasElement(),f=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=h.width,w=h.height;p.width=v,p.height=w,this._element=p,this._lastScaleX=m.scaleX=c,this._lastScaleY=m.scaleY=a,C.filterBackend.applyFilters([m],h,v,w,this._element,f),this._filterScalingX=p.width/this._originalElement.width,this._filterScalingY=p.height/this._originalElement.height},applyFilters:function(m){if(m=(m=m||this.filters||[]).filter(function(h){return h&&!h.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===m.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var g=this._originalElement,u=g.naturalWidth||g.width,c=g.naturalHeight||g.height;if(this._element===this._originalElement){var a=C.util.createCanvasElement();a.width=u,a.height=c,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,u,c),this._lastScaleX=1,this._lastScaleY=1;return C.filterBackend||(C.filterBackend=C.initFilterBackend()),C.filterBackend.applyFilters(m,this._originalElement,u,c,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(m){C.util.setImageSmoothing(m,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(m),this._renderPaintInOrder(m)},drawCacheOnCanvas:function(m){C.util.setImageSmoothing(m,this.imageSmoothing),C.Object.prototype.drawCacheOnCanvas.call(this,m)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(m){var g=this._element;if(g){var u=this._filterScalingX,c=this._filterScalingY,a=this.width,h=this.height,p=Math.min,f=Math.max,v=f(this.cropX,0),w=f(this.cropY,0),b=g.naturalWidth||g.width,x=g.naturalHeight||g.height,D=v*u,E=w*c,k=p(a*u,b-D),L=p(h*c,x-E),$=-a/2,V=-h/2,ne=p(a,b/u-v),ie=p(h,x/c-w);g&&m.drawImage(g,D,E,k,L,$,V,ne,ie)}},_needsResize:function(){var m=this.getTotalObjectScaling();return m.scaleX!==this._lastScaleX||m.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(m,g){this.setElement(C.util.getById(m),g),C.util.addClass(this.getElement(),C.Image.CSS_CANVAS)},_initConfig:function(m){m||(m={}),this.setOptions(m),this._setWidthHeight(m)},_initFilters:function(m,g){m&&m.length?C.util.enlivenObjects(m,function(u){g&&g(u)},"fabric.Image.filters"):g&&g()},_setWidthHeight:function(m){m||(m={});var g=this.getElement();this.width=m.width||g.naturalWidth||g.width||0,this.height=m.height||g.naturalHeight||g.height||0},parsePreserveAspectRatioAttribute:function(){var w,m=C.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),g=this._element.width,u=this._element.height,c=1,a=1,h=0,p=0,f=0,v=0,b=this.width,x=this.height,D={width:b,height:x};return!m||"none"===m.alignX&&"none"===m.alignY?(c=b/g,a=x/u):("meet"===m.meetOrSlice&&(w=(b-g*(c=a=C.util.findScaleToFit(this._element,D)))/2,"Min"===m.alignX&&(h=-w),"Max"===m.alignX&&(h=w),w=(x-u*a)/2,"Min"===m.alignY&&(p=-w),"Max"===m.alignY&&(p=w)),"slice"===m.meetOrSlice&&(w=g-b/(c=a=C.util.findScaleToCover(this._element,D)),"Mid"===m.alignX&&(f=w/2),"Max"===m.alignX&&(f=w),w=u-x/a,"Mid"===m.alignY&&(v=w/2),"Max"===m.alignY&&(v=w),g=b/c,u=x/a)),{width:g,height:u,scaleX:c,scaleY:a,offsetLeft:h,offsetTop:p,cropX:f,cropY:v}}}),C.Image.CSS_CANVAS="canvas-img",C.Image.prototype.getSvgSrc=C.Image.prototype.getSrc,C.Image.fromObject=function(m,g){var u=C.util.object.clone(m);C.util.loadImage(u.src,function(c,a){a?g&&g(null,!0):C.Image.prototype._initFilters.call(u,u.filters,function(h){u.filters=h||[],C.Image.prototype._initFilters.call(u,[u.resizeFilter],function(p){u.resizeFilter=p[0],C.util.enlivenObjectEnlivables(u,u,function(){var f=new C.Image(c,u);g(f,!1)})})})},null,u.crossOrigin)},C.Image.fromURL=function(m,g,u){C.util.loadImage(m,function(c,a){g&&g(new C.Image(c,u),a)},null,u&&u.crossOrigin)},C.Image.ATTRIBUTE_NAMES=C.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),C.Image.fromElement=function(m,g,u){var c=C.parseAttributes(m,C.Image.ATTRIBUTE_NAMES);C.Image.fromURL(c["xlink:href"],g,d(u?C.util.object.clone(u):{},c))})}(F),C.util.object.extend(C.Object.prototype,{_getAngleValueForStraighten:function(){var y=this.angle%360;return y>0?90*Math.round((y-1)/90):90*Math.round(y/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(y){var d=function(){},m=(y=y||{}).onComplete||d,g=y.onChange||d,u=this;return C.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){u.rotate(c),g()},onComplete:function(){u.setCoords(),m()}})}}),C.util.object.extend(C.StaticCanvas.prototype,{straightenObject:function(y){return y.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(y){return y.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function y(m,g){var u="precision "+g+" float;\nvoid main(){}",c=m.createShader(m.FRAGMENT_SHADER);return m.shaderSource(c,u),m.compileShader(c),!!m.getShaderParameter(c,m.COMPILE_STATUS)}function d(m){m&&m.tileSize&&(this.tileSize=m.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}C.isWebglSupported=function(m){if(C.isLikelyNode)return!1;m=m||C.WebglFilterBackend.prototype.tileSize;var g=document.createElement("canvas"),u=g.getContext("webgl")||g.getContext("experimental-webgl"),c=!1;if(u){C.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE),c=C.maxTextureSize>=m;for(var a=["highp","mediump","lowp"],h=0;h<3;h++)if(y(u,a[h])){C.webGlPrecision=a[h];break}}return this.isSupported=c,c},C.WebglFilterBackend=d,d.prototype={tileSize:2048,resources:{},setupGLContext:function(m,g){this.dispose(),this.createWebGLCanvas(m,g),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(m,g)},chooseFastestCopyGLTo2DMethod:function(m,g){var c,u=typeof window.performance<"u";try{new ImageData(1,1),c=!0}catch{c=!1}var a=typeof ArrayBuffer<"u",h=typeof Uint8ClampedArray<"u";if(u&&c&&a&&h){var p=C.util.createCanvasElement(),f=new ArrayBuffer(m*g*4);if(C.forceGLPutImageData)return this.imageBuffer=f,void(this.copyGLTo2D=B);var w,b,v={imageBuffer:f,destinationWidth:m,destinationHeight:g,targetCanvas:p};p.width=m,p.height=g,w=window.performance.now(),H.call(v,this.gl,v),b=window.performance.now()-w,w=window.performance.now(),B.call(v,this.gl,v),b>window.performance.now()-w?(this.imageBuffer=f,this.copyGLTo2D=B):this.copyGLTo2D=H}},createWebGLCanvas:function(m,g){var u=C.util.createCanvasElement();u.width=m,u.height=g;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=u.getContext("webgl",c);a||(a=u.getContext("experimental-webgl",c)),a&&(a.clearColor(0,0,0,0),this.canvas=u,this.gl=a)},applyFilters:function(m,g,u,c,a,h){var f,p=this.gl;h&&(f=this.getCachedTexture(h,g));var v={originalWidth:g.width||g.originalWidth,originalHeight:g.height||g.originalHeight,sourceWidth:u,sourceHeight:c,destinationWidth:u,destinationHeight:c,context:p,sourceTexture:this.createTexture(p,u,c,!f&&g),targetTexture:this.createTexture(p,u,c),originalTexture:f||this.createTexture(p,u,c,!f&&g),passes:m.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},w=p.createFramebuffer();return p.bindFramebuffer(p.FRAMEBUFFER,w),m.forEach(function(b){b&&b.applyTo(v)}),function X(y){var d=y.targetCanvas,u=y.destinationWidth,c=y.destinationHeight;(d.width!==u||d.height!==c)&&(d.width=u,d.height=c)}(v),this.copyGLTo2D(p,v),p.bindTexture(p.TEXTURE_2D,null),p.deleteTexture(v.sourceTexture),p.deleteTexture(v.targetTexture),p.deleteFramebuffer(w),a.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(m,g,u,c,a){var h=m.createTexture();return m.bindTexture(m.TEXTURE_2D,h),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,a||m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,a||m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),c?m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,c):m.texImage2D(m.TEXTURE_2D,0,m.RGBA,g,u,0,m.RGBA,m.UNSIGNED_BYTE,null),h},getCachedTexture:function(m,g){if(this.textureCache[m])return this.textureCache[m];var u=this.createTexture(this.gl,g.width,g.height,g);return this.textureCache[m]=u,u},evictCachesForKey:function(m){this.textureCache[m]&&(this.gl.deleteTexture(this.textureCache[m]),delete this.textureCache[m])},copyGLTo2D:H,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var m=this.gl,g={renderer:"",vendor:""};if(!m)return g;var u=m.getExtension("WEBGL_debug_renderer_info");if(u){var c=m.getParameter(u.UNMASKED_RENDERER_WEBGL),a=m.getParameter(u.UNMASKED_VENDOR_WEBGL);c&&(g.renderer=c.toLowerCase()),a&&(g.vendor=a.toLowerCase())}return this.gpuInfo=g,g}}}(),function(){"use strict";var y=function(){};function d(){}C.Canvas2dFilterBackend=d,d.prototype={evictCachesForKey:y,dispose:y,clearWebGLCaches:y,resources:{},applyFilters:function(m,g,u,c,a){var h=a.getContext("2d");h.drawImage(g,0,0,u,c);var v={sourceWidth:u,sourceHeight:c,imageData:h.getImageData(0,0,u,c),originalEl:g,originalImageData:h.getImageData(0,0,u,c),canvasEl:a,ctx:h,filterBackend:this};return m.forEach(function(w){w.applyTo(v)}),(v.imageData.width!==u||v.imageData.height!==c)&&(a.width=v.imageData.width,a.height=v.imageData.height),h.putImageData(v.imageData,0,0),v}}}(),C.Image=C.Image||{},C.Image.filters=C.Image.filters||{},C.Image.filters.BaseFilter=C.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(y){y&&this.setOptions(y)},setOptions:function(y){for(var d in y)this[d]=y[d]},createProgram:function(y,d,m){d=d||this.fragmentSource,m=m||this.vertexSource,"highp"!==C.webGlPrecision&&(d=d.replace(/precision highp float/g,"precision "+C.webGlPrecision+" float"));var g=y.createShader(y.VERTEX_SHADER);if(y.shaderSource(g,m),y.compileShader(g),!y.getShaderParameter(g,y.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+y.getShaderInfoLog(g));var u=y.createShader(y.FRAGMENT_SHADER);if(y.shaderSource(u,d),y.compileShader(u),!y.getShaderParameter(u,y.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+y.getShaderInfoLog(u));var c=y.createProgram();if(y.attachShader(c,g),y.attachShader(c,u),y.linkProgram(c),!y.getProgramParameter(c,y.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+y.getProgramInfoLog(c));var a=this.getAttributeLocations(y,c),h=this.getUniformLocations(y,c)||{};return h.uStepW=y.getUniformLocation(c,"uStepW"),h.uStepH=y.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:a,uniformLocations:h}},getAttributeLocations:function(y,d){return{aPosition:y.getAttribLocation(d,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(y,d,m){var g=d.aPosition,u=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,u),y.enableVertexAttribArray(g),y.vertexAttribPointer(g,2,y.FLOAT,!1,0,0),y.bufferData(y.ARRAY_BUFFER,m,y.STATIC_DRAW)},_setupFrameBuffer:function(y){var m,g,d=y.context;y.passes>1?(g=y.destinationHeight,(y.sourceWidth!==(m=y.destinationWidth)||y.sourceHeight!==g)&&(d.deleteTexture(y.targetTexture),y.targetTexture=y.filterBackend.createTexture(d,m,g)),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,y.targetTexture,0)):(d.bindFramebuffer(d.FRAMEBUFFER,null),d.finish())},_swapTextures:function(y){y.passes--,y.pass++;var d=y.targetTexture;y.targetTexture=y.sourceTexture,y.sourceTexture=d},isNeutralState:function(){var y=this.mainParameter,d=C.Image.filters[this.type].prototype;if(y){if(Array.isArray(d[y])){for(var m=d[y].length;m--;)if(this[y][m]!==d[y][m])return!1;return!0}return d[y]===this[y]}return!1},applyTo:function(y){y.webgl?(this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y)):this.applyTo2d(y)},retrieveShader:function(y){return y.programCache.hasOwnProperty(this.type)||(y.programCache[this.type]=this.createProgram(y.context)),y.programCache[this.type]},applyToWebGL:function(y){var d=y.context,m=this.retrieveShader(y);d.bindTexture(d.TEXTURE_2D,0===y.pass&&y.originalTexture?y.originalTexture:y.sourceTexture),d.useProgram(m.program),this.sendAttributeData(d,m.attributeLocations,y.aPosition),d.uniform1f(m.uniformLocations.uStepW,1/y.sourceWidth),d.uniform1f(m.uniformLocations.uStepH,1/y.sourceHeight),this.sendUniformData(d,m.uniformLocations),d.viewport(0,0,y.destinationWidth,y.destinationHeight),d.drawArrays(d.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(y,d,m){y.activeTexture(m),y.bindTexture(y.TEXTURE_2D,d),y.activeTexture(y.TEXTURE0)},unbindAdditionalTexture:function(y,d){y.activeTexture(d),y.bindTexture(y.TEXTURE_2D,null),y.activeTexture(y.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(y){this[this.mainParameter]=y},sendUniformData:function(){},createHelpLayer:function(y){if(!y.helpLayer){var d=document.createElement("canvas");d.width=y.sourceWidth,d.height=y.sourceHeight,y.helpLayer=d}},toObject:function(){var y={type:this.type},d=this.mainParameter;return d&&(y[d]=this[d]),y},toJSON:function(){return this.toObject()}}),C.Image.filters.BaseFilter.fromObject=function(y,d){var m=new C.Image.filters[y.type](y);return d&&d(m),m},function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.ColorMatrix=(0,d.util.createClass)(m.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(u){this.callSuper("initialize",u),this.matrix=this.matrix.slice(0)},applyTo2d:function(u){var f,v,w,b,x,a=u.imageData.data,h=a.length,p=this.matrix,D=this.colorsOnly;for(x=0;x<h;x+=4)f=a[x],v=a[x+1],w=a[x+2],D?(a[x]=f*p[0]+v*p[1]+w*p[2]+255*p[4],a[x+1]=f*p[5]+v*p[6]+w*p[7]+255*p[9],a[x+2]=f*p[10]+v*p[11]+w*p[12]+255*p[14]):(a[x]=f*p[0]+v*p[1]+w*p[2]+(b=a[x+3])*p[3]+255*p[4],a[x+1]=f*p[5]+v*p[6]+w*p[7]+b*p[8]+255*p[9],a[x+2]=f*p[10]+v*p[11]+w*p[12]+b*p[13]+255*p[14],a[x+3]=f*p[15]+v*p[16]+w*p[17]+b*p[18]+255*p[19])},getUniformLocations:function(u,c){return{uColorMatrix:u.getUniformLocation(c,"uColorMatrix"),uConstants:u.getUniformLocation(c,"uConstants")}},sendUniformData:function(u,c){var a=this.matrix,p=[a[4],a[9],a[14],a[19]];u.uniformMatrix4fv(c.uColorMatrix,!1,[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]]),u.uniform4fv(c.uConstants,p)}}),d.Image.filters.ColorMatrix.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Brightness=(0,d.util.createClass)(m.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(u){if(0!==this.brightness){var h,a=u.imageData.data,p=a.length,f=Math.round(255*this.brightness);for(h=0;h<p;h+=4)a[h]=a[h]+f,a[h+1]=a[h+1]+f,a[h+2]=a[h+2]+f}},getUniformLocations:function(u,c){return{uBrightness:u.getUniformLocation(c,"uBrightness")}},sendUniformData:function(u,c){u.uniform1f(c.uBrightness,this.brightness)}}),d.Image.filters.Brightness.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.extend,g=d.Image.filters;g.Convolute=(0,d.util.createClass)(g.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(c){var a=Math.sqrt(this.matrix.length),h=this.type+"_"+a+"_"+(this.opaque?1:0),p=this.fragmentSource[h];return c.programCache.hasOwnProperty(h)||(c.programCache[h]=this.createProgram(c.context,p)),c.programCache[h]},applyTo2d:function(c){var k,L,$,V,ne,ie,se,de,P,J,te,fe,R,a=c.imageData,h=a.data,p=this.matrix,f=Math.round(Math.sqrt(p.length)),v=Math.floor(f/2),w=a.width,b=a.height,x=c.ctx.createImageData(w,b),D=x.data,E=this.opaque?1:0;for(te=0;te<b;te++)for(J=0;J<w;J++){for(ne=4*(te*w+J),k=0,L=0,$=0,V=0,R=0;R<f;R++)for(fe=0;fe<f;fe++)ie=J+fe-v,!((se=te+R-v)<0||se>=b||ie<0||ie>=w)&&(k+=h[de=4*(se*w+ie)]*(P=p[R*f+fe]),L+=h[de+1]*P,$+=h[de+2]*P,E||(V+=h[de+3]*P));D[ne]=k,D[ne+1]=L,D[ne+2]=$,D[ne+3]=E?h[ne+3]:V}c.imageData=x},getUniformLocations:function(c,a){return{uMatrix:c.getUniformLocation(a,"uMatrix"),uOpaque:c.getUniformLocation(a,"uOpaque"),uHalfSize:c.getUniformLocation(a,"uHalfSize"),uSize:c.getUniformLocation(a,"uSize")}},sendUniformData:function(c,a){c.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return m(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),d.Image.filters.Convolute.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Grayscale=(0,d.util.createClass)(m.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(u){var h,f,a=u.imageData.data,p=a.length,v=this.mode;for(h=0;h<p;h+=4)"average"===v?f=(a[h]+a[h+1]+a[h+2])/3:"lightness"===v?f=(Math.min(a[h],a[h+1],a[h+2])+Math.max(a[h],a[h+1],a[h+2]))/2:"luminosity"===v&&(f=.21*a[h]+.72*a[h+1]+.07*a[h+2]),a[h]=f,a[h+1]=f,a[h+2]=f},retrieveShader:function(u){var c=this.type+"_"+this.mode;return u.programCache.hasOwnProperty(c)||(u.programCache[c]=this.createProgram(u.context,this.fragmentSource[this.mode])),u.programCache[c]},getUniformLocations:function(u,c){return{uMode:u.getUniformLocation(c,"uMode")}},sendUniformData:function(u,c){u.uniform1i(c.uMode,1)},isNeutralState:function(){return!1}}),d.Image.filters.Grayscale.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Invert=(0,d.util.createClass)(m.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(u){var h,a=u.imageData.data,p=a.length;for(h=0;h<p;h+=4)a[h]=255-a[h],a[h+1]=255-a[h+1],a[h+2]=255-a[h+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(u,c){return{uInvert:u.getUniformLocation(c,"uInvert")}},sendUniformData:function(u,c){u.uniform1i(c.uInvert,this.invert)}}),d.Image.filters.Invert.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.extend,g=d.Image.filters;g.Noise=(0,d.util.createClass)(g.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(c){if(0!==this.noise){var p,f,w,h=c.imageData.data,v=this.noise;for(p=0,f=h.length;p<f;p+=4)w=(.5-Math.random())*v,h[p]+=w,h[p+1]+=w,h[p+2]+=w}},getUniformLocations:function(c,a){return{uNoise:c.getUniformLocation(a,"uNoise"),uSeed:c.getUniformLocation(a,"uSeed")}},sendUniformData:function(c,a){c.uniform1f(a.uNoise,this.noise/255),c.uniform1f(a.uSeed,Math.random())},toObject:function(){return m(this.callSuper("toObject"),{noise:this.noise})}}),d.Image.filters.Noise.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Pixelate=(0,d.util.createClass)(m.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(u){var f,v,w,b,x,D,E,k,L,$,V,c=u.imageData,a=c.data,h=c.height,p=c.width;for(v=0;v<h;v+=this.blocksize)for(w=0;w<p;w+=this.blocksize)for(b=a[f=4*v*p+4*w],x=a[f+1],D=a[f+2],E=a[f+3],$=Math.min(v+this.blocksize,h),V=Math.min(w+this.blocksize,p),k=v;k<$;k++)for(L=w;L<V;L++)a[f=4*k*p+4*L]=b,a[f+1]=x,a[f+2]=D,a[f+3]=E},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(u,c){return{uBlocksize:u.getUniformLocation(c,"uBlocksize"),uStepW:u.getUniformLocation(c,"uStepW"),uStepH:u.getUniformLocation(c,"uStepH")}},sendUniformData:function(u,c){u.uniform1f(c.uBlocksize,this.blocksize)}}),d.Image.filters.Pixelate.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.extend,g=d.Image.filters;g.RemoveColor=(0,d.util.createClass)(g.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(c){var p,v,w,b,h=c.imageData.data,f=255*this.distance,x=new d.Color(this.color).getSource(),D=[x[0]-f,x[1]-f,x[2]-f],E=[x[0]+f,x[1]+f,x[2]+f];for(p=0;p<h.length;p+=4)w=h[p+1],b=h[p+2],(v=h[p])>D[0]&&w>D[1]&&b>D[2]&&v<E[0]&&w<E[1]&&b<E[2]&&(h[p+3]=0)},getUniformLocations:function(c,a){return{uLow:c.getUniformLocation(a,"uLow"),uHigh:c.getUniformLocation(a,"uHigh")}},sendUniformData:function(c,a){var h=new d.Color(this.color).getSource(),p=parseFloat(this.distance),v=[h[0]/255+p,h[1]/255+p,h[2]/255+p,1];c.uniform4fv(a.uLow,[0+h[0]/255-p,0+h[1]/255-p,0+h[2]/255-p,1]),c.uniform4fv(a.uHigh,v)},toObject:function(){return m(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),d.Image.filters.RemoveColor.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters,g=d.util.createClass,u={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in u)m[c]=g(m.ColorMatrix,{type:c,matrix:u[c],mainParameter:!1,colorsOnly:!0}),d.Image.filters[c].fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric,m=d.Image.filters;m.BlendColor=(0,d.util.createClass)(m.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(u){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[u]+"}\n}"},retrieveShader:function(u){var a,c=this.type+"_"+this.mode;return u.programCache.hasOwnProperty(c)||(a=this.buildSource(this.mode),u.programCache[c]=this.createProgram(u.context,a)),u.programCache[c]},applyTo2d:function(u){var p,f,v,w,b,x,D,a=u.imageData.data,h=a.length,E=1-this.alpha;p=(D=new d.Color(this.color).getSource())[0]*this.alpha,f=D[1]*this.alpha,v=D[2]*this.alpha;for(var k=0;k<h;k+=4)switch(w=a[k],b=a[k+1],x=a[k+2],this.mode){case"multiply":a[k]=w*p/255,a[k+1]=b*f/255,a[k+2]=x*v/255;break;case"screen":a[k]=255-(255-w)*(255-p)/255,a[k+1]=255-(255-b)*(255-f)/255,a[k+2]=255-(255-x)*(255-v)/255;break;case"add":a[k]=w+p,a[k+1]=b+f,a[k+2]=x+v;break;case"diff":case"difference":a[k]=Math.abs(w-p),a[k+1]=Math.abs(b-f),a[k+2]=Math.abs(x-v);break;case"subtract":a[k]=w-p,a[k+1]=b-f,a[k+2]=x-v;break;case"darken":a[k]=Math.min(w,p),a[k+1]=Math.min(b,f),a[k+2]=Math.min(x,v);break;case"lighten":a[k]=Math.max(w,p),a[k+1]=Math.max(b,f),a[k+2]=Math.max(x,v);break;case"overlay":a[k]=p<128?2*w*p/255:255-2*(255-w)*(255-p)/255,a[k+1]=f<128?2*b*f/255:255-2*(255-b)*(255-f)/255,a[k+2]=v<128?2*x*v/255:255-2*(255-x)*(255-v)/255;break;case"exclusion":a[k]=p+w-2*p*w/255,a[k+1]=f+b-2*f*b/255,a[k+2]=v+x-2*v*x/255;break;case"tint":a[k]=p+w*E,a[k+1]=f+b*E,a[k+2]=v+x*E}},getUniformLocations:function(u,c){return{uColor:u.getUniformLocation(c,"uColor")}},sendUniformData:function(u,c){var a=new d.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,u.uniform4fv(c.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),d.Image.filters.BlendColor.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric,m=d.Image.filters;m.BlendImage=(0,d.util.createClass)(m.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(u){var c=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return u.programCache.hasOwnProperty(c)||(u.programCache[c]=this.createProgram(u.context,a)),u.programCache[c]},applyToWebGL:function(u){var c=u.context,a=this.createTexture(u.filterBackend,this.image);this.bindAdditionalTexture(c,a,c.TEXTURE1),this.callSuper("applyToWebGL",u),this.unbindAdditionalTexture(c,c.TEXTURE1)},createTexture:function(u,c){return u.getCachedTexture(c.cacheKey,c._element)},calculateMatrix:function(){var u=this.image;return[1/u.scaleX,0,0,0,1/u.scaleY,0,-u.left/u._element.width,-u.top/u._element.height,1]},applyTo2d:function(u){var w,b,x,D,E,k,L,$,V,ne,se,c=u.imageData,a=u.filterBackend.resources,h=c.data,p=h.length,f=c.width,v=c.height,ie=this.image;a.blendImage||(a.blendImage=d.util.createCanvasElement()),ne=(V=a.blendImage).getContext("2d"),V.width!==f||V.height!==v?(V.width=f,V.height=v):ne.clearRect(0,0,f,v),ne.setTransform(ie.scaleX,0,0,ie.scaleY,ie.left,ie.top),ne.drawImage(ie._element,0,0,f,v),se=ne.getImageData(0,0,f,v).data;for(var de=0;de<p;de+=4)switch(E=h[de],k=h[de+1],L=h[de+2],$=h[de+3],w=se[de],b=se[de+1],x=se[de+2],D=se[de+3],this.mode){case"multiply":h[de]=E*w/255,h[de+1]=k*b/255,h[de+2]=L*x/255,h[de+3]=$*D/255;break;case"mask":h[de+3]=D}},getUniformLocations:function(u,c){return{uTransformMatrix:u.getUniformLocation(c,"uTransformMatrix"),uImage:u.getUniformLocation(c,"uImage")}},sendUniformData:function(u,c){var a=this.calculateMatrix();u.uniform1i(c.uImage,1),u.uniformMatrix3fv(c.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),d.Image.filters.BlendImage.fromObject=function(u,c){d.Image.fromObject(u.image,function(a){var h=d.util.object.clone(u);h.image=a,c(new d.Image.filters.BlendImage(h))})}}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=Math.pow,g=Math.floor,u=Math.sqrt,c=Math.abs,a=Math.round,h=Math.sin,p=Math.ceil,f=d.Image.filters;f.Resize=(0,d.util.createClass)(f.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(w,b){return{uDelta:w.getUniformLocation(b,"uDelta"),uTaps:w.getUniformLocation(b,"uTaps")}},sendUniformData:function(w,b){w.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),w.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(w){var b=this.getFilterWindow(),x=this.type+"_"+b;if(!w.programCache.hasOwnProperty(x)){var D=this.generateShader(b);w.programCache[x]=this.createProgram(w.context,D)}return w.programCache[x]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var w=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,x=this.getFilterWindow(),D=new Array(x),E=1;E<=x;E++)D[E-1]=w(E*b);return D},generateShader:function(D){for(var b=new Array(D),x=this.fragmentSourceTOP,E=1;E<=D;E++)b[E-1]=E+".0 * uDelta";return x+="uniform float uTaps["+D+"];\n",x+="void main() {\n",x+="  vec4 color = texture2D(uTexture, vTexCoord);\n",x+="  float sum = 1.0;\n",b.forEach(function(k,L){x+="  color += texture2D(uTexture, vTexCoord + "+k+") * uTaps["+L+"];\n",x+="  color += texture2D(uTexture, vTexCoord - "+k+") * uTaps["+L+"];\n",x+="  sum += 2.0 * uTaps["+L+"];\n"}),x+="  gl_FragColor = color / sum;\n",x+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(w){w.webgl?(w.passes++,this.width=w.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=w.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),w.destinationWidth=this.dW,this._setupFrameBuffer(w),this.applyToWebGL(w),this._swapTextures(w),w.sourceWidth=w.destinationWidth,this.height=w.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),w.destinationHeight=this.dH,this._setupFrameBuffer(w),this.applyToWebGL(w),this._swapTextures(w),w.sourceHeight=w.destinationHeight):this.applyTo2d(w)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(w){return function(b){if(b>=w||b<=-w)return 0;if(b<1.1920929e-7&&b>-1.1920929e-7)return 1;var x=(b*=Math.PI)/w;return h(b)/b*h(x)/x}},applyTo2d:function(w){var b=w.imageData,x=this.scaleX,D=this.scaleY;this.rcpScaleX=1/x,this.rcpScaleY=1/D;var V,E=b.width,k=b.height,L=a(E*x),$=a(k*D);"sliceHack"===this.resizeType?V=this.sliceByTwo(w,E,k,L,$):"hermite"===this.resizeType?V=this.hermiteFastResize(w,E,k,L,$):"bilinear"===this.resizeType?V=this.bilinearFiltering(w,E,k,L,$):"lanczos"===this.resizeType&&(V=this.lanczosResize(w,E,k,L,$)),w.imageData=V},sliceByTwo:function(w,b,x,D,E){var de,P,k=w.imageData,L=.5,$=!1,V=!1,ne=b*L,ie=x*L,se=d.filterBackend.resources,J=0,te=0,fe=b,R=0;for(se.sliceByTwo||(se.sliceByTwo=document.createElement("canvas")),((de=se.sliceByTwo).width<1.5*b||de.height<x)&&(de.width=1.5*b,de.height=x),(P=de.getContext("2d")).clearRect(0,0,1.5*b,x),P.putImageData(k,0,0),D=g(D),E=g(E);!$||!V;)b=ne,x=ie,D<g(ne*L)?ne=g(ne*L):(ne=D,$=!0),E<g(ie*L)?ie=g(ie*L):(ie=E,V=!0),P.drawImage(de,J,te,b,x,fe,R,ne,ie),J=fe,te=R,R+=ie;return P.getImageData(J,te,D,E)},lanczosResize:function(w,b,x,D,E){var L=w.imageData.data,$=w.ctx.createImageData(D,E),V=$.data,ne=this.lanczosCreate(this.lanczosLobes),ie=this.rcpScaleX,se=this.rcpScaleY,de=2/this.rcpScaleX,P=2/this.rcpScaleY,J=p(ie*this.lanczosLobes/2),te=p(se*this.lanczosLobes/2),fe={},R={},Q={};return function k(K){var q,ye,oe,Z,ge,re,ue,_e,Se,ke,je;for(R.x=(K+.5)*ie,Q.x=g(R.x),q=0;q<E;q++){for(R.y=(q+.5)*se,Q.y=g(R.y),ge=0,re=0,ue=0,_e=0,Se=0,ye=Q.x-J;ye<=Q.x+J;ye++)if(!(ye<0||ye>=b)){ke=g(1e3*c(ye-R.x)),fe[ke]||(fe[ke]={});for(var Me=Q.y-te;Me<=Q.y+te;Me++)Me<0||Me>=x||(je=g(1e3*c(Me-R.y)),fe[ke][je]||(fe[ke][je]=ne(u(m(ke*de,2)+m(je*P,2))/1e3)),(oe=fe[ke][je])>0&&(ge+=oe,re+=oe*L[Z=4*(Me*b+ye)],ue+=oe*L[Z+1],_e+=oe*L[Z+2],Se+=oe*L[Z+3]))}V[Z=4*(q*D+K)]=re/ge,V[Z+1]=ue/ge,V[Z+2]=_e/ge,V[Z+3]=Se/ge}return++K<D?k(K):$}(0)},bilinearFiltering:function(w,b,x,D,E){var ne,ie,se,de,P,J,te,Q,R=0,K=this.rcpScaleX,q=this.rcpScaleY,ye=4*(b-1),Z=w.imageData.data,ge=w.ctx.createImageData(D,E),re=ge.data;for(se=0;se<E;se++)for(de=0;de<D;de++)for(P=K*de-(ne=g(K*de)),J=q*se-(ie=g(q*se)),Q=4*(ie*b+ne),te=0;te<4;te++)re[R++]=Z[Q+te]*(1-P)*(1-J)+Z[Q+4+te]*P*(1-J)+Z[Q+ye+te]*J*(1-P)+Z[Q+ye+4+te]*P*J;return ge},hermiteFastResize:function(w,b,x,D,E){for(var k=this.rcpScaleX,L=this.rcpScaleY,$=p(k/2),V=p(L/2),ie=w.imageData.data,se=w.ctx.createImageData(D,E),de=se.data,P=0;P<E;P++)for(var J=0;J<D;J++){for(var te=4*(J+P*D),fe=0,R=0,Q=0,K=0,q=0,ye=0,oe=0,Z=(P+.5)*L,ge=g(P*L);ge<(P+1)*L;ge++)for(var re=c(Z-(ge+.5))/V,ue=(J+.5)*k,_e=re*re,Se=g(J*k);Se<(J+1)*k;Se++){var ke=c(ue-(Se+.5))/$,je=u(_e+ke*ke);je>1&&je<-1||(fe=2*je*je*je-3*je*je+1)>0&&(oe+=fe*ie[3+(ke=4*(Se+ge*b))],Q+=fe,ie[ke+3]<255&&(fe=fe*ie[ke+3]/250),K+=fe*ie[ke],q+=fe*ie[ke+1],ye+=fe*ie[ke+2],R+=fe)}de[te]=K/R,de[te+1]=q/R,de[te+2]=ye/R,de[te+3]=oe/Q}return se},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),d.Image.filters.Resize.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Contrast=(0,d.util.createClass)(m.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(u){if(0!==this.contrast){var a,h=u.imageData.data,p=h.length,f=Math.floor(255*this.contrast),v=259*(f+255)/(255*(259-f));for(a=0;a<p;a+=4)h[a]=v*(h[a]-128)+128,h[a+1]=v*(h[a+1]-128)+128,h[a+2]=v*(h[a+2]-128)+128}},getUniformLocations:function(u,c){return{uContrast:u.getUniformLocation(c,"uContrast")}},sendUniformData:function(u,c){u.uniform1f(c.uContrast,this.contrast)}}),d.Image.filters.Contrast.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Saturation=(0,d.util.createClass)(m.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(u){if(0!==this.saturation){var f,v,a=u.imageData.data,h=a.length,p=-this.saturation;for(f=0;f<h;f+=4)v=Math.max(a[f],a[f+1],a[f+2]),a[f]+=v!==a[f]?(v-a[f])*p:0,a[f+1]+=v!==a[f+1]?(v-a[f+1])*p:0,a[f+2]+=v!==a[f+2]?(v-a[f+2])*p:0}},getUniformLocations:function(u,c){return{uSaturation:u.getUniformLocation(c,"uSaturation")}},sendUniformData:function(u,c){u.uniform1f(c.uSaturation,-this.saturation)}}),d.Image.filters.Saturation.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Vibrance=(0,d.util.createClass)(m.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(u){if(0!==this.vibrance){var f,v,b,a=u.imageData.data,h=a.length,p=-this.vibrance;for(f=0;f<h;f+=4)v=Math.max(a[f],a[f+1],a[f+2]),b=2*Math.abs(v-(a[f]+a[f+1]+a[f+2])/3)/255*p,a[f]+=v!==a[f]?(v-a[f])*b:0,a[f+1]+=v!==a[f+1]?(v-a[f+1])*b:0,a[f+2]+=v!==a[f+2]?(v-a[f+2])*b:0}},getUniformLocations:function(u,c){return{uVibrance:u.getUniformLocation(c,"uVibrance")}},sendUniformData:function(u,c){u.uniform1f(c.uVibrance,-this.vibrance)}}),d.Image.filters.Vibrance.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Blur=(0,d.util.createClass)(m.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(u){u.webgl?(this.aspectRatio=u.sourceWidth/u.sourceHeight,u.passes++,this._setupFrameBuffer(u),this.horizontal=!0,this.applyToWebGL(u),this._swapTextures(u),this._setupFrameBuffer(u),this.horizontal=!1,this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},applyTo2d:function(u){u.imageData=this.simpleBlur(u)},simpleBlur:function(u){var a,h,c=u.filterBackend.resources,p=u.imageData.width,f=u.imageData.height;c.blurLayer1||(c.blurLayer1=d.util.createCanvasElement(),c.blurLayer2=d.util.createCanvasElement()),h=c.blurLayer2,((a=c.blurLayer1).width!==p||a.height!==f)&&(h.width=a.width=p,h.height=a.height=f);var x,D,E,k,v=a.getContext("2d"),w=h.getContext("2d"),b=15,L=.06*this.blur*.5;for(v.putImageData(u.imageData,0,0),w.clearRect(0,0,p,f),k=-b;k<=b;k++)E=L*(D=k/b)*p+(x=(Math.random()-.5)/4),w.globalAlpha=1-Math.abs(D),w.drawImage(a,E,x),v.drawImage(h,0,0),w.globalAlpha=1,w.clearRect(0,0,h.width,h.height);for(k=-b;k<=b;k++)E=L*(D=k/b)*f+(x=(Math.random()-.5)/4),w.globalAlpha=1-Math.abs(D),w.drawImage(a,x,E),v.drawImage(h,0,0),w.globalAlpha=1,w.clearRect(0,0,h.width,h.height);u.ctx.drawImage(a,0,0);var $=u.ctx.getImageData(0,0,a.width,a.height);return v.globalAlpha=1,v.clearRect(0,0,a.width,a.height),$},getUniformLocations:function(u,c){return{delta:u.getUniformLocation(c,"uDelta")}},sendUniformData:function(u,c){var a=this.chooseRightDelta();u.uniform2fv(c.delta,a)},chooseRightDelta:function(){var a,u=1,c=[0,0];return this.horizontal?this.aspectRatio>1&&(u=1/this.aspectRatio):this.aspectRatio<1&&(u=this.aspectRatio),a=u*this.blur*.12,this.horizontal?c[0]=a:c[1]=a,c}}),m.Blur.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Gamma=(0,d.util.createClass)(m.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(u){this.gamma=[1,1,1],m.BaseFilter.prototype.initialize.call(this,u)},applyTo2d:function(u){var b,a=u.imageData.data,h=this.gamma,p=a.length,f=1/h[0],v=1/h[1],w=1/h[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,p=256;b<p;b++)this.rVals[b]=255*Math.pow(b/255,f),this.gVals[b]=255*Math.pow(b/255,v),this.bVals[b]=255*Math.pow(b/255,w);for(b=0,p=a.length;b<p;b+=4)a[b]=this.rVals[a[b]],a[b+1]=this.gVals[a[b+1]],a[b+2]=this.bVals[a[b+2]]},getUniformLocations:function(u,c){return{uGamma:u.getUniformLocation(c,"uGamma")}},sendUniformData:function(u,c){u.uniform3fv(c.uGamma,this.gamma)}}),d.Image.filters.Gamma.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.Composed=(0,d.util.createClass)(m.BaseFilter,{type:"Composed",subFilters:[],initialize:function(u){this.callSuper("initialize",u),this.subFilters=this.subFilters.slice(0)},applyTo:function(u){u.passes+=this.subFilters.length-1,this.subFilters.forEach(function(c){c.applyTo(u)})},toObject:function(){return d.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(u){return u.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(u){return!u.isNeutralState()})}}),d.Image.filters.Composed.fromObject=function(u,c){var h=(u.subFilters||[]).map(function(f){return new d.Image.filters[f.type](f)}),p=new d.Image.filters.Composed({subFilters:h});return c&&c(p),p}}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.Image.filters;m.HueRotation=(0,d.util.createClass)(m.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var u=this.rotation*Math.PI,c=d.util.cos(u),a=d.util.sin(u),h=1/3,p=Math.sqrt(h)*a,f=1-c;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=c+f/3,this.matrix[1]=h*f-p,this.matrix[2]=h*f+p,this.matrix[5]=h*f+p,this.matrix[6]=c+h*f,this.matrix[7]=h*f-p,this.matrix[10]=h*f-p,this.matrix[11]=h*f+p,this.matrix[12]=c+h*f},isNeutralState:function(u){return this.calculateMatrix(),m.BaseFilter.prototype.isNeutralState.call(this,u)},applyTo:function(u){this.calculateMatrix(),m.BaseFilter.prototype.applyTo.call(this,u)}}),d.Image.filters.HueRotation.fromObject=d.Image.filters.BaseFilter.fromObject}(F),function(y){"use strict";var d=y.fabric||(y.fabric={}),m=d.util.object.clone;if(d.Text)d.warn("fabric.Text is already defined");else{var g="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");d.Text=d.util.createClass(d.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:d.Object.prototype.stateProperties.concat(g),cacheProperties:d.Object.prototype.cacheProperties.concat(g),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(u,c){this.styles=c&&c.styles||{},this.text=u,this.__skipDimension=!0,this.callSuper("initialize",c),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var u=this.path;u&&(u.segmentsInfo=d.util.getPathSegmentsInfo(u.path))},getMeasuringContext:function(){return d._measuringContext||(d._measuringContext=this.canvas&&this.canvas.contextCache||d.util.createCanvasElement().getContext("2d")),d._measuringContext},_splitText:function(){var u=this._splitTextIntoLines(this.text);return this.textLines=u.lines,this._textLines=u.graphemeLines,this._unwrappedTextLines=u._unwrappedLines,this._text=u.graphemeText,u},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var u,c,h,p,f,v,w=0,b=this._textLines.length;w<b;w++)if(("justify"===this.textAlign||w!==b-1&&!this.isEndOfWrapping(w))&&(h=0,p=this._textLines[w],(c=this.getLineWidth(w))<this.width&&(v=this.textLines[w].match(this._reSpacesAndTabs)))){u=(this.width-c)/v.length;for(var x=0,D=p.length;x<=D;x++)f=this.__charBounds[w][x],this._reSpaceAndTab.test(p[x])?(f.width+=u,f.kernedWidth+=u,f.left+=h,h+=u):f.left+=h}},isEndOfWrapping:function(u){return u===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var u=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return u.width+=c*u.zoomX,u.height+=c*u.zoomY,u},_render:function(u){var c=this.path;c&&!c.isNotVisible()&&c._render(u),this._setTextStyles(u),this._renderTextLinesBackground(u),this._renderTextDecoration(u,"underline"),this._renderText(u),this._renderTextDecoration(u,"overline"),this._renderTextDecoration(u,"linethrough")},_renderText:function(u){"stroke"===this.paintFirst?(this._renderTextStroke(u),this._renderTextFill(u)):(this._renderTextFill(u),this._renderTextStroke(u))},_setTextStyles:function(u,c,a){if(u.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":u.textBaseline="middle";break;case"ascender":u.textBaseline="top";break;case"descender":u.textBaseline="bottom"}u.font=this._getFontDeclaration(c,a)},calcTextWidth:function(){for(var u=this.getLineWidth(0),c=1,a=this._textLines.length;c<a;c++){var h=this.getLineWidth(c);h>u&&(u=h)}return u},_renderTextLine:function(u,c,a,h,p,f){this._renderChars(u,c,a,h,p,f)},_renderTextLinesBackground:function(u){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var c,a,p,f,D,E,L,h=u.fillStyle,v=this._getLeftOffset(),w=this._getTopOffset(),b=0,x=0,k=this.path,$=0,V=this._textLines.length;$<V;$++)if(c=this.getHeightOfLine($),this.textBackgroundColor||this.styleHas("textBackgroundColor",$)){p=this._textLines[$],a=this._getLineLeftOffset($),x=0,b=0,f=this.getValueOfPropertyAt($,0,"textBackgroundColor");for(var ne=0,ie=p.length;ne<ie;ne++)D=this.__charBounds[$][ne],E=this.getValueOfPropertyAt($,ne,"textBackgroundColor"),k?(u.save(),u.translate(D.renderLeft,D.renderTop),u.rotate(D.angle),u.fillStyle=E,E&&u.fillRect(-D.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),D.width,c/this.lineHeight),u.restore()):E!==f?(L=v+a+b,"rtl"===this.direction&&(L=this.width-L-x),u.fillStyle=f,f&&u.fillRect(L,w,x,c/this.lineHeight),b=D.left,x=D.width,f=E):x+=D.kernedWidth;E&&!k&&(L=v+a+b,"rtl"===this.direction&&(L=this.width-L-x),u.fillStyle=E,u.fillRect(L,w,x,c/this.lineHeight)),w+=c}else w+=c;u.fillStyle=h,this._removeShadow(u)}},getFontCache:function(u){var c=u.fontFamily.toLowerCase();d.charWidthsCache[c]||(d.charWidthsCache[c]={});var a=d.charWidthsCache[c],h=u.fontStyle.toLowerCase()+"_"+(u.fontWeight+"").toLowerCase();return a[h]||(a[h]={}),a[h]},_measureChar:function(u,c,a,h){var x,D,E,L,p=this.getFontCache(c),w=a+u,b=this._getFontDeclaration(c)===this._getFontDeclaration(h),k=c.fontSize/this.CACHE_FONT_SIZE;if(a&&void 0!==p[a]&&(E=p[a]),void 0!==p[u]&&(L=x=p[u]),b&&void 0!==p[w]&&(L=(D=p[w])-E),void 0===x||void 0===E||void 0===D){var $=this.getMeasuringContext();this._setTextStyles($,c,!0)}return void 0===x&&(L=x=$.measureText(u).width,p[u]=x),void 0===E&&b&&a&&(E=$.measureText(a).width,p[a]=E),b&&void 0===D&&(D=$.measureText(w).width,p[w]=D,L=D-E),{width:x*k,kernedWidth:L*k}},getHeightOfChar:function(u,c){return this.getValueOfPropertyAt(u,c,"fontSize")},measureLine:function(u){var c=this._measureLine(u);return 0!==this.charSpacing&&(c.width-=this._getWidthOfCharSpacing()),c.width<0&&(c.width=0),c},_measureLine:function(u){var a,h,f,v,D,E,c=0,p=this._textLines[u],b=new Array(p.length),x=0,k=this.path,L="right"===this.pathSide;for(this.__charBounds[u]=b,a=0;a<p.length;a++)v=this._getGraphemeBox(h=p[a],u,a,f),b[a]=v,c+=v.kernedWidth,f=h;if(b[a]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},k){switch(E=k.segmentsInfo[k.segmentsInfo.length-1].length,(D=d.util.getPointOnPath(k.path,0,k.segmentsInfo)).x+=k.pathOffset.x,D.y+=k.pathOffset.y,this.textAlign){case"left":x=L?E-c:0;break;case"center":x=(E-c)/2;break;case"right":x=L?0:E-c}for(x+=this.pathStartOffset*(L?-1:1),a=L?p.length-1:0;L?a>=0:a<p.length;L?a--:a++)x>E?x%=E:x<0&&(x+=E),this._setGraphemeOnPath(x,v=b[a],D),x+=v.kernedWidth}return{width:c,numOfSpaces:0}},_setGraphemeOnPath:function(u,c,a){var p=this.path,f=d.util.getPointOnPath(p.path,u+c.kernedWidth/2,p.segmentsInfo);c.renderLeft=f.x-a.x,c.renderTop=f.y-a.y,c.angle=f.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(u,c,a,h,p){var D,f=this.getCompleteStyleDeclaration(c,a),v=h?this.getCompleteStyleDeclaration(c,a-1):{},w=this._measureChar(u,f,h,v),b=w.kernedWidth,x=w.width;0!==this.charSpacing&&(x+=D=this._getWidthOfCharSpacing(),b+=D);var E={width:x,left:0,height:f.fontSize,kernedWidth:b,deltaY:f.deltaY};if(a>0&&!p){var k=this.__charBounds[c][a-1];E.left=k.left+k.width+w.kernedWidth-w.width}return E},getHeightOfLine:function(u){if(this.__lineHeights[u])return this.__lineHeights[u];for(var c=this._textLines[u],a=this.getHeightOfChar(u,0),h=1,p=c.length;h<p;h++)a=Math.max(this.getHeightOfChar(u,h),a);return this.__lineHeights[u]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var u,c=0,a=0,h=this._textLines.length;a<h;a++)u=this.getHeightOfLine(a),c+=a===h-1?u/this.lineHeight:u;return c},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(u,c){u.save();for(var a=0,h=this._getLeftOffset(),p=this._getTopOffset(),f=0,v=this._textLines.length;f<v;f++){var w=this.getHeightOfLine(f),b=w/this.lineHeight,x=this._getLineLeftOffset(f);this._renderTextLine(c,u,this._textLines[f],h+x,p+a+b,f),a+=w}u.restore()},_renderTextFill:function(u){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(u,"fillText")},_renderTextStroke:function(u){(!this.stroke||0===this.strokeWidth)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(u),u.save(),this._setLineDash(u,this.strokeDashArray),u.beginPath(),this._renderTextCommon(u,"strokeText"),u.closePath(),u.restore())},_renderChars:function(u,c,a,h,p,f){var b,x,E,L,v=this.getHeightOfLine(f),w=-1!==this.textAlign.indexOf("justify"),D="",k=0,$=this.path,V=!w&&0===this.charSpacing&&this.isEmptyStyles(f)&&!$,ne="ltr"===this.direction,ie="ltr"===this.direction?1:-1,de=c.canvas.getAttribute("dir");if(c.save(),de!==this.direction&&(c.canvas.setAttribute("dir",ne?"ltr":"rtl"),c.direction=ne?"ltr":"rtl",c.textAlign=ne?"left":"right"),p-=v*this._fontSizeFraction/this.lineHeight,V)return this._renderChar(u,c,f,0,a.join(""),h,p,v),void c.restore();for(var P=0,J=a.length-1;P<=J;P++)L=P===J||this.charSpacing||$,D+=a[P],E=this.__charBounds[f][P],0===k?(h+=ie*(E.kernedWidth-E.width),k+=E.width):k+=E.kernedWidth,w&&!L&&this._reSpaceAndTab.test(a[P])&&(L=!0),L||(b=b||this.getCompleteStyleDeclaration(f,P),x=this.getCompleteStyleDeclaration(f,P+1),L=d.util.hasStyleChanged(b,x,!1)),L&&($?(c.save(),c.translate(E.renderLeft,E.renderTop),c.rotate(E.angle),this._renderChar(u,c,f,P,D,-k/2,0,v),c.restore()):this._renderChar(u,c,f,P,D,h,p,v),D="",b=x,h+=ie*k,k=0);c.restore()},_applyPatternGradientTransformText:function(u){var a,c=d.util.createCanvasElement(),h=this.width+this.strokeWidth,p=this.height+this.strokeWidth;return c.width=h,c.height=p,(a=c.getContext("2d")).beginPath(),a.moveTo(0,0),a.lineTo(h,0),a.lineTo(h,p),a.lineTo(0,p),a.closePath(),a.translate(h/2,p/2),a.fillStyle=u.toLive(a),this._applyPatternGradientTransform(a,u),a.fill(),a.createPattern(c,"no-repeat")},handleFiller:function(u,c,a){var h,p;return a.toLive?"percentage"===a.gradientUnits||a.gradientTransform||a.patternTransform?(u.translate(h=-this.width/2,p=-this.height/2),u[c]=this._applyPatternGradientTransformText(a),{offsetX:h,offsetY:p}):(u[c]=a.toLive(u,this),this._applyPatternGradientTransform(u,a)):(u[c]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(u,c){return u.lineWidth=c.strokeWidth,u.lineCap=this.strokeLineCap,u.lineDashOffset=this.strokeDashOffset,u.lineJoin=this.strokeLineJoin,u.miterLimit=this.strokeMiterLimit,this.handleFiller(u,"strokeStyle",c.stroke)},_setFillStyles:function(u,c){return this.handleFiller(u,"fillStyle",c.fill)},_renderChar:function(u,c,a,h,p,f,v){var E,k,w=this._getStyleDeclaration(a,h),b=this.getCompleteStyleDeclaration(a,h),x="fillText"===u&&b.fill,D="strokeText"===u&&b.stroke&&b.strokeWidth;!D&&!x||(c.save(),x&&(E=this._setFillStyles(c,b)),D&&(k=this._setStrokeStyles(c,b)),c.font=this._getFontDeclaration(b),w&&w.textBackgroundColor&&this._removeShadow(c),w&&w.deltaY&&(v+=w.deltaY),x&&c.fillText(p,f-E.offsetX,v-E.offsetY),D&&c.strokeText(p,f-k.offsetX,v-k.offsetY),c.restore())},setSuperscript:function(u,c){return this._setScript(u,c,this.superscript)},setSubscript:function(u,c){return this._setScript(u,c,this.subscript)},_setScript:function(u,c,a){var h=this.get2DCursorLocation(u,!0),p=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"fontSize"),f=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"deltaY");return this.setSelectionStyles({fontSize:p*a.size,deltaY:f+p*a.baseline},u,c),this},_getLineLeftOffset:function(u){var c=this.getLineWidth(u),a=this.width-c,h=this.textAlign,p=this.direction,f=0,v=this.isEndOfWrapping(u);return"justify"===h||"justify-center"===h&&!v||"justify-right"===h&&!v||"justify-left"===h&&!v?0:("center"===h&&(f=a/2),"right"===h&&(f=a),"justify-center"===h&&(f=a/2),"justify-right"===h&&(f=a),"rtl"===p&&(f-=a),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var u=this._forceClearCache;return u||(u=this.hasStateChanged("_dimensionAffectingProps")),u&&(this.dirty=!0,this._forceClearCache=!1),u},getLineWidth:function(u){if(void 0!==this.__lineWidths[u])return this.__lineWidths[u];var a=this.measureLine(u).width;return this.__lineWidths[u]=a,a},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(u,c,a){var h=this._getStyleDeclaration(u,c);return h&&typeof h[a]<"u"?h[a]:this[a]},_renderTextDecoration:function(u,c){if(this[c]||this.styleHas(c)){for(var a,h,p,f,v,w,b,x,k,L,$,V,ne,ie,se,de,D=this._getLeftOffset(),E=this._getTopOffset(),P=this.path,J=this._getWidthOfCharSpacing(),te=this.offsets[c],fe=0,R=this._textLines.length;fe<R;fe++)if(a=this.getHeightOfLine(fe),this[c]||this.styleHas(c,fe)){b=this._textLines[fe],ie=a/this.lineHeight,f=this._getLineLeftOffset(fe),L=0,$=0,x=this.getValueOfPropertyAt(fe,0,c),de=this.getValueOfPropertyAt(fe,0,"fill"),k=E+ie*(1-this._fontSizeFraction),h=this.getHeightOfChar(fe,0),v=this.getValueOfPropertyAt(fe,0,"deltaY");for(var Q=0,K=b.length;Q<K;Q++)if(V=this.__charBounds[fe][Q],ne=this.getValueOfPropertyAt(fe,Q,c),se=this.getValueOfPropertyAt(fe,Q,"fill"),p=this.getHeightOfChar(fe,Q),w=this.getValueOfPropertyAt(fe,Q,"deltaY"),P&&ne&&se)u.save(),u.fillStyle=de,u.translate(V.renderLeft,V.renderTop),u.rotate(V.angle),u.fillRect(-V.kernedWidth/2,te*p+w,V.kernedWidth,this.fontSize/15),u.restore();else if((ne!==x||se!==de||p!==h||w!==v)&&$>0){var q=D+f+L;"rtl"===this.direction&&(q=this.width-q-$),x&&de&&(u.fillStyle=de,u.fillRect(q,k+te*h+v,$,this.fontSize/15)),L=V.left,$=V.width,x=ne,de=se,h=p,v=w}else $+=V.kernedWidth;q=D+f+L,"rtl"===this.direction&&(q=this.width-q-$),u.fillStyle=se,ne&&se&&u.fillRect(q,k+te*h+v,$-J,this.fontSize/15),E+=a}else E+=a;this._removeShadow(u)}},_getFontDeclaration:function(u,c){var a=u||this,h=this.fontFamily,p=d.Text.genericFonts.indexOf(h.toLowerCase())>-1,f=void 0===h||h.indexOf("'")>-1||h.indexOf(",")>-1||h.indexOf('"')>-1||p?a.fontFamily:'"'+a.fontFamily+'"';return[d.isLikelyNode?a.fontWeight:a.fontStyle,d.isLikelyNode?a.fontStyle:a.fontWeight,c?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",f].join(" ")},render:function(u){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",u)))},_splitTextIntoLines:function(u){for(var c=u.split(this._reNewline),a=new Array(c.length),h=["\n"],p=[],f=0;f<c.length;f++)a[f]=d.util.string.graphemeSplit(c[f]),p=p.concat(a[f],h);return p.pop(),{_unwrappedLines:a,lines:c,graphemeText:p,graphemeLines:a}},toObject:function(u){var c=g.concat(u),a=this.callSuper("toObject",c);return a.styles=d.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(u,c){this.callSuper("set",u,c);var a=!1,h=!1;if("object"==typeof u)for(var p in u)"path"===p&&this.setPathInfo(),a=a||-1!==this._dimensionAffectingProps.indexOf(p),h=h||"path"===p;else a=-1!==this._dimensionAffectingProps.indexOf(u),h="path"===u;return h&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),d.Text.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),d.Text.DEFAULT_SVG_FONT_SIZE=16,d.Text.fromElement=function(u,c,a){if(!u)return c(null);var h=d.parseAttributes(u,d.Text.ATTRIBUTE_NAMES),p=h.textAnchor||"left";if((a=d.util.object.extend(a?m(a):{},h)).top=a.top||0,a.left=a.left||0,h.textDecoration){var f=h.textDecoration;-1!==f.indexOf("underline")&&(a.underline=!0),-1!==f.indexOf("overline")&&(a.overline=!0),-1!==f.indexOf("line-through")&&(a.linethrough=!0),delete a.textDecoration}"dx"in h&&(a.left+=h.dx),"dy"in h&&(a.top+=h.dy),"fontSize"in a||(a.fontSize=d.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in u?v=u.textContent:"firstChild"in u&&null!==u.firstChild&&"data"in u.firstChild&&null!==u.firstChild.data&&(v=u.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var w=a.strokeWidth;a.strokeWidth=0;var b=new d.Text(v,a),x=b.getScaledHeight()/b.height,E=((b.height+b.strokeWidth)*b.lineHeight-b.height)*x,k=b.getScaledHeight()+E,L=0;"center"===p&&(L=b.getScaledWidth()/2),"right"===p&&(L=b.getScaledWidth()),b.set({left:b.left-L,top:b.top-(k-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof w<"u"?w:1}),c(b)},d.Text.fromObject=function(u,c){var a=m(u),h=u.path;return delete a.path,d.Object._fromObject("Text",a,function(p){p.styles=d.util.stylesFromArray(u.styles,u.text),h?d.Object._fromObject("Path",h,function(f){p.set("path",f),c(p)},"path"):c(p)},"text")},d.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],d.util.createAccessors&&d.util.createAccessors(d.Text)}}(F),C.util.object.extend(C.Text.prototype,{isEmptyStyles:function(y){if(!this.styles||typeof y<"u"&&!this.styles[y])return!0;var d=typeof y>"u"?this.styles:{line:this.styles[y]};for(var m in d)for(var g in d[m])for(var u in d[m][g])return!1;return!0},styleHas:function(y,d){if(!this.styles||!y||""===y||typeof d<"u"&&!this.styles[d])return!1;var m=typeof d>"u"?this.styles:{0:this.styles[d]};for(var g in m)for(var u in m[g])if(typeof m[g][u][y]<"u")return!0;return!1},cleanStyle:function(y){if(!this.styles||!y||""===y)return!1;var g,u,d=this.styles,m=0,c=!0,a=0;for(var p in d){for(var f in g=0,d[p]){var h;m++,(h=d[p][f]).hasOwnProperty(y)?(u?h[y]!==u&&(c=!1):u=h[y],h[y]===this[y]&&delete h[y]):c=!1,0!==Object.keys(h).length?g++:delete d[p][f]}0===g&&delete d[p]}for(var w=0;w<this._textLines.length;w++)a+=this._textLines[w].length;c&&m===a&&(this[y]=u,this.removeStyle(y))},removeStyle:function(y){if(this.styles&&y&&""!==y){var m,g,u,d=this.styles;for(g in d){for(u in m=d[g])delete m[u][y],0===Object.keys(m[u]).length&&delete m[u];0===Object.keys(m).length&&delete d[g]}}},_extendStyles:function(y,d){var m=this.get2DCursorLocation(y);this._getLineStyle(m.lineIndex)||this._setLineStyle(m.lineIndex),this._getStyleDeclaration(m.lineIndex,m.charIndex)||this._setStyleDeclaration(m.lineIndex,m.charIndex,{}),C.util.object.extend(this._getStyleDeclaration(m.lineIndex,m.charIndex),d)},get2DCursorLocation:function(y,d){typeof y>"u"&&(y=this.selectionStart);for(var m=d?this._unwrappedTextLines:this._textLines,g=m.length,u=0;u<g;u++){if(y<=m[u].length)return{lineIndex:u,charIndex:y};y-=m[u].length+this.missingNewlineOffset(u)}return{lineIndex:u-1,charIndex:m[u-1].length<y?m[u-1].length:y}},getSelectionStyles:function(y,d,m){typeof y>"u"&&(y=this.selectionStart||0),typeof d>"u"&&(d=this.selectionEnd||y);for(var g=[],u=y;u<d;u++)g.push(this.getStyleAtPosition(u,m));return g},getStyleAtPosition:function(y,d){var m=this.get2DCursorLocation(y);return(d?this.getCompleteStyleDeclaration(m.lineIndex,m.charIndex):this._getStyleDeclaration(m.lineIndex,m.charIndex))||{}},setSelectionStyles:function(y,d,m){typeof d>"u"&&(d=this.selectionStart||0),typeof m>"u"&&(m=this.selectionEnd||d);for(var g=d;g<m;g++)this._extendStyles(g,y);return this._forceClearCache=!0,this},_getStyleDeclaration:function(y,d){var m=this.styles&&this.styles[y];return m?m[d]:null},getCompleteStyleDeclaration:function(y,d){for(var u,m=this._getStyleDeclaration(y,d)||{},g={},c=0;c<this._styleProperties.length;c++)g[u=this._styleProperties[c]]=typeof m[u]>"u"?this[u]:m[u];return g},_setStyleDeclaration:function(y,d,m){this.styles[y][d]=m},_deleteStyleDeclaration:function(y,d){delete this.styles[y][d]},_getLineStyle:function(y){return!!this.styles[y]},_setLineStyle:function(y){this.styles[y]={}},_deleteLineStyle:function(y){delete this.styles[y]}}),function(){function y(d){d.textDecoration&&(d.textDecoration.indexOf("underline")>-1&&(d.underline=!0),d.textDecoration.indexOf("line-through")>-1&&(d.linethrough=!0),d.textDecoration.indexOf("overline")>-1&&(d.overline=!0),delete d.textDecoration)}C.IText=C.util.createClass(C.Text,C.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(d,m){this.callSuper("initialize",d,m),this.initBehavior()},setSelectionStart:function(d){d=Math.max(d,0),this._updateAndFire("selectionStart",d)},setSelectionEnd:function(d){d=Math.min(d,this.text.length),this._updateAndFire("selectionEnd",d)},_updateAndFire:function(d,m){this[d]!==m&&(this._fireSelectionChanged(),this[d]=m),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(d){this.clearContextTop(),this.callSuper("render",d),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(d){this.callSuper("_render",d)},clearContextTop:function(d){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var m=this.canvas.contextTop,g=this.canvas.viewportTransform;m.save(),m.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this.transform(m),this._clearTextArea(m),d||m.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var d=this._getCursorBoundaries(),m=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(d,m):this.renderSelection(d,m),m.restore()}},_clearTextArea:function(d){var m=this.width+4,g=this.height+4;d.clearRect(-m/2,-g/2,m,g)},_getCursorBoundaries:function(d){typeof d>"u"&&(d=this.selectionStart);var m=this._getLeftOffset(),g=this._getTopOffset(),u=this._getCursorBoundariesOffsets(d);return{left:m,top:g,leftOffset:u.left,topOffset:u.top}},_getCursorBoundariesOffsets:function(d){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var m,g,u,h,c=0,a=0,p=this.get2DCursorLocation(d);u=p.charIndex,g=p.lineIndex;for(var f=0;f<g;f++)c+=this.getHeightOfLine(f);m=this._getLineLeftOffset(g);var v=this.__charBounds[g][u];return v&&(a=v.left),0!==this.charSpacing&&u===this._textLines[g].length&&(a-=this._getWidthOfCharSpacing()),h={top:c,left:m+(a>0?a:0)},"rtl"===this.direction&&(h.left*=-1),this.cursorOffsetCache=h,this.cursorOffsetCache},renderCursor:function(d,m){var g=this.get2DCursorLocation(),u=g.lineIndex,c=g.charIndex>0?g.charIndex-1:0,a=this.getValueOfPropertyAt(u,c,"fontSize"),h=this.scaleX*this.canvas.getZoom(),p=this.cursorWidth/h,f=d.topOffset,v=this.getValueOfPropertyAt(u,c,"deltaY");f+=(1-this._fontSizeFraction)*this.getHeightOfLine(u)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(d,m),m.fillStyle=this.cursorColor||this.getValueOfPropertyAt(u,c,"fill"),m.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,m.fillRect(d.left+d.leftOffset-p/2,f+d.top+v,p,a)},renderSelection:function(d,m){for(var g=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,u=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=-1!==this.textAlign.indexOf("justify"),a=this.get2DCursorLocation(g),h=this.get2DCursorLocation(u),p=a.lineIndex,f=h.lineIndex,v=a.charIndex<0?0:a.charIndex,w=h.charIndex<0?0:h.charIndex,b=p;b<=f;b++){var E,x=this._getLineLeftOffset(b)||0,D=this.getHeightOfLine(b),k=0,L=0;if(b===p&&(k=this.__charBounds[p][v].left),b>=p&&b<f)L=c&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===f)if(0===w)L=this.__charBounds[f][w].left;else{var $=this._getWidthOfCharSpacing();L=this.__charBounds[f][w-1].left+this.__charBounds[f][w-1].width-$}E=D,(this.lineHeight<1||b===f&&this.lineHeight>1)&&(D/=this.lineHeight);var V=d.left+x+k,ne=L-k,ie=D,se=0;this.inCompositionMode?(m.fillStyle=this.compositionColor||"black",ie=1,se=D):m.fillStyle=this.selectionColor,"rtl"===this.direction&&(V=this.width-V-ne),m.fillRect(V,d.top+d.topOffset+se,ne,ie),d.topOffset+=E}},getCurrentCharFontSize:function(){var d=this._getCurrentCharIndex();return this.getValueOfPropertyAt(d.l,d.c,"fontSize")},getCurrentCharColor:function(){var d=this._getCurrentCharIndex();return this.getValueOfPropertyAt(d.l,d.c,"fill")},_getCurrentCharIndex:function(){var d=this.get2DCursorLocation(this.selectionStart,!0);return{l:d.lineIndex,c:d.charIndex>0?d.charIndex-1:0}}}),C.IText.fromObject=function(d,m){var g=C.util.stylesFromArray(d.styles,d.text),u=Object.assign({},d,{styles:g});if(y(u),u.styles)for(var c in u.styles)for(var a in u.styles[c])y(u.styles[c][a]);C.Object._fromObject("IText",u,m,"text")}}(),function(){var y=C.util.object.clone;C.util.object.extend(C.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var d=this;this.on("added",function(){var m=d.canvas;m&&(m._hasITextHandlers||(m._hasITextHandlers=!0,d._initCanvasHandlers(m)),m._iTextInstances=m._iTextInstances||[],m._iTextInstances.push(d))})},initRemovedHandler:function(){var d=this;this.on("removed",function(){var m=d.canvas;m&&(m._iTextInstances=m._iTextInstances||[],C.util.removeFromArray(m._iTextInstances,d),0===m._iTextInstances.length&&(m._hasITextHandlers=!1,d._removeCanvasHandlers(m)))})},_initCanvasHandlers:function(d){d._mouseUpITextHandler=function(){d._iTextInstances&&d._iTextInstances.forEach(function(m){m.__isMousedown=!1})},d.on("mouse:up",d._mouseUpITextHandler)},_removeCanvasHandlers:function(d){d.off("mouse:up",d._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(d,m,g,u){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},d.animate("_currentCursorOpacity",m,{duration:g,onComplete:function(){c.isAborted||d[u]()},onChange:function(){d.canvas&&d.selectionStart===d.selectionEnd&&d.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var d=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){d._currentTickCompleteState=d._animateCursor(d,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(d){var m=this,g=d?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){m._tick()},g)},abortCursorAnimation:function(){var d=this._currentTickState||this._currentTickCompleteState,m=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,d&&m&&m.clearContext(m.contextTop||m.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(d){var m=0,g=d-1;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)m++,g--;for(;/\S/.test(this._text[g])&&g>-1;)m++,g--;return d-m},findWordBoundaryRight:function(d){var m=0,g=d;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)m++,g++;for(;/\S/.test(this._text[g])&&g<this._text.length;)m++,g++;return d+m},findLineBoundaryLeft:function(d){for(var m=0,g=d-1;!/\n/.test(this._text[g])&&g>-1;)m++,g--;return d-m},findLineBoundaryRight:function(d){for(var m=0,g=d;!/\n/.test(this._text[g])&&g<this._text.length;)m++,g++;return d+m},searchWordBoundary:function(d,m){for(var g=this._text,u=this._reSpace.test(g[d])?d-1:d,c=g[u],a=C.reNonWord;!a.test(c)&&u>0&&u<g.length;)c=g[u+=m];return a.test(c)&&(u+=1===m?0:1),u},selectWord:function(d){var m=this.searchWordBoundary(d=d||this.selectionStart,-1),g=this.searchWordBoundary(d,1);this.selectionStart=m,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(d){var m=this.findLineBoundaryLeft(d=d||this.selectionStart),g=this.findLineBoundaryRight(d);return this.selectionStart=m,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(d){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(d),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(d){d._iTextInstances&&d._iTextInstances.forEach(function(m){m.selected=!1,m.isEditing&&m.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(d){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var m=this.getSelectionStartFromPointer(d.e),g=this.selectionStart,u=this.selectionEnd;(m!==this.__selectionStartOnMouseDown||g===u)&&(g===m||u===m)||(m>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=m):(this.selectionStart=m,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==g||this.selectionEnd!==u)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(d,m,g){var u=g.slice(0,d),c=C.util.string.graphemeSplit(u).length;if(d===m)return{selectionStart:c,selectionEnd:c};var a=g.slice(d,m);return{selectionStart:c,selectionEnd:c+C.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(d,m,g){var c=g.slice(0,d).join("").length;return d===m?{selectionStart:c,selectionEnd:c}:{selectionStart:c,selectionEnd:c+g.slice(d,m).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var d=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=d.selectionStart,this.hiddenTextarea.selectionEnd=d.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var d=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=d.selectionEnd,this.inCompositionMode||(this.selectionStart=d.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var d=this._calcTextareaPosition();this.hiddenTextarea.style.left=d.left,this.hiddenTextarea.style.top=d.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var d=this.inCompositionMode?this.compositionStart:this.selectionStart,m=this._getCursorBoundaries(d),g=this.get2DCursorLocation(d),a=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"fontSize")*this.lineHeight,h=m.leftOffset,p=this.calcTransformMatrix(),f={x:m.left+h,y:m.top+m.topOffset+a},v=this.canvas.getRetinaScaling(),w=this.canvas.upperCanvasEl,b=w.width/v,x=w.height/v,D=b-a,E=x-a,k=w.clientWidth/b,L=w.clientHeight/x;return f=C.util.transformPoint(f,p),(f=C.util.transformPoint(f,this.canvas.viewportTransform)).x*=k,f.y*=L,f.x<0&&(f.x=0),f.x>D&&(f.x=D),f.y<0&&(f.y=0),f.y>E&&(f.y=E),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:f.x+"px",top:f.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var d=this._textBeforeEdit!==this.text,m=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,m&&(m.blur&&m.blur(),m.parentNode&&m.parentNode.removeChild(m)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),d&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),d&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var d in this.styles)this._textLines[d]||delete this.styles[d]},removeStyleFromTo:function(d,m){var f,v,g=this.get2DCursorLocation(d,!0),u=this.get2DCursorLocation(m,!0),c=g.lineIndex,a=g.charIndex,h=u.lineIndex,p=u.charIndex;if(c!==h){if(this.styles[c])for(f=a;f<this._unwrappedTextLines[c].length;f++)delete this.styles[c][f];if(this.styles[h])for(f=p;f<this._unwrappedTextLines[h].length;f++)(v=this.styles[h][f])&&(this.styles[c]||(this.styles[c]={}),this.styles[c][a+f-p]=v);for(f=c+1;f<=h;f++)delete this.styles[f];this.shiftLineStyles(h,c-h)}else if(this.styles[c]){v=this.styles[c];var b,x,w=p-a;for(f=a;f<p;f++)delete v[f];for(x in this.styles[c])(b=parseInt(x,10))>=p&&(v[b-w]=v[x],delete v[x])}},shiftLineStyles:function(d,m){var g=y(this.styles);for(var u in this.styles){var c=parseInt(u,10);c>d&&(this.styles[c+m]=g[c],g[c-m]||delete this.styles[c])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(d,m,g,u){var c,a={},h=!1,p=this._unwrappedTextLines[d].length===m;for(var f in g||(g=1),this.shiftLineStyles(d,g),this.styles[d]&&(c=this.styles[d][0===m?m:m-1]),this.styles[d]){var v=parseInt(f,10);v>=m&&(h=!0,a[v-m]=this.styles[d][f],p&&0===m||delete this.styles[d][f])}var w=!1;for(h&&!p&&(this.styles[d+g]=a,w=!0),w&&g--;g>0;)u&&u[g-1]?this.styles[d+g]={0:y(u[g-1])}:c?this.styles[d+g]={0:y(c)}:delete this.styles[d+g],g--;this._forceClearCache=!0},insertCharStyleObject:function(d,m,g,u){this.styles||(this.styles={});var c=this.styles[d],a=c?y(c):{};for(var h in g||(g=1),a){var p=parseInt(h,10);p>=m&&(c[p+g]=a[p],a[p-g]||delete c[p])}if(this._forceClearCache=!0,u)for(;g--;)Object.keys(u[g]).length&&(this.styles[d]||(this.styles[d]={}),this.styles[d][m+g]=y(u[g]));else if(c)for(var f=c[m?m-1:1];f&&g--;)this.styles[d][m+g]=y(f)},insertNewStyleBlock:function(d,m,g){for(var u=this.get2DCursorLocation(m,!0),c=[0],a=0,h=0;h<d.length;h++)"\n"===d[h]?c[++a]=0:c[a]++;for(c[0]>0&&(this.insertCharStyleObject(u.lineIndex,u.charIndex,c[0],g),g=g&&g.slice(c[0]+1)),a&&this.insertNewlineStyleObject(u.lineIndex,u.charIndex+c[0],a),h=1;h<a;h++)c[h]>0?this.insertCharStyleObject(u.lineIndex+h,0,c[h],g):g&&this.styles[u.lineIndex+h]&&g[0]&&(this.styles[u.lineIndex+h][0]=g[0]),g=g&&g.slice(c[h]+1);c[h]>0&&this.insertCharStyleObject(u.lineIndex+h,0,c[h],g)},setSelectionStartEndWithShift:function(d,m,g){g<=d?(m===d?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=d),this.selectionStart=g):g>d&&g<m?"right"===this._selectionDirection?this.selectionEnd=g:this.selectionStart=g:(m===d?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=m),this.selectionEnd=g)},setSelectionInBoundaries:function(){var d=this.text.length;this.selectionStart>d?this.selectionStart=d:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>d?this.selectionEnd=d:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),C.util.object.extend(C.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(y){if(this.canvas){this.__newClickTime=+new Date;var d=y.pointer;this.isTripleClick(d)&&(this.fire("tripleclick",y),this._stopEvent(y.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=d,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(y){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===y.x&&this.__lastPointer.y===y.y},_stopEvent:function(y){y.preventDefault&&y.preventDefault(),y.stopPropagation&&y.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(y){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(y.e))},tripleClickHandler:function(y){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(y.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(y){!this.canvas||!this.editable||y.e.button&&1!==y.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(y.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(y){!this.canvas||!this.editable||y.e.button&&1!==y.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(y){if(this.__isMousedown=!1,!(!this.editable||this.group||y.transform&&y.transform.actionPerformed||y.e.button&&1!==y.e.button)){if(this.canvas){var d=this.canvas._activeObject;if(d&&d!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(y.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(y){var d=this.getSelectionStartFromPointer(y);y.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,d):(this.selectionStart=d,this.selectionEnd=d),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(y){for(var p,d=this.getLocalPointer(y),m=0,g=0,u=0,c=0,a=0,f=0,v=this._textLines.length;f<v&&u<=d.y;f++)u+=this.getHeightOfLine(f)*this.scaleY,a=f,f>0&&(c+=this._textLines[f-1].length+this.missingNewlineOffset(f-1));g=this._getLineLeftOffset(a)*this.scaleX,p=this._textLines[a],"rtl"===this.direction&&(d.x=this.width*this.scaleX-d.x+g);for(var w=0,b=p.length;w<b&&(m=g,(g+=this.__charBounds[a][w].kernedWidth*this.scaleX)<=d.x);w++)c++;return this._getNewSelectionStartFromOffset(d,m,g,c,b)},_getNewSelectionStartFromOffset:function(y,d,m,g,u){var a=m-y.x,p=g+(a>y.x-d||a<0?0:1);return this.flipX&&(p=u-p),p>this._text.length&&(p=this._text.length),p}}),C.util.object.extend(C.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=C.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var y=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+y.top+"; left: "+y.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+y.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):C.document.body.appendChild(this.hiddenTextarea),C.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),C.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),C.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),C.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(C.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(y){if(this.isEditing){var d="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(y.keyCode in d)this[d[y.keyCode]](y);else{if(!(y.keyCode in this.ctrlKeysMapDown)||!y.ctrlKey&&!y.metaKey)return;this[this.ctrlKeysMapDown[y.keyCode]](y)}y.stopImmediatePropagation(),y.preventDefault(),y.keyCode>=33&&y.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(y){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:y.keyCode in this.ctrlKeysMapUp&&(y.ctrlKey||y.metaKey)&&(this[this.ctrlKeysMapUp[y.keyCode]](y),y.stopImmediatePropagation(),y.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(y){var d=this.fromPaste;if(this.fromPaste=!1,y&&y.stopPropagation(),this.isEditing){var c,a,w,b,x,m=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,g=this._text.length,u=m.length,h=u-g,p=this.selectionStart,f=this.selectionEnd,v=p!==f;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var D=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),E=p>D.selectionStart;v?(c=this._text.slice(p,f),h+=f-p):u<g&&(c=E?this._text.slice(f+h,f):this._text.slice(p,p-h)),a=m.slice(D.selectionEnd-h,D.selectionEnd),c&&c.length&&(a.length&&(w=this.getSelectionStyles(p,p+1,!1),w=a.map(function(){return w[0]})),v?(b=p,x=f):E?(b=f-c.length,x=f):(b=f,x=f+c.length),this.removeStyleFromTo(b,x)),a.length&&(d&&a.join("")===C.copiedText&&!C.disableStyleCopyPaste&&(w=C.copiedTextStyle),this.insertNewStyleBlock(a,p,w)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(y){this.compositionStart=y.target.selectionStart,this.compositionEnd=y.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(C.copiedText=this.getSelectedText(),C.copiedTextStyle=C.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(y){return y&&y.clipboardData||C.window.clipboardData},_getWidthBeforeCursor:function(y,d){var g,m=this._getLineLeftOffset(y);return d>0&&(m+=(g=this.__charBounds[y][d-1]).left+g.width),m},getDownCursorOffset:function(y,d){var m=this._getSelectionForOffset(y,d),g=this.get2DCursorLocation(m),u=g.lineIndex;if(u===this._textLines.length-1||y.metaKey||34===y.keyCode)return this._text.length-m;var c=g.charIndex,a=this._getWidthBeforeCursor(u,c),h=this._getIndexOnLine(u+1,a);return this._textLines[u].slice(c).length+h+1+this.missingNewlineOffset(u)},_getSelectionForOffset:function(y,d){return y.shiftKey&&this.selectionStart!==this.selectionEnd&&d?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(y,d){var m=this._getSelectionForOffset(y,d),g=this.get2DCursorLocation(m),u=g.lineIndex;if(0===u||y.metaKey||33===y.keyCode)return-m;var c=g.charIndex,a=this._getWidthBeforeCursor(u,c),h=this._getIndexOnLine(u-1,a),p=this._textLines[u].slice(0,c),f=this.missingNewlineOffset(u-1);return-this._textLines[u-1].length+h-p.length+(1-f)},_getIndexOnLine:function(y,d){for(var a,h,m=this._textLines[y],u=this._getLineLeftOffset(y),c=0,p=0,f=m.length;p<f;p++)if((u+=a=this.__charBounds[y][p].width)>d){h=!0;var w=u,b=Math.abs(u-a-d);c=Math.abs(w-d)<b?p:p-1;break}return h||(c=m.length-1),c},moveCursorDown:function(y){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",y)},moveCursorUp:function(y){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",y)},_moveCursorUpOrDown:function(y,d){var g=this["get"+y+"CursorOffset"](d,"right"===this._selectionDirection);d.shiftKey?this.moveCursorWithShift(g):this.moveCursorWithoutShift(g),0!==g&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(y){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+y:this.selectionEnd+y),0!==y},moveCursorWithoutShift:function(y){return y<0?(this.selectionStart+=y,this.selectionEnd=this.selectionStart):(this.selectionEnd+=y,this.selectionStart=this.selectionEnd),0!==y},moveCursorLeft:function(y){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",y)},_move:function(y,d,m){var g;if(y.altKey)g=this["findWordBoundary"+m](this[d]);else{if(!y.metaKey&&35!==y.keyCode&&36!==y.keyCode)return this[d]+="Left"===m?-1:1,!0;g=this["findLineBoundary"+m](this[d])}if(typeof g<"u"&&this[d]!==g)return this[d]=g,!0},_moveLeft:function(y,d){return this._move(y,d,"Left")},_moveRight:function(y,d){return this._move(y,d,"Right")},moveCursorLeftWithoutShift:function(y){var d=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(d=this._moveLeft(y,"selectionStart")),this.selectionEnd=this.selectionStart,d},moveCursorLeftWithShift:function(y){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(y,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(y,"selectionStart")):void 0},moveCursorRight:function(y){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",y)},_moveCursorLeftOrRight:function(y,d){var m="moveCursor"+y+"With";this._currentCursorOpacity=1,this[m+=d.shiftKey?"Shift":"outShift"](d)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(y){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(y,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(y,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(y){var d=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(d=this._moveRight(y,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,d},removeChars:function(y,d){typeof d>"u"&&(d=y+1),this.removeStyleFromTo(y,d),this._text.splice(y,d-y),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(y,d,m,g){typeof g>"u"&&(g=m),g>m&&this.removeStyleFromTo(m,g);var u=C.util.string.graphemeSplit(y);this.insertNewStyleBlock(u,m,d),this._text=[].concat(this._text.slice(0,m),u,this._text.slice(g)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var y=C.util.toFixed,d=/  +/g;C.util.object.extend(C.Text.prototype,{_toSVG:function(){var m=this._getSVGLeftTopOffsets(),g=this._getSVGTextAndBg(m.textTop,m.textLeft);return this._wrapSVGTextAndBg(g)},toSVG:function(m){return this._createBaseSVGMarkup(this._toSVG(),{reviver:m,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(m){var u=this.getSvgTextDecoration(this);return[m.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",u?'text-decoration="'+u+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",m.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(m,g){var h,u=[],c=[],a=m;this._setSVGBg(c);for(var p=0,f=this._textLines.length;p<f;p++)h=this._getLineLeftOffset(p),(this.textBackgroundColor||this.styleHas("textBackgroundColor",p))&&this._setSVGTextLineBg(c,p,g+h,a),this._setSVGTextLineText(u,p,g+h,a),a+=this.getHeightOfLine(p);return{textSpans:u,textBgRects:c}},_createTextCharSpan:function(m,g,u,c){var a=m!==m.trim()||m.match(d),h=this.getSvgSpanStyles(g,a),p=h?'style="'+h+'"':"",f=g.deltaY,v="",w=C.Object.NUM_FRACTION_DIGITS;return f&&(v=' dy="'+y(f,w)+'" '),['<tspan x="',y(u,w),'" y="',y(c,w),'" ',v,p,">",C.util.string.escapeXml(m),"</tspan>"].join("")},_setSVGTextLineText:function(m,g,u,c){var p,f,w,b,E,a=this.getHeightOfLine(g),h=-1!==this.textAlign.indexOf("justify"),v="",x=0,D=this._textLines[g];c+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var k=0,L=D.length-1;k<=L;k++)E=k===L||this.charSpacing,v+=D[k],w=this.__charBounds[g][k],0===x?(u+=w.kernedWidth-w.width,x+=w.width):x+=w.kernedWidth,h&&!E&&this._reSpaceAndTab.test(D[k])&&(E=!0),E||(p=p||this.getCompleteStyleDeclaration(g,k),f=this.getCompleteStyleDeclaration(g,k+1),E=C.util.hasStyleChanged(p,f,!0)),E&&(b=this._getStyleDeclaration(g,k)||{},m.push(this._createTextCharSpan(v,b,u,c)),v="",p=f,u+=x,x=0)},_pushTextBgRect:function(m,g,u,c,a,h){var p=C.Object.NUM_FRACTION_DIGITS;m.push("\t\t<rect ",this._getFillAttributes(g),' x="',y(u,p),'" y="',y(c,p),'" width="',y(a,p),'" height="',y(h,p),'"></rect>\n')},_setSVGTextLineBg:function(m,g,u,c){for(var v,w,a=this._textLines[g],h=this.getHeightOfLine(g)/this.lineHeight,p=0,f=0,b=this.getValueOfPropertyAt(g,0,"textBackgroundColor"),x=0,D=a.length;x<D;x++)v=this.__charBounds[g][x],(w=this.getValueOfPropertyAt(g,x,"textBackgroundColor"))!==b?(b&&this._pushTextBgRect(m,b,u+f,c,p,h),f=v.left,p=v.width,b=w):p+=v.kernedWidth;w&&this._pushTextBgRect(m,w,u+f,c,p,h)},_getFillAttributes:function(m){var g=m&&"string"==typeof m?new C.Color(m):"";return g&&g.getSource()&&1!==g.getAlpha()?'opacity="'+g.getAlpha()+'" fill="'+g.setAlpha(1).toRgb()+'"':'fill="'+m+'"'},_getSVGLineTopOffset:function(m){for(var u,g=0,c=0;c<m;c++)g+=this.getHeightOfLine(c);return u=this.getHeightOfLine(c),{lineTop:g,offset:(this._fontSizeMult-this._fontSizeFraction)*u/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(m){return C.Object.prototype.getSvgStyles.call(this,m)+" white-space: pre;"}})}(),function(y){"use strict";var d=y.fabric||(y.fabric={});d.Textbox=d.util.createClass(d.IText,d.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:d.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(m){for(var g=0,u=0,c=0,a={},h=0;h<m.graphemeLines.length;h++)"\n"===m.graphemeText[c]&&h>0?(u=0,c++,g++):!this.splitByGrapheme&&this._reSpaceAndTab.test(m.graphemeText[c])&&h>0&&(u++,c++),a[h]={line:g,offset:u},c+=m.graphemeLines[h].length,u+=m.graphemeLines[h].length;return a},styleHas:function(m,g){if(this._styleMap&&!this.isWrapping){var u=this._styleMap[g];u&&(g=u.line)}return d.Text.prototype.styleHas.call(this,m,g)},isEmptyStyles:function(m){if(!this.styles)return!0;var c,a,g=0,h=!1,p=this._styleMap[m],f=this._styleMap[m+1];for(var v in p&&(m=p.line,g=p.offset),f&&(h=f.line===m,c=f.offset),a=typeof m>"u"?this.styles:{line:this.styles[m]})for(var w in a[v])if(w>=g&&(!h||w<c))for(var b in a[v][w])return!1;return!0},_getStyleDeclaration:function(m,g){if(this._styleMap&&!this.isWrapping){var u=this._styleMap[m];if(!u)return null;m=u.line,g=u.offset+g}return this.callSuper("_getStyleDeclaration",m,g)},_setStyleDeclaration:function(m,g,u){var c=this._styleMap[m];this.styles[m=c.line][g=c.offset+g]=u},_deleteStyleDeclaration:function(m,g){var u=this._styleMap[m];delete this.styles[m=u.line][g=u.offset+g]},_getLineStyle:function(m){return!!this.styles[this._styleMap[m].line]},_setLineStyle:function(m){this.styles[this._styleMap[m].line]={}},_wrapText:function(m,g){var c,u=[];for(this.isWrapping=!0,c=0;c<m.length;c++)u=u.concat(this._wrapLine(m[c],c,g));return this.isWrapping=!1,u},_measureWord:function(m,g,u){var a,c=0;u=u||0;for(var p=0,f=m.length;p<f;p++)c+=this._getGraphemeBox(m[p],g,p+u,a,!0).kernedWidth,a=m[p];return c},_wrapLine:function(m,g,u,V){var a=0,h=this.splitByGrapheme,p=[],f=[],v=h?d.util.string.graphemeSplit(m):m.split(this._wordJoiners),w="",b=0,x=h?"":" ",D=0,E=0,k=0,L=!0,$=this._getWidthOfCharSpacing();V=V||0,0===v.length&&v.push([]),u-=V;for(var ne=0;ne<v.length;ne++)w=h?v[ne]:d.util.string.graphemeSplit(v[ne]),D=this._measureWord(w,g,b),b+=w.length,(a+=E+D-$)>u&&!L?(p.push(f),f=[],a=D,L=!0):a+=$,!L&&!h&&f.push(x),f=f.concat(w),E=h?0:this._measureWord([x],g,b),b++,L=!1,D>k&&(k=D);return ne&&p.push(f),k+V>this.dynamicMinWidth&&(this.dynamicMinWidth=k-$+V),p},isEndOfWrapping:function(m){return!this._styleMap[m+1]||this._styleMap[m+1].line!==this._styleMap[m].line},missingNewlineOffset:function(m){return this.splitByGrapheme?this.isEndOfWrapping(m)?1:0:1},_splitTextIntoLines:function(m){for(var g=d.Text.prototype._splitTextIntoLines.call(this,m),u=this._wrapText(g.lines,this.width),c=new Array(u.length),a=0;a<u.length;a++)c[a]=u[a].join("");return g.lines=c,g.graphemeLines=u,g},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var m={};for(var g in this._styleMap)this._textLines[g]&&(m[this._styleMap[g].line]=1);for(var g in this.styles)m[g]||delete this.styles[g]},toObject:function(m){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(m))}}),d.Textbox.fromObject=function(m,g){var u=d.util.stylesFromArray(m.styles,m.text),c=Object.assign({},m,{styles:u});return d.Object._fromObject("Textbox",c,g,"text")}}(F),function(){var y=C.controlsUtils,d=y.scaleSkewCursorStyleHandler,m=y.scaleCursorStyleHandler,g=y.scalingEqually,u=y.scalingYOrSkewingX,c=y.scalingXOrSkewingY,a=y.scaleOrSkewActionName,h=C.Object.prototype.controls;if(h.ml=new C.Control({x:-.5,y:0,cursorStyleHandler:d,actionHandler:c,getActionName:a}),h.mr=new C.Control({x:.5,y:0,cursorStyleHandler:d,actionHandler:c,getActionName:a}),h.mb=new C.Control({x:0,y:.5,cursorStyleHandler:d,actionHandler:u,getActionName:a}),h.mt=new C.Control({x:0,y:-.5,cursorStyleHandler:d,actionHandler:u,getActionName:a}),h.tl=new C.Control({x:-.5,y:-.5,cursorStyleHandler:m,actionHandler:g}),h.tr=new C.Control({x:.5,y:-.5,cursorStyleHandler:m,actionHandler:g}),h.bl=new C.Control({x:-.5,y:.5,cursorStyleHandler:m,actionHandler:g}),h.br=new C.Control({x:.5,y:.5,cursorStyleHandler:m,actionHandler:g}),h.mtr=new C.Control({x:0,y:-.5,actionHandler:y.rotationWithSnapping,cursorStyleHandler:y.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),C.Textbox){var p=C.Textbox.prototype.controls={};p.mtr=h.mtr,p.tr=h.tr,p.br=h.br,p.tl=h.tl,p.bl=h.bl,p.mt=h.mt,p.mb=h.mb,p.mr=new C.Control({x:.5,y:0,actionHandler:y.changeWidth,cursorStyleHandler:d,actionName:"resizing"}),p.ml=new C.Control({x:-.5,y:0,actionHandler:y.changeWidth,cursorStyleHandler:d,actionName:"resizing"})}}()},1771:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Animation=void 0;const C=G(9037),Y=G(2121),W=C.glob.performance&&C.glob.performance.now?function(){return C.glob.performance.now()}:function(){return(new Date).getTime()};class X{constructor(B,y){this.id=X.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:W(),frameRate:0},this.func=B,this.setLayers(y)}setLayers(B){let y=[];return B&&(y=Array.isArray(B)?B:[B]),this.layers=y,this}getLayers(){return this.layers}addLayer(B){const y=this.layers,d=y.length;for(let m=0;m<d;m++)if(y[m]._id===B._id)return!1;return this.layers.push(B),!0}isRunning(){const y=X.animations,d=y.length;for(let m=0;m<d;m++)if(y[m].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=W(),X._addAnimation(this),this}stop(){return X._removeAnimation(this),this}_updateFrameObject(B){this.frame.timeDiff=B-this.frame.lastTime,this.frame.lastTime=B,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(B){this.animations.push(B),this._handleAnimation()}static _removeAnimation(B){const y=B.id,d=this.animations,m=d.length;for(let g=0;g<m;g++)if(d[g].id===y){this.animations.splice(g,1);break}}static _runFrames(){const B={},y=this.animations;for(let d=0;d<y.length;d++){const m=y[d],g=m.layers,u=m.func;m._updateFrameObject(W());const c=g.length;let a;if(a=!u||!1!==u.call(m,m.frame),a)for(let h=0;h<c;h++){const p=g[h];void 0!==p._id&&(B[p._id]=p)}}for(let d in B)B.hasOwnProperty(d)&&B[d].batchDraw()}static _animationLoop(){const B=X;B.animations.length?(B._runFrames(),Y.Util.requestAnimFrame(B._animationLoop)):B.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Y.Util.requestAnimFrame(this._animationLoop))}}F.Animation=X,X.animations=[],X.animIdCounter=0,X.animRunning=!1},5438:($e,F)=>{"use strict";function Y(H,B,y){const d=W(1,y,H),m=W(1,y,B);return Math.sqrt(d*d+m*m)}Object.defineProperty(F,"__esModule",{value:!0}),F.t2length=F.getQuadraticArcLength=F.getCubicArcLength=F.binomialCoefficients=F.cValues=F.tValues=void 0,F.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],F.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],F.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]],F.getCubicArcLength=(H,B,y)=>{let d,m,g;d=y/2,m=0;for(let c=0;c<20;c++)g=d*F.tValues[20][c]+d,m+=F.cValues[20][c]*Y(H,B,g);return d*m},F.getQuadraticArcLength=(H,B,y)=>{void 0===y&&(y=1);const d=H[0]-2*H[1]+H[2],m=B[0]-2*B[1]+B[2],g=2*H[1]-2*H[0],u=2*B[1]-2*B[0],c=4*(d*d+m*m),a=4*(d*g+m*u),h=g*g+u*u;if(0===c)return y*Math.sqrt(Math.pow(H[2]-H[0],2)+Math.pow(B[2]-B[0],2));const p=a/(2*c),v=y+p,w=h/c-p*p,b=v*v+w>0?Math.sqrt(v*v+w):0,x=p*p+w>0?Math.sqrt(p*p+w):0,D=p+Math.sqrt(p*p+w)!==0?w*Math.log(Math.abs((v+b)/(p+x))):0;return Math.sqrt(c)/2*(v*b-p*x+D)};const W=(H,B,y)=>{const d=y.length-1;let m,g;if(0===d)return 0;if(0===H){g=0;for(let u=0;u<=d;u++)g+=F.binomialCoefficients[d][u]*Math.pow(1-B,d-u)*Math.pow(B,u)*y[u];return g}m=new Array(d);for(let u=0;u<d;u++)m[u]=d*(y[u+1]-y[u]);return W(H-1,B,m)};F.t2length=(H,B,y)=>{let d=1,m=H/B,g=(H-y(m))/B,u=0;for(;d>.001;){const c=y(m+g),a=Math.abs(H-c)/B;if(a<d)d=a,m+=g;else{const h=y(m-g),p=Math.abs(H-h)/B;p<d?(d=p,m-=g):g/=2}if(u++,u>500)break}return m}},1161:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.HitCanvas=F.SceneCanvas=F.Canvas=void 0;const C=G(2121),Y=G(9703),W=G(9037),X=G(134),H=G(674);var B;class d{constructor(c){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var h=(c||{}).pixelRatio||W.Konva.pixelRatio||function y(){if(B)return B;var u=C.Util.createCanvasElement(),c=u.getContext("2d");return B=(W.Konva._global.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1),C.Util.releaseCanvas(u),B}();this.pixelRatio=h,this._canvas=C.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(c){var a=this.pixelRatio;this.pixelRatio=c,this.setSize(this.getWidth()/a,this.getHeight()/a)}setWidth(c){this.width=this._canvas.width=c*this.pixelRatio,this._canvas.style.width=c+"px";var a=this.pixelRatio;this.getContext()._context.scale(a,a)}setHeight(c){this.height=this._canvas.height=c*this.pixelRatio,this._canvas.style.height=c+"px";var a=this.pixelRatio;this.getContext()._context.scale(a,a)}getWidth(){return this.width}getHeight(){return this.height}setSize(c,a){this.setWidth(c||0),this.setHeight(a||0)}toDataURL(c,a){try{return this._canvas.toDataURL(c,a)}catch{try{return this._canvas.toDataURL()}catch(p){return C.Util.error("Unable to get data URL. "+p.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}F.Canvas=d,X.Factory.addGetterSetter(d,"pixelRatio",void 0,(0,H.getNumberValidator)()),F.SceneCanvas=class m extends d{constructor(c={width:0,height:0,willReadFrequently:!1}){super(c),this.context=new Y.SceneContext(this,{willReadFrequently:c.willReadFrequently}),this.setSize(c.width,c.height)}},F.HitCanvas=class g extends d{constructor(c={width:0,height:0}){super(c),this.hitCanvas=!0,this.context=new Y.HitContext(this),this.setSize(c.width,c.height)}}},2632:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Container=void 0;const C=G(134),Y=G(338),W=G(674);class X extends Y.Node{constructor(){super(...arguments),this.children=[]}getChildren(B){if(!B)return this.children||[];var d=[];return(this.children||[]).forEach(function(m){B(m)&&d.push(m)}),d}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(B=>{B.parent=null,B.index=0,B.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(B=>{B.parent=null,B.index=0,B.destroy()}),this.children=[],this._requestDraw(),this}add(...B){if(0===B.length)return this;if(B.length>1){for(var y=0;y<B.length;y++)this.add(B[y]);return this}const d=B[0];return d.getParent()?(d.moveTo(this),this):(this._validateAdd(d),d.index=this.getChildren().length,d.parent=this,d._clearCaches(),this.getChildren().push(d),this._fire("add",{child:d}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(B){return this._generalFind(B,!1)}findOne(B){var y=this._generalFind(B,!0);return y.length>0?y[0]:void 0}_generalFind(B,y){var d=[];return this._descendants(m=>{const g=m._isMatch(B);return g&&d.push(m),!(!g||!y)}),d}_descendants(B){let y=!1;const d=this.getChildren();for(const m of d){if(y=B(m),y)return!0;if(m.hasChildren()&&(y=m._descendants(B),y))return!0}return!1}toObject(){var B=Y.Node.prototype.toObject.call(this);return B.children=[],this.getChildren().forEach(y=>{B.children.push(y.toObject())}),B}isAncestorOf(B){for(var y=B.getParent();y;){if(y._id===this._id)return!0;y=y.getParent()}return!1}clone(B){var y=Y.Node.prototype.clone.call(this,B);return this.getChildren().forEach(function(d){y.add(d.clone())}),y}getAllIntersections(B){var y=[];return this.find("Shape").forEach(d=>{d.isVisible()&&d.intersects(B)&&y.push(d)}),y}_clearSelfAndDescendantCache(B){var y;super._clearSelfAndDescendantCache(B),!this.isCached()&&(null===(y=this.children)||void 0===y||y.forEach(function(d){d._clearSelfAndDescendantCache(B)}))}_setChildrenIndices(){var B;null===(B=this.children)||void 0===B||B.forEach(function(y,d){y.index=d}),this._requestDraw()}drawScene(B,y){var d=this.getLayer(),m=B||d&&d.getCanvas(),g=m&&m.getContext(),u=this._getCanvasCache(),c=u&&u.scene,a=m&&m.isCache;if(!this.isVisible()&&!a)return this;if(c){g.save();var h=this.getAbsoluteTransform(y).getMatrix();g.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(g),g.restore()}else this._drawChildren("drawScene",m,y);return this}drawHit(B,y){if(!this.shouldDrawHit(y))return this;var d=this.getLayer(),m=B||d&&d.hitCanvas,g=m&&m.getContext(),u=this._getCanvasCache();if(u&&u.hit){g.save();var a=this.getAbsoluteTransform(y).getMatrix();g.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(g),g.restore()}else this._drawChildren("drawHit",m,y);return this}_drawChildren(B,y,d){var m,g=y&&y.getContext(),u=this.clipWidth(),c=this.clipHeight(),a=this.clipFunc(),h=u&&c||a;const p=d===this;if(h){g.save();var f=this.getAbsoluteTransform(d),v=f.getMatrix();let D;if(g.transform(v[0],v[1],v[2],v[3],v[4],v[5]),g.beginPath(),a)D=a.call(this,g,this);else{var w=this.clipX(),b=this.clipY();g.rect(w,b,u,c)}g.clip.apply(g,D),v=f.copy().invert().getMatrix(),g.transform(v[0],v[1],v[2],v[3],v[4],v[5])}var x=!p&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===B;x&&(g.save(),g._applyGlobalCompositeOperation(this)),null===(m=this.children)||void 0===m||m.forEach(function(D){D[B](y,d)}),x&&g.restore(),h&&g.restore()}getClientRect(B={}){var y,g,u,c,a,h,d=B.skipTransform,m=B.relativeTo,p=this;null===(y=this.children)||void 0===y||y.forEach(function(x){if(x.visible()){var D=x.getClientRect({relativeTo:p,skipShadow:B.skipShadow,skipStroke:B.skipStroke});0===D.width&&0===D.height||(void 0===g?(g=D.x,u=D.y,c=D.x+D.width,a=D.y+D.height):(g=Math.min(g,D.x),u=Math.min(u,D.y),c=Math.max(c,D.x+D.width),a=Math.max(a,D.y+D.height)))}});for(var f=this.find("Shape"),v=!1,w=0;w<f.length;w++)if(f[w]._isVisible(this)){v=!0;break}return h=v&&void 0!==g?{x:g,y:u,width:c-g,height:a-u}:{x:0,y:0,width:0,height:0},d?h:this._transformedRect(h,m)}}F.Container=X,C.Factory.addComponentsGetterSetter(X,"clip",["x","y","width","height"]),C.Factory.addGetterSetter(X,"clipX",void 0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(X,"clipY",void 0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(X,"clipWidth",void 0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(X,"clipHeight",void 0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(X,"clipFunc")},9703:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.HitContext=F.SceneContext=F.Context=void 0;const C=G(2121),Y=G(9037);var c=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class p{constructor(b){this.canvas=b,Y.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(b){b.fillEnabled()&&this._fill(b)}_fill(b){}strokeShape(b){b.hasStroke()&&this._stroke(b)}_stroke(b){}fillStrokeShape(b){b.attrs.fillAfterStrokeEnabled?(this.strokeShape(b),this.fillShape(b)):(this.fillShape(b),this.strokeShape(b))}getTrace(b,x){var L,$,V,ne,D=this.traceArr,E=D.length,k="";for(L=0;L<E;L++)(V=($=D[L]).method)?(ne=$.args,k+=V,b?k+="()":C.Util._isArray(ne[0])?k+="(["+ne.join(",")+"])":(x&&(ne=ne.map(ie=>"number"==typeof ie?Math.floor(ie):ie)),k+="("+ne.join(",")+")")):(k+=$.property,b||(k+="="+$.val)),k+=";";return k}clearTrace(){this.traceArr=[]}_trace(b){var x=this.traceArr;x.push(b),x.length>=100&&x.shift()}reset(){var b=this.getCanvas().getPixelRatio();this.setTransform(1*b,0,0,1*b,0,0)}getCanvas(){return this.canvas}clear(b){var x=this.getCanvas();b?this.clearRect(b.x||0,b.y||0,b.width||0,b.height||0):this.clearRect(0,0,x.getWidth()/x.pixelRatio,x.getHeight()/x.pixelRatio)}_applyLineCap(b){const x=b.attrs.lineCap;x&&this.setAttr("lineCap",x)}_applyOpacity(b){var x=b.getAbsoluteOpacity();1!==x&&this.setAttr("globalAlpha",x)}_applyLineJoin(b){const x=b.attrs.lineJoin;x&&this.setAttr("lineJoin",x)}setAttr(b,x){this._context[b]=x}arc(b,x,D,E,k,L){this._context.arc(b,x,D,E,k,L)}arcTo(b,x,D,E,k){this._context.arcTo(b,x,D,E,k)}beginPath(){this._context.beginPath()}bezierCurveTo(b,x,D,E,k,L){this._context.bezierCurveTo(b,x,D,E,k,L)}clearRect(b,x,D,E){this._context.clearRect(b,x,D,E)}clip(...b){this._context.clip.apply(this._context,b)}closePath(){this._context.closePath()}createImageData(b,x){var D=arguments;return 2===D.length?this._context.createImageData(b,x):1===D.length?this._context.createImageData(b):void 0}createLinearGradient(b,x,D,E){return this._context.createLinearGradient(b,x,D,E)}createPattern(b,x){return this._context.createPattern(b,x)}createRadialGradient(b,x,D,E,k,L){return this._context.createRadialGradient(b,x,D,E,k,L)}drawImage(b,x,D,E,k,L,$,V,ne){var ie=arguments,se=this._context;3===ie.length?se.drawImage(b,x,D):5===ie.length?se.drawImage(b,x,D,E,k):9===ie.length&&se.drawImage(b,x,D,E,k,L,$,V,ne)}ellipse(b,x,D,E,k,L,$,V){this._context.ellipse(b,x,D,E,k,L,$,V)}isPointInPath(b,x,D,E){return D?this._context.isPointInPath(D,b,x,E):this._context.isPointInPath(b,x,E)}fill(...b){this._context.fill.apply(this._context,b)}fillRect(b,x,D,E){this._context.fillRect(b,x,D,E)}strokeRect(b,x,D,E){this._context.strokeRect(b,x,D,E)}fillText(b,x,D,E){E?this._context.fillText(b,x,D,E):this._context.fillText(b,x,D)}measureText(b){return this._context.measureText(b)}getImageData(b,x,D,E){return this._context.getImageData(b,x,D,E)}lineTo(b,x){this._context.lineTo(b,x)}moveTo(b,x){this._context.moveTo(b,x)}rect(b,x,D,E){this._context.rect(b,x,D,E)}putImageData(b,x,D){this._context.putImageData(b,x,D)}quadraticCurveTo(b,x,D,E){this._context.quadraticCurveTo(b,x,D,E)}restore(){this._context.restore()}rotate(b){this._context.rotate(b)}save(){this._context.save()}scale(b,x){this._context.scale(b,x)}setLineDash(b){this._context.setLineDash?this._context.setLineDash(b):"mozDash"in this._context?this._context.mozDash=b:"webkitLineDash"in this._context&&(this._context.webkitLineDash=b)}getLineDash(){return this._context.getLineDash()}setTransform(b,x,D,E,k,L){this._context.setTransform(b,x,D,E,k,L)}stroke(b){b?this._context.stroke(b):this._context.stroke()}strokeText(b,x,D,E){this._context.strokeText(b,x,D,E)}transform(b,x,D,E,k,L){this._context.transform(b,x,D,E,k,L)}translate(b,x){this._context.translate(b,x)}_enableTrace(){var E,k,b=this,x=c.length,D=this.setAttr,L=function($){var ne,V=b[$];b[$]=function(){return k=function W(w){var E,k,b=[],x=w.length,D=C.Util;for(E=0;E<x;E++)D._isNumber(k=w[E])?k=Math.round(1e3*k)/1e3:D._isString(k)||(k+=""),b.push(k);return b}(Array.prototype.slice.call(arguments,0)),ne=V.apply(b,arguments),b._trace({method:$,args:k}),ne}};for(E=0;E<x;E++)L(c[E]);b.setAttr=function(){D.apply(b,arguments);var $=arguments[0],V=arguments[1];("shadowOffsetX"===$||"shadowOffsetY"===$||"shadowBlur"===$)&&(V/=this.canvas.getPixelRatio()),b._trace({property:$,val:V})}}_applyGlobalCompositeOperation(b){const x=b.attrs.globalCompositeOperation;!x||"source-over"===x||this.setAttr("globalCompositeOperation",x)}}F.Context=p,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(w){Object.defineProperty(p.prototype,w,{get(){return this._context[w]},set(b){this._context[w]=b}})}),F.SceneContext=class f extends p{constructor(b,{willReadFrequently:x=!1}={}){super(b),this._context=b._canvas.getContext("2d",{willReadFrequently:x})}_fillColor(b){var x=b.fill();this.setAttr("fillStyle",x),b._fillFunc(this)}_fillPattern(b){this.setAttr("fillStyle",b._getFillPattern()),b._fillFunc(this)}_fillLinearGradient(b){var x=b._getLinearGradient();x&&(this.setAttr("fillStyle",x),b._fillFunc(this))}_fillRadialGradient(b){const x=b._getRadialGradient();x&&(this.setAttr("fillStyle",x),b._fillFunc(this))}_fill(b){const x=b.fill(),D=b.getFillPriority();if(x&&"color"===D)return void this._fillColor(b);const E=b.getFillPatternImage();if(E&&"pattern"===D)return void this._fillPattern(b);const k=b.getFillLinearGradientColorStops();if(k&&"linear-gradient"===D)return void this._fillLinearGradient(b);const L=b.getFillRadialGradientColorStops();L&&"radial-gradient"===D?this._fillRadialGradient(b):x?this._fillColor(b):E?this._fillPattern(b):k?this._fillLinearGradient(b):L&&this._fillRadialGradient(b)}_strokeLinearGradient(b){const x=b.getStrokeLinearGradientStartPoint(),D=b.getStrokeLinearGradientEndPoint(),E=b.getStrokeLinearGradientColorStops(),k=this.createLinearGradient(x.x,x.y,D.x,D.y);if(E){for(var L=0;L<E.length;L+=2)k.addColorStop(E[L],E[L+1]);this.setAttr("strokeStyle",k)}}_stroke(b){var x=b.dash(),D=b.getStrokeScaleEnabled();if(b.hasStroke()){if(!D){this.save();var E=this.getCanvas().getPixelRatio();this.setTransform(E,0,0,E,0,0)}this._applyLineCap(b),x&&b.dashEnabled()&&(this.setLineDash(x),this.setAttr("lineDashOffset",b.dashOffset())),this.setAttr("lineWidth",b.strokeWidth()),b.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),b.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(b):this.setAttr("strokeStyle",b.stroke()),b._strokeFunc(this),D||this.restore()}}_applyShadow(b){var x,D,E,k=null!==(x=b.getShadowRGBA())&&void 0!==x?x:"black",L=null!==(D=b.getShadowBlur())&&void 0!==D?D:5,$=null!==(E=b.getShadowOffset())&&void 0!==E?E:{x:0,y:0},V=b.getAbsoluteScale(),ne=this.canvas.getPixelRatio(),ie=V.x*ne,se=V.y*ne;this.setAttr("shadowColor",k),this.setAttr("shadowBlur",L*Math.min(Math.abs(ie),Math.abs(se))),this.setAttr("shadowOffsetX",$.x*ie),this.setAttr("shadowOffsetY",$.y*se)}},F.HitContext=class v extends p{constructor(b){super(b),this._context=b._canvas.getContext("2d",{willReadFrequently:!0})}_fill(b){this.save(),this.setAttr("fillStyle",b.colorKey),b._fillFuncHit(this),this.restore()}strokeShape(b){b.hasHitStroke()&&this._stroke(b)}_stroke(b){if(b.hasHitStroke()){const k=b.getStrokeScaleEnabled();if(!k){this.save();var x=this.getCanvas().getPixelRatio();this.setTransform(x,0,0,x,0,0)}this._applyLineCap(b);var D=b.hitStrokeWidth(),E="auto"===D?b.strokeWidth():D;this.setAttr("lineWidth",E),this.setAttr("strokeStyle",b.colorKey),b._strokeFuncHit(this),k||this.restore()}}}},4505:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.DD=void 0;const C=G(9037),Y=G(2121);F.DD={get isDragging(){var W=!1;return F.DD._dragElements.forEach(X=>{"dragging"===X.dragStatus&&(W=!0)}),W},justDragged:!1,get node(){var W;return F.DD._dragElements.forEach(X=>{W=X.node}),W},_dragElements:new Map,_drag(W){const X=[];F.DD._dragElements.forEach((H,B)=>{const{node:y}=H,d=y.getStage();d.setPointersPositions(W),void 0===H.pointerId&&(H.pointerId=Y.Util._getFirstPointerId(W));const m=d._changedPointerPositions.find(c=>c.id===H.pointerId);if(m){if("dragging"!==H.dragStatus){var g=y.dragDistance();if(Math.max(Math.abs(m.x-H.startPointerPos.x),Math.abs(m.y-H.startPointerPos.y))<g||(y.startDrag({evt:W}),!y.isDragging()))return}y._setDragPosition(W,H),X.push(y)}}),X.forEach(H=>{H.fire("dragmove",{type:"dragmove",target:H,evt:W},!0)})},_endDragBefore(W){const X=[];F.DD._dragElements.forEach(H=>{const{node:B}=H,y=B.getStage();if(W&&y.setPointersPositions(W),!y._changedPointerPositions.find(g=>g.id===H.pointerId))return;("dragging"===H.dragStatus||"stopped"===H.dragStatus)&&(F.DD.justDragged=!0,C.Konva._mouseListenClick=!1,C.Konva._touchListenClick=!1,C.Konva._pointerListenClick=!1,H.dragStatus="stopped");const m=H.node.getLayer()||H.node instanceof C.Konva.Stage&&H.node;m&&-1===X.indexOf(m)&&X.push(m)}),X.forEach(H=>{H.draw()})},_endDragAfter(W){F.DD._dragElements.forEach((X,H)=>{"stopped"===X.dragStatus&&X.node.fire("dragend",{type:"dragend",target:X.node,evt:W},!0),"dragging"!==X.dragStatus&&F.DD._dragElements.delete(H)})}},C.Konva.isBrowser&&(window.addEventListener("mouseup",F.DD._endDragBefore,!0),window.addEventListener("touchend",F.DD._endDragBefore,!0),window.addEventListener("mousemove",F.DD._drag),window.addEventListener("touchmove",F.DD._drag),window.addEventListener("mouseup",F.DD._endDragAfter,!1),window.addEventListener("touchend",F.DD._endDragAfter,!1))},134:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Factory=void 0;const C=G(2121),Y=G(674);var W="get",X="set";F.Factory={addGetterSetter(H,B,y,d,m){F.Factory.addGetter(H,B,y),F.Factory.addSetter(H,B,d,m),F.Factory.addOverloadedGetterSetter(H,B)},addGetter(H,B,y){var d=W+C.Util._capitalize(B);H.prototype[d]=H.prototype[d]||function(){var m=this.attrs[B];return void 0===m?y:m}},addSetter(H,B,y,d){var m=X+C.Util._capitalize(B);H.prototype[m]||F.Factory.overWriteSetter(H,B,y,d)},overWriteSetter(H,B,y,d){var m=X+C.Util._capitalize(B);H.prototype[m]=function(g){return y&&null!=g&&(g=y.call(this,g,B)),this._setAttr(B,g),d&&d.call(this),this}},addComponentsGetterSetter(H,B,y,d,m){var h,p,g=y.length,u=C.Util._capitalize,c=W+u(B),a=X+u(B);H.prototype[c]=function(){var v={};for(h=0;h<g;h++)v[p=y[h]]=this.getAttr(B+u(p));return v};var f=(0,Y.getComponentValidator)(y);H.prototype[a]=function(v){var b,w=this.attrs[B];for(b in d&&(v=d.call(this,v)),f&&f.call(this,v,B),v)v.hasOwnProperty(b)&&this._setAttr(B+u(b),v[b]);return v||y.forEach(x=>{this._setAttr(B+u(x),void 0)}),this._fireChangeEvent(B,w,v),m&&m.call(this),this},F.Factory.addOverloadedGetterSetter(H,B)},addOverloadedGetterSetter(H,B){var y=C.Util._capitalize(B),d=X+y,m=W+y;H.prototype[B]=function(){return arguments.length?(this[d](arguments[0]),this):this[m]()}},addDeprecatedGetterSetter(H,B,y,d){C.Util.error("Adding deprecated "+B);var m=W+C.Util._capitalize(B),g=B+" property is deprecated and will be removed soon. Look at Konva change log for more information.";H.prototype[m]=function(){C.Util.error(g);var u=this.attrs[B];return void 0===u?y:u},F.Factory.addSetter(H,B,d,function(){C.Util.error(g)}),F.Factory.addOverloadedGetterSetter(H,B)},backCompat(H,B){C.Util.each(B,function(y,d){var m=H.prototype[d],g=W+C.Util._capitalize(y),u=X+C.Util._capitalize(y);function c(){m.apply(this,arguments),C.Util.error('"'+y+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}H.prototype[y]=c,H.prototype[g]=c,H.prototype[u]=c})},afterSetFilter(){this._filterUpToDate=!1}}},6393:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.FastLayer=void 0;const C=G(2121),Y=G(7035),W=G(9037);class X extends Y.Layer{constructor(B){super(B),this.listening(!1),C.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}F.FastLayer=X,X.prototype.nodeType="FastLayer",(0,W._registerNode)(X)},9037:($e,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F._registerNode=F.Konva=F.glob=void 0;const G=Math.PI/180;F.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},F.Konva={_global:F.glob,version:"9.2.1",isBrowser:function C(){return typeof window<"u"&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}(),isUnminified:/param/.test(function(W){}.toString()),dblClickWindow:400,getAngle:W=>F.Konva.angleDeg?W*G:W,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>F.Konva.DD.isDragging,isDragReady:()=>!!F.Konva.DD.node,releaseCanvasOnDestroy:!0,document:F.glob.document,_injectGlobal(W){F.glob.Konva=W}},F._registerNode=W=>{F.Konva[W.prototype.getClassName()]=W},F.Konva._injectGlobal(F.Konva)},5673:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Group=void 0;const C=G(2121),Y=G(2632),W=G(9037);class X extends Y.Container{_validateAdd(B){var y=B.getType();"Group"!==y&&"Shape"!==y&&C.Util.throw("You may only add groups and shapes to groups.")}}F.Group=X,X.prototype.nodeType="Group",(0,W._registerNode)(X)},7035:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Layer=void 0;const C=G(2121),Y=G(2632),W=G(338),X=G(134),H=G(1161),B=G(674),y=G(4147),d=G(9037);var c=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],a=c.length;class h extends Y.Container{constructor(f){super(f),this.canvas=new H.SceneCanvas,this.hitCanvas=new H.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(f){return this.getContext().clear(f),this.getHitCanvas().getContext().clear(f),this}setZIndex(f){super.setZIndex(f);var v=this.getStage();return v&&v.content&&(v.content.removeChild(this.getNativeCanvasElement()),f<v.children.length-1?v.content.insertBefore(this.getNativeCanvasElement(),v.children[f+1].getCanvas()._canvas):v.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){W.Node.prototype.moveToTop.call(this);var f=this.getStage();return f&&f.content&&(f.content.removeChild(this.getNativeCanvasElement()),f.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!W.Node.prototype.moveUp.call(this))return!1;var v=this.getStage();return!(!v||!v.content||(v.content.removeChild(this.getNativeCanvasElement()),this.index<v.children.length-1?v.content.insertBefore(this.getNativeCanvasElement(),v.children[this.index+1].getCanvas()._canvas):v.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(W.Node.prototype.moveDown.call(this)){var f=this.getStage();if(f){var v=f.children;f.content&&(f.content.removeChild(this.getNativeCanvasElement()),f.content.insertBefore(this.getNativeCanvasElement(),v[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(W.Node.prototype.moveToBottom.call(this)){var f=this.getStage();if(f){var v=f.children;f.content&&(f.content.removeChild(this.getNativeCanvasElement()),f.content.insertBefore(this.getNativeCanvasElement(),v[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var f=this.getNativeCanvasElement();return W.Node.prototype.remove.call(this),f&&f.parentNode&&C.Util._isInDocument(f)&&f.parentNode.removeChild(f),this}getStage(){return this.parent}setSize({width:f,height:v}){return this.canvas.setSize(f,v),this.hitCanvas.setSize(f,v),this._setSmoothEnabled(),this}_validateAdd(f){var v=f.getType();"Group"!==v&&"Shape"!==v&&C.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(f){return(f=f||{}).width=f.width||this.getWidth(),f.height=f.height||this.getHeight(),f.x=void 0!==f.x?f.x:this.x(),f.y=void 0!==f.y?f.y:this.y(),W.Node.prototype._toKonvaCanvas.call(this,f)}_checkVisibility(){this.canvas._canvas.style.display=this.visible()?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){C.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){C.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,C.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(f){if(!this.isListening()||!this.isVisible())return null;for(var v=1,w=!1;;){for(let b=0;b<a;b++){const x=c[b],D=this._getIntersection({x:f.x+x.x*v,y:f.y+x.y*v}),E=D.shape;if(E)return E;if(w=!!D.antialiased,!D.antialiased)break}if(!w)return null;v+=1}}_getIntersection(f){const v=this.hitCanvas.pixelRatio,w=this.hitCanvas.context.getImageData(Math.round(f.x*v),Math.round(f.y*v),1,1).data,b=w[3];if(255===b){const x=C.Util._rgbToHex(w[0],w[1],w[2]),D=y.shapes["#"+x];return D?{shape:D}:{antialiased:!0}}return b>0?{antialiased:!0}:{}}drawScene(f,v){var w=this.getLayer(),b=f||w&&w.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&b.getContext().clear(),Y.Container.prototype.drawScene.call(this,b,v),this._fire("draw",{node:this}),this}drawHit(f,v){var w=this.getLayer(),b=f||w&&w.hitCanvas;return w&&w.clearBeforeDraw()&&w.getHitCanvas().getContext().clear(),Y.Container.prototype.drawHit.call(this,b,v),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(f){C.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(f)}getHitGraphEnabled(f){return C.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var f=this.parent;this.hitCanvas._canvas.parentNode?f.content.removeChild(this.hitCanvas._canvas):f.content.appendChild(this.hitCanvas._canvas)}}destroy(){return C.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}F.Layer=h,h.prototype.nodeType="Layer",(0,d._registerNode)(h),X.Factory.addGetterSetter(h,"imageSmoothingEnabled",!0),X.Factory.addGetterSetter(h,"clearBeforeDraw",!0),X.Factory.addGetterSetter(h,"hitGraphEnabled",!0,(0,B.getBooleanValidator)())},338:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Node=void 0;const C=G(2121),Y=G(134),W=G(1161),X=G(9037),H=G(4505),B=G(674);var y="absoluteOpacity",d="allEventListeners",m="absoluteTransform",g="absoluteScale",u="canvas",p="listening",f="mouseenter",v="mouseleave",x="Shape",D=" ",E="stage",k="transform",$="visible",V=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(D);let ne=1;class ie{constructor(P){this._id=ne++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(P),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(P){P!==k&&P!==m||!this._cache.get(P)?P?this._cache.delete(P):this._cache.clear():this._cache.get(P).dirty=!0}_getCache(P,J){var te=this._cache.get(P);return(void 0===te||(P===k||P===m)&&!0===te.dirty)&&(te=J.call(this),this._cache.set(P,te)),te}_calculate(P,J,te){if(!this._attachedDepsListeners.get(P)){const fe=J.map(R=>R+"Change.konva").join(D);this.on(fe,()=>{this._clearCache(P)}),this._attachedDepsListeners.set(P,!0)}return this._getCache(P,te)}_getCanvasCache(){return this._cache.get(u)}_clearSelfAndDescendantCache(P){this._clearCache(P),P===m&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(u)){const{scene:P,filter:J,hit:te}=this._cache.get(u);C.Util.releaseCanvas(P,J,te),this._cache.delete(u)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(P){var J=P||{},te={};(void 0===J.x||void 0===J.y||void 0===J.width||void 0===J.height)&&(te=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var fe=Math.ceil(J.width||te.width),R=Math.ceil(J.height||te.height),Q=J.pixelRatio,K=void 0===J.x?Math.floor(te.x):J.x,q=void 0===J.y?Math.floor(te.y):J.y,ye=J.offset||0,oe=J.drawBorder||!1,Z=J.hitCanvasPixelRatio||1;if(fe&&R){K-=ye,q-=ye;var ge=new W.SceneCanvas({pixelRatio:Q,width:fe+=2*ye+1,height:R+=2*ye+1}),re=new W.SceneCanvas({pixelRatio:Q,width:0,height:0,willReadFrequently:!0}),ue=new W.HitCanvas({pixelRatio:Z,width:fe,height:R}),_e=ge.getContext(),Se=ue.getContext();return ue.isCache=!0,ge.isCache=!0,this._cache.delete(u),this._filterUpToDate=!1,!1===J.imageSmoothingEnabled&&(ge.getContext()._context.imageSmoothingEnabled=!1,re.getContext()._context.imageSmoothingEnabled=!1),_e.save(),Se.save(),_e.translate(-K,-q),Se.translate(-K,-q),this._isUnderCache=!0,this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(g),this.drawScene(ge,this),this.drawHit(ue,this),this._isUnderCache=!1,_e.restore(),Se.restore(),oe&&(_e.save(),_e.beginPath(),_e.rect(0,0,fe,R),_e.closePath(),_e.setAttr("strokeStyle","red"),_e.setAttr("lineWidth",5),_e.stroke(),_e.restore()),this._cache.set(u,{scene:ge,filter:re,hit:ue,x:K,y:q}),this._requestDraw(),this}C.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(u)}getClientRect(P){throw new Error('abstract "getClientRect" method call')}_transformedRect(P,J){var te=[{x:P.x,y:P.y},{x:P.x+P.width,y:P.y},{x:P.x+P.width,y:P.y+P.height},{x:P.x,y:P.y+P.height}],fe=1/0,R=1/0,Q=-1/0,K=-1/0,q=this.getAbsoluteTransform(J);return te.forEach(function(ye){var oe=q.point(ye);void 0===fe&&(fe=Q=oe.x,R=K=oe.y),fe=Math.min(fe,oe.x),R=Math.min(R,oe.y),Q=Math.max(Q,oe.x),K=Math.max(K,oe.y)}),{x:fe,y:R,width:Q-fe,height:K-R}}_drawCachedSceneCanvas(P){P.save(),P._applyOpacity(this),P._applyGlobalCompositeOperation(this);const J=this._getCanvasCache();P.translate(J.x,J.y);var te=this._getCachedSceneCanvas(),fe=te.pixelRatio;P.drawImage(te._canvas,0,0,te.width/fe,te.height/fe),P.restore()}_drawCachedHitCanvas(P){var J=this._getCanvasCache(),te=J.hit;P.save(),P.translate(J.x,J.y),P.drawImage(te._canvas,0,0,te.width/te.pixelRatio,te.height/te.pixelRatio),P.restore()}_getCachedSceneCanvas(){var Q,K,q,ye,P=this.filters(),J=this._getCanvasCache(),te=J.scene,fe=J.filter,R=fe.getContext();if(P){if(!this._filterUpToDate){var oe=te.pixelRatio;fe.setSize(te.width/te.pixelRatio,te.height/te.pixelRatio);try{for(Q=P.length,R.clear(),R.drawImage(te._canvas,0,0,te.getWidth()/oe,te.getHeight()/oe),K=R.getImageData(0,0,fe.getWidth(),fe.getHeight()),q=0;q<Q;q++)"function"==typeof(ye=P[q])?(ye.call(this,K),R.putImageData(K,0,0)):C.Util.error("Filter should be type of function, but got "+typeof ye+" instead. Please check correct filters")}catch(Z){C.Util.error("Unable to apply filter. "+Z.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return fe}return te}on(P,J){if(this._cache&&this._cache.delete(d),3===arguments.length)return this._delegate.apply(this,arguments);var R,K,q,ye,te=P.split(D),fe=te.length;for(R=0;R<fe;R++)ye=(K=te[R].split("."))[1]||"",this.eventListeners[q=K[0]]||(this.eventListeners[q]=[]),this.eventListeners[q].push({name:ye,handler:J});return this}off(P,J){var R,Q,q,ye,oe,te=(P||"").split(D),fe=te.length;if(this._cache&&this._cache.delete(d),!P)for(Q in this.eventListeners)this._off(Q);for(R=0;R<fe;R++)if(oe=(q=te[R].split("."))[1],ye=q[0])this.eventListeners[ye]&&this._off(ye,oe,J);else for(Q in this.eventListeners)this._off(Q,oe,J);return this}dispatchEvent(P){return this.fire(P.type,{target:this,type:P.type,evt:P}),this}addEventListener(P,J){return this.on(P,function(te){J.call(this,te.evt)}),this}removeEventListener(P){return this.off(P),this}_delegate(P,J,te){var fe=this;this.on(P,function(R){for(var Q=R.target.findAncestors(J,!0,fe),K=0;K<Q.length;K++)(R=C.Util.cloneObject(R)).currentTarget=Q[K],te.call(Q[K],R)})}remove(){return this.isDragging()&&this.stopDrag(),H.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(E),this._clearSelfAndDescendantCache($),this._clearSelfAndDescendantCache(p)}_remove(){this._clearCaches();var P=this.getParent();P&&P.children&&(P.children.splice(this.index,1),P._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(P){var J="get"+C.Util._capitalize(P);return C.Util._isFunction(this[J])?this[J]():this.attrs[P]}getAncestors(){for(var P=this.getParent(),J=[];P;)J.push(P),P=P.getParent();return J}getAttrs(){return this.attrs||{}}setAttrs(P){return this._batchTransformChanges(()=>{var J,te;if(!P)return this;for(J in P)"children"!==J&&(te="set"+C.Util._capitalize(J),C.Util._isFunction(this[te])?this[te](P[J]):this._setAttr(J,P[J]))}),this}isListening(){return this._getCache(p,this._isListening)}_isListening(P){if(!this.listening())return!1;const te=this.getParent();return!te||te===P||this===P||te._isListening(P)}isVisible(){return this._getCache($,this._isVisible)}_isVisible(P){if(!this.visible())return!1;const te=this.getParent();return!te||te===P||this===P||te._isVisible(P)}shouldDrawHit(P,J=!1){if(P)return this._isVisible(P)&&this._isListening(P);var te=this.getLayer(),fe=!1;H.DD._dragElements.forEach(Q=>{"dragging"===Q.dragStatus&&("Stage"===Q.node.nodeType||Q.node.getLayer()===te)&&(fe=!0)});var R=!J&&!X.Konva.hitOnDragEnabled&&fe;return this.isListening()&&this.isVisible()&&!R}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var fe,R,Q,K,P=this.getDepth(),J=this,te=0;const ye=this.getStage();return"Stage"!==J.nodeType&&ye&&function q(oe){for(fe=[],R=oe.length,Q=0;Q<R;Q++)te++,(K=oe[Q]).nodeType!==x&&(fe=fe.concat(K.getChildren().slice())),K._id===J._id&&(Q=R);fe.length>0&&fe[0].getDepth()<=P&&q(fe)}(ye.getChildren()),te}getDepth(){for(var P=0,J=this.parent;J;)P++,J=J.parent;return P}_batchTransformChanges(P){this._batchingTransformChange=!0,P(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(k),this._clearSelfAndDescendantCache(m)),this._needClearTransformCache=!1}setPosition(P){return this._batchTransformChanges(()=>{this.x(P.x),this.y(P.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const P=this.getStage();if(!P)return null;var J=P.getPointerPosition();if(!J)return null;var te=this.getAbsoluteTransform().copy();return te.invert(),te.point(J)}getAbsolutePosition(P){let J=!1,te=this.parent;for(;te;){if(te.isCached()){J=!0;break}te=te.parent}J&&!P&&(P=!0);var fe=this.getAbsoluteTransform(P).getMatrix(),R=new C.Transform,Q=this.offset();return R.m=fe.slice(),R.translate(Q.x,Q.y),R.getTranslation()}setAbsolutePosition(P){const{x:J,y:te,...fe}=this._clearTransform();this.attrs.x=J,this.attrs.y=te,this._clearCache(k);var R=this._getAbsoluteTransform().copy();return R.invert(),R.translate(P.x,P.y),P={x:this.attrs.x+R.getTranslation().x,y:this.attrs.y+R.getTranslation().y},this._setTransform(fe),this.setPosition({x:P.x,y:P.y}),this._clearCache(k),this._clearSelfAndDescendantCache(m),this}_setTransform(P){var J;for(J in P)this.attrs[J]=P[J]}_clearTransform(){var P={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,P}move(P){var J=P.x,te=P.y,fe=this.x(),R=this.y();return void 0!==J&&(fe+=J),void 0!==te&&(R+=te),this.setPosition({x:fe,y:R}),this}_eachAncestorReverse(P,J){var R,Q,te=[],fe=this.getParent();if(!J||J._id!==this._id){for(te.unshift(this);fe&&(!J||fe._id!==J._id);)te.unshift(fe),fe=fe.parent;for(R=te.length,Q=0;Q<R;Q++)P(te[Q])}}rotate(P){return this.rotation(this.rotation()+P),this}moveToTop(){if(!this.parent)return C.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var P=this.index;return P<this.parent.getChildren().length-1&&(this.parent.children.splice(P,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return C.Util.warn("Node has no parent. moveUp function is ignored."),!1;var P=this.index;return P<this.parent.getChildren().length-1&&(this.parent.children.splice(P,1),this.parent.children.splice(P+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return C.Util.warn("Node has no parent. moveDown function is ignored."),!1;var P=this.index;return P>0&&(this.parent.children.splice(P,1),this.parent.children.splice(P-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return C.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var P=this.index;return P>0&&(this.parent.children.splice(P,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(P){return this.parent?((P<0||P>=this.parent.children.length)&&C.Util.warn("Unexpected value "+P+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+"."),this.parent.children.splice(this.index,1),this.parent.children.splice(P,0,this),this.parent._setChildrenIndices(),this):(C.Util.warn("Node has no parent. zIndex parameter is ignored."),this)}getAbsoluteOpacity(){return this._getCache(y,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var P=this.opacity(),J=this.getParent();return J&&!J._isUnderCache&&(P*=J.getAbsoluteOpacity()),P}moveTo(P){return this.getParent()!==P&&(this._remove(),P.add(this)),this}toObject(){var te,fe,R,Q,P={},J=this.getAttrs();for(te in P.attrs={},J)(!C.Util.isObject(fe=J[te])||C.Util._isPlainObject(fe)||C.Util._isArray(fe))&&(R="function"==typeof this[te]&&this[te],delete J[te],Q=R?R.call(this):null,J[te]=fe,Q!==fe&&(P.attrs[te]=fe));return P.className=this.getClassName(),C.Util._prepareToStringify(P)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(P,J,te){var fe=[];J&&this._isMatch(P)&&fe.push(this);for(var R=this.parent;R;){if(R===te)return fe;R._isMatch(P)&&fe.push(R),R=R.parent}return fe}isAncestorOf(P){return!1}findAncestor(P,J,te){return this.findAncestors(P,J,te)[0]}_isMatch(P){if(!P)return!1;if("function"==typeof P)return P(this);var fe,R,J=P.replace(/ /g,"").split(","),te=J.length;for(fe=0;fe<te;fe++)if(C.Util.isValidSelector(R=J[fe])||(C.Util.warn('Selector "'+R+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),C.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),C.Util.warn("Konva is awesome, right?")),"#"===R.charAt(0)){if(this.id()===R.slice(1))return!0}else if("."===R.charAt(0)){if(this.hasName(R.slice(1)))return!0}else if(this.className===R||this.nodeType===R)return!0;return!1}getLayer(){var P=this.getParent();return P?P.getLayer():null}getStage(){return this._getCache(E,this._getStage)}_getStage(){var P=this.getParent();return P?P.getStage():null}fire(P,J={},te){return J.target=J.target||this,te?this._fireAndBubble(P,J):this._fire(P,J),this}getAbsoluteTransform(P){return P?this._getAbsoluteTransform(P):this._getCache(m,this._getAbsoluteTransform)}_getAbsoluteTransform(P){var J;if(P)return J=new C.Transform,this._eachAncestorReverse(function(fe){var R=fe.transformsEnabled();"all"===R?J.multiply(fe.getTransform()):"position"===R&&J.translate(fe.x()-fe.offsetX(),fe.y()-fe.offsetY())},P),J;J=this._cache.get(m)||new C.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(J):J.reset();var te=this.transformsEnabled();return"all"===te?J.multiply(this.getTransform()):"position"===te&&J.translate((this.attrs.x||0)-(this.attrs.offsetX||0),(this.attrs.y||0)-(this.attrs.offsetY||0)),J.dirty=!1,J}getAbsoluteScale(P){for(var J=this;J;)J._isUnderCache&&(P=J),J=J.getParent();const fe=this.getAbsoluteTransform(P).decompose();return{x:fe.scaleX,y:fe.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(k,this._getTransform)}_getTransform(){var P,J,te=this._cache.get(k)||new C.Transform;te.reset();var fe=this.x(),R=this.y(),Q=X.Konva.getAngle(this.rotation()),K=null!==(P=this.attrs.scaleX)&&void 0!==P?P:1,q=null!==(J=this.attrs.scaleY)&&void 0!==J?J:1,ye=this.attrs.skewX||0,oe=this.attrs.skewY||0,Z=this.attrs.offsetX||0,ge=this.attrs.offsetY||0;return(0!==fe||0!==R)&&te.translate(fe,R),0!==Q&&te.rotate(Q),(0!==ye||0!==oe)&&te.skew(ye,oe),(1!==K||1!==q)&&te.scale(K,q),(0!==Z||0!==ge)&&te.translate(-1*Z,-1*ge),te.dirty=!1,te}clone(P){var te,fe,R,Q,K,J=C.Util.cloneObject(this.attrs);for(te in P)J[te]=P[te];var q=new this.constructor(J);for(te in this.eventListeners)for(R=(fe=this.eventListeners[te]).length,Q=0;Q<R;Q++)(K=fe[Q]).name.indexOf("konva")<0&&(q.eventListeners[te]||(q.eventListeners[te]=[]),q.eventListeners[te].push(K));return q}_toKonvaCanvas(P){P=P||{};var J=this.getClientRect(),te=this.getStage(),fe=void 0!==P.x?P.x:Math.floor(J.x),R=void 0!==P.y?P.y:Math.floor(J.y),Q=P.pixelRatio||1,K=new W.SceneCanvas({width:P.width||Math.ceil(J.width)||(te?te.width():0),height:P.height||Math.ceil(J.height)||(te?te.height():0),pixelRatio:Q}),q=K.getContext();return!1===P.imageSmoothingEnabled&&(q._context.imageSmoothingEnabled=!1),q.save(),(fe||R)&&q.translate(-1*fe,-1*R),this.drawScene(K),q.restore(),K}toCanvas(P){return this._toKonvaCanvas(P)._canvas}toDataURL(P){var J=(P=P||{}).mimeType||null,te=P.quality||null,fe=this._toKonvaCanvas(P).toDataURL(J,te);return P.callback&&P.callback(fe),fe}toImage(P){return new Promise((J,te)=>{try{const fe=P?.callback;fe&&delete P.callback,C.Util._urlToImage(this.toDataURL(P),function(R){J(R),fe?.(R)})}catch(fe){te(fe)}})}toBlob(P){return new Promise((J,te)=>{try{const fe=P?.callback;fe&&delete P.callback,this.toCanvas(P).toBlob(R=>{J(R),fe?.(R)})}catch(fe){te(fe)}})}setSize(P){return this.width(P.width),this.height(P.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():X.Konva.dragDistance}_off(P,J,te){var R,Q,fe=this.eventListeners[P];for(R=0;R<fe.length;R++)if(!("konva"===(Q=fe[R].name)&&"konva"!==J||J&&Q!==J||te&&te!==fe[R].handler)){if(fe.splice(R,1),0===fe.length){delete this.eventListeners[P];break}R--}}_fireChangeEvent(P,J,te){this._fire(P+"Change",{oldVal:J,newVal:te})}addName(P){if(!this.hasName(P)){var J=this.name();this.name(J?J+" "+P:P)}return this}hasName(P){if(!P)return!1;const J=this.name();return!!J&&-1!==(J||"").split(/\s/g).indexOf(P)}removeName(P){var J=(this.name()||"").split(/\s/g),te=J.indexOf(P);return-1!==te&&(J.splice(te,1),this.name(J.join(" "))),this}setAttr(P,J){var te=this["set"+C.Util._capitalize(P)];return C.Util._isFunction(te)?te.call(this,J):this._setAttr(P,J),this}_requestDraw(){X.Konva.autoDrawEnabled&&(this.getLayer()||this.getStage())?.batchDraw()}_setAttr(P,J){var te=this.attrs[P];te===J&&!C.Util.isObject(J)||(null==J?delete this.attrs[P]:this.attrs[P]=J,this._shouldFireChangeEvents&&this._fireChangeEvent(P,te,J),this._requestDraw())}_setComponentAttr(P,J,te){var fe;void 0!==te&&((fe=this.attrs[P])||(this.attrs[P]=this.getAttr(P)),this.attrs[P][J]=te,this._fireChangeEvent(P,fe,te))}_fireAndBubble(P,J,te){if(J&&this.nodeType===x&&(J.target=this),P!==f&&P!==v||!(te&&(this===te||this.isAncestorOf&&this.isAncestorOf(te))||"Stage"===this.nodeType&&!te)){this._fire(P,J);var R=(P===f||P===v)&&te&&te.isAncestorOf&&te.isAncestorOf(this)&&!te.isAncestorOf(this.parent);(J&&!J.cancelBubble||!J)&&this.parent&&this.parent.isListening()&&!R&&(te&&te.parent?this._fireAndBubble.call(this.parent,P,J,te):this._fireAndBubble.call(this.parent,P,J))}}_getProtoListeners(P){var J,te,fe;const R=null!==(J=this._cache.get(d))&&void 0!==J?J:{};let Q=R?.[P];if(void 0===Q){Q=[];let K=Object.getPrototypeOf(this);for(;K;){const q=null!==(fe=null===(te=K.eventListeners)||void 0===te?void 0:te[P])&&void 0!==fe?fe:[];Q.push(...q),K=Object.getPrototypeOf(K)}R[P]=Q,this._cache.set(d,R)}return Q}_fire(P,J){(J=J||{}).currentTarget=this,J.type=P;const te=this._getProtoListeners(P);if(te)for(var fe=0;fe<te.length;fe++)te[fe].handler.call(this,J);const R=this.eventListeners[P];if(R)for(fe=0;fe<R.length;fe++)R[fe].handler.call(this,J)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(P){var J=P?P.pointerId:void 0,te=this.getStage(),fe=this.getAbsolutePosition();if(te){var R=te._getPointerById(J)||te._changedPointerPositions[0]||fe;H.DD._dragElements.set(this._id,{node:this,startPointerPos:R,offset:{x:R.x-fe.x,y:R.y-fe.y},dragStatus:"ready",pointerId:J})}}startDrag(P,J=!0){H.DD._dragElements.has(this._id)||this._createDragElement(P),H.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:P&&P.evt},J)}_setDragPosition(P,J){const te=this.getStage()._getPointerById(J.pointerId);if(te){var fe={x:te.x-J.offset.x,y:te.y-J.offset.y},R=this.dragBoundFunc();if(void 0!==R){const Q=R.call(this,fe,P);Q?fe=Q:C.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==fe.x||this._lastPos.y!==fe.y)&&(this.setAbsolutePosition(fe),this._requestDraw()),this._lastPos=fe}}stopDrag(P){const J=H.DD._dragElements.get(this._id);J&&(J.dragStatus="stopped"),H.DD._endDragBefore(P),H.DD._endDragAfter(P)}setDraggable(P){this._setAttr("draggable",P),this._dragChange()}isDragging(){const P=H.DD._dragElements.get(this._id);return!!P&&"dragging"===P.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(P){if((void 0===P.evt.button||X.Konva.dragButtons.indexOf(P.evt.button)>=0)&&!this.isDragging()){var fe=!1;H.DD._dragElements.forEach(R=>{this.isAncestorOf(R.node)&&(fe=!0)}),fe||this._createDragElement(P)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const J=H.DD._dragElements.get(this._id),fe=J&&"ready"===J.dragStatus;J&&"dragging"===J.dragStatus?this.stopDrag():fe&&H.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(P={x:0,y:0}){const J=this.getStage();if(!J)return!1;const te={x:-P.x,y:-P.y,width:J.width()+2*P.x,height:J.height()+2*P.y};return C.Util.haveIntersection(te,this.getClientRect())}static create(P,J){return C.Util._isString(P)&&(P=JSON.parse(P)),this._createNode(P,J)}static _createNode(P,J){var R,Q,K,te=ie.prototype.getClassName.call(P),fe=P.children;if(J&&(P.attrs.container=J),X.Konva[te]||(C.Util.warn('Can not find a node with class name "'+te+'". Fallback to "Shape".'),te="Shape"),R=new(0,X.Konva[te])(P.attrs),fe)for(Q=fe.length,K=0;K<Q;K++)R.add(ie._createNode(fe[K]));return R}}F.Node=ie,ie.prototype.nodeType="Node",ie.prototype._attrsAffectingSize=[],ie.prototype.eventListeners={},ie.prototype.on.call(ie.prototype,V,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(k),this._clearSelfAndDescendantCache(m))}),ie.prototype.on.call(ie.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache($)}),ie.prototype.on.call(ie.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(p)}),ie.prototype.on.call(ie.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(y)});const se=Y.Factory.addGetterSetter;se(ie,"zIndex"),se(ie,"absolutePosition"),se(ie,"position"),se(ie,"x",0,(0,B.getNumberValidator)()),se(ie,"y",0,(0,B.getNumberValidator)()),se(ie,"globalCompositeOperation","source-over",(0,B.getStringValidator)()),se(ie,"opacity",1,(0,B.getNumberValidator)()),se(ie,"name","",(0,B.getStringValidator)()),se(ie,"id","",(0,B.getStringValidator)()),se(ie,"rotation",0,(0,B.getNumberValidator)()),Y.Factory.addComponentsGetterSetter(ie,"scale",["x","y"]),se(ie,"scaleX",1,(0,B.getNumberValidator)()),se(ie,"scaleY",1,(0,B.getNumberValidator)()),Y.Factory.addComponentsGetterSetter(ie,"skew",["x","y"]),se(ie,"skewX",0,(0,B.getNumberValidator)()),se(ie,"skewY",0,(0,B.getNumberValidator)()),Y.Factory.addComponentsGetterSetter(ie,"offset",["x","y"]),se(ie,"offsetX",0,(0,B.getNumberValidator)()),se(ie,"offsetY",0,(0,B.getNumberValidator)()),se(ie,"dragDistance",null,(0,B.getNumberValidator)()),se(ie,"width",0,(0,B.getNumberValidator)()),se(ie,"height",0,(0,B.getNumberValidator)()),se(ie,"listening",!0,(0,B.getBooleanValidator)()),se(ie,"preventDefault",!0,(0,B.getBooleanValidator)()),se(ie,"filters",null,function(de){return this._filterUpToDate=!1,de}),se(ie,"visible",!0,(0,B.getBooleanValidator)()),se(ie,"transformsEnabled","all",(0,B.getStringValidator)()),se(ie,"size"),se(ie,"dragBoundFunc"),se(ie,"draggable",!1,(0,B.getBooleanValidator)()),Y.Factory.backCompat(ie,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},5940:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.releaseCapture=F.setPointerCapture=F.hasPointerCapture=F.createEvent=F.getCapturedShape=void 0;const C=G(9037),Y=new Map,W=void 0!==C.Konva._global.PointerEvent;function H(m){return{evt:m,pointerId:m.pointerId}}function d(m,g){const u=Y.get(m);u&&(u.getStage(),Y.delete(m),W&&u._fire("lostpointercapture",H(new PointerEvent("lostpointercapture"))))}F.getCapturedShape=function X(m){return Y.get(m)},F.createEvent=H,F.hasPointerCapture=function B(m,g){return Y.get(m)===g},F.setPointerCapture=function y(m,g){d(m),g.getStage()&&(Y.set(m,g),W&&g._fire("gotpointercapture",H(new PointerEvent("gotpointercapture"))))},F.releaseCapture=d},4147:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Shape=F.shapes=void 0;const C=G(9037),Y=G(2121),W=G(134),X=G(338),H=G(674),B=G(9037),y=G(5940);var d="hasShadow",m="shadowRGBA",g="patternImage",u="linearGradient",c="radialGradient";let a;function h(){return a||(a=Y.Util.createCanvasElement().getContext("2d"),a)}F.shapes={};class L extends X.Node{constructor(V){let ne;for(super(V);ne=Y.Util.getRandomColor(),!ne||ne in F.shapes;);this.colorKey=ne,F.shapes[ne]=this}getContext(){return Y.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Y.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(g,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const ne=h().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(ne&&ne.setTransform){const ie=new Y.Transform;ie.translate(this.fillPatternX(),this.fillPatternY()),ie.rotate(C.Konva.getAngle(this.fillPatternRotation())),ie.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),ie.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const se=ie.getMatrix(),de=typeof DOMMatrix>"u"?{a:se[0],b:se[1],c:se[2],d:se[3],e:se[4],f:se[5]}:new DOMMatrix(se);ne.setTransform(de)}return ne}}_getLinearGradient(){return this._getCache(u,this.__getLinearGradient)}__getLinearGradient(){var V=this.fillLinearGradientColorStops();if(V){for(var ne=h(),ie=this.fillLinearGradientStartPoint(),se=this.fillLinearGradientEndPoint(),de=ne.createLinearGradient(ie.x,ie.y,se.x,se.y),P=0;P<V.length;P+=2)de.addColorStop(V[P],V[P+1]);return de}}_getRadialGradient(){return this._getCache(c,this.__getRadialGradient)}__getRadialGradient(){var V=this.fillRadialGradientColorStops();if(V){for(var ne=h(),ie=this.fillRadialGradientStartPoint(),se=this.fillRadialGradientEndPoint(),de=ne.createRadialGradient(ie.x,ie.y,this.fillRadialGradientStartRadius(),se.x,se.y,this.fillRadialGradientEndRadius()),P=0;P<V.length;P+=2)de.addColorStop(V[P],V[P+1]);return de}}getShadowRGBA(){return this._getCache(m,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var V=Y.Util.colorToRGBA(this.shadowColor());if(V)return"rgba("+V.r+","+V.g+","+V.b+","+V.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const V=this.hitStrokeWidth();return"auto"===V?this.hasStroke():this.strokeEnabled()&&!!V}intersects(V){var ne=this.getStage();if(!ne)return!1;const ie=ne.bufferHitCanvas;return ie.getContext().clear(),this.drawHit(ie,void 0,!0),ie.context.getImageData(Math.round(V.x),Math.round(V.y),1,1).data[3]>0}destroy(){return X.Node.prototype.destroy.call(this),delete F.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(V){var ne;if(!this.getStage()||null!==(ne=this.attrs.perfectDrawEnabled)&&void 0!==ne&&!ne)return!1;const se=V||this.hasFill(),de=this.hasStroke(),P=1!==this.getAbsoluteOpacity();if(se&&de&&P)return!0;const J=this.hasShadow(),te=this.shadowForStrokeEnabled();return!!(se&&de&&J&&te)}setStrokeHitEnabled(V){Y.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),this.hitStrokeWidth(V?"auto":0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var V=this.size();return{x:this._centroid?-V.width/2:0,y:this._centroid?-V.height/2:0,width:V.width,height:V.height}}getClientRect(V={}){const ne=V.skipTransform,ie=V.relativeTo,se=this.getSelfRect(),P=!V.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,J=se.width+P,te=se.height+P,fe=!V.skipShadow&&this.hasShadow(),R=fe?this.shadowOffsetX():0,Q=fe?this.shadowOffsetY():0,K=J+Math.abs(R),q=te+Math.abs(Q),ye=fe&&this.shadowBlur()||0,ge={width:K+2*ye,height:q+2*ye,x:-(P/2+ye)+Math.min(R,0)+se.x,y:-(P/2+ye)+Math.min(Q,0)+se.y};return ne?ge:this._transformedRect(ge,ie)}drawScene(V,ne){var R,Q,ie=this.getLayer(),se=V||ie.getCanvas(),de=se.getContext(),P=this._getCanvasCache(),J=this.getSceneFunc(),te=this.hasShadow(),K=se.isCache,q=ne===this;if(!this.isVisible()&&!q)return this;if(P){de.save();var ye=this.getAbsoluteTransform(ne).getMatrix();return de.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),this._drawCachedSceneCanvas(de),de.restore(),this}if(!J)return this;if(de.save(),this._useBufferCanvas()&&!K){(Q=(R=this.getStage().bufferCanvas).getContext()).clear(),Q.save(),Q._applyLineJoin(this);var oe=this.getAbsoluteTransform(ne).getMatrix();Q.transform(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5]),J.call(this,Q,this),Q.restore();var Z=R.pixelRatio;te&&de._applyShadow(this),de._applyOpacity(this),de._applyGlobalCompositeOperation(this),de.drawImage(R._canvas,0,0,R.width/Z,R.height/Z)}else de._applyLineJoin(this),q||(oe=this.getAbsoluteTransform(ne).getMatrix(),de.transform(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5]),de._applyOpacity(this),de._applyGlobalCompositeOperation(this)),te&&de._applyShadow(this),J.call(this,de,this);return de.restore(),this}drawHit(V,ne,ie=!1){if(!this.shouldDrawHit(ne,ie))return this;var se=this.getLayer(),de=V||se.hitCanvas,P=de&&de.getContext(),J=this.hitFunc()||this.sceneFunc(),te=this._getCanvasCache(),fe=te&&te.hit;if(this.colorKey||Y.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),fe){P.save();var R=this.getAbsoluteTransform(ne).getMatrix();return P.transform(R[0],R[1],R[2],R[3],R[4],R[5]),this._drawCachedHitCanvas(P),P.restore(),this}if(!J)return this;if(P.save(),P._applyLineJoin(this),this!==ne){var K=this.getAbsoluteTransform(ne).getMatrix();P.transform(K[0],K[1],K[2],K[3],K[4],K[5])}return J.call(this,P,this),P.restore(),this}drawHitFromCache(V=0){var te,fe,R,Q,K,ne=this._getCanvasCache(),ie=this._getCachedSceneCanvas(),se=ne.hit,de=se.getContext(),P=se.getWidth(),J=se.getHeight();de.clear(),de.drawImage(ie._canvas,0,0,P,J);try{for(R=(fe=(te=de.getImageData(0,0,P,J)).data).length,Q=Y.Util._hexToRgb(this.colorKey),K=0;K<R;K+=4)fe[K+3]>V?(fe[K]=Q.r,fe[K+1]=Q.g,fe[K+2]=Q.b,fe[K+3]=255):fe[K+3]=0;de.putImageData(te,0,0)}catch(ye){Y.Util.error("Unable to draw hit graph from cached scene canvas. "+ye.message)}return this}hasPointerCapture(V){return y.hasPointerCapture(V,this)}setPointerCapture(V){y.setPointerCapture(V,this)}releaseCapture(V){y.releaseCapture(V,this)}}F.Shape=L,L.prototype._fillFunc=function p($){const V=this.attrs.fillRule;V?$.fill(V):$.fill()},L.prototype._strokeFunc=function f($){$.stroke()},L.prototype._fillFuncHit=function v($){$.fill()},L.prototype._strokeFuncHit=function w($){$.stroke()},L.prototype._centroid=!1,L.prototype.nodeType="Shape",(0,B._registerNode)(L),L.prototype.eventListeners={},L.prototype.on.call(L.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function b(){this._clearCache(d)}),L.prototype.on.call(L.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function x(){this._clearCache(m)}),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function D(){this._clearCache(g)}),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function E(){this._clearCache(u)}),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function k(){this._clearCache(c)}),W.Factory.addGetterSetter(L,"stroke",void 0,(0,H.getStringOrGradientValidator)()),W.Factory.addGetterSetter(L,"strokeWidth",2,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"fillAfterStrokeEnabled",!1),W.Factory.addGetterSetter(L,"hitStrokeWidth","auto",(0,H.getNumberOrAutoValidator)()),W.Factory.addGetterSetter(L,"strokeHitEnabled",!0,(0,H.getBooleanValidator)()),W.Factory.addGetterSetter(L,"perfectDrawEnabled",!0,(0,H.getBooleanValidator)()),W.Factory.addGetterSetter(L,"shadowForStrokeEnabled",!0,(0,H.getBooleanValidator)()),W.Factory.addGetterSetter(L,"lineJoin"),W.Factory.addGetterSetter(L,"lineCap"),W.Factory.addGetterSetter(L,"sceneFunc"),W.Factory.addGetterSetter(L,"hitFunc"),W.Factory.addGetterSetter(L,"dash"),W.Factory.addGetterSetter(L,"dashOffset",0,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"shadowColor",void 0,(0,H.getStringValidator)()),W.Factory.addGetterSetter(L,"shadowBlur",0,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"shadowOpacity",1,(0,H.getNumberValidator)()),W.Factory.addComponentsGetterSetter(L,"shadowOffset",["x","y"]),W.Factory.addGetterSetter(L,"shadowOffsetX",0,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"shadowOffsetY",0,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"fillPatternImage"),W.Factory.addGetterSetter(L,"fill",void 0,(0,H.getStringOrGradientValidator)()),W.Factory.addGetterSetter(L,"fillPatternX",0,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"fillPatternY",0,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"fillLinearGradientColorStops"),W.Factory.addGetterSetter(L,"strokeLinearGradientColorStops"),W.Factory.addGetterSetter(L,"fillRadialGradientStartRadius",0),W.Factory.addGetterSetter(L,"fillRadialGradientEndRadius",0),W.Factory.addGetterSetter(L,"fillRadialGradientColorStops"),W.Factory.addGetterSetter(L,"fillPatternRepeat","repeat"),W.Factory.addGetterSetter(L,"fillEnabled",!0),W.Factory.addGetterSetter(L,"strokeEnabled",!0),W.Factory.addGetterSetter(L,"shadowEnabled",!0),W.Factory.addGetterSetter(L,"dashEnabled",!0),W.Factory.addGetterSetter(L,"strokeScaleEnabled",!0),W.Factory.addGetterSetter(L,"fillPriority","color"),W.Factory.addComponentsGetterSetter(L,"fillPatternOffset",["x","y"]),W.Factory.addGetterSetter(L,"fillPatternOffsetX",0,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"fillPatternOffsetY",0,(0,H.getNumberValidator)()),W.Factory.addComponentsGetterSetter(L,"fillPatternScale",["x","y"]),W.Factory.addGetterSetter(L,"fillPatternScaleX",1,(0,H.getNumberValidator)()),W.Factory.addGetterSetter(L,"fillPatternScaleY",1,(0,H.getNumberValidator)()),W.Factory.addComponentsGetterSetter(L,"fillLinearGradientStartPoint",["x","y"]),W.Factory.addComponentsGetterSetter(L,"strokeLinearGradientStartPoint",["x","y"]),W.Factory.addGetterSetter(L,"fillLinearGradientStartPointX",0),W.Factory.addGetterSetter(L,"strokeLinearGradientStartPointX",0),W.Factory.addGetterSetter(L,"fillLinearGradientStartPointY",0),W.Factory.addGetterSetter(L,"strokeLinearGradientStartPointY",0),W.Factory.addComponentsGetterSetter(L,"fillLinearGradientEndPoint",["x","y"]),W.Factory.addComponentsGetterSetter(L,"strokeLinearGradientEndPoint",["x","y"]),W.Factory.addGetterSetter(L,"fillLinearGradientEndPointX",0),W.Factory.addGetterSetter(L,"strokeLinearGradientEndPointX",0),W.Factory.addGetterSetter(L,"fillLinearGradientEndPointY",0),W.Factory.addGetterSetter(L,"strokeLinearGradientEndPointY",0),W.Factory.addComponentsGetterSetter(L,"fillRadialGradientStartPoint",["x","y"]),W.Factory.addGetterSetter(L,"fillRadialGradientStartPointX",0),W.Factory.addGetterSetter(L,"fillRadialGradientStartPointY",0),W.Factory.addComponentsGetterSetter(L,"fillRadialGradientEndPoint",["x","y"]),W.Factory.addGetterSetter(L,"fillRadialGradientEndPointX",0),W.Factory.addGetterSetter(L,"fillRadialGradientEndPointY",0),W.Factory.addGetterSetter(L,"fillPatternRotation",0),W.Factory.addGetterSetter(L,"fillRule",void 0,(0,H.getStringValidator)()),W.Factory.backCompat(L,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},4185:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Stage=F.stages=void 0;const C=G(2121),Y=G(134),W=G(2632),X=G(9037),H=G(1161),B=G(4505),y=G(9037),d=G(5940);var a="mouseleave",h="mouseover",p="mouseenter",f="mousemove",v="mousedown",w="mouseup",b="pointermove",x="pointerdown",D="pointerup",E="pointercancel",L="pointerout",$="pointerleave",V="pointerover",ne="pointerenter",ie="contextmenu",se="touchstart",de="touchend",P="touchmove",J="touchcancel",te="wheel",R=[[p,"_pointerenter"],[v,"_pointerdown"],[f,"_pointermove"],[w,"_pointerup"],[a,"_pointerleave"],[se,"_pointerdown"],[P,"_pointermove"],[de,"_pointerup"],[J,"_pointercancel"],[h,"_pointerover"],[te,"_wheel"],[ie,"_contextmenu"],[x,"_pointerdown"],[b,"_pointermove"],[D,"_pointerup"],[E,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const Q={mouse:{[L]:"mouseout",[$]:a,[V]:h,[ne]:p,[b]:f,[x]:v,[D]:w,[E]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[L]:"touchout",[$]:"touchleave",[V]:"touchover",[ne]:"touchenter",[b]:P,[x]:se,[D]:de,[E]:J,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[L]:L,[$]:$,[V]:V,[ne]:ne,[b]:b,[x]:x,[D]:D,[E]:E,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},K=ge=>ge.indexOf("pointer")>=0?"pointer":ge.indexOf("touch")>=0?"touch":"mouse",q=ge=>{const re=K(ge);return"pointer"===re?X.Konva.pointerEventsEnabled&&Q.pointer:"touch"===re?Q.touch:"mouse"===re?Q.mouse:void 0};function ye(ge={}){return(ge.clipFunc||ge.clipWidth||ge.clipHeight)&&C.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ge}F.stages=[];class Z extends W.Container{constructor(re){super(ye(re)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),F.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ye(this.attrs)}),this._checkVisibility()}_validateAdd(re){const ue="Layer"===re.getType(),_e="FastLayer"===re.getType();ue||_e||C.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const re=this.visible()?"":"none";this.content.style.display=re}setContainer(re){if("string"==typeof re){if("."===re.charAt(0)){var ue=re.slice(1);re=document.getElementsByClassName(ue)[0]}else{var _e;_e="#"!==re.charAt(0)?re:re.slice(1),re=document.getElementById(_e)}if(!re)throw"Can not find container in document with id "+_e}return this._setAttr("container",re),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),re.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var _e,re=this.children,ue=re.length;for(_e=0;_e<ue;_e++)re[_e].clear();return this}clone(re){return re||(re={}),re.container=typeof document<"u"&&document.createElement("div"),W.Container.prototype.clone.call(this,re)}destroy(){super.destroy();var re=this.content;re&&C.Util._isInDocument(re)&&this.container().removeChild(re);var ue=F.stages.indexOf(this);return ue>-1&&F.stages.splice(ue,1),C.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const re=this._pointerPositions[0]||this._changedPointerPositions[0];return re?{x:re.x,y:re.y}:(C.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(re){return this._pointerPositions.find(ue=>ue.id===re)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(re){(re=re||{}).x=re.x||0,re.y=re.y||0,re.width=re.width||this.width(),re.height=re.height||this.height();var ue=new H.SceneCanvas({width:re.width,height:re.height,pixelRatio:re.pixelRatio||1}),_e=ue.getContext()._context,Se=this.children;return(re.x||re.y)&&_e.translate(-1*re.x,-1*re.y),Se.forEach(function(ke){if(ke.isVisible()){var je=ke._toKonvaCanvas(re);_e.drawImage(je._canvas,re.x,re.y,je.getWidth()/je.getPixelRatio(),je.getHeight()/je.getPixelRatio())}}),ue}getIntersection(re){if(!re)return null;var ke,ue=this.children;for(ke=ue.length-1;ke>=0;ke--){const je=ue[ke].getIntersection(re);if(je)return je}return null}_resizeDOM(){var re=this.width(),ue=this.height();this.content&&(this.content.style.width=re+"px",this.content.style.height=ue+"px"),this.bufferCanvas.setSize(re,ue),this.bufferHitCanvas.setSize(re,ue),this.children.forEach(_e=>{_e.setSize({width:re,height:ue}),_e.draw()})}add(re,...ue){if(arguments.length>1){for(var _e=0;_e<arguments.length;_e++)this.add(arguments[_e]);return this}super.add(re);var Se=this.children.length;return Se>5&&C.Util.warn("The stage has "+Se+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),re.setSize({width:this.width(),height:this.height()}),re.draw(),X.Konva.isBrowser&&this.content.appendChild(re.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(re){return d.hasPointerCapture(re,this)}setPointerCapture(re){d.setPointerCapture(re,this)}releaseCapture(re){d.releaseCapture(re,this)}getLayers(){return this.children}_bindContentEvents(){X.Konva.isBrowser&&R.forEach(([re,ue])=>{this.content.addEventListener(re,_e=>{this[ue](_e)},{passive:!1})})}_pointerenter(re){this.setPointersPositions(re);const ue=q(re.type);ue&&this._fire(ue.pointerenter,{evt:re,target:this,currentTarget:this})}_pointerover(re){this.setPointersPositions(re);const ue=q(re.type);ue&&this._fire(ue.pointerover,{evt:re,target:this,currentTarget:this})}_getTargetShape(re){let ue=this[re+"targetShape"];return ue&&!ue.getStage()&&(ue=null),ue}_pointerleave(re){const ue=q(re.type),_e=K(re.type);if(ue){this.setPointersPositions(re);var Se=this._getTargetShape(_e),ke=!B.DD.isDragging||X.Konva.hitOnDragEnabled;Se&&ke?(Se._fireAndBubble(ue.pointerout,{evt:re}),Se._fireAndBubble(ue.pointerleave,{evt:re}),this._fire(ue.pointerleave,{evt:re,target:this,currentTarget:this}),this[_e+"targetShape"]=null):ke&&(this._fire(ue.pointerleave,{evt:re,target:this,currentTarget:this}),this._fire(ue.pointerout,{evt:re,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(re){const ue=q(re.type),_e=K(re.type);if(ue){this.setPointersPositions(re);var Se=!1;this._changedPointerPositions.forEach(ke=>{var je=this.getIntersection(ke);if(B.DD.justDragged=!1,X.Konva["_"+_e+"ListenClick"]=!0,!je||!je.isListening())return;X.Konva.capturePointerEventsEnabled&&je.setPointerCapture(ke.id),this[_e+"ClickStartShape"]=je,je._fireAndBubble(ue.pointerdown,{evt:re,pointerId:ke.id}),Se=!0;const Me=re.type.indexOf("touch")>=0;je.preventDefault()&&re.cancelable&&Me&&re.preventDefault()}),Se||this._fire(ue.pointerdown,{evt:re,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(re){const ue=q(re.type),_e=K(re.type);if(!ue)return;if(B.DD.isDragging&&B.DD.node.preventDefault()&&re.cancelable&&re.preventDefault(),this.setPointersPositions(re),B.DD.isDragging&&!X.Konva.hitOnDragEnabled)return;var ke={};let je=!1;var Me=this._getTargetShape(_e);this._changedPointerPositions.forEach(Te=>{const Fe=d.getCapturedShape(Te.id)||this.getIntersection(Te),me=Te.id,le={evt:re,pointerId:me};var ve=Me!==Fe;if(ve&&Me&&(Me._fireAndBubble(ue.pointerout,{...le},Fe),Me._fireAndBubble(ue.pointerleave,{...le},Fe)),Fe){if(ke[Fe._id])return;ke[Fe._id]=!0}Fe&&Fe.isListening()?(je=!0,ve&&(Fe._fireAndBubble(ue.pointerover,{...le},Me),Fe._fireAndBubble(ue.pointerenter,{...le},Me),this[_e+"targetShape"]=Fe),Fe._fireAndBubble(ue.pointermove,{...le})):Me&&(this._fire(ue.pointerover,{evt:re,target:this,currentTarget:this,pointerId:me}),this[_e+"targetShape"]=null)}),je||this._fire(ue.pointermove,{evt:re,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(re){const ue=q(re.type),_e=K(re.type);if(!ue)return;this.setPointersPositions(re);const Se=this[_e+"ClickStartShape"],ke=this[_e+"ClickEndShape"];var je={};let Me=!1;this._changedPointerPositions.forEach(Te=>{const Fe=d.getCapturedShape(Te.id)||this.getIntersection(Te);if(Fe){if(Fe.releaseCapture(Te.id),je[Fe._id])return;je[Fe._id]=!0}const me=Te.id,le={evt:re,pointerId:me};let ve=!1;X.Konva["_"+_e+"InDblClickWindow"]?(ve=!0,clearTimeout(this[_e+"DblTimeout"])):B.DD.justDragged||(X.Konva["_"+_e+"InDblClickWindow"]=!0,clearTimeout(this[_e+"DblTimeout"])),this[_e+"DblTimeout"]=setTimeout(function(){X.Konva["_"+_e+"InDblClickWindow"]=!1},X.Konva.dblClickWindow),Fe&&Fe.isListening()?(Me=!0,this[_e+"ClickEndShape"]=Fe,Fe._fireAndBubble(ue.pointerup,{...le}),X.Konva["_"+_e+"ListenClick"]&&Se&&Se===Fe&&(Fe._fireAndBubble(ue.pointerclick,{...le}),ve&&ke&&ke===Fe&&Fe._fireAndBubble(ue.pointerdblclick,{...le}))):(this[_e+"ClickEndShape"]=null,X.Konva["_"+_e+"ListenClick"]&&this._fire(ue.pointerclick,{evt:re,target:this,currentTarget:this,pointerId:me}),ve&&this._fire(ue.pointerdblclick,{evt:re,target:this,currentTarget:this,pointerId:me}))}),Me||this._fire(ue.pointerup,{evt:re,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),X.Konva["_"+_e+"ListenClick"]=!1,re.cancelable&&"touch"!==_e&&re.preventDefault()}_contextmenu(re){this.setPointersPositions(re);var ue=this.getIntersection(this.getPointerPosition());ue&&ue.isListening()?ue._fireAndBubble(ie,{evt:re}):this._fire(ie,{evt:re,target:this,currentTarget:this})}_wheel(re){this.setPointersPositions(re);var ue=this.getIntersection(this.getPointerPosition());ue&&ue.isListening()?ue._fireAndBubble(te,{evt:re}):this._fire(te,{evt:re,target:this,currentTarget:this})}_pointercancel(re){this.setPointersPositions(re);const ue=d.getCapturedShape(re.pointerId)||this.getIntersection(this.getPointerPosition());ue&&ue._fireAndBubble(D,d.createEvent(re)),d.releaseCapture(re.pointerId)}_lostpointercapture(re){d.releaseCapture(re.pointerId)}setPointersPositions(re){var ue=this._getContentPosition(),_e=null,Se=null;void 0!==(re=re||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(re.touches,ke=>{this._pointerPositions.push({id:ke.identifier,x:(ke.clientX-ue.left)/ue.scaleX,y:(ke.clientY-ue.top)/ue.scaleY})}),Array.prototype.forEach.call(re.changedTouches||re.touches,ke=>{this._changedPointerPositions.push({id:ke.identifier,x:(ke.clientX-ue.left)/ue.scaleX,y:(ke.clientY-ue.top)/ue.scaleY})})):(this.pointerPos={x:_e=(re.clientX-ue.left)/ue.scaleX,y:Se=(re.clientY-ue.top)/ue.scaleY},this._pointerPositions=[{x:_e,y:Se,id:C.Util._getFirstPointerId(re)}],this._changedPointerPositions=[{x:_e,y:Se,id:C.Util._getFirstPointerId(re)}])}_setPointerPosition(re){C.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(re)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var re=this.content.getBoundingClientRect();return{top:re.top,left:re.left,scaleX:re.width/this.content.clientWidth||1,scaleY:re.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new H.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new H.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),X.Konva.isBrowser){var re=this.container();if(!re)throw"Stage has no container. A container is required.";re.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),re.appendChild(this.content),this._resizeDOM()}}cache(){return C.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(re){re.batchDraw()}),this}}F.Stage=Z,Z.prototype.nodeType="Stage",(0,y._registerNode)(Z),Y.Factory.addGetterSetter(Z,"container")},8859:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Easings=F.Tween=void 0;const C=G(2121),Y=G(1771),W=G(338),X=G(9037);var H={node:1,duration:1,easing:1,onFinish:1,yoyo:1},m=0,g=["fill","stroke","shadowColor"];class u{constructor(h,p,f,v,w,b,x){this.prop=h,this.propFunc=p,this.begin=v,this._pos=v,this.duration=b,this._change=0,this.prevPos=0,this.yoyo=x,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=f,this._change=w-this.begin,this.pause()}fire(h){var p=this[h];p&&p()}setTime(h){h>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():h<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=h,this.update())}getTime(){return this._time}setPosition(h){this.prevPos=this._pos,this.propFunc(h),this._pos=h}getPosition(h){return void 0===h&&(h=this._time),this.func(h,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(h){this.pause(),this._time=h,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var h=this.getTimer()-this._startTime;2===this.state?this.setTime(h):3===this.state&&this.setTime(this.duration-h)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class c{constructor(h){var w,D,p=this,f=h.node,v=f._id,b=h.easing||F.Easings.Linear,x=!!h.yoyo;w=typeof h.duration>"u"?.3:0===h.duration?.001:h.duration,this.node=f,this._id=m++;var E=f.getLayer()||(f instanceof X.Konva.Stage?f.getLayers():null);for(D in E||C.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Y.Animation(function(){p.tween.onEnterFrame()},E),this.tween=new u(D,function(k){p._tweenFunc(k)},b,0,1,1e3*w,x),this._addListeners(),c.attrs[v]||(c.attrs[v]={}),c.attrs[v][this._id]||(c.attrs[v][this._id]={}),c.tweens[v]||(c.tweens[v]={}),h)void 0===H[D]&&this._addAttr(D,h[D]);this.reset(),this.onFinish=h.onFinish,this.onReset=h.onReset,this.onUpdate=h.onUpdate}_addAttr(h,p){var w,b,x,D,E,k,L,$,f=this.node,v=f._id;if((x=c.tweens[v][h])&&delete c.attrs[v][x][h],w=f.getAttr(h),C.Util._isArray(p))if(b=[],E=Math.max(p.length,w.length),"points"===h&&p.length!==w.length&&(p.length>w.length?(L=w,w=C.Util._prepareArrayForTween(w,p,f.closed())):(k=p,p=C.Util._prepareArrayForTween(p,w,f.closed()))),0===h.indexOf("fill"))for(D=0;D<E;D++)if(D%2==0)b.push(p[D]-w[D]);else{var V=C.Util.colorToRGBA(w[D]);$=C.Util.colorToRGBA(p[D]),w[D]=V,b.push({r:$.r-V.r,g:$.g-V.g,b:$.b-V.b,a:$.a-V.a})}else for(D=0;D<E;D++)b.push(p[D]-w[D]);else-1!==g.indexOf(h)?(w=C.Util.colorToRGBA(w),b={r:($=C.Util.colorToRGBA(p)).r-w.r,g:$.g-w.g,b:$.b-w.b,a:$.a-w.a}):b=p-w;c.attrs[v][this._id][h]={start:w,diff:b,end:p,trueEnd:k,trueStart:L},c.tweens[v][h]=this._id}_tweenFunc(h){var v,w,b,x,D,E,k,L,p=this.node,f=c.attrs[p._id][this._id];for(v in f){if(x=(w=f[v]).diff,L=w.end,C.Util._isArray(b=w.start))if(D=[],k=Math.max(b.length,L.length),0===v.indexOf("fill"))for(E=0;E<k;E++)D.push(E%2==0?(b[E]||0)+x[E]*h:"rgba("+Math.round(b[E].r+x[E].r*h)+","+Math.round(b[E].g+x[E].g*h)+","+Math.round(b[E].b+x[E].b*h)+","+(b[E].a+x[E].a*h)+")");else for(E=0;E<k;E++)D.push((b[E]||0)+x[E]*h);else D=-1!==g.indexOf(v)?"rgba("+Math.round(b.r+x.r*h)+","+Math.round(b.g+x.g*h)+","+Math.round(b.b+x.b*h)+","+(b.a+x.a*h)+")":b+x*h;p.setAttr(v,D)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var h=this.node,p=c.attrs[h._id][this._id];p.points&&p.points.trueEnd&&h.setAttr("points",p.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var h=this.node,p=c.attrs[h._id][this._id];p.points&&p.points.trueStart&&h.points(p.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(h){return this.tween.seek(1e3*h),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var v,h=this.node._id,p=this._id,f=c.tweens[h];for(v in this.pause(),f)delete c.tweens[h][v];delete c.attrs[h][p]}}F.Tween=c,c.attrs={},c.tweens={},W.Node.prototype.to=function(a){var h=a.onFinish;a.node=this,a.onFinish=function(){this.destroy(),h&&h()},new c(a).play()},F.Easings={BackEaseIn(a,h,p,f){var v=1.70158;return p*(a/=f)*a*((v+1)*a-v)+h},BackEaseOut(a,h,p,f){var v=1.70158;return p*((a=a/f-1)*a*((v+1)*a+v)+1)+h},BackEaseInOut(a,h,p,f){var v=1.70158;return(a/=f/2)<1?p/2*(a*a*((1+(v*=1.525))*a-v))+h:p/2*((a-=2)*a*((1+(v*=1.525))*a+v)+2)+h},ElasticEaseIn(a,h,p,f,v,w){var b=0;return 0===a?h:1==(a/=f)?h+p:(w||(w=.3*f),!v||v<Math.abs(p)?(v=p,b=w/4):b=w/(2*Math.PI)*Math.asin(p/v),-v*Math.pow(2,10*(a-=1))*Math.sin((a*f-b)*(2*Math.PI)/w)+h)},ElasticEaseOut(a,h,p,f,v,w){var b=0;return 0===a?h:1==(a/=f)?h+p:(w||(w=.3*f),!v||v<Math.abs(p)?(v=p,b=w/4):b=w/(2*Math.PI)*Math.asin(p/v),v*Math.pow(2,-10*a)*Math.sin((a*f-b)*(2*Math.PI)/w)+p+h)},ElasticEaseInOut(a,h,p,f,v,w){var b=0;return 0===a?h:2==(a/=f/2)?h+p:(w||(w=f*(.3*1.5)),!v||v<Math.abs(p)?(v=p,b=w/4):b=w/(2*Math.PI)*Math.asin(p/v),a<1?v*Math.pow(2,10*(a-=1))*Math.sin((a*f-b)*(2*Math.PI)/w)*-.5+h:v*Math.pow(2,-10*(a-=1))*Math.sin((a*f-b)*(2*Math.PI)/w)*.5+p+h)},BounceEaseOut:(a,h,p,f)=>(a/=f)<1/2.75?p*(7.5625*a*a)+h:a<2/2.75?p*(7.5625*(a-=1.5/2.75)*a+.75)+h:a<2.5/2.75?p*(7.5625*(a-=2.25/2.75)*a+.9375)+h:p*(7.5625*(a-=2.625/2.75)*a+.984375)+h,BounceEaseIn:(a,h,p,f)=>p-F.Easings.BounceEaseOut(f-a,0,p,f)+h,BounceEaseInOut:(a,h,p,f)=>a<f/2?.5*F.Easings.BounceEaseIn(2*a,0,p,f)+h:.5*F.Easings.BounceEaseOut(2*a-f,0,p,f)+.5*p+h,EaseIn:(a,h,p,f)=>p*(a/=f)*a+h,EaseOut:(a,h,p,f)=>-p*(a/=f)*(a-2)+h,EaseInOut:(a,h,p,f)=>(a/=f/2)<1?p/2*a*a+h:-p/2*(--a*(a-2)-1)+h,StrongEaseIn:(a,h,p,f)=>p*(a/=f)*a*a*a*a+h,StrongEaseOut:(a,h,p,f)=>p*((a=a/f-1)*a*a*a*a+1)+h,StrongEaseInOut:(a,h,p,f)=>(a/=f/2)<1?p/2*a*a*a*a*a+h:p/2*((a-=2)*a*a*a*a+2)+h,Linear:(a,h,p,f)=>p*a/f+h}},2121:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Util=F.Transform=void 0;const C=G(9037);class Y{constructor(x=[1,0,0,1,0,0]){this.dirty=!1,this.m=x&&x.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Y(this.m)}copyInto(x){x.m[0]=this.m[0],x.m[1]=this.m[1],x.m[2]=this.m[2],x.m[3]=this.m[3],x.m[4]=this.m[4],x.m[5]=this.m[5]}point(x){var D=this.m;return{x:D[0]*x.x+D[2]*x.y+D[4],y:D[1]*x.x+D[3]*x.y+D[5]}}translate(x,D){return this.m[4]+=this.m[0]*x+this.m[2]*D,this.m[5]+=this.m[1]*x+this.m[3]*D,this}scale(x,D){return this.m[0]*=x,this.m[1]*=x,this.m[2]*=D,this.m[3]*=D,this}rotate(x){var D=Math.cos(x),E=Math.sin(x),L=this.m[1]*D+this.m[3]*E,$=this.m[0]*-E+this.m[2]*D,V=this.m[1]*-E+this.m[3]*D;return this.m[0]=this.m[0]*D+this.m[2]*E,this.m[1]=L,this.m[2]=$,this.m[3]=V,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(x,D){var k=this.m[1]+this.m[3]*D,L=this.m[2]+this.m[0]*x,$=this.m[3]+this.m[1]*x;return this.m[0]=this.m[0]+this.m[2]*D,this.m[1]=k,this.m[2]=L,this.m[3]=$,this}multiply(x){var E=this.m[1]*x.m[0]+this.m[3]*x.m[1],k=this.m[0]*x.m[2]+this.m[2]*x.m[3],L=this.m[1]*x.m[2]+this.m[3]*x.m[3],$=this.m[0]*x.m[4]+this.m[2]*x.m[5]+this.m[4],V=this.m[1]*x.m[4]+this.m[3]*x.m[5]+this.m[5];return this.m[0]=this.m[0]*x.m[0]+this.m[2]*x.m[1],this.m[1]=E,this.m[2]=k,this.m[3]=L,this.m[4]=$,this.m[5]=V,this}invert(){var x=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),E=-this.m[1]*x,k=-this.m[2]*x,L=this.m[0]*x,$=x*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),V=x*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*x,this.m[1]=E,this.m[2]=k,this.m[3]=L,this.m[4]=$,this.m[5]=V,this}getMatrix(){return this.m}decompose(){var x=this.m[0],D=this.m[1],E=this.m[2],k=this.m[3],V=x*k-D*E;let ne={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=x||0!=D){var ie=Math.sqrt(x*x+D*D);ne.rotation=D>0?Math.acos(x/ie):-Math.acos(x/ie),ne.scaleX=ie,ne.scaleY=V/ie,ne.skewX=(x*E+D*k)/V,ne.skewY=0}else if(0!=E||0!=k){var se=Math.sqrt(E*E+k*k);ne.rotation=Math.PI/2-(k>0?Math.acos(-E/se):-Math.acos(E/se)),ne.scaleX=V/se,ne.scaleY=se,ne.skewX=0,ne.skewY=(x*E+D*k)/V}return ne.rotation=F.Util._getRotation(ne.rotation),ne}}F.Transform=Y;var y=Math.PI/180,d=180/Math.PI,a="Konva error: ",p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},f=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,v=[];const w=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(b){setTimeout(b,60)};F.Util={_isElement:b=>!(!b||1!=b.nodeType),_isFunction:b=>!!(b&&b.constructor&&b.call&&b.apply),_isPlainObject:b=>!!b&&b.constructor===Object,_isArray:b=>"[object Array]"===Object.prototype.toString.call(b),_isNumber:b=>"[object Number]"===Object.prototype.toString.call(b)&&!isNaN(b)&&isFinite(b),_isString:b=>"[object String]"===Object.prototype.toString.call(b),_isBoolean:b=>"[object Boolean]"===Object.prototype.toString.call(b),isObject:b=>b instanceof Object,isValidSelector(b){if("string"!=typeof b)return!1;var x=b[0];return"#"===x||"."===x||x===x.toUpperCase()},_sign:b=>0===b||b>0?1:-1,requestAnimFrame(b){v.push(b),1===v.length&&w(function(){const x=v;v=[],x.forEach(function(D){D()})})},createCanvasElement(){var b=document.createElement("canvas");try{b.style=b.style||{}}catch{}return b},createImageElement:()=>document.createElement("img"),_isInDocument(b){for(;b=b.parentNode;)if(b==document)return!0;return!1},_urlToImage(b,x){var D=F.Util.createImageElement();D.onload=function(){x(D)},D.src=b},_rgbToHex:(b,x,D)=>((1<<24)+(b<<16)+(x<<8)+D).toString(16).slice(1),_hexToRgb(b){b=b.replace("#","");var x=parseInt(b,16);return{r:x>>16&255,g:x>>8&255,b:255&x}},getRandomColor(){for(var b=(16777215*Math.random()<<0).toString(16);b.length<6;)b="0"+b;return"#"+b},getRGB(b){var x;return b in p?{r:(x=p[b])[0],g:x[1],b:x[2]}:"#"===b[0]?this._hexToRgb(b.substring(1)):"rgb("===b.substr(0,4)?(x=f.exec(b.replace(/ /g,"")),{r:parseInt(x[1],10),g:parseInt(x[2],10),b:parseInt(x[3],10)}):{r:0,g:0,b:0}},colorToRGBA:b=>F.Util._namedColorToRBA(b=b||"black")||F.Util._hex3ColorToRGBA(b)||F.Util._hex4ColorToRGBA(b)||F.Util._hex6ColorToRGBA(b)||F.Util._hex8ColorToRGBA(b)||F.Util._rgbColorToRGBA(b)||F.Util._rgbaColorToRGBA(b)||F.Util._hslColorToRGBA(b),_namedColorToRBA(b){var x=p[b.toLowerCase()];return x?{r:x[0],g:x[1],b:x[2],a:1}:null},_rgbColorToRGBA(b){if(0===b.indexOf("rgb(")){var x=(b=b.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:x[0],g:x[1],b:x[2],a:1}}},_rgbaColorToRGBA(b){if(0===b.indexOf("rgba(")){var x=(b=b.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((D,E)=>"%"===D.slice(-1)?3===E?parseInt(D)/100:parseInt(D)/100*255:Number(D));return{r:x[0],g:x[1],b:x[2],a:x[3]}}},_hex8ColorToRGBA(b){if("#"===b[0]&&9===b.length)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:parseInt(b.slice(7,9),16)/255}},_hex6ColorToRGBA(b){if("#"===b[0]&&7===b.length)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:1}},_hex4ColorToRGBA(b){if("#"===b[0]&&5===b.length)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:parseInt(b[4]+b[4],16)/255}},_hex3ColorToRGBA(b){if("#"===b[0]&&4===b.length)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:1}},_hslColorToRGBA(b){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(b)){const[x,...D]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(b),E=Number(D[0])/360,k=Number(D[1])/100,L=Number(D[2])/100;let $,V,ne;if(0===k)return ne=255*L,{r:Math.round(ne),g:Math.round(ne),b:Math.round(ne),a:1};$=L<.5?L*(1+k):L+k-L*k;const ie=2*L-$,se=[0,0,0];for(let de=0;de<3;de++)V=E+1/3*-(de-1),V<0&&V++,V>1&&V--,ne=6*V<1?ie+6*($-ie)*V:2*V<1?$:3*V<2?ie+($-ie)*(2/3-V)*6:ie,se[de]=255*ne;return{r:Math.round(se[0]),g:Math.round(se[1]),b:Math.round(se[2]),a:1}}},haveIntersection:(b,x)=>!(x.x>b.x+b.width||x.x+x.width<b.x||x.y>b.y+b.height||x.y+x.height<b.y),cloneObject(b){var x={};for(var D in b)x[D]=this._isPlainObject(b[D])?this.cloneObject(b[D]):this._isArray(b[D])?this.cloneArray(b[D]):b[D];return x},cloneArray:b=>b.slice(0),degToRad:b=>b*y,radToDeg:b=>b*d,_degToRad:b=>(F.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),F.Util.degToRad(b)),_radToDeg:b=>(F.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),F.Util.radToDeg(b)),_getRotation:b=>C.Konva.angleDeg?F.Util.radToDeg(b):b,_capitalize:b=>b.charAt(0).toUpperCase()+b.slice(1),throw(b){throw new Error(a+b)},error(b){console.error(a+b)},warn(b){C.Konva.showWarnings&&console.warn("Konva warning: "+b)},each(b,x){for(var D in b)x(D,b[D])},_inRange:(b,x,D)=>x<=b&&b<D,_getProjectionToSegment(b,x,D,E,k,L){var $,V,ne,ie=(b-D)*(b-D)+(x-E)*(x-E);if(0==ie)$=b,V=x,ne=(k-D)*(k-D)+(L-E)*(L-E);else{var se=((k-b)*(D-b)+(L-x)*(E-x))/ie;se<0?($=b,V=x,ne=(b-k)*(b-k)+(x-L)*(x-L)):se>1?($=D,V=E,ne=(D-k)*(D-k)+(E-L)*(E-L)):ne=(($=b+se*(D-b))-k)*($-k)+((V=x+se*(E-x))-L)*(V-L)}return[$,V,ne]},_getProjectionToLine(b,x,D){var E=F.Util.cloneObject(b),k=Number.MAX_VALUE;return x.forEach(function(L,$){if(D||$!==x.length-1){var V=x[($+1)%x.length],ne=F.Util._getProjectionToSegment(L.x,L.y,V.x,V.y,b.x,b.y),se=ne[1],de=ne[2];de<k&&(E.x=ne[0],E.y=se,k=de)}}),E},_prepareArrayForTween(b,x,D){var E,k=[],L=[];if(b.length>x.length){var $=x;x=b,b=$}for(E=0;E<b.length;E+=2)k.push({x:b[E],y:b[E+1]});for(E=0;E<x.length;E+=2)L.push({x:x[E],y:x[E+1]});var V=[];return L.forEach(function(ne){var ie=F.Util._getProjectionToLine(ne,k,D);V.push(ie.x),V.push(ie.y)}),V},_prepareToStringify(b){var x;for(var D in b.visitedByCircularReferenceRemoval=!0,b)if(b.hasOwnProperty(D)&&b[D]&&"object"==typeof b[D])if(x=Object.getOwnPropertyDescriptor(b,D),b[D].visitedByCircularReferenceRemoval||F.Util._isElement(b[D])){if(!x.configurable)return null;delete b[D]}else if(null===F.Util._prepareToStringify(b[D])){if(!x.configurable)return null;delete b[D]}return delete b.visitedByCircularReferenceRemoval,b},_assign(b,x){for(var D in x)b[D]=x[D];return b},_getFirstPointerId:b=>b.touches?b.changedTouches[0].identifier:b.pointerId||999,releaseCanvas(...b){C.Konva.releaseCanvasOnDestroy&&b.forEach(x=>{x.width=0,x.height=0})},drawRoundedRectPath(b,x,D,E){let k=0,L=0,$=0,V=0;"number"==typeof E?k=L=$=V=Math.min(E,x/2,D/2):(k=Math.min(E[0]||0,x/2,D/2),L=Math.min(E[1]||0,x/2,D/2),V=Math.min(E[2]||0,x/2,D/2),$=Math.min(E[3]||0,x/2,D/2)),b.moveTo(k,0),b.lineTo(x-L,0),b.arc(x-L,L,L,3*Math.PI/2,0,!1),b.lineTo(x,D-V),b.arc(x-V,D-V,V,0,Math.PI/2,!1),b.lineTo($,D),b.arc($,D-$,$,Math.PI/2,Math.PI,!1),b.lineTo(0,k),b.arc(k,k,k,Math.PI,3*Math.PI/2,!1)}}},674:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.getComponentValidator=F.getBooleanValidator=F.getNumberArrayValidator=F.getFunctionValidator=F.getStringOrGradientValidator=F.getStringValidator=F.getNumberOrAutoValidator=F.getNumberOrArrayOfNumbersValidator=F.getNumberValidator=F.alphaComponent=F.RGBComponent=void 0;const C=G(9037),Y=G(2121);function W(p){return Y.Util._isString(p)?'"'+p+'"':"[object Number]"===Object.prototype.toString.call(p)||Y.Util._isBoolean(p)?p:Object.prototype.toString.call(p)}F.RGBComponent=function X(p){return p>255?255:p<0?0:Math.round(p)},F.alphaComponent=function H(p){return p>1?1:p<1e-4?1e-4:p},F.getNumberValidator=function B(){if(C.Konva.isUnminified)return function(p,f){return Y.Util._isNumber(p)||Y.Util.warn(W(p)+' is a not valid value for "'+f+'" attribute. The value should be a number.'),p}},F.getNumberOrArrayOfNumbersValidator=function y(p){if(C.Konva.isUnminified)return function(f,v){let w=Y.Util._isNumber(f),b=Y.Util._isArray(f)&&f.length==p;return!w&&!b&&Y.Util.warn(W(f)+' is a not valid value for "'+v+'" attribute. The value should be a number or Array<number>('+p+")"),f}},F.getNumberOrAutoValidator=function d(){if(C.Konva.isUnminified)return function(p,f){return Y.Util._isNumber(p)||"auto"===p||Y.Util.warn(W(p)+' is a not valid value for "'+f+'" attribute. The value should be a number or "auto".'),p}},F.getStringValidator=function m(){if(C.Konva.isUnminified)return function(p,f){return Y.Util._isString(p)||Y.Util.warn(W(p)+' is a not valid value for "'+f+'" attribute. The value should be a string.'),p}},F.getStringOrGradientValidator=function g(){if(C.Konva.isUnminified)return function(p,f){const v=Y.Util._isString(p),w="[object CanvasGradient]"===Object.prototype.toString.call(p)||p&&p.addColorStop;return v||w||Y.Util.warn(W(p)+' is a not valid value for "'+f+'" attribute. The value should be a string or a native gradient.'),p}},F.getFunctionValidator=function u(){if(C.Konva.isUnminified)return function(p,f){return Y.Util._isFunction(p)||Y.Util.warn(W(p)+' is a not valid value for "'+f+'" attribute. The value should be a function.'),p}},F.getNumberArrayValidator=function c(){if(C.Konva.isUnminified)return function(p,f){const v=Int8Array?Object.getPrototypeOf(Int8Array):null;return v&&p instanceof v||(Y.Util._isArray(p)?p.forEach(function(w){Y.Util._isNumber(w)||Y.Util.warn('"'+f+'" attribute has non numeric element '+w+". Make sure that all elements are numbers.")}):Y.Util.warn(W(p)+' is a not valid value for "'+f+'" attribute. The value should be a array of numbers.')),p}},F.getBooleanValidator=function a(){if(C.Konva.isUnminified)return function(p,f){return!0===p||!1===p||Y.Util.warn(W(p)+' is a not valid value for "'+f+'" attribute. The value should be a boolean.'),p}},F.getComponentValidator=function h(p){if(C.Konva.isUnminified)return function(f,v){return null==f||Y.Util.isObject(f)||Y.Util.warn(W(f)+' is a not valid value for "'+v+'" attribute. The value should be an object with properties '+p),f}}},6554:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Konva=void 0;const C=G(9037),Y=G(2121),W=G(338),X=G(2632),H=G(4185),B=G(7035),y=G(6393),d=G(5673),m=G(4505),g=G(4147),u=G(1771),c=G(8859),a=G(9703),h=G(1161);F.Konva=Y.Util._assign(C.Konva,{Util:Y.Util,Transform:Y.Transform,Node:W.Node,Container:X.Container,Stage:H.Stage,stages:H.stages,Layer:B.Layer,FastLayer:y.FastLayer,Group:d.Group,DD:m.DD,Shape:g.Shape,shapes:g.shapes,Animation:u.Animation,Tween:c.Tween,Easings:c.Easings,Context:a.Context,Canvas:h.Canvas}),F.default=F.Konva},4557:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Konva=void 0;const C=G(6554),Y=G(5750),W=G(1755),X=G(8144),H=G(742),B=G(862),y=G(848),d=G(3386),m=G(7082),g=G(6056),u=G(7856),c=G(6455),a=G(523),h=G(7813),p=G(6154),f=G(7626),v=G(2348),w=G(5395),b=G(390),x=G(3725),D=G(5166),E=G(2565),k=G(4051),L=G(6853),$=G(3762),V=G(2780),ne=G(4726),ie=G(8174),se=G(5617),de=G(9412),P=G(5201),J=G(7426),te=G(8799),fe=G(8316),R=G(8213),Q=G(6579),K=G(9036);F.Konva=C.Konva.Util._assign(C.Konva,{Arc:Y.Arc,Arrow:W.Arrow,Circle:X.Circle,Ellipse:H.Ellipse,Image:B.Image,Label:y.Label,Tag:y.Tag,Line:d.Line,Path:m.Path,Rect:g.Rect,RegularPolygon:u.RegularPolygon,Ring:c.Ring,Sprite:a.Sprite,Star:h.Star,Text:p.Text,TextPath:f.TextPath,Transformer:v.Transformer,Wedge:w.Wedge,Filters:{Blur:b.Blur,Brighten:x.Brighten,Contrast:D.Contrast,Emboss:E.Emboss,Enhance:k.Enhance,Grayscale:L.Grayscale,HSL:$.HSL,HSV:V.HSV,Invert:ne.Invert,Kaleidoscope:ie.Kaleidoscope,Mask:se.Mask,Noise:de.Noise,Pixelate:P.Pixelate,Posterize:J.Posterize,RGB:te.RGB,RGBA:fe.RGBA,Sepia:R.Sepia,Solarize:Q.Solarize,Threshold:K.Threshold}})},390:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Blur=void 0;const C=G(134),Y=G(338),W=G(674);function X(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var H=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],B=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];F.Blur=function(g){var u=Math.round(this.blurRadius());u>0&&function y(m,g){var h,p,f,v,w,b,x,D,E,k,L,$,V,ne,ie,se,de,P,J,te,fe,R,Q,K,u=m.data,c=m.width,a=m.height,q=g+g+1,ye=c-1,oe=a-1,Z=g+1,ge=Z*(Z+1)/2,re=new X,ue=null,_e=re,Se=null,ke=null,je=H[g],Me=B[g];for(f=1;f<q;f++)_e=_e.next=new X,f===Z&&(ue=_e);for(_e.next=re,x=b=0,p=0;p<a;p++){for(se=de=P=J=D=E=k=L=0,$=Z*(te=u[b]),V=Z*(fe=u[b+1]),ne=Z*(R=u[b+2]),ie=Z*(Q=u[b+3]),D+=ge*te,E+=ge*fe,k+=ge*R,L+=ge*Q,_e=re,f=0;f<Z;f++)_e.r=te,_e.g=fe,_e.b=R,_e.a=Q,_e=_e.next;for(f=1;f<Z;f++)D+=(_e.r=te=u[v=b+((ye<f?ye:f)<<2)])*(K=Z-f),E+=(_e.g=fe=u[v+1])*K,k+=(_e.b=R=u[v+2])*K,L+=(_e.a=Q=u[v+3])*K,se+=te,de+=fe,P+=R,J+=Q,_e=_e.next;for(Se=re,ke=ue,h=0;h<c;h++)u[b+3]=Q=L*je>>Me,0!==Q?(u[b]=(D*je>>Me)*(Q=255/Q),u[b+1]=(E*je>>Me)*Q,u[b+2]=(k*je>>Me)*Q):u[b]=u[b+1]=u[b+2]=0,D-=$,E-=V,k-=ne,L-=ie,$-=Se.r,V-=Se.g,ne-=Se.b,ie-=Se.a,v=x+((v=h+g+1)<ye?v:ye)<<2,D+=se+=Se.r=u[v],E+=de+=Se.g=u[v+1],k+=P+=Se.b=u[v+2],L+=J+=Se.a=u[v+3],Se=Se.next,$+=te=ke.r,V+=fe=ke.g,ne+=R=ke.b,ie+=Q=ke.a,se-=te,de-=fe,P-=R,J-=Q,ke=ke.next,b+=4;x+=c}for(h=0;h<c;h++){for(de=P=J=se=E=k=L=D=0,$=Z*(te=u[b=h<<2]),V=Z*(fe=u[b+1]),ne=Z*(R=u[b+2]),ie=Z*(Q=u[b+3]),D+=ge*te,E+=ge*fe,k+=ge*R,L+=ge*Q,_e=re,f=0;f<Z;f++)_e.r=te,_e.g=fe,_e.b=R,_e.a=Q,_e=_e.next;for(w=c,f=1;f<=g;f++)D+=(_e.r=te=u[b=w+h<<2])*(K=Z-f),E+=(_e.g=fe=u[b+1])*K,k+=(_e.b=R=u[b+2])*K,L+=(_e.a=Q=u[b+3])*K,se+=te,de+=fe,P+=R,J+=Q,_e=_e.next,f<oe&&(w+=c);for(b=h,Se=re,ke=ue,p=0;p<a;p++)u[3+(v=b<<2)]=Q=L*je>>Me,Q>0?(u[v]=(D*je>>Me)*(Q=255/Q),u[v+1]=(E*je>>Me)*Q,u[v+2]=(k*je>>Me)*Q):u[v]=u[v+1]=u[v+2]=0,D-=$,E-=V,k-=ne,L-=ie,$-=Se.r,V-=Se.g,ne-=Se.b,ie-=Se.a,v=h+((v=p+Z)<oe?v:oe)*c<<2,D+=se+=Se.r=u[v],E+=de+=Se.g=u[v+1],k+=P+=Se.b=u[v+2],L+=J+=Se.a=u[v+3],Se=Se.next,$+=te=ke.r,V+=fe=ke.g,ne+=R=ke.b,ie+=Q=ke.a,se-=te,de-=fe,P-=R,J-=Q,ke=ke.next,b+=c}}(g,u)},C.Factory.addGetterSetter(Y.Node,"blurRadius",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},3725:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Brighten=void 0;const C=G(134),Y=G(338),W=G(674);F.Brighten=function(H){var m,B=255*this.brightness(),y=H.data,d=y.length;for(m=0;m<d;m+=4)y[m]+=B,y[m+1]+=B,y[m+2]+=B},C.Factory.addGetterSetter(Y.Node,"brightness",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},5166:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Contrast=void 0;const C=G(134),Y=G(338),W=G(674);F.Contrast=function(H){var c,B=Math.pow((this.contrast()+100)/100,2),y=H.data,d=y.length,m=150,g=150,u=150;for(c=0;c<d;c+=4)m=y[c],g=y[c+1],u=y[c+2],m/=255,m-=.5,m*=B,m+=.5,g/=255,g-=.5,g*=B,g+=.5,u/=255,u-=.5,u*=B,u+=.5,g=(g*=255)<0?0:g>255?255:g,u=(u*=255)<0?0:u>255?255:u,y[c]=m=(m*=255)<0?0:m>255?255:m,y[c+1]=g,y[c+2]=u},C.Factory.addGetterSetter(Y.Node,"contrast",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},2565:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Emboss=void 0;const C=G(134),Y=G(338),W=G(2121),X=G(674);F.Emboss=function(B){var y=10*this.embossStrength(),d=255*this.embossWhiteLevel(),m=this.embossDirection(),g=this.embossBlend(),u=0,c=0,a=B.data,h=B.width,p=B.height,f=4*h,v=p;switch(m){case"top-left":u=-1,c=-1;break;case"top":u=-1,c=0;break;case"top-right":u=-1,c=1;break;case"right":u=0,c=1;break;case"bottom-right":u=1,c=1;break;case"bottom":u=1,c=0;break;case"bottom-left":u=1,c=-1;break;case"left":u=0,c=-1;break;default:W.Util.error("Unknown emboss direction: "+m)}do{var w=(v-1)*f,b=u;v+b<1&&(b=0),v+b>p&&(b=0);var x=(v-1+b)*h*4,D=h;do{var E=w+4*(D-1),k=c;D+k<1&&(k=0),D+k>h&&(k=0);var L=x+4*(D-1+k),V=a[E+1]-a[L+1],ne=a[E+2]-a[L+2],ie=a[E]-a[L],se=ie>0?ie:-ie;if((V>0?V:-V)>se&&(ie=V),(ne>0?ne:-ne)>se&&(ie=ne),ie*=y,g){var J=a[E]+ie,te=a[E+1]+ie,fe=a[E+2]+ie;a[E]=J>255?255:J<0?0:J,a[E+1]=te>255?255:te<0?0:te,a[E+2]=fe>255?255:fe<0?0:fe}else{var R=d-ie;R<0?R=0:R>255&&(R=255),a[E]=a[E+1]=a[E+2]=R}}while(--D)}while(--v)},C.Factory.addGetterSetter(Y.Node,"embossStrength",.5,(0,X.getNumberValidator)(),C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"embossWhiteLevel",.5,(0,X.getNumberValidator)(),C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"embossDirection","top-left",null,C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"embossBlend",!1,null,C.Factory.afterSetFilter)},4051:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Enhance=void 0;const C=G(134),Y=G(338),W=G(674);function X(B,y,d,m,g){var u=d-y,c=g-m;return 0===u?m+c/2:0===c?m:c*((B-y)/u)+m}F.Enhance=function(B){var u,h,v,w,y=B.data,d=y.length,m=y[0],g=m,c=y[1],a=c,p=y[2],f=p,b=this.enhance();if(0!==b){for(w=0;w<d;w+=4)(u=y[w+0])<m?m=u:u>g&&(g=u),(h=y[w+1])<c?c=h:h>a&&(a=h),(v=y[w+2])<p?p=v:v>f&&(f=v);var x,D,E,k,L,$,V,ne,ie;for(g===m&&(g=255,m=0),a===c&&(a=255,c=0),f===p&&(f=255,p=0),b>0?(D=g+b*(255-g),E=m-b*(m-0),L=a+b*(255-a),$=c-b*(c-0),ne=f+b*(255-f),ie=p-b*(p-0)):(D=g+b*(g-(x=.5*(g+m))),E=m+b*(m-x),L=a+b*(a-(k=.5*(a+c))),$=c+b*(c-k),ne=f+b*(f-(V=.5*(f+p))),ie=p+b*(p-V)),w=0;w<d;w+=4)y[w+0]=X(y[w+0],m,g,E,D),y[w+1]=X(y[w+1],c,a,$,L),y[w+2]=X(y[w+2],p,f,ie,ne)}},C.Factory.addGetterSetter(Y.Node,"enhance",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},6853:($e,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Grayscale=void 0,F.Grayscale=function(C){var X,H,Y=C.data,W=Y.length;for(X=0;X<W;X+=4)Y[X]=H=.34*Y[X]+.5*Y[X+1]+.16*Y[X+2],Y[X+1]=H,Y[X+2]=H}},3762:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.HSL=void 0;const C=G(134),Y=G(338),W=G(674);C.Factory.addGetterSetter(Y.Node,"hue",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"saturation",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"luminance",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter),F.HSL=function(H){var c,L,$,V,ne,B=H.data,y=B.length,m=Math.pow(2,this.saturation()),g=Math.abs(this.hue()+360)%360,u=127*this.luminance(),a=1*m*Math.cos(g*Math.PI/180),h=1*m*Math.sin(g*Math.PI/180),p=.299+.701*a+.167*h,f=.587-.587*a+.33*h,v=.114-.114*a-.497*h,w=.299-.299*a-.328*h,b=.587+.413*a+.035*h,x=.114-.114*a+.293*h,D=.299-.3*a+1.25*h,E=.587-.586*a-1.05*h,k=.114+.886*a-.2*h;for(c=0;c<y;c+=4)ne=B[c+3],B[c+0]=p*(L=B[c+0])+f*($=B[c+1])+v*(V=B[c+2])+u,B[c+1]=w*L+b*$+x*V+u,B[c+2]=D*L+E*$+k*V+u,B[c+3]=ne}},2780:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.HSV=void 0;const C=G(134),Y=G(338),W=G(674);F.HSV=function(H){var u,k,L,$,V,B=H.data,y=B.length,d=Math.pow(2,this.value()),m=Math.pow(2,this.saturation()),g=Math.abs(this.hue()+360)%360,c=d*m*Math.cos(g*Math.PI/180),a=d*m*Math.sin(g*Math.PI/180),h=.299*d+.701*c+.167*a,p=.587*d-.587*c+.33*a,f=.114*d-.114*c-.497*a,v=.299*d-.299*c-.328*a,w=.587*d+.413*c+.035*a,b=.114*d-.114*c+.293*a,x=.299*d-.3*c+1.25*a,D=.587*d-.586*c-1.05*a,E=.114*d+.886*c-.2*a;for(u=0;u<y;u+=4)V=B[u+3],B[u+0]=h*(k=B[u+0])+p*(L=B[u+1])+f*($=B[u+2]),B[u+1]=v*k+w*L+b*$,B[u+2]=x*k+D*L+E*$,B[u+3]=V},C.Factory.addGetterSetter(Y.Node,"hue",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"saturation",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"value",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},4726:($e,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Invert=void 0,F.Invert=function(C){var X,Y=C.data,W=Y.length;for(X=0;X<W;X+=4)Y[X]=255-Y[X],Y[X+1]=255-Y[X+1],Y[X+2]=255-Y[X+2]}},8174:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Kaleidoscope=void 0;const C=G(134),Y=G(338),W=G(2121),X=G(674);F.Kaleidoscope=function(d){var u,c,a,h,f,v,w,b,x,m=d.width,g=d.height,D=Math.round(this.kaleidoscopePower()),E=Math.round(this.kaleidoscopeAngle()),k=Math.floor(m*(E%360)/360);if(!(D<1)){var L=W.Util.createCanvasElement();L.width=m,L.height=g;var $=L.getContext("2d").getImageData(0,0,m,g);W.Util.releaseCanvas(L),function(d,m,g){var v,w,b,L,u=d.data,c=m.data,a=d.width,h=d.height,p=g.polarCenterX||a/2,f=g.polarCenterY||h/2,x=0,D=0,E=0,k=0,$=Math.sqrt(p*p+f*f);w=a-p,b=h-f,$=(L=Math.sqrt(w*w+b*b))>$?L:$;var ie,se,P,J,V=h,ne=a,de=360/ne*Math.PI/180;for(se=0;se<ne;se+=1)for(P=Math.sin(se*de),J=Math.cos(se*de),ie=0;ie<V;ie+=1)w=Math.floor(p+$*ie/V*J),x=u[0+(v=4*((b=Math.floor(f+$*ie/V*P))*a+w))],D=u[v+1],E=u[v+2],k=u[v+3],c[0+(v=4*(se+ie*a))]=x,c[v+1]=D,c[v+2]=E,c[v+3]=k}(d,$,{polarCenterX:m/2,polarCenterY:g/2});for(var V=m/Math.pow(2,D);V<=8;)V*=2,D-=1;var ne=V=Math.ceil(V),ie=0,se=ne,de=1;for(k+V>m&&(ie=ne,se=0,de=-1),c=0;c<g;c+=1)for(u=ie;u!==se;u+=de)a=Math.round(u+k)%m,f=$.data[1+(b=4*(m*c+a))],v=$.data[b+2],w=$.data[b+3],$.data[0+(x=4*(m*c+u))]=$.data[b+0],$.data[x+1]=f,$.data[x+2]=v,$.data[x+3]=w;for(c=0;c<g;c+=1)for(ne=Math.floor(V),h=0;h<D;h+=1){for(u=0;u<ne+1;u+=1)f=$.data[1+(b=4*(m*c+u))],v=$.data[b+2],w=$.data[b+3],$.data[0+(x=4*(m*c+2*ne-u-1))]=$.data[b+0],$.data[x+1]=f,$.data[x+2]=v,$.data[x+3]=w;ne*=2}!function(d,m,g){var v,w,b,x,D,V,u=d.data,c=m.data,a=d.width,h=d.height,p=g.polarCenterX||a/2,f=g.polarCenterY||h/2,E=0,k=0,L=0,$=0,ne=Math.sqrt(p*p+f*f);w=a-p,b=h-f,ne=(V=Math.sqrt(w*w+b*b))>ne?V:ne;var de,P,te,ie=h,se=a,J=g.polarRotation||0;for(w=0;w<a;w+=1)for(b=0;b<h;b+=1)x=w-p,D=b-f,de=Math.sqrt(x*x+D*D)*ie/ne,P=(P=(180*Math.atan2(D,x)/Math.PI+360+J)%360)*se/360,te=Math.floor(P),E=u[0+(v=4*(Math.floor(de)*a+te))],k=u[v+1],L=u[v+2],$=u[v+3],c[0+(v=4*(b*a+w))]=E,c[v+1]=k,c[v+2]=L,c[v+3]=$}($,d,{polarRotation:0})}},C.Factory.addGetterSetter(Y.Node,"kaleidoscopePower",2,(0,X.getNumberValidator)(),C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"kaleidoscopeAngle",0,(0,X.getNumberValidator)(),C.Factory.afterSetFilter)},5617:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Mask=void 0;const C=G(134),Y=G(338),W=G(674);function X(a,h,p){var f=4*(p*a.width+h),v=[];return v.push(a.data[f++],a.data[f++],a.data[f++],a.data[f++]),v}function H(a,h){return Math.sqrt(Math.pow(a[0]-h[0],2)+Math.pow(a[1]-h[1],2)+Math.pow(a[2]-h[2],2))}F.Mask=function(a){var p=function y(a,h){var p=X(a,0,0),f=X(a,a.width-1,0),v=X(a,0,a.height-1),w=X(a,a.width-1,a.height-1),b=h||10;if(H(p,f)<b&&H(f,w)<b&&H(w,v)<b&&H(v,p)<b){for(var x=function B(a){for(var h=[0,0,0],p=0;p<a.length;p++)h[0]+=a[p][0],h[1]+=a[p][1],h[2]+=a[p][2];return h[0]/=a.length,h[1]/=a.length,h[2]/=a.length,h}([f,p,w,v]),D=[],E=0;E<a.width*a.height;E++){var k=H(x,[a.data[4*E],a.data[4*E+1],a.data[4*E+2]]);D[E]=k<b?0:255}return D}}(a,this.threshold());return p&&(p=function m(a,h,p){for(var f=[1,1,1,1,0,1,1,1,1],v=Math.round(Math.sqrt(f.length)),w=Math.floor(v/2),b=[],x=0;x<p;x++)for(var D=0;D<h;D++){for(var E=x*h+D,k=0,L=0;L<v;L++)for(var $=0;$<v;$++){var V=x+L-w,ne=D+$-w;V>=0&&V<p&&ne>=0&&ne<h&&(k+=a[V*h+ne]*f[L*v+$])}b[E]=2040===k?255:0}return b}(p,a.width,a.height),p=function g(a,h,p){for(var f=[1,1,1,1,1,1,1,1,1],v=Math.round(Math.sqrt(f.length)),w=Math.floor(v/2),b=[],x=0;x<p;x++)for(var D=0;D<h;D++){for(var E=x*h+D,k=0,L=0;L<v;L++)for(var $=0;$<v;$++){var V=x+L-w,ne=D+$-w;V>=0&&V<p&&ne>=0&&ne<h&&(k+=a[V*h+ne]*f[L*v+$])}b[E]=k>=1020?255:0}return b}(p,a.width,a.height),p=function u(a,h,p){for(var f=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],v=Math.round(Math.sqrt(f.length)),w=Math.floor(v/2),b=[],x=0;x<p;x++)for(var D=0;D<h;D++){for(var E=x*h+D,k=0,L=0;L<v;L++)for(var $=0;$<v;$++){var V=x+L-w,ne=D+$-w;V>=0&&V<p&&ne>=0&&ne<h&&(k+=a[V*h+ne]*f[L*v+$])}b[E]=k}return b}(p,a.width,a.height),function d(a,h){for(var p=0;p<a.width*a.height;p++)a.data[4*p+3]=h[p]}(a,p)),a},C.Factory.addGetterSetter(Y.Node,"threshold",0,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},9412:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Noise=void 0;const C=G(134),Y=G(338),W=G(674);F.Noise=function(H){var g,B=255*this.noise(),y=H.data,d=y.length,m=B/2;for(g=0;g<d;g+=4)y[g+0]+=m-2*m*Math.random(),y[g+1]+=m-2*m*Math.random(),y[g+2]+=m-2*m*Math.random()},C.Factory.addGetterSetter(Y.Node,"noise",.2,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},5201:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Pixelate=void 0;const C=G(134),Y=G(2121),W=G(338),X=G(674);F.Pixelate=function(B){var g,u,c,a,h,p,f,b,x,D,E,k,L,$,y=Math.ceil(this.pixelSize()),d=B.width,m=B.height,v=Math.ceil(d/y),w=Math.ceil(m/y),V=B.data;if(y<=0)Y.Util.error("pixelSize value can not be <= 0");else for(k=0;k<v;k+=1)for(L=0;L<w;L+=1){for(a=0,h=0,p=0,f=0,x=(b=k*y)+y,E=(D=L*y)+y,$=0,g=b;g<x;g+=1)if(!(g>=d))for(u=D;u<E;u+=1)u>=m||(a+=V[0+(c=4*(d*u+g))],h+=V[c+1],p+=V[c+2],f+=V[c+3],$+=1);for(a/=$,h/=$,p/=$,f/=$,g=b;g<x;g+=1)if(!(g>=d))for(u=D;u<E;u+=1)u>=m||(V[0+(c=4*(d*u+g))]=a,V[c+1]=h,V[c+2]=p,V[c+3]=f)}},C.Factory.addGetterSetter(W.Node,"pixelSize",8,(0,X.getNumberValidator)(),C.Factory.afterSetFilter)},7426:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Posterize=void 0;const C=G(134),Y=G(338),W=G(674);F.Posterize=function(H){var g,B=Math.round(254*this.levels())+1,y=H.data,d=y.length,m=255/B;for(g=0;g<d;g+=1)y[g]=Math.floor(y[g]/m)*m},C.Factory.addGetterSetter(Y.Node,"levels",.5,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},8799:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.RGB=void 0;const C=G(134),Y=G(338),W=G(674);F.RGB=function(H){var u,c,B=H.data,y=B.length,d=this.red(),m=this.green(),g=this.blue();for(u=0;u<y;u+=4)B[u]=(c=(.34*B[u]+.5*B[u+1]+.16*B[u+2])/255)*d,B[u+1]=c*m,B[u+2]=c*g,B[u+3]=B[u+3]},C.Factory.addGetterSetter(Y.Node,"red",0,function(H){return this._filterUpToDate=!1,H>255?255:H<0?0:Math.round(H)}),C.Factory.addGetterSetter(Y.Node,"green",0,function(H){return this._filterUpToDate=!1,H>255?255:H<0?0:Math.round(H)}),C.Factory.addGetterSetter(Y.Node,"blue",0,W.RGBComponent,C.Factory.afterSetFilter)},8316:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.RGBA=void 0;const C=G(134),Y=G(338),W=G(674);F.RGBA=function(H){var c,a,B=H.data,y=B.length,d=this.red(),m=this.green(),g=this.blue(),u=this.alpha();for(c=0;c<y;c+=4)B[c]=d*u+B[c]*(a=1-u),B[c+1]=m*u+B[c+1]*a,B[c+2]=g*u+B[c+2]*a},C.Factory.addGetterSetter(Y.Node,"red",0,function(H){return this._filterUpToDate=!1,H>255?255:H<0?0:Math.round(H)}),C.Factory.addGetterSetter(Y.Node,"green",0,function(H){return this._filterUpToDate=!1,H>255?255:H<0?0:Math.round(H)}),C.Factory.addGetterSetter(Y.Node,"blue",0,W.RGBComponent,C.Factory.afterSetFilter),C.Factory.addGetterSetter(Y.Node,"alpha",1,function(H){return this._filterUpToDate=!1,H>1?1:H<0?0:H})},8213:($e,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Sepia=void 0,F.Sepia=function(C){var X,H,B,y,Y=C.data,W=Y.length;for(X=0;X<W;X+=4)H=Y[X+0],B=Y[X+1],y=Y[X+2],Y[X+0]=Math.min(255,.393*H+.769*B+.189*y),Y[X+1]=Math.min(255,.349*H+.686*B+.168*y),Y[X+2]=Math.min(255,.272*H+.534*B+.131*y)}},6579:($e,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Solarize=void 0,F.Solarize=function(C){var Y=C.data,W=C.width,H=4*W,B=C.height;do{var y=(B-1)*H,d=W;do{var m=y+4*(d-1),g=Y[m],u=Y[m+1],c=Y[m+2];g>127&&(g=255-g),u>127&&(u=255-u),c>127&&(c=255-c),Y[m]=g,Y[m+1]=u,Y[m+2]=c}while(--d)}while(--B)}},9036:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Threshold=void 0;const C=G(134),Y=G(338),W=G(674);F.Threshold=function(H){var m,B=255*this.threshold(),y=H.data,d=y.length;for(m=0;m<d;m+=1)y[m]=y[m]<B?0:255},C.Factory.addGetterSetter(Y.Node,"threshold",.5,(0,W.getNumberValidator)(),C.Factory.afterSetFilter)},6603:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});const C=G(4557);$e.exports=C.Konva},5750:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Arc=void 0;const C=G(134),Y=G(4147),W=G(9037),X=G(674),H=G(9037);class B extends Y.Shape{_sceneFunc(d){var m=W.Konva.getAngle(this.angle()),g=this.clockwise();d.beginPath(),d.arc(0,0,this.outerRadius(),0,m,g),d.arc(0,0,this.innerRadius(),m,0,!g),d.closePath(),d.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}getSelfRect(){const d=this.innerRadius(),m=this.outerRadius(),g=this.clockwise(),u=W.Konva.getAngle(g?360-this.angle():this.angle()),c=Math.cos(Math.min(u,Math.PI)),h=Math.sin(Math.min(Math.max(Math.PI,u),3*Math.PI/2)),p=Math.sin(Math.min(u,Math.PI/2)),f=c*(c>0?d:m),w=h*(h>0?d:m),b=p*(p>0?m:d);return{x:f,y:g?-1*b:w,width:1*m-f,height:b-w}}}F.Arc=B,B.prototype._centroid=!0,B.prototype.className="Arc",B.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,H._registerNode)(B),C.Factory.addGetterSetter(B,"innerRadius",0,(0,X.getNumberValidator)()),C.Factory.addGetterSetter(B,"outerRadius",0,(0,X.getNumberValidator)()),C.Factory.addGetterSetter(B,"angle",0,(0,X.getNumberValidator)()),C.Factory.addGetterSetter(B,"clockwise",!1,(0,X.getBooleanValidator)())},1755:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Arrow=void 0;const C=G(134),Y=G(3386),W=G(674),X=G(9037),H=G(7082);class B extends Y.Line{_sceneFunc(d){super._sceneFunc(d);var m=2*Math.PI,g=this.points(),u=g,c=0!==this.tension()&&g.length>4;c&&(u=this.getTensionPoints());var p,f,a=this.pointerLength(),h=g.length;if(c){const b=[u[u.length-4],u[u.length-3],u[u.length-2],u[u.length-1],g[h-2],g[h-1]],x=H.Path.calcLength(u[u.length-4],u[u.length-3],"C",b),D=H.Path.getPointOnQuadraticBezier(Math.min(1,1-a/x),b[0],b[1],b[2],b[3],b[4],b[5]);p=g[h-2]-D.x,f=g[h-1]-D.y}else p=g[h-2]-g[h-4],f=g[h-1]-g[h-3];var v=(Math.atan2(f,p)+m)%m,w=this.pointerWidth();this.pointerAtEnding()&&(d.save(),d.beginPath(),d.translate(g[h-2],g[h-1]),d.rotate(v),d.moveTo(0,0),d.lineTo(-a,w/2),d.lineTo(-a,-w/2),d.closePath(),d.restore(),this.__fillStroke(d)),this.pointerAtBeginning()&&(d.save(),d.beginPath(),d.translate(g[0],g[1]),c?(p=(u[0]+u[2])/2-g[0],f=(u[1]+u[3])/2-g[1]):(p=g[2]-g[0],f=g[3]-g[1]),d.rotate((Math.atan2(-f,-p)+m)%m),d.moveTo(0,0),d.lineTo(-a,w/2),d.lineTo(-a,-w/2),d.closePath(),d.restore(),this.__fillStroke(d))}__fillStroke(d){var m=this.dashEnabled();m&&(this.attrs.dashEnabled=!1,d.setLineDash([])),d.fillStrokeShape(this),m&&(this.attrs.dashEnabled=!0)}getSelfRect(){const d=super.getSelfRect(),m=this.pointerWidth()/2;return{x:d.x-m,y:d.y-m,width:d.width+2*m,height:d.height+2*m}}}F.Arrow=B,B.prototype.className="Arrow",(0,X._registerNode)(B),C.Factory.addGetterSetter(B,"pointerLength",10,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(B,"pointerWidth",10,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(B,"pointerAtBeginning",!1),C.Factory.addGetterSetter(B,"pointerAtEnding",!0)},8144:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Circle=void 0;const C=G(134),Y=G(4147),W=G(674),X=G(9037);class H extends Y.Shape{_sceneFunc(y){y.beginPath(),y.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),y.closePath(),y.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(y){this.radius()!==y/2&&this.radius(y/2)}setHeight(y){this.radius()!==y/2&&this.radius(y/2)}}F.Circle=H,H.prototype._centroid=!0,H.prototype.className="Circle",H.prototype._attrsAffectingSize=["radius"],(0,X._registerNode)(H),C.Factory.addGetterSetter(H,"radius",0,(0,W.getNumberValidator)())},742:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Ellipse=void 0;const C=G(134),Y=G(4147),W=G(674),X=G(9037);class H extends Y.Shape{_sceneFunc(y){var d=this.radiusX(),m=this.radiusY();y.beginPath(),y.save(),d!==m&&y.scale(1,m/d),y.arc(0,0,d,0,2*Math.PI,!1),y.restore(),y.closePath(),y.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(y){this.radiusX(y/2)}setHeight(y){this.radiusY(y/2)}}F.Ellipse=H,H.prototype.className="Ellipse",H.prototype._centroid=!0,H.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,X._registerNode)(H),C.Factory.addComponentsGetterSetter(H,"radius",["x","y"]),C.Factory.addGetterSetter(H,"radiusX",0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(H,"radiusY",0,(0,W.getNumberValidator)())},862:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Image=void 0;const C=G(2121),Y=G(134),W=G(4147),X=G(9037),H=G(674);class B extends W.Shape{constructor(d){super(d),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const d=this.image();d&&d.complete||d&&4===d.readyState||d&&d.addEventListener&&d.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(d){const m=this.getWidth(),g=this.getHeight(),u=this.cornerRadius(),c=this.attrs.image;let a;if(c){const h=this.attrs.cropWidth,p=this.attrs.cropHeight;a=h&&p?[c,this.cropX(),this.cropY(),h,p,0,0,m,g]:[c,0,0,m,g]}(this.hasFill()||this.hasStroke()||u)&&(d.beginPath(),u?C.Util.drawRoundedRectPath(d,m,g,u):d.rect(0,0,m,g),d.closePath(),d.fillStrokeShape(this)),c&&(u&&d.clip(),d.drawImage.apply(d,a))}_hitFunc(d){var m=this.width(),g=this.height(),u=this.cornerRadius();d.beginPath(),u?C.Util.drawRoundedRectPath(d,m,g,u):d.rect(0,0,m,g),d.closePath(),d.fillStrokeShape(this)}getWidth(){var d,m;return null!==(d=this.attrs.width)&&void 0!==d?d:null===(m=this.image())||void 0===m?void 0:m.width}getHeight(){var d,m;return null!==(d=this.attrs.height)&&void 0!==d?d:null===(m=this.image())||void 0===m?void 0:m.height}static fromURL(d,m,g=null){var u=C.Util.createImageElement();u.onload=function(){var c=new B({image:u});m(c)},u.onerror=g,u.crossOrigin="Anonymous",u.src=d}}F.Image=B,B.prototype.className="Image",(0,X._registerNode)(B),Y.Factory.addGetterSetter(B,"cornerRadius",0,(0,H.getNumberOrArrayOfNumbersValidator)(4)),Y.Factory.addGetterSetter(B,"image"),Y.Factory.addComponentsGetterSetter(B,"crop",["x","y","width","height"]),Y.Factory.addGetterSetter(B,"cropX",0,(0,H.getNumberValidator)()),Y.Factory.addGetterSetter(B,"cropY",0,(0,H.getNumberValidator)()),Y.Factory.addGetterSetter(B,"cropWidth",0,(0,H.getNumberValidator)()),Y.Factory.addGetterSetter(B,"cropHeight",0,(0,H.getNumberValidator)())},848:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Tag=F.Label=void 0;const C=G(134),Y=G(4147),W=G(5673),X=G(674),H=G(9037);var B=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],m="up",g="right",u="down",c="left",a=B.length;class h extends W.Group{constructor(v){super(v),this.on("add.konva",function(w){this._addListeners(w.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(v){var b,w=this,x=function(){w._sync()};for(b=0;b<a;b++)v.on(B[b]+"Change.konva",x)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var b,x,D,E,k,L,$,v=this.getText(),w=this.getTag();if(v&&w){switch(b=v.width(),x=v.height(),D=w.pointerDirection(),E=w.pointerWidth(),$=w.pointerHeight(),k=0,L=0,D){case m:k=b/2,L=-1*$;break;case g:k=b+E,L=x/2;break;case u:k=b/2,L=x+$;break;case c:k=-1*E,L=x/2}w.setAttrs({x:-1*k,y:-1*L,width:b,height:x}),v.setAttrs({x:-1*k,y:-1*L})}}}F.Label=h,h.prototype.className="Label",(0,H._registerNode)(h);class p extends Y.Shape{_sceneFunc(v){var w=this.width(),b=this.height(),x=this.pointerDirection(),D=this.pointerWidth(),E=this.pointerHeight(),k=this.cornerRadius();let L=0,$=0,V=0,ne=0;"number"==typeof k?L=$=V=ne=Math.min(k,w/2,b/2):(L=Math.min(k[0]||0,w/2,b/2),$=Math.min(k[1]||0,w/2,b/2),ne=Math.min(k[2]||0,w/2,b/2),V=Math.min(k[3]||0,w/2,b/2)),v.beginPath(),v.moveTo(L,0),x===m&&(v.lineTo((w-D)/2,0),v.lineTo(w/2,-1*E),v.lineTo((w+D)/2,0)),v.lineTo(w-$,0),v.arc(w-$,$,$,3*Math.PI/2,0,!1),x===g&&(v.lineTo(w,(b-E)/2),v.lineTo(w+D,b/2),v.lineTo(w,(b+E)/2)),v.lineTo(w,b-ne),v.arc(w-ne,b-ne,ne,0,Math.PI/2,!1),x===u&&(v.lineTo((w+D)/2,b),v.lineTo(w/2,b+E),v.lineTo((w-D)/2,b)),v.lineTo(V,b),v.arc(V,b-V,V,Math.PI/2,Math.PI,!1),x===c&&(v.lineTo(0,(b+E)/2),v.lineTo(-1*D,b/2),v.lineTo(0,(b-E)/2)),v.lineTo(0,L),v.arc(L,L,L,Math.PI,3*Math.PI/2,!1),v.closePath(),v.fillStrokeShape(this)}getSelfRect(){var v=0,w=0,b=this.pointerWidth(),x=this.pointerHeight(),D=this.pointerDirection(),E=this.width(),k=this.height();return D===m?(w-=x,k+=x):D===u?k+=x:D===c?(v-=1.5*b,E+=b):D===g&&(E+=1.5*b),{x:v,y:w,width:E,height:k}}}F.Tag=p,p.prototype.className="Tag",(0,H._registerNode)(p),C.Factory.addGetterSetter(p,"pointerDirection","none"),C.Factory.addGetterSetter(p,"pointerWidth",0,(0,X.getNumberValidator)()),C.Factory.addGetterSetter(p,"pointerHeight",0,(0,X.getNumberValidator)()),C.Factory.addGetterSetter(p,"cornerRadius",0,(0,X.getNumberOrArrayOfNumbersValidator)(4))},3386:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Line=void 0;const C=G(134),Y=G(4147),W=G(674),X=G(9037);function H(d,m,g,u,c,a,h){var p=Math.sqrt(Math.pow(g-d,2)+Math.pow(u-m,2)),f=Math.sqrt(Math.pow(c-g,2)+Math.pow(a-u,2)),v=h*p/(p+f),w=h*f/(p+f);return[g-v*(c-d),u-v*(a-m),g+w*(c-d),u+w*(a-m)]}function B(d,m){var c,a,g=d.length,u=[];for(c=2;c<g-2;c+=2)a=H(d[c-2],d[c-1],d[c],d[c+1],d[c+2],d[c+3],m),!isNaN(a[0])&&(u.push(a[0]),u.push(a[1]),u.push(d[c]),u.push(d[c+1]),u.push(a[2]),u.push(a[3]));return u}class y extends Y.Shape{constructor(m){super(m),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(m){var p,f,v,g=this.points(),u=g.length,c=this.tension(),a=this.closed(),h=this.bezier();if(u){if(m.beginPath(),m.moveTo(g[0],g[1]),0!==c&&u>4){for(f=(p=this.getTensionPoints()).length,v=a?0:4,a||m.quadraticCurveTo(p[0],p[1],p[2],p[3]);v<f-2;)m.bezierCurveTo(p[v++],p[v++],p[v++],p[v++],p[v++],p[v++]);a||m.quadraticCurveTo(p[f-2],p[f-1],g[u-2],g[u-1])}else if(h)for(v=2;v<u;)m.bezierCurveTo(g[v++],g[v++],g[v++],g[v++],g[v++],g[v++]);else for(v=2;v<u;v+=2)m.lineTo(g[v],g[v+1]);a?(m.closePath(),m.fillStrokeShape(this)):m.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():B(this.points(),this.tension())}_getTensionPointsClosed(){var m=this.points(),g=m.length,u=this.tension(),c=H(m[g-2],m[g-1],m[0],m[1],m[2],m[3],u),a=H(m[g-4],m[g-3],m[g-2],m[g-1],m[0],m[1],u),h=B(m,u);return[c[2],c[3]].concat(h).concat([a[0],a[1],m[g-2],m[g-1],a[2],a[3],c[0],c[1],m[0],m[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var m=this.points();if(m.length<4)return{x:m[0]||0,y:m[1]||0,width:0,height:0};for(var h,p,g=(m=0!==this.tension()?[m[0],m[1],...this._getTensionPoints(),m[m.length-2],m[m.length-1]]:this.points())[0],u=m[0],c=m[1],a=m[1],f=0;f<m.length/2;f++)h=m[2*f],p=m[2*f+1],g=Math.min(g,h),u=Math.max(u,h),c=Math.min(c,p),a=Math.max(a,p);return{x:g,y:c,width:u-g,height:a-c}}}F.Line=y,y.prototype.className="Line",y.prototype._attrsAffectingSize=["points","bezier","tension"],(0,X._registerNode)(y),C.Factory.addGetterSetter(y,"closed",!1),C.Factory.addGetterSetter(y,"bezier",!1),C.Factory.addGetterSetter(y,"tension",0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(y,"points",[],(0,W.getNumberArrayValidator)())},7082:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Path=void 0;const C=G(134),Y=G(4147),W=G(9037),X=G(5438);class H extends Y.Shape{constructor(y){super(y),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=H.parsePathData(this.data()),this.pathLength=H.getPathLength(this.dataArray)}_sceneFunc(y){var d=this.dataArray;y.beginPath();for(var m=!1,g=0;g<d.length;g++){var c=d[g].points;switch(d[g].command){case"L":y.lineTo(c[0],c[1]);break;case"M":y.moveTo(c[0],c[1]);break;case"C":y.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);break;case"Q":y.quadraticCurveTo(c[0],c[1],c[2],c[3]);break;case"A":var a=c[0],h=c[1],p=c[2],f=c[3],v=c[4],w=c[5],b=c[6],x=c[7],D=p>f?p:f,E=p>f?1:p/f,k=p>f?f/p:1;y.translate(a,h),y.rotate(b),y.scale(E,k),y.arc(0,0,D,v,v+w,1-x),y.scale(1/E,1/k),y.rotate(-b),y.translate(-a,-h);break;case"z":m=!0,y.closePath()}}m||this.hasFill()?y.fillStrokeShape(this):y.strokeShape(this)}getSelfRect(){var y=[];this.dataArray.forEach(function(p){if("A"===p.command){var f=p.points[4],v=p.points[5],w=p.points[4]+v,b=Math.PI/180;if(Math.abs(f-w)<b&&(b=Math.abs(f-w)),v<0)for(let x=f-b;x>w;x-=b){const D=H.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],x,0);y.push(D.x,D.y)}else for(let x=f+b;x<w;x+=b){const D=H.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],x,0);y.push(D.x,D.y)}}else if("C"===p.command)for(let x=0;x<=1;x+=.01){const D=H.getPointOnCubicBezier(x,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);y.push(D.x,D.y)}else y=y.concat(p.points)});for(var c,a,d=y[0],m=y[0],g=y[1],u=y[1],h=0;h<y.length/2;h++)c=y[2*h],a=y[2*h+1],isNaN(c)||(d=Math.min(d,c),m=Math.max(m,c)),isNaN(a)||(g=Math.min(g,a),u=Math.max(u,a));return{x:d,y:g,width:m-d,height:u-g}}getLength(){return this.pathLength}getPointAtLength(y){return H.getPointAtLengthOfDataArray(y,this.dataArray)}static getLineLength(y,d,m,g){return Math.sqrt((m-y)*(m-y)+(g-d)*(g-d))}static getPathLength(y){let d=0;for(var m=0;m<y.length;++m)d+=y[m].pathLength;return d}static getPointAtLengthOfDataArray(y,d){var m,g=0,u=d.length;if(!u)return null;for(;g<u&&y>d[g].pathLength;)y-=d[g].pathLength,++g;if(g===u)return{x:(m=d[g-1].points.slice(-2))[0],y:m[1]};if(y<.01)return{x:(m=d[g].points.slice(0,2))[0],y:m[1]};var c=d[g],a=c.points;switch(c.command){case"L":return H.getPointOnLine(y,c.start.x,c.start.y,a[0],a[1]);case"C":return H.getPointOnCubicBezier((0,X.t2length)(y,H.getPathLength(d),D=>(0,X.getCubicArcLength)([c.start.x,a[0],a[2],a[4]],[c.start.y,a[1],a[3],a[5]],D)),c.start.x,c.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return H.getPointOnQuadraticBezier((0,X.t2length)(y,H.getPathLength(d),D=>(0,X.getQuadraticArcLength)([c.start.x,a[0],a[2]],[c.start.y,a[1],a[3]],D)),c.start.x,c.start.y,a[0],a[1],a[2],a[3]);case"A":var w=a[4];return H.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],w+=a[5]*y/c.pathLength,a[6])}return null}static getPointOnLine(y,d,m,g,u,c,a){void 0===c&&(c=d),void 0===a&&(a=m);var h=(u-m)/(g-d+1e-8),p=Math.sqrt(y*y/(1+h*h));g<d&&(p*=-1);var v,f=h*p;if(g===d)v={x:c,y:a+f};else if((a-m)/(c-d+1e-8)===h)v={x:c+p,y:a+f};else{var w,b,x=this.getLineLength(d,m,g,u),D=(c-d)*(g-d)+(a-m)*(u-m),E=this.getLineLength(c,a,w=d+(D/=x*x)*(g-d),b=m+D*(u-m)),k=Math.sqrt(y*y-E*E);p=Math.sqrt(k*k/(1+h*h)),g<d&&(p*=-1),v={x:w+p,y:b+(f=h*p)}}return v}static getPointOnCubicBezier(y,d,m,g,u,c,a,h,p){function f(E){return E*E*E}function v(E){return 3*E*E*(1-E)}function w(E){return 3*E*(1-E)*(1-E)}function b(E){return(1-E)*(1-E)*(1-E)}return{x:h*f(y)+c*v(y)+g*w(y)+d*b(y),y:p*f(y)+a*v(y)+u*w(y)+m*b(y)}}static getPointOnQuadraticBezier(y,d,m,g,u,c,a){function h(b){return b*b}function p(b){return 2*b*(1-b)}function f(b){return(1-b)*(1-b)}return{x:c*h(y)+g*p(y)+d*f(y),y:a*h(y)+u*p(y)+m*f(y)}}static getPointOnEllipticalArc(y,d,m,g,u,c){var a=Math.cos(c),h=Math.sin(c),p_x=m*Math.cos(u),p_y=g*Math.sin(u);return{x:y+(p_x*a-p_y*h),y:d+(p_x*h+p_y*a)}}static parsePathData(y){if(!y)return[];var d=y,m=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];d=d.replace(new RegExp(" ","g"),",");for(var g=0;g<m.length;g++)d=d.replace(new RegExp(m[g],"g"),"|"+m[g]);var v,u=d.split("|"),c=[],a=[],h=0,p=0,f=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(g=1;g<u.length;g++){var w=u[g],b=w.charAt(0);for(w=w.slice(1),a.length=0;v=f.exec(w);)a.push(v[0]);for(var x=[],D=0,E=a.length;D<E;D++)if("00"!==a[D]){var k=parseFloat(a[D]);isNaN(k)?x.push(0):x.push(k)}else x.push(0,0);for(;x.length>0&&!isNaN(x[0]);){var ie,se,de,P,J,te,fe,R,Q,K,L="",$=[],V=h,ne=p;switch(b){case"l":h+=x.shift(),p+=x.shift(),L="L",$.push(h,p);break;case"L":h=x.shift(),p=x.shift(),$.push(h,p);break;case"m":var q=x.shift(),ye=x.shift();if(h+=q,p+=ye,L="M",c.length>2&&"z"===c[c.length-1].command)for(var oe=c.length-2;oe>=0;oe--)if("M"===c[oe].command){h=c[oe].points[0]+q,p=c[oe].points[1]+ye;break}$.push(h,p),b="l";break;case"M":h=x.shift(),p=x.shift(),L="M",$.push(h,p),b="L";break;case"h":h+=x.shift(),L="L",$.push(h,p);break;case"H":h=x.shift(),L="L",$.push(h,p);break;case"v":p+=x.shift(),L="L",$.push(h,p);break;case"V":p=x.shift(),L="L",$.push(h,p);break;case"C":$.push(x.shift(),x.shift(),x.shift(),x.shift()),h=x.shift(),p=x.shift(),$.push(h,p);break;case"c":$.push(h+x.shift(),p+x.shift(),h+x.shift(),p+x.shift()),h+=x.shift(),p+=x.shift(),L="C",$.push(h,p);break;case"S":se=h,de=p,"C"===(ie=c[c.length-1]).command&&(se=h+(h-ie.points[2]),de=p+(p-ie.points[3])),$.push(se,de,x.shift(),x.shift()),h=x.shift(),p=x.shift(),L="C",$.push(h,p);break;case"s":se=h,de=p,"C"===(ie=c[c.length-1]).command&&(se=h+(h-ie.points[2]),de=p+(p-ie.points[3])),$.push(se,de,h+x.shift(),p+x.shift()),h+=x.shift(),p+=x.shift(),L="C",$.push(h,p);break;case"Q":$.push(x.shift(),x.shift()),h=x.shift(),p=x.shift(),$.push(h,p);break;case"q":$.push(h+x.shift(),p+x.shift()),h+=x.shift(),p+=x.shift(),L="Q",$.push(h,p);break;case"T":se=h,de=p,"Q"===(ie=c[c.length-1]).command&&(se=h+(h-ie.points[0]),de=p+(p-ie.points[1])),h=x.shift(),p=x.shift(),L="Q",$.push(se,de,h,p);break;case"t":se=h,de=p,"Q"===(ie=c[c.length-1]).command&&(se=h+(h-ie.points[0]),de=p+(p-ie.points[1])),h+=x.shift(),p+=x.shift(),L="Q",$.push(se,de,h,p);break;case"A":P=x.shift(),J=x.shift(),te=x.shift(),fe=x.shift(),R=x.shift(),Q=h,K=p,h=x.shift(),p=x.shift(),L="A",$=this.convertEndpointToCenterParameterization(Q,K,h,p,fe,R,P,J,te);break;case"a":P=x.shift(),J=x.shift(),te=x.shift(),fe=x.shift(),R=x.shift(),Q=h,K=p,h+=x.shift(),p+=x.shift(),L="A",$=this.convertEndpointToCenterParameterization(Q,K,h,p,fe,R,P,J,te)}c.push({command:L||b,points:$,start:{x:V,y:ne},pathLength:this.calcLength(V,ne,L||b,$)})}("z"===b||"Z"===b)&&c.push({command:"z",points:[],start:void 0,pathLength:0})}return c}static calcLength(y,d,m,g){var u,c,a,h,p=H;switch(m){case"L":return p.getLineLength(y,d,g[0],g[1]);case"C":return(0,X.getCubicArcLength)([y,g[0],g[2],g[4]],[d,g[1],g[3],g[5]],1);case"Q":return(0,X.getQuadraticArcLength)([y,g[0],g[2]],[d,g[1],g[3]],1);case"A":u=0;var f=g[4],v=g[5],w=g[4]+v,b=Math.PI/180;if(Math.abs(f-w)<b&&(b=Math.abs(f-w)),c=p.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],f,0),v<0)for(h=f-b;h>w;h-=b)a=p.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],h,0),u+=p.getLineLength(c.x,c.y,a.x,a.y),c=a;else for(h=f+b;h<w;h+=b)a=p.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],h,0),u+=p.getLineLength(c.x,c.y,a.x,a.y),c=a;return a=p.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],w,0),u+p.getLineLength(c.x,c.y,a.x,a.y)}return 0}static convertEndpointToCenterParameterization(y,d,m,g,u,c,a,h,p){var f=p*(Math.PI/180),v=Math.cos(f)*(y-m)/2+Math.sin(f)*(d-g)/2,w=-1*Math.sin(f)*(y-m)/2+Math.cos(f)*(d-g)/2,b=v*v/(a*a)+w*w/(h*h);b>1&&(a*=Math.sqrt(b),h*=Math.sqrt(b));var x=Math.sqrt((a*a*(h*h)-a*a*(w*w)-h*h*(v*v))/(a*a*(w*w)+h*h*(v*v)));u===c&&(x*=-1),isNaN(x)&&(x=0);var D=x*a*w/h,E=x*-h*v/a,k=(y+m)/2+Math.cos(f)*D-Math.sin(f)*E,L=(d+g)/2+Math.sin(f)*D+Math.cos(f)*E,$=function(J){return Math.sqrt(J[0]*J[0]+J[1]*J[1])},V=function(J,te){return(J[0]*te[0]+J[1]*te[1])/($(J)*$(te))},ne=function(J,te){return(J[0]*te[1]<J[1]*te[0]?-1:1)*Math.acos(V(J,te))},ie=ne([1,0],[(v-D)/a,(w-E)/h]),se=[(v-D)/a,(w-E)/h],de=[(-1*v-D)/a,(-1*w-E)/h],P=ne(se,de);return V(se,de)<=-1&&(P=Math.PI),V(se,de)>=1&&(P=0),0===c&&P>0&&(P-=2*Math.PI),1===c&&P<0&&(P+=2*Math.PI),[k,L,a,h,ie,P,f,c]}}F.Path=H,H.prototype.className="Path",H.prototype._attrsAffectingSize=["data"],(0,W._registerNode)(H),C.Factory.addGetterSetter(H,"data")},6056:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Rect=void 0;const C=G(134),Y=G(4147),W=G(9037),X=G(2121),H=G(674);class B extends Y.Shape{_sceneFunc(d){var m=this.cornerRadius(),g=this.width(),u=this.height();d.beginPath(),m?X.Util.drawRoundedRectPath(d,g,u,m):d.rect(0,0,g,u),d.closePath(),d.fillStrokeShape(this)}}F.Rect=B,B.prototype.className="Rect",(0,W._registerNode)(B),C.Factory.addGetterSetter(B,"cornerRadius",0,(0,H.getNumberOrArrayOfNumbersValidator)(4))},7856:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.RegularPolygon=void 0;const C=G(134),Y=G(4147),W=G(674),X=G(9037);class H extends Y.Shape{_sceneFunc(y){const d=this._getPoints();y.beginPath(),y.moveTo(d[0].x,d[0].y);for(var m=1;m<d.length;m++)y.lineTo(d[m].x,d[m].y);y.closePath(),y.fillStrokeShape(this)}_getPoints(){const y=this.attrs.sides,d=this.attrs.radius||0,m=[];for(var g=0;g<y;g++)m.push({x:d*Math.sin(2*g*Math.PI/y),y:-1*d*Math.cos(2*g*Math.PI/y)});return m}getSelfRect(){const y=this._getPoints();var d=y[0].x,m=y[0].y,g=y[0].x,u=y[0].y;return y.forEach(c=>{d=Math.min(d,c.x),m=Math.max(m,c.x),g=Math.min(g,c.y),u=Math.max(u,c.y)}),{x:d,y:g,width:m-d,height:u-g}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(y){this.radius(y/2)}setHeight(y){this.radius(y/2)}}F.RegularPolygon=H,H.prototype.className="RegularPolygon",H.prototype._centroid=!0,H.prototype._attrsAffectingSize=["radius"],(0,X._registerNode)(H),C.Factory.addGetterSetter(H,"radius",0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(H,"sides",0,(0,W.getNumberValidator)())},6455:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Ring=void 0;const C=G(134),Y=G(4147),W=G(674),X=G(9037);var H=2*Math.PI;class B extends Y.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.innerRadius(),0,H,!1),d.moveTo(this.outerRadius(),0),d.arc(0,0,this.outerRadius(),H,0,!0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}}F.Ring=B,B.prototype.className="Ring",B.prototype._centroid=!0,B.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,X._registerNode)(B),C.Factory.addGetterSetter(B,"innerRadius",0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(B,"outerRadius",0,(0,W.getNumberValidator)())},523:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Sprite=void 0;const C=G(134),Y=G(4147),W=G(1771),X=G(674),H=G(9037);class B extends Y.Shape{constructor(d){super(d),this._updated=!0,this.anim=new W.Animation(()=>{var m=this._updated;return this._updated=!1,m}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(d){var m=this.animation(),g=this.frameIndex(),u=4*g,c=this.animations()[m],a=this.frameOffsets(),h=c[u+0],p=c[u+1],f=c[u+2],v=c[u+3],w=this.image();if((this.hasFill()||this.hasStroke())&&(d.beginPath(),d.rect(0,0,f,v),d.closePath(),d.fillStrokeShape(this)),w)if(a){var b=a[m],x=2*g;d.drawImage(w,h,p,f,v,b[x+0],b[x+1],f,v)}else d.drawImage(w,h,p,f,v,0,0,f,v)}_hitFunc(d){var m=this.animation(),g=this.frameIndex(),u=4*g,c=this.animations()[m],a=this.frameOffsets(),h=c[u+2],p=c[u+3];if(d.beginPath(),a){var f=a[m],v=2*g;d.rect(f[v+0],f[v+1],h,p)}else d.rect(0,0,h,p);d.closePath(),d.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var d=this;this.interval=setInterval(function(){d._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var d=this.getLayer();this.anim.setLayers(d),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var d=this.frameIndex(),m=this.animation(),g=this.animations();this.frameIndex(d<g[m].length/4-1?d+1:0)}}F.Sprite=B,B.prototype.className="Sprite",(0,H._registerNode)(B),C.Factory.addGetterSetter(B,"animation"),C.Factory.addGetterSetter(B,"animations"),C.Factory.addGetterSetter(B,"frameOffsets"),C.Factory.addGetterSetter(B,"image"),C.Factory.addGetterSetter(B,"frameIndex",0,(0,X.getNumberValidator)()),C.Factory.addGetterSetter(B,"frameRate",17,(0,X.getNumberValidator)()),C.Factory.backCompat(B,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},7813:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Star=void 0;const C=G(134),Y=G(4147),W=G(674),X=G(9037);class H extends Y.Shape{_sceneFunc(y){var d=this.innerRadius(),m=this.outerRadius(),g=this.numPoints();y.beginPath(),y.moveTo(0,0-m);for(var u=1;u<2*g;u++){var c=u%2==0?m:d,a=c*Math.sin(u*Math.PI/g),h=-1*c*Math.cos(u*Math.PI/g);y.lineTo(a,h)}y.closePath(),y.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(y){this.outerRadius(y/2)}setHeight(y){this.outerRadius(y/2)}}F.Star=H,H.prototype.className="Star",H.prototype._centroid=!0,H.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,X._registerNode)(H),C.Factory.addGetterSetter(H,"numPoints",5,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(H,"innerRadius",0,(0,W.getNumberValidator)()),C.Factory.addGetterSetter(H,"outerRadius",0,(0,W.getNumberValidator)())},6154:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Text=F.stringToArray=void 0;const C=G(2121),Y=G(134),W=G(4147),X=G(674),H=G(9037);function B(Q){return Array.from(Q)}F.stringToArray=B;var de,y="auto",m="justify",u="2d",a="left",w="middle",b="normal",D=" ",$="none",ne=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],ie=ne.length;function P(){return de||(de=C.Util.createCanvasElement().getContext(u))}class R extends W.Shape{constructor(K){super(function fe(Q){return!(Q=Q||{}).fillLinearGradientColorStops&&!Q.fillRadialGradientColorStops&&!Q.fillPatternImage&&(Q.fill=Q.fill||"black"),Q}(K)),this._partialTextX=0,this._partialTextY=0;for(var q=0;q<ie;q++)this.on(ne[q]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(K){var q=this.textArr,ye=q.length;if(this.text()){var me,oe=this.padding(),Z=this.fontSize(),ge=this.lineHeight()*Z,re=this.verticalAlign(),ue=0,_e=this.align(),Se=this.getWidth(),ke=this.letterSpacing(),je=this.fill(),Me=this.textDecoration(),Te=-1!==Me.indexOf("underline"),Fe=-1!==Me.indexOf("line-through"),le=0,ve=(le=ge/2,0),xe=0;for(K.setAttr("font",this._getContextFont()),K.setAttr("textBaseline",w),K.setAttr("textAlign",a),re===w?ue=(this.getHeight()-ye*ge-2*oe)/2:"bottom"===re&&(ue=this.getHeight()-ye*ge-2*oe),K.translate(oe,ue+oe),me=0;me<ye;me++){ve=0,xe=0;var qe,ft,Ft,Ne=q[me],Be=Ne.text,Re=Ne.width,Ke=Ne.lastInParagraph;if(K.save(),"right"===_e?ve+=Se-Re-2*oe:"center"===_e&&(ve+=(Se-Re-2*oe)/2),Te){K.save(),K.beginPath(),K.moveTo(ve,le+xe+Math.round(Z/2)),ft=0==(qe=Be.split(" ").length-1),Ft=_e!==m||Ke?Re:Se-2*oe,K.lineTo(ve+Math.round(Ft),le+xe+Math.round(Z/2)),K.lineWidth=Z/15;const $t=this._getLinearGradient();K.strokeStyle=$t||je,K.stroke(),K.restore()}if(Fe){K.save(),K.beginPath(),K.moveTo(ve,le+xe),ft=0==(qe=Be.split(" ").length-1),Ft=_e===m&&Ke&&!ft?Se-2*oe:Re,K.lineTo(ve+Math.round(Ft),le+xe),K.lineWidth=Z/15;const $t=this._getLinearGradient();K.strokeStyle=$t||je,K.stroke(),K.restore()}if(0!==ke||_e===m){qe=Be.split(" ").length-1;for(var kt=B(Be),hi=0;hi<kt.length;hi++){var Nt=kt[hi];" "===Nt&&!Ke&&_e===m&&(ve+=(Se-2*oe-Re)/qe),this._partialTextX=ve,this._partialTextY=le+xe,this._partialText=Nt,K.fillStrokeShape(this),ve+=this.measureSize(Nt).width+ke}}else this._partialTextX=ve,this._partialTextY=le+xe,this._partialText=Be,K.fillStrokeShape(this);K.restore(),ye>1&&(le+=ge)}}}_hitFunc(K){var q=this.getWidth(),ye=this.getHeight();K.beginPath(),K.rect(0,0,q,ye),K.closePath(),K.fillStrokeShape(this)}setText(K){var q=C.Util._isString(K)?K:null==K?"":K+"";return this._setAttr("text",q),this}getWidth(){return this.attrs.width===y||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===y||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return C.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(K){var oe,q=P(),ye=this.fontSize();return q.save(),q.font=this._getContextFont(),oe=q.measureText(K),q.restore(),{width:oe.width,height:ye}}_getContextFont(){return this.fontStyle()+D+this.fontVariant()+D+(this.fontSize()+"px ")+function se(Q){return Q.split(",").map(K=>{const q=(K=K.trim()).indexOf(" ")>=0,ye=K.indexOf('"')>=0||K.indexOf("'")>=0;return q&&!ye&&(K=`"${K}"`),K}).join(", ")}(this.fontFamily())}_addTextLine(K){this.align()===m&&(K=K.trim());var ye=this._getTextWidth(K);return this.textArr.push({text:K,width:ye,lastInParagraph:!1})}_getTextWidth(K){var q=this.letterSpacing(),ye=K.length;return P().measureText(K).width+(ye?q*(ye-1):0)}_setTextData(){var K=this.text().split("\n"),q=+this.fontSize(),ye=0,oe=this.lineHeight()*q,Z=this.attrs.width,ge=this.attrs.height,re=Z!==y&&void 0!==Z,ue=ge!==y&&void 0!==ge,_e=this.padding(),Se=Z-2*_e,ke=ge-2*_e,je=0,Me=this.wrap(),Fe="char"!==Me&&Me!==$,me=this.ellipsis();this.textArr=[],P().font=this._getContextFont();for(var le=me?this._getTextWidth("\u2026"):0,ve=0,xe=K.length;ve<xe;++ve){var Ne=K[ve],Be=this._getTextWidth(Ne);if(re&&Be>Se)for(;Ne.length>0;){for(var Re=0,Ke=Ne.length,qe="",ft=0;Re<Ke;){var Ft=Re+Ke>>>1,kt=Ne.slice(0,Ft+1),hi=this._getTextWidth(kt)+le;hi<=Se?(Re=Ft+1,qe=kt,ft=hi):Ke=Ft}if(!qe)break;if(Fe){var Nt,Ti=Ne[qe.length];(Nt=(Ti===D||"-"===Ti)&&ft<=Se?qe.length:Math.max(qe.lastIndexOf(D),qe.lastIndexOf("-"))+1)>0&&(qe=qe.slice(0,Re=Nt),ft=this._getTextWidth(qe))}if(qe=qe.trimRight(),this._addTextLine(qe),ye=Math.max(ye,ft),this._shouldHandleEllipsis(je+=oe)){this._tryToAddEllipsisToLastLine();break}if((Ne=(Ne=Ne.slice(Re)).trimLeft()).length>0&&(Be=this._getTextWidth(Ne))<=Se){this._addTextLine(Ne),je+=oe,ye=Math.max(ye,Be);break}}else this._addTextLine(Ne),je+=oe,ye=Math.max(ye,Be),this._shouldHandleEllipsis(je)&&ve<xe-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ue&&je+oe>ke)break}this.textHeight=q,this.textWidth=ye}_shouldHandleEllipsis(K){var q=+this.fontSize(),ye=this.lineHeight()*q,oe=this.attrs.height,Z=oe!==y&&void 0!==oe,re=oe-2*this.padding();return!(this.wrap()!==$)||Z&&K+ye>re}_tryToAddEllipsisToLastLine(){var K=this.attrs.width,q=K!==y&&void 0!==K,oe=K-2*this.padding(),Z=this.ellipsis(),ge=this.textArr[this.textArr.length-1];ge&&Z&&(q&&(this._getTextWidth(ge.text+"\u2026")<oe||(ge.text=ge.text.slice(0,ge.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ge.text+"\u2026"))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const K=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),q=this.hasShadow();return!(!K||!q)||super._useBufferCanvas()}}F.Text=R,R.prototype._fillFunc=function J(Q){Q.fillText(this._partialText,this._partialTextX,this._partialTextY)},R.prototype._strokeFunc=function te(Q){Q.setAttr("miterLimit",2),Q.strokeText(this._partialText,this._partialTextX,this._partialTextY)},R.prototype.className="Text",R.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,H._registerNode)(R),Y.Factory.overWriteSetter(R,"width",(0,X.getNumberOrAutoValidator)()),Y.Factory.overWriteSetter(R,"height",(0,X.getNumberOrAutoValidator)()),Y.Factory.addGetterSetter(R,"fontFamily","Arial"),Y.Factory.addGetterSetter(R,"fontSize",12,(0,X.getNumberValidator)()),Y.Factory.addGetterSetter(R,"fontStyle",b),Y.Factory.addGetterSetter(R,"fontVariant",b),Y.Factory.addGetterSetter(R,"padding",0,(0,X.getNumberValidator)()),Y.Factory.addGetterSetter(R,"align",a),Y.Factory.addGetterSetter(R,"verticalAlign","top"),Y.Factory.addGetterSetter(R,"lineHeight",1,(0,X.getNumberValidator)()),Y.Factory.addGetterSetter(R,"wrap","word"),Y.Factory.addGetterSetter(R,"ellipsis",!1,(0,X.getBooleanValidator)()),Y.Factory.addGetterSetter(R,"letterSpacing",0,(0,X.getNumberValidator)()),Y.Factory.addGetterSetter(R,"text","",(0,X.getStringValidator)()),Y.Factory.addGetterSetter(R,"textDecoration","")},7626:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.TextPath=void 0;const C=G(2121),Y=G(134),W=G(4147),X=G(7082),H=G(6154),B=G(674),y=G(9037);var m="normal";function g(a){a.fillText(this.partialText,0,0)}function u(a){a.strokeText(this.partialText,0,0)}class c extends W.Shape{constructor(h){super(h),this.dummyCanvas=C.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return X.Path.getPathLength(this.dataArray)}_getPointAtLength(h){return this.attrs.data?h-1>this.pathLength?null:X.Path.getPointAtLengthOfDataArray(h,this.dataArray):null}_readDataAttribute(){this.dataArray=X.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(h){h.setAttr("font",this._getContextFont()),h.setAttr("textBaseline",this.textBaseline()),h.setAttr("textAlign","left"),h.save();var p=this.textDecoration(),f=this.fill(),v=this.fontSize(),w=this.glyphInfo;"underline"===p&&h.beginPath();for(var b=0;b<w.length;b++){h.save();var x=w[b].p0;h.translate(x.x,x.y),h.rotate(w[b].rotation),this.partialText=w[b].text,h.fillStrokeShape(this),"underline"===p&&(0===b&&h.moveTo(0,v/2+1),h.lineTo(v,v/2+1)),h.restore()}"underline"===p&&(h.strokeStyle=f,h.lineWidth=v/20,h.stroke()),h.restore()}_hitFunc(h){h.beginPath();var p=this.glyphInfo;if(p.length>=1){var f=p[0].p0;h.moveTo(f.x,f.y)}for(var v=0;v<p.length;v++){var w=p[v].p1;h.lineTo(w.x,w.y)}h.setAttr("lineWidth",this.fontSize()),h.setAttr("strokeStyle",this.colorKey),h.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return C.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(h){return H.Text.prototype.setText.call(this,h)}_getContextFont(){return H.Text.prototype._getContextFont.call(this)}_getTextSize(h){var f=this.dummyCanvas.getContext("2d");f.save(),f.font=this._getContextFont();var v=f.measureText(h);return f.restore(),{width:v.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:h,height:p}=this._getTextSize(this.attrs.text);if(this.textWidth=h,this.textHeight=p,this.glyphInfo=[],!this.attrs.data)return null;const f=this.letterSpacing(),v=this.align(),w=this.kerningFunc(),b=Math.max(this.textWidth+((this.attrs.text||"").length-1)*f,0);let x=0;"center"===v&&(x=Math.max(0,this.pathLength/2-b/2)),"right"===v&&(x=Math.max(0,this.pathLength-b));const D=(0,H.stringToArray)(this.text());let E=x;for(var k=0;k<D.length;k++){const L=this._getPointAtLength(E);if(!L)return;let $=this._getTextSize(D[k]).width+f;if(" "===D[k]&&"justify"===v){const P=this.text().split(" ").length-1;$+=(this.pathLength-b)/P}const V=this._getPointAtLength(E+$);if(!V)return;const ne=X.Path.getLineLength(L.x,L.y,V.x,V.y);let ie=0;if(w)try{ie=w(D[k-1],D[k])*this.fontSize()}catch{ie=0}L.x+=ie,V.x+=ie,this.textWidth+=ie;const se=X.Path.getPointOnLine(ie+ne/2,L.x,L.y,V.x,V.y),de=Math.atan2(V.y-L.y,V.x-L.x);this.glyphInfo.push({transposeX:se.x,transposeY:se.y,text:D[k],rotation:de,p0:L,p1:V}),E+=$}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var h=[];this.glyphInfo.forEach(function(k){h.push(k.p0.x),h.push(k.p0.y),h.push(k.p1.x),h.push(k.p1.y)});for(var b,x,p=h[0]||0,f=h[0]||0,v=h[1]||0,w=h[1]||0,D=0;D<h.length/2;D++)b=h[2*D],x=h[2*D+1],p=Math.min(p,b),f=Math.max(f,b),v=Math.min(v,x),w=Math.max(w,x);var E=this.fontSize();return{x:p-E/2,y:v-E/2,width:f-p+E,height:w-v+E}}destroy(){return C.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}F.TextPath=c,c.prototype._fillFunc=g,c.prototype._strokeFunc=u,c.prototype._fillFuncHit=g,c.prototype._strokeFuncHit=u,c.prototype.className="TextPath",c.prototype._attrsAffectingSize=["text","fontSize","data"],(0,y._registerNode)(c),Y.Factory.addGetterSetter(c,"data"),Y.Factory.addGetterSetter(c,"fontFamily","Arial"),Y.Factory.addGetterSetter(c,"fontSize",12,(0,B.getNumberValidator)()),Y.Factory.addGetterSetter(c,"fontStyle",m),Y.Factory.addGetterSetter(c,"align","left"),Y.Factory.addGetterSetter(c,"letterSpacing",0,(0,B.getNumberValidator)()),Y.Factory.addGetterSetter(c,"textBaseline","middle"),Y.Factory.addGetterSetter(c,"fontVariant",m),Y.Factory.addGetterSetter(c,"text",""),Y.Factory.addGetterSetter(c,"textDecoration",null),Y.Factory.addGetterSetter(c,"kerningFunc",null)},2348:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Transformer=void 0;const C=G(2121),Y=G(134),W=G(338),X=G(4147),H=G(6056),B=G(5673),y=G(9037),d=G(674),m=G(9037);var g="tr-konva",u=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map($=>$+`.${g}`).join(" "),c="nodesRect",a=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],h={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const p="ontouchstart"in y.Konva._global;var v=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],w=1e8;function x($,V,ne){const ie=ne.x+($.x-ne.x)*Math.cos(V)-($.y-ne.y)*Math.sin(V),se=ne.y+($.x-ne.x)*Math.sin(V)+($.y-ne.y)*Math.cos(V);return{...$,rotation:$.rotation+V,x:ie,y:se}}class k extends B.Group{constructor(V){super(V),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(u,this.update),this.getNode()&&this.update()}attachTo(V){return this.setNode(V),this}setNode(V){return C.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([V])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return g+this._id}setNodes(V=[]){this._nodes&&this._nodes.length&&this.detach();const ne=V.filter(se=>!se.isAncestorOf(this)||(C.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=V=ne,1===V.length&&this.useSingleNodeRotation()?this.rotation(V[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(se=>{const de=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},P=se._attrsAffectingSize.map(J=>J+"Change."+this._getEventNamespace()).join(" ");se.on(P,de),se.on(a.map(J=>J+`.${this._getEventNamespace()}`).join(" "),de),se.on(`absoluteTransformChange.${this._getEventNamespace()}`,de),this._proxyDrag(se)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(V){let ne;V.on(`dragstart.${this._getEventNamespace()}`,ie=>{ne=V.getAbsolutePosition(),!this.isDragging()&&V!==this.findOne(".back")&&this.startDrag(ie,!1)}),V.on(`dragmove.${this._getEventNamespace()}`,ie=>{if(!ne)return;const se=V.getAbsolutePosition(),de=se.x-ne.x,P=se.y-ne.y;this.nodes().forEach(J=>{if(J===V||J.isDragging())return;const te=J.getAbsolutePosition();J.setAbsolutePosition({x:te.x+de,y:te.y+P}),J.startDrag(ie)}),ne=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(V=>{V.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(c),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(c,this.__getNodeRect)}__getNodeShape(V,ne=this.rotation(),ie){var se=V.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),de=V.getAbsoluteScale(ie),P=V.getAbsolutePosition(ie),J=se.x*de.x-V.offsetX()*de.x,te=se.y*de.y-V.offsetY()*de.y;const fe=(y.Konva.getAngle(V.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return x({x:P.x+J*Math.cos(fe)+te*Math.sin(-fe),y:P.y+te*Math.cos(fe)+J*Math.sin(fe),width:se.width*de.x,height:se.height*de.y,rotation:fe},-y.Konva.getAngle(ne),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-w,y:-w,width:0,height:0,rotation:0};const ne=[];this.nodes().map(fe=>{const R=fe.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var Q=[{x:R.x,y:R.y},{x:R.x+R.width,y:R.y},{x:R.x+R.width,y:R.y+R.height},{x:R.x,y:R.y+R.height}],K=fe.getAbsoluteTransform();Q.forEach(function(q){var ye=K.point(q);ne.push(ye)})});const ie=new C.Transform;ie.rotate(-y.Konva.getAngle(this.rotation()));var se=1/0,de=1/0,P=-1/0,J=-1/0;ne.forEach(function(fe){var R=ie.point(fe);void 0===se&&(se=P=R.x,de=J=R.y),se=Math.min(se,R.x),de=Math.min(de,R.y),P=Math.max(P,R.x),J=Math.max(J,R.y)}),ie.invert();const te=ie.point({x:se,y:de});return{x:te.x,y:te.y,width:P-se,height:J-de,rotation:y.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),v.forEach(V=>{this._createAnchor(V)}),this._createAnchor("rotater")}_createAnchor(V){var ne=new H.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:V+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:p?10:"auto"}),ie=this;ne.on("mousedown touchstart",function(se){ie._handleMouseDown(se)}),ne.on("dragstart",se=>{ne.stopDrag(),se.cancelBubble=!0}),ne.on("dragend",se=>{se.cancelBubble=!0}),ne.on("mouseenter",()=>{var se=y.Konva.getAngle(this.rotation()),de=this.rotateAnchorCursor(),P=function f($,V,ne){if("rotater"===$)return ne;V+=C.Util.degToRad(h[$]||0);var ie=(C.Util.radToDeg(V)%360+360)%360;return C.Util._inRange(ie,337.5,360)||C.Util._inRange(ie,0,22.5)?"ns-resize":C.Util._inRange(ie,22.5,67.5)?"nesw-resize":C.Util._inRange(ie,67.5,112.5)?"ew-resize":C.Util._inRange(ie,112.5,157.5)?"nwse-resize":C.Util._inRange(ie,157.5,202.5)?"ns-resize":C.Util._inRange(ie,202.5,247.5)?"nesw-resize":C.Util._inRange(ie,247.5,292.5)?"ew-resize":C.Util._inRange(ie,292.5,337.5)?"nwse-resize":(C.Util.error("Transformer has unknown angle for cursor detection: "+ie),"pointer")}(V,se,de);ne.getStage().content&&(ne.getStage().content.style.cursor=P),this._cursorChange=!0}),ne.on("mouseout",()=>{ne.getStage().content&&(ne.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(ne)}_createBack(){var V=new X.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(ne,ie){var se=ie.getParent(),de=se.padding();ne.beginPath(),ne.rect(-de,-de,ie.width()+2*de,ie.height()+2*de),ne.moveTo(ie.width()/2,-de),se.rotateEnabled()&&ne.lineTo(ie.width()/2,-se.rotateAnchorOffset()*C.Util._sign(ie.height())-de),ne.fillStrokeShape(ie)},hitFunc:(ne,ie)=>{if(this.shouldOverdrawWholeArea()){var se=this.padding();ne.beginPath(),ne.rect(-se,-se,ie.width()+2*se,ie.height()+2*se),ne.fillStrokeShape(ie)}}});this.add(V),this._proxyDrag(V),V.on("dragstart",ne=>{ne.cancelBubble=!0}),V.on("dragmove",ne=>{ne.cancelBubble=!0}),V.on("dragend",ne=>{ne.cancelBubble=!0}),this.on("dragmove",ne=>{this.update()})}_handleMouseDown(V){this._movingAnchorName=V.target.name().split(" ")[0];var ne=this._getNodeRect(),ie=ne.width,se=ne.height,de=Math.sqrt(Math.pow(ie,2)+Math.pow(se,2));this.sin=Math.abs(se/de),this.cos=Math.abs(ie/de),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var P=V.target.getAbsolutePosition(),J=V.target.getStage().getPointerPosition();this._anchorDragOffset={x:J.x-P.x,y:J.y-P.y},this._fire("transformstart",{evt:V.evt,target:this.getNode()}),this._nodes.forEach(te=>{te._fire("transformstart",{evt:V.evt,target:te})})}_handleMouseMove(V){var ne,ie,se,de=this.findOne("."+this._movingAnchorName),P=de.getStage();P.setPointersPositions(V);const J=P.getPointerPosition();let te={x:J.x-this._anchorDragOffset.x,y:J.y-this._anchorDragOffset.y};const fe=de.getAbsolutePosition();this.anchorDragBoundFunc()&&(te=this.anchorDragBoundFunc()(fe,te,V)),de.setAbsolutePosition(te);const R=de.getAbsolutePosition();if(fe.x!==R.x||fe.y!==R.y){if("rotater"===this._movingAnchorName){var Q=this._getNodeRect();ne=de.x()-Q.width/2,ie=-de.y()+Q.height/2;let ve=Math.atan2(-ie,ne)+Math.PI/2;Q.height<0&&(ve-=Math.PI);const xe=y.Konva.getAngle(this.rotation())+ve,Ne=y.Konva.getAngle(this.rotationSnapTolerance()),Re=function E($,V,ne){let ie=V;for(let se=0;se<$.length;se++){const de=y.Konva.getAngle($[se]),P=Math.abs(de-V)%(2*Math.PI);Math.min(P,2*Math.PI-P)<ne&&(ie=de)}return ie}(this.rotationSnaps(),xe,Ne)-Q.rotation,Ke=function D($,V){const ne=function b($){return{x:$.x+$.width/2*Math.cos($.rotation)+$.height/2*Math.sin(-$.rotation),y:$.y+$.height/2*Math.cos($.rotation)+$.width/2*Math.sin($.rotation)}}($);return x($,V,ne)}(Q,Re);return void this._fitNodesInto(Ke,V)}var ye,q=this.shiftBehavior();ye="inverted"===q?this.keepRatio()&&!V.shiftKey:"none"===q?this.keepRatio():this.keepRatio()||V.shiftKey;var ue=this.centeredScaling()||V.altKey;if("top-left"===this._movingAnchorName){if(ye){var oe=ue?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};se=Math.sqrt(Math.pow(oe.x-de.x(),2)+Math.pow(oe.y-de.y(),2));var Z=this.findOne(".top-left").x()>oe.x?-1:1,ge=this.findOne(".top-left").y()>oe.y?-1:1;ne=se*this.cos*Z,ie=se*this.sin*ge,this.findOne(".top-left").x(oe.x-ne),this.findOne(".top-left").y(oe.y-ie)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(de.y());else if("top-right"===this._movingAnchorName){ye&&(oe=ue?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},se=Math.sqrt(Math.pow(de.x()-oe.x,2)+Math.pow(oe.y-de.y(),2)),Z=this.findOne(".top-right").x()<oe.x?-1:1,ge=this.findOne(".top-right").y()>oe.y?-1:1,ne=se*this.cos*Z,ie=se*this.sin*ge,this.findOne(".top-right").x(oe.x+ne),this.findOne(".top-right").y(oe.y-ie));var re=de.position();this.findOne(".top-left").y(re.y),this.findOne(".bottom-right").x(re.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(de.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(de.x()):"bottom-left"===this._movingAnchorName?(ye&&(oe=ue?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},se=Math.sqrt(Math.pow(oe.x-de.x(),2)+Math.pow(de.y()-oe.y,2)),Z=oe.x<de.x()?-1:1,ge=de.y()<oe.y?-1:1,ie=se*this.sin*ge,de.x(oe.x-(ne=se*this.cos*Z)),de.y(oe.y+ie)),re=de.position(),this.findOne(".top-left").x(re.x),this.findOne(".bottom-right").y(re.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(de.y()):"bottom-right"===this._movingAnchorName?ye&&(oe=ue?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},se=Math.sqrt(Math.pow(de.x()-oe.x,2)+Math.pow(de.y()-oe.y,2)),Z=this.findOne(".bottom-right").x()<oe.x?-1:1,ge=this.findOne(".bottom-right").y()<oe.y?-1:1,ne=se*this.cos*Z,ie=se*this.sin*ge,this.findOne(".bottom-right").x(oe.x+ne),this.findOne(".bottom-right").y(oe.y+ie)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(ue=this.centeredScaling()||V.altKey){var _e=this.findOne(".top-left"),Se=this.findOne(".bottom-right"),ke=_e.x(),je=_e.y(),Me=this.getWidth()-Se.x(),Te=this.getHeight()-Se.y();Se.move({x:-ke,y:-je}),_e.move({x:Me,y:Te})}var Fe=this.findOne(".top-left").getAbsolutePosition();ne=Fe.x,ie=Fe.y;var me=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),le=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:ne,y:ie,width:me,height:le,rotation:y.Konva.getAngle(this.rotation())},V)}}_handleMouseUp(V){this._removeEvents(V)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(V){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var ne=this.getNode();this._fire("transformend",{evt:V,target:ne}),ne&&this._nodes.forEach(ie=>{ie._fire("transformend",{evt:V,target:ie})}),this._movingAnchorName=null}}_fitNodesInto(V,ne){var ie=this._getNodeRect();if(C.Util._inRange(V.width,2*-this.padding()-1,1))return void this.update();if(C.Util._inRange(V.height,2*-this.padding()-1,1))return void this.update();const de=this.flipEnabled();var P=new C.Transform;if(P.rotate(y.Konva.getAngle(this.rotation())),this._movingAnchorName&&V.width<0&&this._movingAnchorName.indexOf("left")>=0){const Q=P.point({x:2*-this.padding(),y:0});if(V.x+=Q.x,V.y+=Q.y,V.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,!de)return void this.update()}else if(this._movingAnchorName&&V.width<0&&this._movingAnchorName.indexOf("right")>=0){const Q=P.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,V.width+=2*this.padding(),!de)return void this.update()}if(this._movingAnchorName&&V.height<0&&this._movingAnchorName.indexOf("top")>=0){const Q=P.point({x:0,y:2*-this.padding()});if(V.x+=Q.x,V.y+=Q.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,V.height+=2*this.padding(),!de)return void this.update()}else if(this._movingAnchorName&&V.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const Q=P.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,V.height+=2*this.padding(),!de)return void this.update()}if(this.boundBoxFunc()){const Q=this.boundBoxFunc()(ie,V);Q?V=Q:C.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const J=1e7,te=new C.Transform;te.translate(ie.x,ie.y),te.rotate(ie.rotation),te.scale(ie.width/J,ie.height/J);const fe=new C.Transform;fe.translate(V.x,V.y),fe.rotate(V.rotation),fe.scale(V.width/J,V.height/J);const R=fe.multiply(te.invert());this._nodes.forEach(Q=>{var K;const q=Q.getParent().getAbsoluteTransform(),ye=Q.getTransform().copy();ye.translate(Q.offsetX(),Q.offsetY());const oe=new C.Transform;oe.multiply(q.copy().invert()).multiply(R).multiply(q).multiply(ye);const Z=oe.decompose();Q.setAttrs(Z),this._fire("transform",{evt:ne,target:Q}),Q._fire("transform",{evt:ne,target:Q}),null===(K=Q.getLayer())||void 0===K||K.batchDraw()}),this.rotation(C.Util._getRotation(V.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(V,ne){this.findOne(V).setAttrs(ne)}update(){var V,ne=this._getNodeRect();this.rotation(C.Util._getRotation(ne.rotation));var ie=ne.width,se=ne.height,de=this.enabledAnchors(),P=this.resizeEnabled(),J=this.padding(),te=this.anchorSize();const fe=this.find("._anchor");fe.forEach(Q=>{Q.setAttrs({width:te,height:te,offsetX:te/2,offsetY:te/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:te/2+J,offsetY:te/2+J,visible:P&&de.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:ie/2,y:0,offsetY:te/2+J,visible:P&&de.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:ie,y:0,offsetX:te/2-J,offsetY:te/2+J,visible:P&&de.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:se/2,offsetX:te/2+J,visible:P&&de.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:ie,y:se/2,offsetX:te/2-J,visible:P&&de.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:se,offsetX:te/2+J,offsetY:te/2-J,visible:P&&de.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:ie/2,y:se,offsetY:te/2-J,visible:P&&de.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:ie,y:se,offsetX:te/2-J,offsetY:te/2-J,visible:P&&de.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:ie/2,y:-this.rotateAnchorOffset()*C.Util._sign(se)-J,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:ie,height:se,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const R=this.anchorStyleFunc();R&&fe.forEach(Q=>{R(Q)}),null===(V=this.getLayer())||void 0===V||V.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var V=this.findOne("."+this._movingAnchorName);V&&V.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),B.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return W.Node.prototype.toObject.call(this)}clone(V){return W.Node.prototype.clone.call(this,V)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}F.Transformer=k,k.prototype.className="Transformer",(0,m._registerNode)(k),Y.Factory.addGetterSetter(k,"enabledAnchors",v,function L($){return $ instanceof Array||C.Util.warn("enabledAnchors value should be an array"),$ instanceof Array&&$.forEach(function(V){-1===v.indexOf(V)&&C.Util.warn("Unknown anchor name: "+V+". Available names are: "+v.join(", "))}),$||[]}),Y.Factory.addGetterSetter(k,"flipEnabled",!0,(0,d.getBooleanValidator)()),Y.Factory.addGetterSetter(k,"resizeEnabled",!0),Y.Factory.addGetterSetter(k,"anchorSize",10,(0,d.getNumberValidator)()),Y.Factory.addGetterSetter(k,"rotateEnabled",!0),Y.Factory.addGetterSetter(k,"rotationSnaps",[]),Y.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,d.getNumberValidator)()),Y.Factory.addGetterSetter(k,"rotateAnchorCursor","crosshair"),Y.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,d.getNumberValidator)()),Y.Factory.addGetterSetter(k,"borderEnabled",!0),Y.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),Y.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,d.getNumberValidator)()),Y.Factory.addGetterSetter(k,"anchorFill","white"),Y.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,d.getNumberValidator)()),Y.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),Y.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,d.getNumberValidator)()),Y.Factory.addGetterSetter(k,"borderDash"),Y.Factory.addGetterSetter(k,"keepRatio",!0),Y.Factory.addGetterSetter(k,"shiftBehavior","default"),Y.Factory.addGetterSetter(k,"centeredScaling",!1),Y.Factory.addGetterSetter(k,"ignoreStroke",!1),Y.Factory.addGetterSetter(k,"padding",0,(0,d.getNumberValidator)()),Y.Factory.addGetterSetter(k,"node"),Y.Factory.addGetterSetter(k,"nodes"),Y.Factory.addGetterSetter(k,"boundBoxFunc"),Y.Factory.addGetterSetter(k,"anchorDragBoundFunc"),Y.Factory.addGetterSetter(k,"anchorStyleFunc"),Y.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),Y.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),Y.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},5395:($e,F,G)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Wedge=void 0;const C=G(134),Y=G(4147),W=G(9037),X=G(674),H=G(9037);class B extends Y.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.radius(),0,W.Konva.getAngle(this.angle()),this.clockwise()),d.lineTo(0,0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(d){this.radius(d/2)}setHeight(d){this.radius(d/2)}}F.Wedge=B,B.prototype.className="Wedge",B.prototype._centroid=!0,B.prototype._attrsAffectingSize=["radius"],(0,H._registerNode)(B),C.Factory.addGetterSetter(B,"radius",0,(0,X.getNumberValidator)()),C.Factory.addGetterSetter(B,"angle",0,(0,X.getNumberValidator)()),C.Factory.addGetterSetter(B,"clockwise",!1),C.Factory.backCompat(B,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},3259:($e,F,G)=>{const Y=G(8695),W=G(1465),X=G(3210),H=G(2334);function B(y,d,m,g,u){const c=[].slice.call(arguments,1),a=c.length,h="function"==typeof c[a-1];if(!h&&!Y())throw new Error("Callback required as last argument");if(!h){if(a<1)throw new Error("Too few arguments provided");return 1===a?(m=d,d=g=void 0):2===a&&!d.getContext&&(g=m,m=d,d=void 0),new Promise(function(p,f){try{const v=W.create(m,g);p(y(v,d,g))}catch(v){f(v)}})}if(a<2)throw new Error("Too few arguments provided");2===a?(u=m,m=d,d=g=void 0):3===a&&(d.getContext&&typeof u>"u"?(u=g,g=void 0):(u=g,g=m,m=d,d=void 0));try{const p=W.create(m,g);u(null,y(p,d,g))}catch(p){u(p)}}B.bind(null,X.render),F.hz=B.bind(null,X.renderToDataURL),B.bind(null,function(y,d,m){return H.render(y,m)})},8695:$e=>{$e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:($e,F,G)=>{const C=G(4792).getSymbolSize;F.getRowColCoords=function(W){if(1===W)return[];const X=Math.floor(W/7)+2,H=C(W),B=145===H?26:2*Math.ceil((H-13)/(2*X-2)),y=[H-7];for(let d=1;d<X-1;d++)y[d]=y[d-1]-B;return y.push(6),y.reverse()},F.getPositions=function(W){const X=[],H=F.getRowColCoords(W),B=H.length;for(let y=0;y<B;y++)for(let d=0;d<B;d++)0===y&&0===d||0===y&&d===B-1||y===B-1&&0===d||X.push([H[y],H[d]]);return X}},2424:($e,F,G)=>{const C=G(4016),Y=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function W(X){this.mode=C.ALPHANUMERIC,this.data=X}W.getBitsLength=function(H){return 11*Math.floor(H/2)+H%2*6},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function(H){let B;for(B=0;B+2<=this.data.length;B+=2){let y=45*Y.indexOf(this.data[B]);y+=Y.indexOf(this.data[B+1]),H.put(y,11)}this.data.length%2&&H.put(Y.indexOf(this.data[B]),6)},$e.exports=W},2118:$e=>{function F(){this.buffer=[],this.length=0}F.prototype={get:function(G){const C=Math.floor(G/8);return 1==(this.buffer[C]>>>7-G%8&1)},put:function(G,C){for(let Y=0;Y<C;Y++)this.putBit(1==(G>>>C-Y-1&1))},getLengthInBits:function(){return this.length},putBit:function(G){const C=Math.floor(this.length/8);this.buffer.length<=C&&this.buffer.push(0),G&&(this.buffer[C]|=128>>>this.length%8),this.length++}},$e.exports=F},4425:$e=>{function F(G){if(!G||G<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=G,this.data=new Uint8Array(G*G),this.reservedBit=new Uint8Array(G*G)}F.prototype.set=function(G,C,Y,W){const X=G*this.size+C;this.data[X]=Y,W&&(this.reservedBit[X]=!0)},F.prototype.get=function(G,C){return this.data[G*this.size+C]},F.prototype.xor=function(G,C,Y){this.data[G*this.size+C]^=Y},F.prototype.isReserved=function(G,C){return this.reservedBit[G*this.size+C]},$e.exports=F},5663:($e,F,G)=>{const C=G(8419),Y=G(4016);function W(X){this.mode=Y.BYTE,"string"==typeof X&&(X=C(X)),this.data=new Uint8Array(X)}W.getBitsLength=function(H){return 8*H},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function(X){for(let H=0,B=this.data.length;H<B;H++)X.put(this.data[H],8)},$e.exports=W},4655:($e,F,G)=>{const C=G(2259),Y=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],W=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];F.getBlocksCount=function(H,B){switch(B){case C.L:return Y[4*(H-1)+0];case C.M:return Y[4*(H-1)+1];case C.Q:return Y[4*(H-1)+2];case C.H:return Y[4*(H-1)+3];default:return}},F.getTotalCodewordsCount=function(H,B){switch(B){case C.L:return W[4*(H-1)+0];case C.M:return W[4*(H-1)+1];case C.Q:return W[4*(H-1)+2];case C.H:return W[4*(H-1)+3];default:return}}},2259:($e,F)=>{F.L={bit:1},F.M={bit:0},F.Q={bit:3},F.H={bit:2},F.isValid=function(Y){return Y&&typeof Y.bit<"u"&&Y.bit>=0&&Y.bit<4},F.from=function(Y,W){if(F.isValid(Y))return Y;try{return function G(C){if("string"!=typeof C)throw new Error("Param is not a string");switch(C.toLowerCase()){case"l":case"low":return F.L;case"m":case"medium":return F.M;case"q":case"quartile":return F.Q;case"h":case"high":return F.H;default:throw new Error("Unknown EC Level: "+C)}}(Y)}catch{return W}}},3114:($e,F,G)=>{const C=G(4792).getSymbolSize;F.getPositions=function(X){const H=C(X);return[[0,0],[H-7,0],[0,H-7]]}},7078:($e,F,G)=>{const C=G(4792),X=C.getBCHDigit(1335);F.getEncodedBits=function(B,y){const d=B.bit<<3|y;let m=d<<10;for(;C.getBCHDigit(m)-X>=0;)m^=1335<<C.getBCHDigit(m)-X;return 21522^(d<<10|m)}},5339:($e,F)=>{const G=new Uint8Array(512),C=new Uint8Array(256);(function(){let W=1;for(let X=0;X<255;X++)G[X]=W,C[W]=X,W<<=1,256&W&&(W^=285);for(let X=255;X<512;X++)G[X]=G[X-255]})(),F.log=function(W){if(W<1)throw new Error("log("+W+")");return C[W]},F.exp=function(W){return G[W]},F.mul=function(W,X){return 0===W||0===X?0:G[C[W]+C[X]]}},449:($e,F,G)=>{const C=G(4016),Y=G(4792);function W(X){this.mode=C.KANJI,this.data=X}W.getBitsLength=function(H){return 13*H},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function(X){let H;for(H=0;H<this.data.length;H++){let B=Y.toSJIS(this.data[H]);if(B>=33088&&B<=40956)B-=33088;else{if(!(B>=57408&&B<=60351))throw new Error("Invalid SJIS character: "+this.data[H]+"\nMake sure your charset is UTF-8");B-=49472}B=192*(B>>>8&255)+(255&B),X.put(B,13)}},$e.exports=W},3667:($e,F)=>{F.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function C(Y,W,X){switch(Y){case F.Patterns.PATTERN000:return(W+X)%2==0;case F.Patterns.PATTERN001:return W%2==0;case F.Patterns.PATTERN010:return X%3==0;case F.Patterns.PATTERN011:return(W+X)%3==0;case F.Patterns.PATTERN100:return(Math.floor(W/2)+Math.floor(X/3))%2==0;case F.Patterns.PATTERN101:return W*X%2+W*X%3==0;case F.Patterns.PATTERN110:return(W*X%2+W*X%3)%2==0;case F.Patterns.PATTERN111:return(W*X%3+(W+X)%2)%2==0;default:throw new Error("bad maskPattern:"+Y)}}F.isValid=function(W){return null!=W&&""!==W&&!isNaN(W)&&W>=0&&W<=7},F.from=function(W){return F.isValid(W)?parseInt(W,10):void 0},F.getPenaltyN1=function(W){const X=W.size;let H=0,B=0,y=0,d=null,m=null;for(let g=0;g<X;g++){B=y=0,d=m=null;for(let u=0;u<X;u++){let c=W.get(g,u);c===d?B++:(B>=5&&(H+=B-5+3),d=c,B=1),c=W.get(u,g),c===m?y++:(y>=5&&(H+=y-5+3),m=c,y=1)}B>=5&&(H+=B-5+3),y>=5&&(H+=y-5+3)}return H},F.getPenaltyN2=function(W){const X=W.size;let H=0;for(let B=0;B<X-1;B++)for(let y=0;y<X-1;y++){const d=W.get(B,y)+W.get(B,y+1)+W.get(B+1,y)+W.get(B+1,y+1);(4===d||0===d)&&H++}return 3*H},F.getPenaltyN3=function(W){const X=W.size;let H=0,B=0,y=0;for(let d=0;d<X;d++){B=y=0;for(let m=0;m<X;m++)B=B<<1&2047|W.get(d,m),m>=10&&(1488===B||93===B)&&H++,y=y<<1&2047|W.get(m,d),m>=10&&(1488===y||93===y)&&H++}return 40*H},F.getPenaltyN4=function(W){let X=0;const H=W.data.length;for(let y=0;y<H;y++)X+=W.data[y];return 10*Math.abs(Math.ceil(100*X/H/5)-10)},F.applyMask=function(W,X){const H=X.size;for(let B=0;B<H;B++)for(let y=0;y<H;y++)X.isReserved(y,B)||X.xor(y,B,C(W,y,B))},F.getBestMask=function(W,X){const H=Object.keys(F.Patterns).length;let B=0,y=1/0;for(let d=0;d<H;d++){X(d),F.applyMask(d,W);const m=F.getPenaltyN1(W)+F.getPenaltyN2(W)+F.getPenaltyN3(W)+F.getPenaltyN4(W);F.applyMask(d,W),m<y&&(y=m,B=d)}return B}},4016:($e,F,G)=>{const C=G(4406),Y=G(2699);F.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},F.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},F.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},F.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},F.MIXED={bit:-1},F.getCharCountIndicator=function(H,B){if(!H.ccBits)throw new Error("Invalid mode: "+H);if(!C.isValid(B))throw new Error("Invalid version: "+B);return B>=1&&B<10?H.ccBits[0]:B<27?H.ccBits[1]:H.ccBits[2]},F.getBestModeForData=function(H){return Y.testNumeric(H)?F.NUMERIC:Y.testAlphanumeric(H)?F.ALPHANUMERIC:Y.testKanji(H)?F.KANJI:F.BYTE},F.toString=function(H){if(H&&H.id)return H.id;throw new Error("Invalid mode")},F.isValid=function(H){return H&&H.bit&&H.ccBits},F.from=function(H,B){if(F.isValid(H))return H;try{return function W(X){if("string"!=typeof X)throw new Error("Param is not a string");switch(X.toLowerCase()){case"numeric":return F.NUMERIC;case"alphanumeric":return F.ALPHANUMERIC;case"kanji":return F.KANJI;case"byte":return F.BYTE;default:throw new Error("Unknown mode: "+X)}}(H)}catch{return B}}},7783:($e,F,G)=>{const C=G(4016);function Y(W){this.mode=C.NUMERIC,this.data=W.toString()}Y.getBitsLength=function(X){return 10*Math.floor(X/3)+(X%3?X%3*3+1:0)},Y.prototype.getLength=function(){return this.data.length},Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)},Y.prototype.write=function(X){let H,B,y;for(H=0;H+3<=this.data.length;H+=3)B=this.data.substr(H,3),y=parseInt(B,10),X.put(y,10);const d=this.data.length-H;d>0&&(B=this.data.substr(H),y=parseInt(B,10),X.put(y,3*d+1))},$e.exports=Y},1106:($e,F,G)=>{const C=G(5339);F.mul=function(W,X){const H=new Uint8Array(W.length+X.length-1);for(let B=0;B<W.length;B++)for(let y=0;y<X.length;y++)H[B+y]^=C.mul(W[B],X[y]);return H},F.mod=function(W,X){let H=new Uint8Array(W);for(;H.length-X.length>=0;){const B=H[0];for(let d=0;d<X.length;d++)H[d]^=C.mul(X[d],B);let y=0;for(;y<H.length&&0===H[y];)y++;H=H.slice(y)}return H},F.generateECPolynomial=function(W){let X=new Uint8Array([1]);for(let H=0;H<W;H++)X=F.mul(X,new Uint8Array([1,C.exp(H)]));return X}},1465:($e,F,G)=>{const C=G(4792),Y=G(2259),W=G(2118),X=G(4425),H=G(6221),B=G(3114),y=G(3667),d=G(4655),m=G(2636),g=G(2088),u=G(7078),c=G(4016),a=G(2033);function w(k,L,$){const V=k.size,ne=u.getEncodedBits(L,$);let ie,se;for(ie=0;ie<15;ie++)se=1==(ne>>ie&1),k.set(ie<6?ie:ie<8?ie+1:V-15+ie,8,se,!0),k.set(8,ie<8?V-ie-1:ie<9?15-ie-1+1:15-ie-1,se,!0);k.set(V-8,8,1,!0)}function E(k,L,$,V){let ne;if(Array.isArray(k))ne=a.fromArray(k);else{if("string"!=typeof k)throw new Error("Invalid data");{let J=L;if(!J){const te=a.rawSplit(k);J=g.getBestVersionForData(te,$)}ne=a.fromString(k,J||40)}}const ie=g.getBestVersionForData(ne,$);if(!ie)throw new Error("The amount of data is too big to be stored in a QR Code");if(L){if(L<ie)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+ie+".\n")}else L=ie;const se=function x(k,L,$){const V=new W;$.forEach(function(P){V.put(P.mode.bit,4),V.put(P.getLength(),c.getCharCountIndicator(P.mode,k)),P.write(V)});const se=8*(C.getSymbolTotalCodewords(k)-d.getTotalCodewordsCount(k,L));for(V.getLengthInBits()+4<=se&&V.put(0,4);V.getLengthInBits()%8!=0;)V.putBit(0);const de=(se-V.getLengthInBits())/8;for(let P=0;P<de;P++)V.put(P%2?17:236,8);return function D(k,L,$){const V=C.getSymbolTotalCodewords(L),ie=V-d.getTotalCodewordsCount(L,$),se=d.getBlocksCount(L,$),P=se-V%se,J=Math.floor(V/se),te=Math.floor(ie/se),fe=te+1,R=J-te,Q=new m(R);let K=0;const q=new Array(se),ye=new Array(se);let oe=0;const Z=new Uint8Array(k.buffer);for(let Se=0;Se<se;Se++){const ke=Se<P?te:fe;q[Se]=Z.slice(K,K+ke),ye[Se]=Q.encode(q[Se]),K+=ke,oe=Math.max(oe,ke)}const ge=new Uint8Array(V);let ue,_e,re=0;for(ue=0;ue<oe;ue++)for(_e=0;_e<se;_e++)ue<q[_e].length&&(ge[re++]=q[_e][ue]);for(ue=0;ue<R;ue++)for(_e=0;_e<se;_e++)ge[re++]=ye[_e][ue];return ge}(V,k,L)}(L,$,ne),de=C.getSymbolSize(L),P=new X(de);return function h(k,L){const $=k.size,V=B.getPositions(L);for(let ne=0;ne<V.length;ne++){const ie=V[ne][0],se=V[ne][1];for(let de=-1;de<=7;de++)if(!(ie+de<=-1||$<=ie+de))for(let P=-1;P<=7;P++)se+P<=-1||$<=se+P||k.set(ie+de,se+P,de>=0&&de<=6&&(0===P||6===P)||P>=0&&P<=6&&(0===de||6===de)||de>=2&&de<=4&&P>=2&&P<=4,!0)}}(P,L),function p(k){const L=k.size;for(let $=8;$<L-8;$++){const V=$%2==0;k.set($,6,V,!0),k.set(6,$,V,!0)}}(P),function f(k,L){const $=H.getPositions(L);for(let V=0;V<$.length;V++){const ne=$[V][0],ie=$[V][1];for(let se=-2;se<=2;se++)for(let de=-2;de<=2;de++)k.set(ne+se,ie+de,-2===se||2===se||-2===de||2===de||0===se&&0===de,!0)}}(P,L),w(P,$,0),L>=7&&function v(k,L){const $=k.size,V=g.getEncodedBits(L);let ne,ie,se;for(let de=0;de<18;de++)ne=Math.floor(de/3),ie=de%3+$-8-3,se=1==(V>>de&1),k.set(ne,ie,se,!0),k.set(ie,ne,se,!0)}(P,L),function b(k,L){const $=k.size;let V=-1,ne=$-1,ie=7,se=0;for(let de=$-1;de>0;de-=2)for(6===de&&de--;;){for(let P=0;P<2;P++)if(!k.isReserved(ne,de-P)){let J=!1;se<L.length&&(J=1==(L[se]>>>ie&1)),k.set(ne,de-P,J),ie--,-1===ie&&(se++,ie=7)}if(ne+=V,ne<0||$<=ne){ne-=V,V=-V;break}}}(P,se),isNaN(V)&&(V=y.getBestMask(P,w.bind(null,P,$))),y.applyMask(V,P),w(P,$,V),{modules:P,version:L,errorCorrectionLevel:$,maskPattern:V,segments:ne}}F.create=function(L,$){if(typeof L>"u"||""===L)throw new Error("No input text");let ne,ie,V=Y.M;return typeof $<"u"&&(V=Y.from($.errorCorrectionLevel,Y.M),ne=g.from($.version),ie=y.from($.maskPattern),$.toSJISFunc&&C.setToSJISFunction($.toSJISFunc)),E(L,ne,V,ie)}},2636:($e,F,G)=>{const C=G(1106);function Y(W){this.genPoly=void 0,this.degree=W,this.degree&&this.initialize(this.degree)}Y.prototype.initialize=function(X){this.degree=X,this.genPoly=C.generateECPolynomial(this.degree)},Y.prototype.encode=function(X){if(!this.genPoly)throw new Error("Encoder not initialized");const H=new Uint8Array(X.length+this.degree);H.set(X);const B=C.mod(H,this.genPoly),y=this.degree-B.length;if(y>0){const d=new Uint8Array(this.degree);return d.set(B,y),d}return B},$e.exports=Y},2699:($e,F)=>{const G="[0-9]+";let Y="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Y=Y.replace(/u/g,"\\u");const W="(?:(?![A-Z0-9 $%*+\\-./:]|"+Y+")(?:.|[\r\n]))+";F.KANJI=new RegExp(Y,"g"),F.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),F.BYTE=new RegExp(W,"g"),F.NUMERIC=new RegExp(G,"g"),F.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const X=new RegExp("^"+Y+"$"),H=new RegExp("^"+G+"$"),B=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");F.testKanji=function(d){return X.test(d)},F.testNumeric=function(d){return H.test(d)},F.testAlphanumeric=function(d){return B.test(d)}},2033:($e,F,G)=>{const C=G(4016),Y=G(7783),W=G(2424),X=G(5663),H=G(449),B=G(2699),y=G(4792),d=G(4901);function m(v){return unescape(encodeURIComponent(v)).length}function g(v,w,b){const x=[];let D;for(;null!==(D=v.exec(b));)x.push({data:D[0],index:D.index,mode:w,length:D[0].length});return x}function u(v){const w=g(B.NUMERIC,C.NUMERIC,v),b=g(B.ALPHANUMERIC,C.ALPHANUMERIC,v);let x,D;return y.isKanjiModeEnabled()?(x=g(B.BYTE,C.BYTE,v),D=g(B.KANJI,C.KANJI,v)):(x=g(B.BYTE_KANJI,C.BYTE,v),D=[]),w.concat(b,x,D).sort(function(k,L){return k.index-L.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function c(v,w){switch(w){case C.NUMERIC:return Y.getBitsLength(v);case C.ALPHANUMERIC:return W.getBitsLength(v);case C.KANJI:return H.getBitsLength(v);case C.BYTE:return X.getBitsLength(v)}}function f(v,w){let b;const x=C.getBestModeForData(v);if(b=C.from(w,x),b!==C.BYTE&&b.bit<x.bit)throw new Error('"'+v+'" cannot be encoded with mode '+C.toString(b)+".\n Suggested mode is: "+C.toString(x));switch(b===C.KANJI&&!y.isKanjiModeEnabled()&&(b=C.BYTE),b){case C.NUMERIC:return new Y(v);case C.ALPHANUMERIC:return new W(v);case C.KANJI:return new H(v);case C.BYTE:return new X(v)}}F.fromArray=function(w){return w.reduce(function(b,x){return"string"==typeof x?b.push(f(x,null)):x.data&&b.push(f(x.data,x.mode)),b},[])},F.fromString=function(w,b){const D=function h(v){const w=[];for(let b=0;b<v.length;b++){const x=v[b];switch(x.mode){case C.NUMERIC:w.push([x,{data:x.data,mode:C.ALPHANUMERIC,length:x.length},{data:x.data,mode:C.BYTE,length:x.length}]);break;case C.ALPHANUMERIC:w.push([x,{data:x.data,mode:C.BYTE,length:x.length}]);break;case C.KANJI:w.push([x,{data:x.data,mode:C.BYTE,length:m(x.data)}]);break;case C.BYTE:w.push([{data:x.data,mode:C.BYTE,length:m(x.data)}])}}return w}(u(w,y.isKanjiModeEnabled())),E=function p(v,w){const b={},x={start:{}};let D=["start"];for(let E=0;E<v.length;E++){const k=v[E],L=[];for(let $=0;$<k.length;$++){const V=k[$],ne=""+E+$;L.push(ne),b[ne]={node:V,lastCount:0},x[ne]={};for(let ie=0;ie<D.length;ie++){const se=D[ie];b[se]&&b[se].node.mode===V.mode?(x[se][ne]=c(b[se].lastCount+V.length,V.mode)-c(b[se].lastCount,V.mode),b[se].lastCount+=V.length):(b[se]&&(b[se].lastCount=V.length),x[se][ne]=c(V.length,V.mode)+4+C.getCharCountIndicator(V.mode,w))}}D=L}for(let E=0;E<D.length;E++)x[D[E]].end=0;return{map:x,table:b}}(D,b),k=d.find_path(E.map,"start","end"),L=[];for(let $=1;$<k.length-1;$++)L.push(E.table[k[$]].node);return F.fromArray(function a(v){return v.reduce(function(w,b){const x=w.length-1>=0?w[w.length-1]:null;return x&&x.mode===b.mode?(w[w.length-1].data+=b.data,w):(w.push(b),w)},[])}(L))},F.rawSplit=function(w){return F.fromArray(u(w,y.isKanjiModeEnabled()))}},4792:($e,F)=>{let G;const C=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];F.getSymbolSize=function(W){if(!W)throw new Error('"version" cannot be null or undefined');if(W<1||W>40)throw new Error('"version" should be in range from 1 to 40');return 4*W+17},F.getSymbolTotalCodewords=function(W){return C[W]},F.getBCHDigit=function(Y){let W=0;for(;0!==Y;)W++,Y>>>=1;return W},F.setToSJISFunction=function(W){if("function"!=typeof W)throw new Error('"toSJISFunc" is not a valid function.');G=W},F.isKanjiModeEnabled=function(){return typeof G<"u"},F.toSJIS=function(W){return G(W)}},4406:($e,F)=>{F.isValid=function(C){return!isNaN(C)&&C>=1&&C<=40}},2088:($e,F,G)=>{const C=G(4792),Y=G(4655),W=G(2259),X=G(4016),H=G(4406),y=C.getBCHDigit(7973);function m(c,a){return X.getCharCountIndicator(c,a)+4}function g(c,a){let h=0;return c.forEach(function(p){const f=m(p.mode,a);h+=f+p.getBitsLength()}),h}F.from=function(a,h){return H.isValid(a)?parseInt(a,10):h},F.getCapacity=function(a,h,p){if(!H.isValid(a))throw new Error("Invalid QR Code version");typeof p>"u"&&(p=X.BYTE);const w=8*(C.getSymbolTotalCodewords(a)-Y.getTotalCodewordsCount(a,h));if(p===X.MIXED)return w;const b=w-m(p,a);switch(p){case X.NUMERIC:return Math.floor(b/10*3);case X.ALPHANUMERIC:return Math.floor(b/11*2);case X.KANJI:return Math.floor(b/13);default:return Math.floor(b/8)}},F.getBestVersionForData=function(a,h){let p;const f=W.from(h,W.M);if(Array.isArray(a)){if(a.length>1)return function u(c,a){for(let h=1;h<=40;h++)if(g(c,h)<=F.getCapacity(h,a,X.MIXED))return h}(a,f);if(0===a.length)return 1;p=a[0]}else p=a;return function d(c,a,h){for(let p=1;p<=40;p++)if(a<=F.getCapacity(p,h,c))return p}(p.mode,p.getLength(),f)},F.getEncodedBits=function(a){if(!H.isValid(a)||a<7)throw new Error("Invalid QR Code version");let h=a<<12;for(;C.getBCHDigit(h)-y>=0;)h^=7973<<C.getBCHDigit(h)-y;return a<<12|h}},3210:($e,F,G)=>{const C=G(6355);F.render=function(H,B,y){let d=y,m=B;typeof d>"u"&&(!B||!B.getContext)&&(d=B,B=void 0),B||(m=function W(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),d=C.getOptions(d);const g=C.getImageWidth(H.modules.size,d),u=m.getContext("2d"),c=u.createImageData(g,g);return C.qrToImageData(c.data,H,d),function Y(X,H,B){X.clearRect(0,0,H.width,H.height),H.style||(H.style={}),H.height=B,H.width=B,H.style.height=B+"px",H.style.width=B+"px"}(u,m,g),u.putImageData(c,0,0),m},F.renderToDataURL=function(H,B,y){let d=y;return typeof d>"u"&&(!B||!B.getContext)&&(d=B,B=void 0),d||(d={}),F.render(H,B,d).toDataURL(d.type||"image/png",(d.rendererOpts||{}).quality)}},2334:($e,F,G)=>{const C=G(6355);function Y(H,B){const y=H.a/255,d=B+'="'+H.hex+'"';return y<1?d+" "+B+'-opacity="'+y.toFixed(2).slice(1)+'"':d}function W(H,B,y){let d=H+B;return typeof y<"u"&&(d+=" "+y),d}F.render=function(B,y,d){const m=C.getOptions(y),g=B.modules.size,u=B.modules.data,c=g+2*m.margin,a=m.color.light.a?"<path "+Y(m.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",h="<path "+Y(m.color.dark,"stroke")+' d="'+function X(H,B,y){let d="",m=0,g=!1,u=0;for(let c=0;c<H.length;c++){const a=Math.floor(c%B),h=Math.floor(c/B);!a&&!g&&(g=!0),H[c]?(u++,c>0&&a>0&&H[c-1]||(d+=g?W("M",a+y,.5+h+y):W("m",m,0),m=0,g=!1),a+1<B&&H[c+1]||(d+=W("h",u),u=0)):m++}return d}(u,g,m.margin)+'"/>',v='<svg xmlns="http://www.w3.org/2000/svg" '+(m.width?'width="'+m.width+'" height="'+m.width+'" ':"")+'viewBox="0 0 '+c+" "+c+'" shape-rendering="crispEdges">'+a+h+"</svg>\n";return"function"==typeof d&&d(null,v),v}},6355:($e,F)=>{function G(C){if("number"==typeof C&&(C=C.toString()),"string"!=typeof C)throw new Error("Color should be defined as hex string");let Y=C.slice().replace("#","").split("");if(Y.length<3||5===Y.length||Y.length>8)throw new Error("Invalid hex color: "+C);(3===Y.length||4===Y.length)&&(Y=Array.prototype.concat.apply([],Y.map(function(X){return[X,X]}))),6===Y.length&&Y.push("F","F");const W=parseInt(Y.join(""),16);return{r:W>>24&255,g:W>>16&255,b:W>>8&255,a:255&W,hex:"#"+Y.slice(0,6).join("")}}F.getOptions=function(Y){Y||(Y={}),Y.color||(Y.color={});const X=Y.width&&Y.width>=21?Y.width:void 0;return{width:X,scale:X?4:Y.scale||4,margin:typeof Y.margin>"u"||null===Y.margin||Y.margin<0?4:Y.margin,color:{dark:G(Y.color.dark||"#000000ff"),light:G(Y.color.light||"#ffffffff")},type:Y.type,rendererOpts:Y.rendererOpts||{}}},F.getScale=function(Y,W){return W.width&&W.width>=Y+2*W.margin?W.width/(Y+2*W.margin):W.scale},F.getImageWidth=function(Y,W){const X=F.getScale(Y,W);return Math.floor((Y+2*W.margin)*X)},F.qrToImageData=function(Y,W,X){const H=W.modules.size,B=W.modules.data,y=F.getScale(H,X),d=Math.floor((H+2*X.margin)*y),m=X.margin*y,g=[X.color.light,X.color.dark];for(let u=0;u<d;u++)for(let c=0;c<d;c++){let a=4*(u*d+c),h=X.color.light;u>=m&&c>=m&&u<d-m&&c<d-m&&(h=g[B[Math.floor((u-m)/y)*H+Math.floor((c-m)/y)]?1:0]),Y[a++]=h.r,Y[a++]=h.g,Y[a++]=h.b,Y[a]=h.a}}},4960:()=>{},6759:()=>{},6272:()=>{},1321:()=>{"use strict";const $e=":";class q extends Error{constructor(le){super(`No translation found for ${ue(le)}.`),this.parsedMessage=le,this.type="MissingTranslationError"}}const Me=function(me,...le){if(Me.translate){const xe=Me.translate(me,le);me=xe[0],le=xe[1]}let ve=Fe(me[0],me.raw[0]);for(let xe=1;xe<me.length;xe++)ve+=le[xe-1]+Fe(me[xe],me.raw[xe]);return ve},Te=":";function Fe(me,le){return le.charAt(0)===Te?me.substring(function K(me,le){for(let ve=1,xe=1;ve<me.length;ve++,xe++)if("\\"===le[xe])xe++;else if(me[ve]===$e)return ve;throw new Error(`Unterminated $localize metadata block in "${le}".`)}(me,le)+1):me}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Me}},$e=>{var F=C=>$e($e.s=C);F(1321),F(9933)}]);