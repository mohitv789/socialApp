(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[792],{942:(Rt,ce,Ee)=>{"use strict";function w(t,n,e,i,r,o,s){try{var a=t[o](s),l=a.value}catch(m){return void e(m)}a.done?n(l):Promise.resolve(l).then(i,r)}function le(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var o=t.apply(n,e);function s(l){w(o,i,r,s,a,"next",l)}function a(l){w(o,i,r,s,a,"throw",l)}s(void 0)})}}let pe=null,be=!1,Ae=1;const y=Symbol("SIGNAL");function h(t){const n=pe;return pe=t,n}const u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function c(t){if(be)throw new Error("");if(null===pe)return;pe.consumerOnSignalRead(t);const n=pe.nextProducerIndex++;he(pe),n<pe.producerNode.length&&pe.producerNode[n]!==t&&se(pe)&&q(pe.producerNode[n],pe.producerIndexOfThis[n]),pe.producerNode[n]!==t&&(pe.producerNode[n]=t,pe.producerIndexOfThis[n]=se(pe)?H(t,pe,n):0),pe.producerLastReadVersion[n]=t.version}function g(t){if((!se(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ae)){if(!t.producerMustRecompute(t)&&!R(t))return t.dirty=!1,void(t.lastCleanEpoch=Ae);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ae}}function f(t){if(void 0===t.liveConsumerNode)return;const n=be;be=!0;try{for(const e of t.liveConsumerNode)e.dirty||C(e)}finally{be=n}}function v(){return!1!==pe?.consumerAllowSignalWrites}function C(t){t.dirty=!0,f(t),t.consumerMarkedDirty?.(t)}function D(t){return t&&(t.nextProducerIndex=0),h(t)}function E(t,n){if(h(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(se(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)q(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function R(t){he(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(g(e),i!==e.version))return!0}return!1}function B(t){if(he(t),se(t))for(let n=0;n<t.producerNode.length;n++)q(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function H(t,n,e){if(De(t),he(t),0===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=H(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function q(t,n){if(De(t),he(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)q(t.producerNode[i],t.producerIndexOfThis[i]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];he(r),r.producerIndexOfThis[i]=n}}function se(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function he(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function De(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}let ct=function dt(){throw new Error};function j(){ct()}let ee=null;function U(t,n){v()||j(),t.equal(t.value,n)||(t.value=n,function $(t){t.version++,function p(){Ae++}(),f(t),ee?.()}(t))}const ge={...u,equal:function oe(t,n){return Object.is(t,n)},value:void 0};const ie=()=>{},ue={...u,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:ie};function ne(t){return"function"==typeof t}function fe(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Ce=fe(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function we(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class me{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(ne(i))try{i()}catch(o){n=o instanceof Ce?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{At(o)}catch(s){n=n??[],s instanceof Ce?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ce(n)}}add(n){var e;if(n&&n!==this)if(this.closed)At(n);else{if(n instanceof me){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&we(e,n)}remove(n){const{_finalizers:e}=this;e&&we(e,n),n instanceof me&&n._removeParent(this)}}me.EMPTY=(()=>{const t=new me;return t.closed=!0,t})();const je=me.EMPTY;function qe(t){return t instanceof me||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function At(t){ne(t)?t():t.unsubscribe()}const nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Oe={setTimeout(t,n,...e){const{delegate:i}=Oe;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Oe;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ut(t){Oe.setTimeout(()=>{const{onUnhandledError:n}=nt;if(!n)throw t;n(t)})}function rt(){}const Ut=en("C",void 0,void 0);function en(t,n,e){return{kind:t,value:n,error:e}}let Di=null;function no(t){if(nt.useDeprecatedSynchronousErrorHandling){const n=!Di;if(n&&(Di={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=Di;if(Di=null,e)throw i}}else t()}class fr extends me{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,qe(n)&&n.add(this)):this.destination=JL}static create(n,e,i){return new Ta(n,e,i)}next(n){this.isStopped?a_(function ri(t){return en("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?a_(function Ti(t){return en("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?a_(Ut,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const o_=Function.prototype.bind;function Ol(t,n){return o_.call(t,n)}class s_{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){ef(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){ef(i)}else ef(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){ef(e)}}}class Ta extends fr{constructor(n,e,i){let r;if(super(),ne(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&nt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Ol(n.next,o),error:n.error&&Ol(n.error,o),complete:n.complete&&Ol(n.complete,o)}):r=n}this.destination=new s_(r)}}function ef(t){nt.useDeprecatedSynchronousErrorHandling?function Sa(t){nt.useDeprecatedSynchronousErrorHandling&&Di&&(Di.errorThrown=!0,Di.error=t)}(t):ut(t)}function a_(t,n){const{onStoppedNotification:e}=nt;e&&Oe.setTimeout(()=>e(t,n))}const JL={closed:!0,next:rt,error:function ZL(t){throw t},complete:rt},l_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cs(t){return t}function p1(t){return 0===t.length?Cs:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}let Zt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function iB(t){return t&&t instanceof fr||function tB(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}(t)&&qe(t)}(e)?e:new Ta(e,i,r);return no(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=m1(i))((r,o)=>{const s=new Ta({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[l_](){return this}pipe(...e){return p1(e)(this)}toPromise(e){return new(e=m1(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function m1(t){var n;return null!==(n=t??nt.Promise)&&void 0!==n?n:Promise}const nB=fe(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ye=(()=>{class t extends Zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new c_(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new nB}next(e){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?je:(this.currentObservers=null,o.push(e),new me(()=>{this.currentObservers=null,we(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Zt;return e.source=this,e}}return t.create=(n,e)=>new c_(n,e),t})();class c_ extends Ye{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:je}}class gn extends Ye{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function g1(t){return ne(t?.lift)}function Gi(t){return n=>{if(g1(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ci(t,n,e,i,r){return new rB(t,n,e,i,r)}class rB extends fr{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function bt(t,n){return Gi((e,i)=>{let r=0;e.subscribe(Ci(i,o=>{i.next(t.call(n,o,r++))}))})}const _1="https://g.co/ng/security#xss";class xe extends Error{constructor(n,e){super(function Pl(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function ws(t){return{toString:t}.toString()}const Nl="__parameters__";function Ll(t,n,e){return ws(()=>{const i=function d_(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,m,A){const S=l.hasOwnProperty(Nl)?l[Nl]:Object.defineProperty(l,Nl,{value:[]})[Nl];for(;S.length<=A;)S.push(null);return(S[A]=S[A]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const _i=globalThis;function wi(t){for(let n in t)if(t[n]===wi)return n;throw Error("Could not find renamed property on target object.")}function oB(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function En(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(En).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function u_(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const sB=wi({__forward_ref__:wi});function $t(t){return t.__forward_ref__=$t,t.toString=function(){return En(this())},t}function It(t){return nf(t)?t():t}function nf(t){return"function"==typeof t&&t.hasOwnProperty(sB)&&t.__forward_ref__===$t}function Qs(t,n,e){t!=n&&function St(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(e,t,n,"==")}function Te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function st(t){return{providers:t.providers||[],imports:t.imports||[]}}function rf(t){return A1(t,af)||A1(t,C1)}function A1(t,n){return t.hasOwnProperty(n)?t[n]:null}function sf(t){return t&&(t.hasOwnProperty(h_)||t.hasOwnProperty(hB))?t[h_]:null}const af=wi({\u0275prov:wi}),h_=wi({\u0275inj:wi}),C1=wi({ngInjectableDef:wi}),hB=wi({ngInjectorDef:wi});class Me{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Te({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function __(t){return t&&!!t.\u0275providers}const Sd=wi({\u0275cmp:wi}),b_=wi({\u0275dir:wi}),v_=wi({\u0275pipe:wi}),x1=wi({\u0275mod:wi}),xs=wi({\u0275fac:wi}),Td=wi({__NG_ELEMENT_ID__:wi}),S1=wi({__NG_ENV_ID__:wi});function Nt(t){return"string"==typeof t?t:null==t?"":String(t)}function y_(t,n){throw new xe(-201,!1)}var qt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(qt||{});let A_;function T1(){return A_}function Dr(t){const n=A_;return A_=t,n}function D1(t,n,e){const i=rf(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&qt.Optional?null:void 0!==n?n:void y_()}const Dd={},C_="__NG_DI_FLAG__",lf="ngTempTokenPath",bB=/\n/gm,I1="__source";let Bl;function Ks(t){const n=Bl;return Bl=t,n}function AB(t,n=qt.Default){if(void 0===Bl)throw new xe(-203,!1);return null===Bl?D1(t,void 0,n):Bl.get(t,n&qt.Optional?null:void 0,n)}function ve(t,n=qt.Default){return(T1()||AB)(It(t),n)}function Q(t,n=qt.Default){return ve(t,cf(n))}function cf(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function w_(t){const n=[];for(let e=0;e<t.length;e++){const i=It(t[e]);if(Array.isArray(i)){if(0===i.length)throw new xe(900,!1);let r,o=qt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=CB(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}n.push(ve(r,o))}else n.push(ve(i))}return n}function Id(t,n){return t[C_]=n,t.prototype[C_]=n,t}function CB(t){return t[C_]}const Zs=Id(Ll("Optional"),8),Vl=Id(Ll("SkipSelf"),4);function Da(t,n){return t.hasOwnProperty(xs)?t[xs]:null}function Hl(t,n){t.forEach(e=>Array.isArray(e)?Hl(e,n):n(e))}function M1(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function df(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function jr(t,n,e){let i=jl(t,n);return i>=0?t[1|i]=e:(i=~i,function k1(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function S_(t,n){const e=jl(t,n);if(e>=0)return t[1|e]}function jl(t,n){return function O1(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const qo={},oi=[],Ia=new Me(""),P1=new Me("",-1),T_=new Me("");class hf{get(n,e=Dd){if(e===Dd){const i=new Error(`NullInjectorError: No provider for ${En(n)}!`);throw i.name="NullInjectorError",i}return e}}var ff=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ff||{}),_o=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_o||{}),ke=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ke||{});function EB(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function D_(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];t.setAttribute(n,s,a,o)}else{const o=r,s=e[++i];N1(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function R1(t){return 3===t||4===t||6===t}function N1(t){return 64===t.charCodeAt(0)}function Ed(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||F1(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function F1(t,n,e,i,r){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const L1="ng-template";function MB(t,n,e,i){let r=0;if(i){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==EB(n[r+1].toLowerCase(),e,0))return!0}else if(I_(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&"string"==typeof(o=n[r]);)if(o.toLowerCase()===e)return!0}return!1}function I_(t){return 4===t.type&&t.value!==L1}function kB(t,n,e){return n===(4!==t.type||e?t.value:L1)}function OB(t,n,e){let i=4;const r=t.attrs,o=null!==r?function NB(t){for(let n=0;n<t.length;n++)if(R1(t[n]))return n;return t.length}(r):0;let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!kB(t,l,e)||""===l&&1===n.length){if(bo(i))return!1;s=!0}}else if(8&i){if(null===r||!MB(t,r,l,e)){if(bo(i))return!1;s=!0}}else{const m=n[++a],A=PB(l,r,I_(t),e);if(-1===A){if(bo(i))return!1;s=!0;continue}if(""!==m){let S;if(S=A>o?"":r[A+1].toLowerCase(),2&i&&m!==S){if(bo(i))return!1;s=!0}}}}else{if(!s&&!bo(i)&&!bo(l))return!1;if(s&&bo(l))continue;s=!1,i=l|1&i}}return bo(i)||s}function bo(t){return!(1&t)}function PB(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function FB(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function B1(t,n,e=!1){for(let i=0;i<n.length;i++)if(OB(t,n[i],e))return!0;return!1}function LB(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function V1(t,n){return t?":not("+n.trim()+")":n}function BB(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!bo(s)&&(n+=V1(o,r),r=""),i=s,o=o||!bo(i);e++}return""!==r&&(n+=V1(o,r)),n}function ze(t){return ws(()=>{const n=j1(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ff.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_o.Emulated,styles:t.styles||oi,_:null,schemas:t.schemas||null,tView:null,id:""};U1(e);const i=t.dependencies;return e.directiveDefs=pf(i,!1),e.pipeDefs=pf(i,!0),e.id=function GB(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)n=Math.imul(31,n)+r.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function jB(t){return Wt(t)||Mn(t)}function UB(t){return null!==t}function lt(t){return ws(()=>({type:t.type,bootstrap:t.bootstrap||oi,declarations:t.declarations||oi,imports:t.imports||oi,exports:t.exports||oi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function H1(t,n){if(null==t)return qo;const e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];let o,s,a=ke.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=a!==ke.None?[i,a]:i,n[o]=s):e[o]=i}return e}function Be(t){return ws(()=>{const n=j1(t);return U1(n),n})}function Er(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wt(t){return t[Sd]||null}function Mn(t){return t[b_]||null}function zn(t){return t[v_]||null}function er(t,n){const e=t[x1]||null;if(!e&&!0===n)throw new Error(`Type ${En(t)} does not have '\u0275mod' property.`);return e}function j1(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||qo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||oi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:H1(t.inputs,n),outputs:H1(t.outputs),debugInfo:null}}function U1(t){t.features?.forEach(n=>n(t))}function pf(t,n){if(!t)return null;const e=n?zn:jB;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(UB)}function WB(...t){return{\u0275providers:E_(0,t),\u0275fromNgModule:!0}}function E_(t,...n){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Hl(n,s=>{const a=s;mf(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&z1(r,o),e}function z1(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:r}=t[e];M_(r,o=>{n(o,i)})}}function mf(t,n,e,i){if(!(t=It(t)))return!1;let r=null,o=sf(t);const s=!o&&Wt(t);if(o||s){if(s&&!s.standalone)return!1;r=t}else{const l=t.ngModule;if(o=sf(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const m of l)mf(m,n,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let m;i.add(r);try{Hl(o.imports,A=>{mf(A,n,e,i)&&(m||=[],m.push(A))})}finally{}void 0!==m&&z1(m,n)}if(!a){const m=Da(r)||(()=>new r);n({provide:r,useFactory:m,deps:oi},r),n({provide:T_,useValue:r,multi:!0},r),n({provide:Ia,useValue:()=>ve(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const m=t;M_(l,A=>{n(A,m)})}}}return r!==t&&void 0!==t.providers}function M_(t,n){for(let e of t)__(e)&&(e=e.\u0275providers),Array.isArray(e)?M_(e,n):n(e)}const YB=wi({provide:String,useValue:wi});function k_(t){return null!==t&&"object"==typeof t&&YB in t}function Ea(t){return"function"==typeof t}const O_=new Me(""),gf={},qB={};let P_;function _f(){return void 0===P_&&(P_=new hf),P_}class Gn{}class Ul extends Gn{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,N_(n,s=>this.processProvider(s)),this.records.set(P1,zl(void 0,this)),r.has("environment")&&this.records.set(Gn,zl(void 0,this));const o=this.records.get(O_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(T_,oi,qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=h(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),h(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ks(this),i=Dr(void 0);try{return n()}finally{Ks(e),Dr(i)}}get(n,e=Dd,i=qt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(S1))return n[S1](this);i=cf(i);const o=Ks(this),s=Dr(void 0);try{if(!(i&qt.SkipSelf)){let l=this.records.get(n);if(void 0===l){const m=function JB(t){return"function"==typeof t||"object"==typeof t&&t instanceof Me}(n)&&rf(n);l=m&&this.injectableDefInScope(m)?zl(R_(n),gf):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(i&qt.Self?_f():this.parent).get(n,e=i&qt.Optional&&e===Dd?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[lf]=a[lf]||[]).unshift(En(n)),o)throw a;return function wB(t,n,e,i){const r=t[lf];throw n[I1]&&r.unshift(n[I1]),t.message=function xB(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=En(n);if(Array.isArray(n))r=n.map(En).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):En(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(bB,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[lf]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{Dr(s),Ks(o)}}resolveInjectorInitializers(){const n=h(null),e=Ks(this),i=Dr(void 0);try{const o=this.get(Ia,oi,qt.Self);for(const s of o)s()}finally{Ks(e),Dr(i),h(n)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(En(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(n){let e=Ea(n=It(n))?n:It(n&&n.provide);const i=function QB(t){return k_(t)?zl(void 0,t.useValue):zl(Y1(t),gf)}(n);if(!Ea(n)&&!0===n.multi){let r=this.records.get(e);r||(r=zl(void 0,gf,!0),r.factory=()=>w_(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){const i=h(null);try{return e.value===gf&&(e.value=qB,e.value=e.factory()),"object"==typeof e.value&&e.value&&function ZB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{h(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=It(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function R_(t){const n=rf(t),e=null!==n?n.factory:Da(t);if(null!==e)return e;if(t instanceof Me)throw new xe(204,!1);if(t instanceof Function)return function XB(t){if(t.length>0)throw new xe(204,!1);const e=function uB(t){return t&&(t[af]||t[C1])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new xe(204,!1)}function Y1(t,n,e){let i;if(Ea(t)){const r=It(t);return Da(r)||R_(r)}if(k_(t))i=()=>It(t.useValue);else if(function W1(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...w_(t.deps||[]));else if(function G1(t){return!(!t||!t.useExisting)}(t))i=()=>ve(It(t.useExisting));else{const r=It(t&&(t.useClass||t.provide));if(!function KB(t){return!!t.deps}(t))return Da(r)||R_(r);i=()=>new r(...w_(t.deps))}return i}function zl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function N_(t,n){for(const e of t)Array.isArray(e)?N_(e,n):e&&__(e)?N_(e.\u0275providers,n):n(e)}function Xo(t,n){t instanceof Ul&&t.assertNotDestroyed();const i=Ks(t),r=Dr(void 0);try{return n()}finally{Ks(i),Dr(r)}}function $1(){return void 0!==T1()||null!=function yB(){return Bl}()}function kd(t){if(!$1())throw new xe(-203,!1)}const Wi=0,$e=1,mt=2,tn=3,vo=4,tr=5,Ur=6,Wl=7,Fi=8,_n=9,yo=10,Mt=11,Pd=12,X1=13,Yl=14,Xi=15,Rd=16,$l=17,Ss=18,Nd=19,Q1=20,ea=21,vf=22,Ma=23,Ft=25,L_=1,Qo=7,ql=9,nn=10;var B_=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(B_||{});function ir(t){return Array.isArray(t)&&"object"==typeof t[L_]}function nr(t){return Array.isArray(t)&&!0===t[L_]}function V_(t){return!!(4&t.flags)}function ka(t){return t.componentOffset>-1}function Af(t){return!(1&~t.flags)}function Ao(t){return!!t.template}function H_(t){return!!(512&t[mt])}class f3{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ew(t,n,e,i){null!==n?n.applyValueToInputSignal(n,i):t[e]=i}function bi(){return tw}function tw(t){return t.type.prototype.ngOnChanges&&(t.setInput=m3),p3}function p3(){const t=nw(this),n=t?.current;if(n){const e=t.previous;if(e===qo)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function m3(t,n,e,i,r){const o=this.declaredInputs[i],s=nw(t)||function g3(t,n){return t[iw]=n}(t,{previous:qo,current:null}),a=s.current||(s.current={}),l=s.previous,m=l[o];a[o]=new f3(m&&m.currentValue,e,l===qo),ew(t,n,r,e)}bi.ngInherit=!0;const iw="__ngSimpleChanges__";function nw(t){return t[iw]||null}const Ko=function(t,n,e){},rw="svg";let sw=!1;function Ii(t){for(;Array.isArray(t);)t=t[Wi];return t}function Ld(t,n){return Ii(n[t])}function pr(t,n){return Ii(n[t.index])}function Bd(t,n){return t.data[n]}function Xl(t,n){return t[n]}function zr(t,n){const e=n[t];return ir(e)?e:e[Wi]}function W_(t){return!(128&~t[mt])}function Zo(t,n){return null==n?null:t[n]}function aw(t){t[$l]=0}function C3(t){1024&t[mt]||(t[mt]|=1024,W_(t)&&Vd(t))}function Y_(t){return!!(9216&t[mt]||t[Ma]?.dirty)}function $_(t){t[yo].changeDetectionScheduler?.notify(1),Y_(t)?Vd(t):64&t[mt]&&(function b3(){return sw}()?(t[mt]|=1024,Vd(t)):t[yo].changeDetectionScheduler?.notify())}function Vd(t){t[yo].changeDetectionScheduler?.notify();let n=Oa(t);for(;null!==n&&!(8192&n[mt])&&(n[mt]|=8192,W_(n));)n=Oa(n)}function Cf(t,n){if(!(256&~t[mt]))throw new xe(911,!1);null===t[ea]&&(t[ea]=[]),t[ea].push(n)}function Oa(t){const n=t[tn];return nr(n)?n[tn]:n}const kt={lFrame:_w(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dw(){return kt.bindingsEnabled}function Ql(){return null!==kt.skipHydrationRootTNode}function Ne(){return kt.lFrame.lView}function Xt(){return kt.lFrame.tView}function z(t){return kt.lFrame.contextLView=t,t[Fi]}function G(t){return kt.lFrame.contextLView=null,t}function xi(){let t=uw();for(;null!==t&&64===t.type;)t=t.parent;return t}function uw(){return kt.lFrame.currentTNode}function Hd(){const t=kt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Jo(t,n){const e=kt.lFrame;e.currentTNode=t,e.isParent=n}function X_(){return kt.lFrame.isParent}function Q_(){kt.lFrame.isParent=!1}function mr(){const t=kt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ts(){return kt.lFrame.bindingIndex}function Co(){return kt.lFrame.bindingIndex++}function Ds(t){const n=kt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function pw(t){kt.lFrame.inI18n=t}function P3(t,n){const e=kt.lFrame;e.bindingIndex=e.bindingRootIndex=t,K_(n)}function K_(t){kt.lFrame.currentDirectiveIndex=t}function Z_(t){const n=kt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function J_(){return kt.lFrame.currentQueryIndex}function wf(t){kt.lFrame.currentQueryIndex=t}function N3(t){const n=t[$e];return 2===n.type?n.declTNode:1===n.type?t[tr]:null}function mw(t,n,e){if(e&qt.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&qt.Host||(r=N3(o),null===r||(o=o[Yl],10&r.type))););if(null===r)return!1;n=r,t=o}const i=kt.lFrame=gw();return i.currentTNode=n,i.lView=t,!0}function eb(t){const n=gw(),e=t[$e];kt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function gw(){const t=kt.lFrame,n=null===t?null:t.child;return null===n?_w(t):n}function _w(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function bw(){const t=kt.lFrame;return kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vw=bw;function tb(){const t=bw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rr(){return kt.lFrame.selectedIndex}function Pa(t){kt.lFrame.selectedIndex=t}function Li(){const t=kt.lFrame;return Bd(t.tView,t.selectedIndex)}function ib(){kt.lFrame.currentNamespace=rw}let Aw=!0;function jd(){return Aw}function es(t){Aw=t}function xf(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:m,ngOnDestroy:A}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),m&&((t.viewHooks??=[]).push(e,m),(t.viewCheckHooks??=[]).push(e,m)),null!=A&&(t.destroyHooks??=[]).push(e,A)}}function Sf(t,n,e){Cw(t,n,3,e)}function Tf(t,n,e,i){(3&t[mt])===e&&Cw(t,n,e,i)}function nb(t,n){let e=t[mt];(3&e)===n&&(e&=16383,e+=1,t[mt]=e)}function Cw(t,n,e,i){const o=i??-1,s=n.length-1;let a=0;for(let l=void 0!==i?65535&t[$l]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(t[$l]+=65536),(a<o||-1==o)&&(j3(t,e,n,l),t[$l]=(4294901760&t[$l])+l+2),l++}function ww(t,n){Ko(4,t,n);const e=h(null);try{n.call(t)}finally{h(e),Ko(5,t,n)}}function j3(t,n,e,i){const r=e[i]<0,o=e[i+1],a=t[r?-e[i]:e[i]];r?t[mt]>>14<t[$l]>>16&&(3&t[mt])===n&&(t[mt]+=16384,ww(a,o)):ww(a,o)}const Kl=-1;class Ud{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function ob(t){return t!==Kl}function zd(t){return 32767&t}function Gd(t,n){let e=function Y3(t){return t>>16}(t),i=n;for(;e>0;)i=i[Yl],e--;return i}let sb=!0;function Df(t){const n=sb;return sb=t,n}const xw=255,Sw=5;let $3=0;const ts={};function If(t,n){const e=Tw(t,n);if(-1!==e)return e;const i=n[$e];i.firstCreatePass&&(t.injectorIndex=n.length,ab(i.data,t),ab(n,null),ab(i.blueprint,null));const r=Ef(t,n),o=t.injectorIndex;if(ob(r)){const s=zd(r),a=Gd(r,n),l=a[$e].data;for(let m=0;m<8;m++)n[o+m]=a[s+m]|l[s+m]}return n[o+8]=r,o}function ab(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Tw(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ef(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=Pw(r),null===i)return Kl;if(e++,r=r[Yl],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Kl}function lb(t,n,e){!function q3(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Td)&&(i=e[Td]),null==i&&(i=e[Td]=$3++);const r=i&xw;n.data[t+(r>>Sw)]|=1<<r}(t,n,e)}function Dw(t,n,e){if(e&qt.Optional||void 0!==t)return t;y_()}function Iw(t,n,e,i){if(e&qt.Optional&&void 0===i&&(i=null),!(e&(qt.Self|qt.Host))){const r=t[_n],o=Dr(void 0);try{return r?r.get(n,i,e&qt.Optional):D1(n,i,e&qt.Optional)}finally{Dr(o)}}return Dw(i,0,e)}function Ew(t,n,e,i=qt.Default,r){if(null!==t){if(2048&n[mt]&&!(i&qt.Self)){const s=function J3(t,n,e,i,r){let o=t,s=n;for(;null!==o&&null!==s&&2048&s[mt]&&!(512&s[mt]);){const a=Mw(o,s,e,i|qt.Self,ts);if(a!==ts)return a;let l=o.parent;if(!l){const m=s[Q1];if(m){const A=m.get(e,ts,i);if(A!==ts)return A}l=Pw(s),s=s[Yl]}o=l}return r}(t,n,e,i,ts);if(s!==ts)return s}const o=Mw(t,n,e,i,ts);if(o!==ts)return o}return Iw(n,e,i,r)}function Mw(t,n,e,i,r){const o=function K3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Td)?t[Td]:void 0;return"number"==typeof n?n>=0?n&xw:Z3:n}(e);if("function"==typeof o){if(!mw(n,t,i))return i&qt.Host?Dw(r,0,i):Iw(n,e,i,r);try{let s;if(s=o(i),null!=s||i&qt.Optional)return s;y_()}finally{vw()}}else if("number"==typeof o){let s=null,a=Tw(t,n),l=Kl,m=i&qt.Host?n[Xi][tr]:null;for((-1===a||i&qt.SkipSelf)&&(l=-1===a?Ef(t,n):n[a+8],l!==Kl&&Ow(i,!1)?(s=n[$e],a=zd(l),n=Gd(l,n)):a=-1);-1!==a;){const A=n[$e];if(kw(o,a,A.data)){const S=Q3(a,n,e,s,i,m);if(S!==ts)return S}l=n[a+8],l!==Kl&&Ow(i,n[$e].data[a+8]===m)&&kw(o,a,n)?(s=A,a=zd(l),n=Gd(l,n)):a=-1}}return r}function Q3(t,n,e,i,r,o){const s=n[$e],a=s.data[t+8],A=Mf(a,s,e,null==i?ka(a)&&sb:i!=s&&!!(3&a.type),r&qt.Host&&o===a);return null!==A?Ra(n,s,A,a):ts}function Mf(t,n,e,i,r){const o=t.providerIndexes,s=n.data,a=1048575&o,l=t.directiveStart,A=o>>20,P=r?a+A:t.directiveEnd;for(let N=i?a:a+A;N<P;N++){const L=s[N];if(N<l&&e===L||N>=l&&L.type===e)return N}if(r){const N=s[l];if(N&&Ao(N)&&N.type===e)return l}return null}function Ra(t,n,e,i){let r=t[e];const o=n.data;if(function U3(t){return t instanceof Ud}(r)){const s=r;s.resolving&&function mB(t,n){throw n&&n.join(" > "),new xe(-200,t)}(function ui(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Nt(t)}(o[e]));const a=Df(s.canSeeViewProviders);s.resolving=!0;const m=s.injectImpl?Dr(s.injectImpl):null;mw(t,i,qt.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function H3(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=tw(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==m&&Dr(m),Df(a),s.resolving=!1,vw()}}return r}function kw(t,n,e){return!!(e[n+(t>>Sw)]&1<<t)}function Ow(t,n){return!(t&qt.Self||t&qt.Host&&n)}class On{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Ew(this._tNode,this._lView,n,cf(i),e)}}function Z3(){return new On(xi(),Ne())}function li(t){return ws(()=>{const n=t.prototype.constructor,e=n[xs]||cb(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[xs]||cb(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function cb(t){return nf(t)?()=>{const n=cb(It(t));return n&&n()}:Da(t)}function Pw(t){const n=t[$e],e=n.type;return 2===e?n.declTNode:1===e?t[tr]:null}function wo(t){return function X3(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(R1(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===n)return e[r+1];r+=2}}}return null}(xi(),t)}function Bw(t,n=null,e=null,i){const r=Vw(t,n,e,i);return r.resolveInjectorInitializers(),r}function Vw(t,n=null,e=null,i,r=new Set){const o=[e||oi,WB(t)];return i=i||("object"==typeof t?void 0:En(t)),new Ul(o,n||_f(),i||null,r)}let ci=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Dd}static{this.NULL=new hf}static create(e,i){if(Array.isArray(e))return Bw({name:""},i,e,"");{const r=e.name??"";return Bw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Te({token:t,providedIn:"any",factory:()=>ve(P1)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function ub(t){return t.ngOriginalError}class Gr{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&ub(n);for(;e&&ub(e);)e=ub(e);return e||null}}const jw=new Me("",{providedIn:"root",factory:()=>Q(Gr).handleError.bind(void 0)});let xo=(()=>{class t{static{this.__NG_ELEMENT_ID__=lV}static{this.__NG_ENV_ID__=e=>e}}return t})();class aV extends xo{constructor(n){super(),this._lView=n}onDestroy(n){return Cf(this._lView,n),()=>function q_(t,n){if(null===t[ea])return;const e=t[ea].indexOf(n);-1!==e&&t[ea].splice(e,1)}(this._lView,n)}}function lV(){return new aV(Ne())}function cV(){return ec(xi(),Ne())}function ec(t,n){return new Xe(pr(t,n))}let Xe=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=cV}}return t})();function zw(t){return t instanceof Xe?t.nativeElement:t}function hb(t){return n=>{setTimeout(t,void 0,n)}}const Fe=class dV extends Ye{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,$1()&&(this.destroyRef=Q(xo,{optional:!0})??void 0)}emit(n){const e=h(null);try{super.next(n)}finally{h(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=hb(o),r&&(r=hb(r)),s&&(s=hb(s)));const a=super.subscribe({next:r,error:o,complete:s});return n instanceof me&&n.add(a),a}};function uV(){return this._results[Symbol.iterator]()}class Is{get changes(){return this._changes??=new Fe}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=Is.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=uV)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const i=function Ir(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function IB(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Of(t){return!(128&~t.flags)}const fb=new Map;let fV=0;const mb="__ngContext__";function or(t,n){ir(n)?(t[mb]=n[Nd],function mV(t){fb.set(t[Nd],t)}(n)):t[mb]=n}function Jw(t){return tx(t[Pd])}function ex(t){return tx(t[vo])}function tx(t){for(;null!==t&&!nr(t);)t=t[vo];return t}let gb;function ta(){if(void 0!==gb)return gb;if(typeof document<"u")return document;throw new xe(210,!1)}const $d=new Me("",{providedIn:"root",factory:()=>PV}),PV="ng",cx=new Me(""),So=new Me("",{providedIn:"platform",factory:()=>"unknown"}),Wn=new Me(""),_b=new Me("",{providedIn:"root",factory:()=>ta().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dx=()=>null;function Sb(t,n,e=!1){return dx(t,n,e)}const mx=new Me("",{providedIn:"root",factory:()=>!1});let jf,Uf;function nc(t){return function Eb(){if(void 0===jf&&(jf=null,_i.trustedTypes))try{jf=_i.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jf}()?.createHTML(t)||t}function Mb(){if(void 0===Uf&&(Uf=null,_i.trustedTypes))try{Uf=_i.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Uf}function _x(t){return Mb()?.createHTML(t)||t}function vx(t){return Mb()?.createScriptURL(t)||t}class Na{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_1})`}}class $V extends Na{getTypeName(){return"HTML"}}class qV extends Na{getTypeName(){return"Style"}}class XV extends Na{getTypeName(){return"Script"}}class QV extends Na{getTypeName(){return"URL"}}class KV extends Na{getTypeName(){return"ResourceURL"}}function Wr(t){return t instanceof Na?t.changingThisBreaksApplicationSecurity:t}function is(t,n){const e=function ZV(t){return t instanceof Na&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${_1})`)}return e===n}function yx(t){const n=new o5(t);return function s5(){try{return!!(new window.DOMParser).parseFromString(nc(""),"text/html")}catch{return!1}}()?new r5(n):n}class r5{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(nc(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class o5{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=nc(n),e}}const a5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zf(t){return(t=String(t)).match(a5)?t:"unsafe:"+t}function Es(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Zd(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const Ax=Es("area,br,col,hr,img,wbr"),Cx=Es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wx=Es("rp,rt"),kb=Zd(Ax,Zd(Cx,Es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zd(wx,Es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zd(wx,Cx)),Ob=Es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xx=Zd(Ob,Es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),l5=Es("script,style,template");class c5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)r.push(e),e=h5(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=u5(e);if(o){e=o;break}e=r.pop()}return this.buf.join("")}startElement(n){const e=Sx(n).toLowerCase();if(!kb.hasOwnProperty(e))return this.sanitizedSomething=!0,!l5.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!xx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Ob[a]&&(l=zf(l)),this.buf.push(" ",s,'="',Dx(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=Sx(n).toLowerCase();kb.hasOwnProperty(e)&&!Ax.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Dx(n))}}function u5(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw Tx(n);return n}function h5(t){const n=t.firstChild;if(n&&function d5(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw Tx(n);return n}function Sx(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function Tx(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const f5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p5=/([^\#-~ |!])/g;function Dx(t){return t.replace(/&/g,"&amp;").replace(f5,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(p5,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gf;function Ix(t,n){let e=null;try{Gf=Gf||yx(t);let i=n?String(n):"";e=Gf.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Gf.getInertBodyElement(i)}while(i!==o);return nc((new c5).sanitizeChildren(Pb(e)||e))}finally{if(e){const i=Pb(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Pb(t){return"content"in t&&function m5(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Yn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yn||{});function Wf(t){const n=Jd();return n?_x(n.sanitize(Yn.HTML,t)||""):is(t,"HTML")?_x(Wr(t)):Ix(ta(),Nt(t))}function Jt(t){const n=Jd();return n?n.sanitize(Yn.URL,t)||"":is(t,"URL")?Wr(t):zf(Nt(t))}function Ex(t){const n=Jd();if(n)return vx(n.sanitize(Yn.RESOURCE_URL,t)||"");if(is(t,"ResourceURL"))return vx(Wr(t));throw new xe(904,!1)}function Jd(){const t=Ne();return t&&t[yo].sanitizer}const A5=/^>|^->|<!--|-->|--!>|<!-$/g,C5=/(<|>)/g,w5="\u200b$1\u200b";function Rx(t){return t.ownerDocument.defaultView}function Lb(t){return t.ownerDocument}function Yr(t){return t instanceof Function?t():t}var ia=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ia||{});let Bb;function Vb(t,n){return Bb(t,n)}function oc(t,n,e,i,r){if(null!=i){let o,s=!1;nr(i)?o=i:ir(i)&&(s=!0,i=i[Wi]);const a=Ii(i);0===t&&null!==e?null==r?zx(n,e,a):Fa(n,e,a,r||null,!0):1===t&&null!==e?Fa(n,e,a,r||null,!0):2===t?iu(n,a,s):3===t&&n.destroyNode(a),null!=o&&function z5(t,n,e,i,r){const o=e[Qo];o!==Ii(e)&&oc(n,t,i,o,r);for(let a=nn;a<e.length;a++){const l=e[a];Zf(l[$e],l,t,n,i,o)}}(n,t,o,e,r)}}function Hb(t,n){return t.createText(n)}function Vx(t,n,e){t.setValue(n,e)}function jb(t,n){return t.createComment(function kx(t){return t.replace(A5,n=>n.replace(C5,w5))}(n))}function qf(t,n,e){return t.createElement(n,e)}function Hx(t,n){n[yo].changeDetectionScheduler?.notify(1),Zf(t,n,n[Mt],2,null,null)}function jx(t,n){const e=t[ql],i=e.indexOf(n);e.splice(i,1)}function eu(t,n){if(t.length<=nn)return;const e=nn+n,i=t[e];if(i){const r=i[Rd];null!==r&&r!==t&&jx(r,i),n>0&&(t[e-1][vo]=i[vo]);const o=df(t,nn+n);!function P5(t,n){Hx(t,n),n[Wi]=null,n[tr]=null}(i[$e],i);const s=o[Ss];null!==s&&s.detachView(o[$e]),i[tn]=null,i[vo]=null,i[mt]&=-129}return i}function Xf(t,n){if(!(256&n[mt])){const e=n[Mt];e.destroyNode&&Zf(t,n,e,3,null,null),function N5(t){let n=t[Pd];if(!n)return Ub(t[$e],t);for(;n;){let e=null;if(ir(n))e=n[Pd];else{const i=n[nn];i&&(e=i)}if(!e){for(;n&&!n[vo]&&n!==t;)ir(n)&&Ub(n[$e],n),n=n[tn];null===n&&(n=t),ir(n)&&Ub(n[$e],n),e=n&&n[vo]}n=e}}(n)}}function Ub(t,n){if(256&n[mt])return;const e=h(null);try{n[mt]&=-129,n[mt]|=256,n[Ma]&&B(n[Ma]),function V5(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof Ud)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Ko(4,a,l);try{l.call(a)}finally{Ko(5,a,l)}}else{Ko(4,r,o);try{o.call(r)}finally{Ko(5,r,o)}}}}}(t,n),function B5(t,n){const e=t.cleanup,i=n[Wl];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(n[Wl]=null);const r=n[ea];if(null!==r){n[ea]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,n),1===n[$e].type&&n[Mt].destroy();const i=n[Rd];if(null!==i&&nr(n[tn])){i!==n[tn]&&jx(i,n);const r=n[Ss];null!==r&&r.detachView(t)}!function gV(t){fb.delete(t[Nd])}(n)}finally{h(e)}}function zb(t,n,e){return Ux(t,n.parent,e)}function Ux(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[Wi];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===_o.None||o===_o.Emulated)return null}return pr(i,e)}}function Fa(t,n,e,i,r){t.insertBefore(n,e,i,r)}function zx(t,n,e){t.appendChild(n,e)}function Gx(t,n,e,i,r){null!==i?Fa(t,n,e,i,r):zx(t,n,e)}function Qf(t,n){return t.parentNode(n)}function Wx(t,n,e){return $x(t,n,e)}function Yx(t,n,e){return 40&t.type?pr(t,e):null}let Gb,$x=Yx;function qx(t,n){$x=t,Gb=n}function Kf(t,n,e,i){const r=zb(t,i,n),o=n[Mt],a=Wx(i.parent||n[tr],i,n);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)Gx(o,r,e[l],a,!1);else Gx(o,r,e,a,!1);void 0!==Gb&&Gb(o,i,n,e,r)}function tu(t,n){if(null!==n){const e=n.type;if(3&e)return pr(n,t);if(4&e)return Wb(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return tu(t,i);{const r=t[n.index];return nr(r)?Wb(-1,r):Ii(r)}}if(32&e)return Vb(n,t)()||Ii(t[n.index]);{const i=Xx(t,n);return null!==i?Array.isArray(i)?i[0]:tu(Oa(t[Xi]),i):tu(t,n.next)}}return null}function Xx(t,n){return null!==n?t[Xi][tr].projection[n.projection]:null}function Wb(t,n){const e=nn+t+1;if(e<n.length){const i=n[e],r=i[$e].firstChild;if(null!==r)return tu(i,r)}return n[Qo]}function iu(t,n,e){const i=Qf(t,n);i&&function H5(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}function Yb(t,n,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===n&&(a&&or(Ii(a),i),e.flags|=2),32&~e.flags)if(8&l)Yb(t,n,e.child,i,r,o,!1),oc(n,t,r,a,o);else if(32&l){const m=Vb(e,i);let A;for(;A=m();)oc(n,t,r,A,o);oc(n,t,r,a,o)}else 16&l?Kx(t,n,i,e,r,o):oc(n,t,r,a,o);e=s?e.projectionNext:e.next}}function Zf(t,n,e,i,r,o){Yb(e,i,t.firstChild,n,r,o,!1)}function Kx(t,n,e,i,r,o){const s=e[Xi],l=s[tr].projection[i.projection];if(Array.isArray(l))for(let m=0;m<l.length;m++)oc(n,t,r,l[m],o);else{let m=l;const A=s[tn];Of(i)&&(m.flags|=128),Yb(t,n,m,A,r,o,!0)}}function Zx(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Jx(t,n,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&D_(t,n,i),null!==r&&Zx(t,n,r),null!==o&&function W5(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}const Vt={};function I(t=1){eS(Xt(),Ne(),rr()+t,!1)}function eS(t,n,e,i){if(!i)if(3&~n[mt]){const o=t.preOrderHooks;null!==o&&Tf(n,o,0,e)}else{const o=t.preOrderCheckHooks;null!==o&&Sf(n,o,e)}Pa(e)}function k(t,n=qt.Default){const e=Ne();return null===e?ve(t,n):Ew(xi(),e,It(t),n)}function $b(){throw new Error("invalid")}function tS(t,n,e,i,r,o){const s=h(null);try{let a=null;r&ke.SignalBased&&(a=n[i][y]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&ke.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),null!==t.setInput?t.setInput(n,a,o,e,i):ew(n,a,i,o)}finally{h(s)}}function Jf(t,n,e,i,r,o,s,a,l,m,A){const S=n.blueprint.slice();return S[Wi]=r,S[mt]=204|i,(null!==m||t&&2048&t[mt])&&(S[mt]|=2048),aw(S),S[tn]=S[Yl]=t,S[Fi]=e,S[yo]=s||t&&t[yo],S[Mt]=a||t&&t[Mt],S[_n]=l||t&&t[_n]||null,S[tr]=o,S[Nd]=function pV(){return fV++}(),S[Ur]=A,S[Q1]=m,S[Xi]=2==n.type?t[Xi]:S,S}function sc(t,n,e,i,r){let o=t.data[n];if(null===o)o=qb(t,n,e,i,r),function O3(){return kt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=Hd();o.injectorIndex=null===s?-1:s.injectorIndex}return Jo(o,!0),o}function qb(t,n,e,i,r){const o=uw(),s=X_(),l=t.data[n]=function J5(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,a=0;return Ql()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}function nu(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function iS(t,n,e,i,r){const o=rr(),s=2&i;try{Pa(-1),s&&n.length>Ft&&eS(t,n,Ft,!1),Ko(s?2:0,r),e(i,r)}finally{Pa(o),Ko(s?3:1,r)}}function Xb(t,n,e){if(V_(n)){const i=h(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{h(i)}}}function Qb(t,n,e){dw()&&(function sH(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;ka(e)&&function fH(t,n,e){const i=pr(n,t),r=nS(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=ep(t,Jf(t,r,null,s,i,n,null,t[yo].rendererFactory.createRenderer(i,e),null,null,null));t[n.index]=a}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||If(e,n),or(i,n);const s=e.initialInputs;for(let a=r;a<o;a++){const l=t.data[a],m=Ra(n,t,a,e);or(m,n),null!==s&&pH(0,a-r,m,l,0,s),Ao(l)&&(zr(e.index,n)[Fi]=Ra(n,t,a,e))}}(t,n,e,pr(e,n)),!(64&~e.flags)&&lS(t,n,e))}function Kb(t,n,e=pr){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(n,t):t[s];t[r++]=a}}}function nS(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Zb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Zb(t,n,e,i,r,o,s,a,l,m,A){const S=Ft+i,P=S+r,N=function $5(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Vt);return e}(S,P),L="function"==typeof m?m():m;return N[$e]={type:t,blueprint:N,template:e,queries:null,viewQuery:a,declTNode:n,data:N.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:L,incompleteFirstPass:!1,ssrId:A}}let rS=()=>null;function oS(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;const s=n[o];if(void 0===s)continue;i??={};let a,l=ke.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let m=o;if(null!==r){if(!r.hasOwnProperty(o))continue;m=r[o]}0===t?sS(i,e,m,a,l):sS(i,e,m,a)}return i}function sS(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],void 0!==r&&o.push(r)}function kr(t,n,e,i,r,o,s,a){const l=pr(n,e);let A,m=n.inputs;!a&&null!=m&&(A=m[i])?(nv(t,e,A,i,r),ka(n)&&function iH(t,n){const e=zr(n,t);16&e[mt]||(e[mt]|=64)}(e,n.index)):3&n.type&&(i=function tH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(l,i,r))}function Jb(t,n,e,i){if(dw()){const r=null===i?null:{"":-1},o=function lH(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(B1(n,s.selectors,!1))if(i||(i=[]),Ao(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),ev(t,n,a.length)}else i.unshift(s),ev(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(t,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&aS(t,n,e,s,r,a),r&&function cH(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new xe(-301,!1);i.push(n[r],o)}}}(e,i,r)}e.mergedAttrs=Ed(e.mergedAttrs,e.attrs)}function aS(t,n,e,i,r,o){for(let m=0;m<i.length;m++)lb(If(e,n),t,i[m].type);!function uH(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let m=0;m<i.length;m++){const A=i[m];A.providersResolver&&A.providersResolver(A)}let s=!1,a=!1,l=nu(t,n,i.length,null);for(let m=0;m<i.length;m++){const A=i[m];e.mergedAttrs=Ed(e.mergedAttrs,A.hostAttrs),hH(t,e,n,l,A),dH(l,A,r),null!==A.contentQueries&&(e.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(e.flags|=64);const S=A.type.prototype;!s&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function eH(t,n,e){const r=n.directiveEnd,o=t.data,s=n.attrs,a=[];let l=null,m=null;for(let A=n.directiveStart;A<r;A++){const S=o[A],P=e?e.get(S):null,L=P?P.outputs:null;l=oS(0,S.inputs,A,l,P?P.inputs:null),m=oS(1,S.outputs,A,m,L);const V=null===l||null===s||I_(n)?null:mH(l,A,s);a.push(V)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=m}(t,e,o)}function lS(t,n,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function R3(){return kt.lFrame.currentDirectiveIndex}();try{Pa(o);for(let a=i;a<r;a++){const l=t.data[a],m=n[a];K_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&aH(l,m)}}finally{Pa(-1),K_(s)}}function aH(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function ev(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function dH(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Ao(n)&&(e[""]=t)}}function hH(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=Da(r.type)),s=new Ud(o,Ao(r),k);t.blueprint[i]=s,e[i]=s,function rH(t,n,e,i,r){const o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~n.index;(function oH(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(t,n,i,nu(t,e,r.hostVars,Vt),r)}function tv(t,n,e,i,r,o,s){if(null==o)t.removeAttribute(n,r,e);else{const a=null==s?Nt(o):s(o,i||"",r);t.setAttribute(n,r,a,e)}}function pH(t,n,e,i,r,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)tS(i,e,s[a++],s[a++],s[a++],s[a++])}function mH(t,n,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function cS(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function dS(t,n){const e=t.contentQueries;if(null!==e){const i=h(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const a=t.data[s];wf(e[r]),a.contentQueries(2,n[s],s)}}}finally{h(i)}}}function ep(t,n){return t[Pd]?t[X1][vo]=n:t[Pd]=n,t[X1]=n,n}function iv(t,n,e){wf(0);const i=h(null);try{n(t,e)}finally{h(i)}}function uS(t){return t[Wl]||(t[Wl]=[])}function hS(t){return t.cleanup||(t.cleanup=[])}function fS(t,n,e){return(null===t||Ao(t))&&(e=function G_(t){for(;Array.isArray(t);){if("object"==typeof t[L_])return t;t=t[Wi]}return null}(e[n.index])),e[Mt]}function tp(t,n){const e=t[_n],i=e?e.get(Gr,null):null;i&&i.handleError(n)}function nv(t,n,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=e[o++];tS(t.data[s],n[s],i,a,l,r)}}function Ms(t,n,e){const i=Ld(n,t);Vx(t[Mt],i,e)}function gH(t,n){const e=zr(n,t),i=e[$e];!function _H(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const r=e[Wi];null!==r&&null===e[Ur]&&(e[Ur]=Sb(r,e[_n])),rv(i,e,e[Fi])}function rv(t,n,e){eb(n);try{const i=t.viewQuery;null!==i&&iv(1,i,e);const r=t.template;null!==r&&iS(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Ss]?.finishViewCreation(t),t.staticContentQueries&&dS(t,n),t.staticViewQueries&&iv(2,t.viewQuery,e);const o=t.components;null!==o&&function bH(t,n){for(let e=0;e<n.length;e++)gH(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[mt]&=-5,tb()}}function ru(t,n,e,i){const r=h(null);try{const o=n.tView,l=Jf(t,o,e,4096&t[mt]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[Rd]=t[n.index];const A=t[Ss];return null!==A&&(l[Ss]=A.createEmbeddedView(o)),rv(o,l,e),l}finally{h(r)}}function pS(t,n){const e=nn+n;if(e<t.length)return t[e]}function ac(t,n){return!n||null===n.firstChild||Of(t)}function ou(t,n,e,i=!0){const r=n[$e];if(function F5(t,n,e,i){const r=nn+i,o=e.length;i>0&&(e[r-1][vo]=n),i<o-nn?(n[vo]=e[r],M1(e,nn+i,n)):(e.push(n),n[vo]=null),n[tn]=e;const s=n[Rd];null!==s&&e!==s&&function L5(t,n){const e=t[ql];n[Xi]!==n[tn][tn][Xi]&&(t[mt]|=B_.HasTransplantedViews),null===e?t[ql]=[n]:e.push(n)}(s,n);const a=n[Ss];null!==a&&a.insertView(t),$_(n),n[mt]|=128}(r,n,t,e),i){const s=Wb(e,t),a=n[Mt],l=Qf(a,t[Qo]);null!==l&&function R5(t,n,e,i,r,o){i[Wi]=r,i[tr]=n,Zf(t,i,e,1,r,o)}(r,t[tr],a,n,l,s)}const o=n[Ur];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function ov(t,n){const e=eu(t,n);return void 0!==e&&Xf(e[$e],e),e}function su(t,n,e,i,r=!1){for(;null!==e;){const o=n[e.index];null!==o&&i.push(Ii(o)),nr(o)&&mS(o,i);const s=e.type;if(8&s)su(t,n,e.child,i);else if(32&s){const a=Vb(e,n);let l;for(;l=a();)i.push(l)}else if(16&s){const a=Xx(n,e);if(Array.isArray(a))i.push(...a);else{const l=Oa(n[Xi]);su(l[$e],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function mS(t,n){for(let e=nn;e<t.length;e++){const i=t[e],r=i[$e].firstChild;null!==r&&su(i[$e],i,r,n)}t[Qo]!==t[Wi]&&n.push(t[Qo])}let gS=[];const CH={...u,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vd(t.lView)},consumerOnSignalRead(){this.lView[Ma]=this}},_S=100;function ip(t,n=!0,e=0){const i=t[yo],r=i.rendererFactory;r.begin?.();try{!function wH(t,n){sv(t,n);let e=0;for(;Y_(t);){if(e===_S)throw new xe(103,!1);e++,sv(t,1)}}(t,e)}catch(s){throw n&&tp(t,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function xH(t,n,e,i){const r=n[mt];if(!(256&~r))return;n[yo].inlineEffectRunner?.flush(),eb(n);let s=null,a=null;(function SH(t){return 2!==t.type})(t)&&(a=function vH(t){return t[Ma]??function yH(t){const n=gS.pop()??Object.create(CH);return n.lView=t,n}(t)}(n),s=D(a));try{aw(n),function fw(t){return kt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&iS(t,n,e,2,i);const l=!(3&~r);if(l){const S=t.preOrderCheckHooks;null!==S&&Sf(n,S,null)}else{const S=t.preOrderHooks;null!==S&&Tf(n,S,0,null),nb(n,0)}if(function TH(t){for(let n=Jw(t);null!==n;n=ex(n)){if(!(n[mt]&B_.HasTransplantedViews))continue;const e=n[ql];for(let i=0;i<e.length;i++){C3(e[i])}}}(n),bS(n,0),null!==t.contentQueries&&dS(t,n),l){const S=t.contentCheckHooks;null!==S&&Sf(n,S)}else{const S=t.contentHooks;null!==S&&Tf(n,S,1),nb(n,1)}!function Y5(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Pa(~r);else{const o=r,s=e[++i],a=e[++i];P3(s,o),a(2,n[o])}}}finally{Pa(-1)}}(t,n);const m=t.components;null!==m&&yS(n,m,0);const A=t.viewQuery;if(null!==A&&iv(2,A,i),l){const S=t.viewCheckHooks;null!==S&&Sf(n,S)}else{const S=t.viewHooks;null!==S&&Tf(n,S,2),nb(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[vf]){for(const S of n[vf])S();n[vf]=null}n[mt]&=-73}catch(l){throw Vd(n),l}finally{null!==a&&(E(a,s),function AH(t){t.lView[Ma]!==t&&(t.lView=null,gS.push(t))}(a)),tb()}}function bS(t,n){for(let e=Jw(t);null!==e;e=ex(e))for(let i=nn;i<e.length;i++)vS(e[i],n)}function DH(t,n,e){vS(zr(n,t),e)}function vS(t,n){W_(t)&&sv(t,n)}function sv(t,n){const i=t[$e],r=t[mt],o=t[Ma];let s=!!(0===n&&16&r);if(s||=!!(64&r&&0===n),s||=!!(1024&r),s||=!(!o?.dirty||!R(o)),o&&(o.dirty=!1),t[mt]&=-9217,s)xH(i,t,i.template,t[Fi]);else if(8192&r){bS(t,1);const a=i.components;null!==a&&yS(t,a,1)}}function yS(t,n,e){for(let i=0;i<n.length;i++)DH(t,n[i],e)}function au(t){for(t[yo].changeDetectionScheduler?.notify();t;){t[mt]|=64;const n=Oa(t);if(H_(t)&&!n)return t;t=n}return null}class lu{get rootNodes(){const n=this._lView,e=n[$e];return su(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fi]}set context(n){this._lView[Fi]=n}get destroyed(){return!(256&~this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[tn];if(nr(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(eu(n,i),df(e,i))}this._attachedToViewContainer=!1}Xf(this._lView[$e],this._lView)}onDestroy(n){Cf(this._lView,n)}markForCheck(){au(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-129}reattach(){$_(this._lView),this._lView[mt]|=128}detectChanges(){this._lView[mt]|=1024,ip(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Hx(this._lView[$e],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=n,$_(this._lView)}}let si=(()=>{class t{static{this.__NG_ELEMENT_ID__=MH}}return t})();const IH=si,EH=class extends IH{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){const r=ru(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new lu(r)}};function MH(){return np(xi(),Ne())}function np(t,n){return 4&t.type?new EH(n,t,ec(t,n)):null}let TS=()=>null;function lc(t,n){return TS(t,n)}class lp{}class ej{}class DS{}class ij{resolveComponentFactory(n){throw function tj(t){const n=Error(`No component factory found for ${En(t)}.`);return n.ngComponent=t,n}(n)}}let na=(()=>{class t{static{this.NULL=new ij}}return t})();class hv{}let Do=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function nj(){const t=Ne(),e=zr(xi().index,t);return(ir(e)?e:t)[Mt]}()}}return t})(),rj=(()=>{class t{static{this.\u0275prov=Te({token:t,providedIn:"root",factory:()=>null})}}return t})();const fv={},ES=new Set;function rs(t){ES.has(t)||(ES.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function MS(...t){}class Je{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function oj(){const t="function"==typeof _i.requestAnimationFrame;let n=_i[t?"requestAnimationFrame":"setTimeout"],e=_i[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function lj(t){const n=()=>{!function aj(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_i,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mv(t),t.isCheckStableRunning=!0,pv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function cj(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return kS(t),e.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),OS(t)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return kS(t),e.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),OS(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,mv(t),pv(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Je.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Je.isInAngularZone())throw new xe(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,sj,MS,MS);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const sj={};function pv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function kS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OS(t){t._nesting--,pv(t)}class PS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}var La=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(La||{});const RS={destroy(){}};function _v(t,n){!n&&kd();const e=n?.injector??Q(ci);if(!function To(t){return"browser"===(t??Q(ci)).get(So)}(e))return RS;rs("NgAfterNextRender");const i=e.get(fu),r=i.handler??=new FS,o=n?.phase??La.MixedReadWrite,s=()=>{r.unregister(l),a()},a=e.get(xo).onDestroy(s),l=Xo(e,()=>new NS(o,()=>{s(),t()}));return r.register(l),{destroy:s}}class NS{constructor(n,e){this.phase=n,this.callbackFn=e,this.zone=Q(Je),this.errorHandler=Q(Gr,{optional:!0}),Q(lp,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class FS{constructor(){this.executingCallbacks=!1,this.buckets={[La.EarlyRead]:new Set,[La.Write]:new Set,[La.MixedReadWrite]:new Set,[La.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const e of n)e.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let fu=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Te({token:t,providedIn:"root",factory:()=>new t})}}return t})();function dp(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?r=u_(r,a):2==o&&(i=u_(i,a+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}class VS extends na{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Wt(n);return new gu(e,this.ngModule)}}function HS(t){const n=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const i=t[e];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return n}class up{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=cf(i);const r=this.injector.get(n,fv,i);return r!==fv||e===fv?r:this.parentInjector.get(n,e,i)}}class gu extends DS{get inputs(){const n=this.componentDef,e=n.inputTransforms,i=HS(n.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return HS(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function VB(t){return t.map(BB).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){const o=h(null);try{let s=(r=r||this.ngModule)instanceof Gn?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new up(n,s):n,l=a.get(hv,null);if(null===l)throw new xe(407,!1);const m=a.get(rj,null),P={rendererFactory:l,sanitizer:m,inlineEffectRunner:null,afterRenderEventManager:a.get(fu,null),changeDetectionScheduler:a.get(lp,null)},N=l.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",V=i?function q5(t,n,e,i){const o=i.get(mx,!1)||e===_o.ShadowDom,s=t.selectRootElement(n,o);return function X5(t){rS(t)}(s),s}(N,i,this.componentDef.encapsulation,a):qf(N,L,function pj(t){const n=t.toLowerCase();return"svg"===n?rw:"math"===n?"math":null}(L));let K=512;this.componentDef.signals?K|=4096:this.componentDef.onPush||(K|=16);let re=null;null!==V&&(re=Sb(V,a,!0));const ae=Zb(0,null,null,1,0,null,null,null,null,null,null),He=Jf(null,ae,null,K,null,null,P,N,a,null,re);let Ue,Ke;eb(He);try{const et=this.componentDef;let ft,yt=null;et.findHostDirectiveDefs?(ft=[],yt=new Map,et.findHostDirectiveDefs(et,ft,yt),ft.push(et)):ft=[et];const gi=function gj(t,n){const e=t[$e],i=Ft;return t[i]=n,sc(e,i,2,"#host",null)}(He,V),yi=function _j(t,n,e,i,r,o,s){const a=r[$e];!function bj(t,n,e,i){for(const r of t)n.mergedAttrs=Ed(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(dp(n,n.mergedAttrs,!0),null!==e&&Jx(i,e,n))}(i,t,n,s);let l=null;null!==n&&(l=Sb(n,r[_n]));const m=o.rendererFactory.createRenderer(n,e);let A=16;e.signals?A=4096:e.onPush&&(A=64);const S=Jf(r,nS(e),null,A,r[t.index],t,o,m,null,null,l);return a.firstCreatePass&&ev(a,t,i.length-1),ep(r,S),r[t.index]=S}(gi,V,et,ft,He,P,N);Ke=Bd(ae,Ft),V&&function yj(t,n,e,i){if(i)D_(t,e,["ng-version","17.3.12"]);else{const{attrs:r,classes:o}=function HB(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!bo(r))break;r=o}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&D_(t,e,r),o&&o.length>0&&Zx(t,e,o.join(" "))}}(N,et,V,i),void 0!==e&&function Aj(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(Ke,this.ngContentSelectors,e),Ue=function vj(t,n,e,i,r,o){const s=xi(),a=r[$e],l=pr(s,r);aS(a,r,s,e,null,i);for(let A=0;A<e.length;A++)or(Ra(r,a,s.directiveStart+A,s),r);lS(a,r,s),l&&or(l,r);const m=Ra(r,a,s.directiveStart+s.componentOffset,s);if(t[Fi]=r[Fi]=m,null!==o)for(const A of o)A(m,n);return Xb(a,s,r),m}(yi,et,ft,yt,He,[Cj]),rv(ae,He,null)}finally{tb()}return new mj(this.componentType,Ue,ec(Ke,He),He,Ke)}finally{h(o)}}}class mj extends ej{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new lu(r,void 0,!1),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;nv(o[$e],o,r,n,e),this.previousInputValues.set(n,e),au(zr(this._tNode.index,o))}}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Cj(){const t=xi();xf(Ne()[$e],t)}let Qi=(()=>{class t{static{this.__NG_ELEMENT_ID__=wj}}return t})();function wj(){return zS(xi(),Ne())}const xj=Qi,jS=class extends xj{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return ec(this._hostTNode,this._hostLView)}get injector(){return new On(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ef(this._hostTNode,this._hostLView);if(ob(n)){const e=Gd(n,this._hostLView),i=zd(n);return new On(e[$e].data[i+8],e)}return new On(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=US(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(n,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=lc(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,ac(this._hostTNode,s)),a}createComponent(n,e,i,r,o){const s=n&&!function Od(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const L=e||{};a=L.index,i=L.injector,r=L.projectableNodes,o=L.environmentInjector||L.ngModuleRef}const l=s?n:new gu(Wt(n)),m=i||this.parentInjector;if(!o&&null==l.ngModule){const V=(s?m:this.parentInjector).get(Gn,null);V&&(o=V)}const A=Wt(l.componentType??{}),S=lc(this._lContainer,A?.id??null),N=l.create(m,r,S?.firstChild??null,o);return this.insertImpl(N.hostView,a,ac(this._hostTNode,S)),N}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){const r=n._lView;if(function A3(t){return nr(t[tn])}(r)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=r[tn],m=new jS(l,l[tr],l[tn]);m.detach(m.indexOf(n))}}const o=this._adjustIndex(e),s=this._lContainer;return ou(s,r,o,i),n.attachToViewContainerRef(),M1(yv(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=US(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=eu(this._lContainer,e);i&&(df(yv(this._lContainer),e),Xf(i[$e],i))}detach(n){const e=this._adjustIndex(n,-1),i=eu(this._lContainer,e);return i&&null!=df(yv(this._lContainer),e)?new lu(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function US(t){return t[8]}function yv(t){return t[8]||(t[8]=[])}function zS(t,n){let e;const i=n[t.index];return nr(i)?e=i:(e=cS(i,n,null,t),n[t.index]=e,ep(n,e)),GS(e,n,t,i),new jS(e,t,n)}let GS=function YS(t,n,e,i){if(t[Qo])return;let r;r=8&e.type?Ii(i):function Sj(t,n){const e=t[Mt],i=e.createComment(""),r=pr(n,t);return Fa(e,Qf(e,r),i,function j5(t,n){return t.nextSibling(n)}(e,r),!1),i}(n,e),t[Qo]=r},Av=()=>!1;class Cv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Cv(this.queryList)}setDirty(){this.queryList.setDirty()}}class wv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new wv(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==Iv(n,e).matches&&this.queries[e].setDirty()}}class $S{constructor(n,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof n?function Pj(t){return t.split(",").map(n=>n.trim())}(n):n}}class xv{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new xv(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Sv{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Sv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,Ej(e,o)),this.matchTNodeWithReadOption(n,e,Mf(e,n,o,!1,!1))}else i===si?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Mf(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xe||r===Qi||r===si&&4&e.type)this.addMatch(e.index,-2);else{const o=Mf(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function Ej(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function kj(t,n,e,i){return-1===e?function Mj(t,n){return 11&t.type?ec(t,n):4&t.type?np(t,n):null}(n,t):-2===e?function Oj(t,n,e){return e===Xe?ec(n,t):e===si?np(n,t):e===Qi?zS(n,t):void 0}(t,n,i):Ra(t,t[$e],e,n)}function qS(t,n,e,i){const r=n[Ss].queries[i];if(null===r.matches){const o=t.data,s=e.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const m=s[l];a.push(m<0?null:kj(n,o[m],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function Tv(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=qS(t,n,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const m=o[a+1],A=n[-l];for(let S=nn;S<A.length;S++){const P=A[S];P[Rd]===P[tn]&&Tv(P[$e],P,m,i)}if(null!==A[ql]){const S=A[ql];for(let P=0;P<S.length;P++){const N=S[P];Tv(N[$e],N,m,i)}}}}}return i}function XS(t,n,e){const i=new Is(!(4&~e));return function Z5(t,n,e,i){const r=uS(n);r.push(e),t.firstCreatePass&&hS(t).push(i,r.length-1)}(t,n,i,i.destroy),(n[Ss]??=new wv).queries.push(new Cv(i))-1}function ZS(t,n,e){null===t.queries&&(t.queries=new xv),t.queries.track(new Sv(n,e))}function Iv(t,n){return t.queries.getByIndex(n)}function JS(t,n){const e=t[$e],i=Iv(e,n);return i.crossesNgTemplate?Tv(e,t,n,[]):qS(e,t,i,n)}function hp(t){return"function"==typeof t&&void 0!==t[y]}function eT(t,n){rs("NgSignals");const e=function J(t){const n=Object.create(ge);n.value=t;const e=()=>(c(n),n.value);return e[y]=n,e}(t),i=e[y];return n?.equal&&(i.equal=n.equal),e.set=r=>U(i,r),e.update=r=>function de(t,n){v()||j(),U(t,n(t.value))}(i,r),e.asReadonly=tT.bind(e),e}function tT(){const t=this[y];if(void 0===t.readonlyFn){const n=()=>this();n[y]=t,t.readonlyFn=n}return t.readonlyFn}function iT(t){return hp(t)&&"function"==typeof t.set}function Ct(t){let n=function fT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(Ao(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new xe(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const s=t;s.inputs=pp(t.inputs),s.inputTransforms=pp(t.inputTransforms),s.declaredInputs=pp(t.declaredInputs),s.outputs=pp(t.outputs);const a=r.hostBindings;a&&qj(t,a);const l=r.viewQuery,m=r.contentQueries;if(l&&Yj(t,l),m&&$j(t,m),Gj(t,r),oB(t.outputs,r.outputs),Ao(r)&&r.data.animation){const A=t.data;A.animation=(A.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ct&&(e=!1)}}n=Object.getPrototypeOf(n)}!function Wj(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Ed(r.hostAttrs,e=Ed(e,r.hostAttrs))}}(i)}function Gj(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const i=n.inputs[e];if(void 0!==i&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function pp(t){return t===qo?{}:t===oi?[]:t}function Yj(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function $j(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function qj(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}function bn(t){const n=t.inputConfig,e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}t.inputTransforms=e}class Ba{}class _T{}class kv extends Ba{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VS(this);const r=er(n);this._bootstrapComponents=Yr(r.bootstrap),this._r3Injector=Vw(n,e,[{provide:Ba,useValue:this},{provide:na,useValue:this.componentFactoryResolver},...i],En(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ov extends _T{constructor(n){super(),this.moduleType=n}create(n){return new kv(this.moduleType,n,[])}}class bT extends Ba{constructor(n){super(),this.componentFactoryResolver=new VS(this),this.instance=null;const e=new Ul([...n.providers,{provide:Ba,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],n.parent||_f(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function mp(t,n,e=null){return new bT({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let sa=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _p(t){return!!Pv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Pv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function os(t,n,e){return t[n]=e}function rn(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Va(t,n,e,i){const r=rn(t,n,e);return rn(t,n+1,i)||r}function bp(t,n,e,i,r){const o=Va(t,n,e,i);return rn(t,n+2,r)||o}function Z(t,n,e,i,r,o,s,a){const l=Ne(),m=Xt(),A=t+Ft,S=m.firstCreatePass?function a4(t,n,e,i,r,o,s,a,l){const m=n.consts,A=sc(n,t,4,s||null,Zo(m,a));Jb(n,e,A,Zo(m,l)),xf(n,A);const S=A.tView=Zb(2,A,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,m,null);return null!==n.queries&&(n.queries.template(n,A),S.queries=n.queries.embeddedTView(A)),A}(A,m,l,n,e,i,r,o,s):m.data[A];Jo(S,!1);const P=vT(m,l,S,t);jd()&&Kf(m,l,P,S),or(P,l);const N=cS(P,l,P,S);return l[A]=N,ep(l,N),function WS(t,n,e){return Av(t,n,e)}(N,S,l),Af(S)&&Qb(m,l,S),null!=s&&Kb(l,S,a),Z}let vT=function yT(t,n,e,i){return es(!0),n[Mt].createComment("")};function pt(t,n,e,i){const r=Ne();return rn(r,Co(),n)&&(Xt(),function ns(t,n,e,i,r,o){const s=pr(t,n);tv(n[Mt],s,o,t.value,e,i,r)}(Li(),r,t,n,e,i)),pt}function _c(t,n,e,i){return rn(t,Co(),e)?n+Nt(e)+i:Vt}function bc(t,n,e,i,r,o){const a=Va(t,Ts(),e,r);return Ds(2),a?n+Nt(e)+i+Nt(r)+o:Vt}function yc(t,n,e,i,r,o,s,a,l,m){const S=function ro(t,n,e,i,r,o){const s=Va(t,n,e,i);return Va(t,n+2,r,o)||s}(t,Ts(),e,r,s,l);return Ds(4),S?n+Nt(e)+i+Nt(r)+o+Nt(s)+a+Nt(l)+m:Vt}function xp(t,n){return t<<17|n<<2}function la(t){return t>>17&32767}function zv(t){return 2|t}function ja(t){return(131068&t)>>2}function Gv(t,n){return-131069&t|n<<2}function Wv(t){return 1|t}function KT(t,n,e,i){const r=t[e+1],o=null===n;let s=i?la(r):ja(r),a=!1;for(;0!==s&&(!1===a||o);){const m=t[s+1];$4(t[s],n)&&(a=!0,t[s+1]=i?Wv(m):zv(m)),s=i?la(m):ja(m)}a&&(t[e+1]=i?zv(r):Wv(r))}function $4(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&jl(t,n)>=0}const Pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZT(t){return t.substring(Pn.key,Pn.keyEnd)}function JT(t,n){const e=Pn.textEnd;return e===n?-1:(n=Pn.keyEnd=function K4(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Pn.key=n,e),Sc(t,n,e))}function Sc(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function M(t,n,e){const i=Ne();return rn(i,Co(),n)&&kr(Xt(),Li(),i,t,n,i[Mt],e,!1),M}function Yv(t,n,e,i,r){const s=r?"class":"style";nv(t,e,n.inputs[s],s,i)}function ti(t,n,e){return Io(t,n,e,!1),ti}function Qe(t,n){return Io(t,n,null,!0),Qe}function vn(t){Eo(sU,as,t,!0)}function as(t,n){for(let e=function X4(t){return function tD(t){Pn.key=0,Pn.keyEnd=0,Pn.value=0,Pn.valueEnd=0,Pn.textEnd=t.length}(t),JT(t,Sc(t,0,Pn.textEnd))}(n);e>=0;e=JT(n,e))jr(t,ZT(n),!0)}function Io(t,n,e,i){const r=Ne(),o=Xt(),s=Ds(2);o.firstUpdatePass&&oD(o,t,s,i),n!==Vt&&rn(r,s,n)&&aD(o,o.data[rr()],r,r[Mt],t,r[s+1]=function lU(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=En(Wr(t)))),t}(n,e),i,s)}function Eo(t,n,e,i){const r=Xt(),o=Ds(2);r.firstUpdatePass&&oD(r,null,o,i);const s=Ne();if(e!==Vt&&rn(s,o,e)){const a=r.data[rr()];if(cD(a,i)&&!rD(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=u_(l,e||"")),Yv(r,a,s,e,i)}else!function aU(t,n,e,i,r,o,s,a){r===Vt&&(r=oi);let l=0,m=0,A=0<r.length?r[0]:null,S=0<o.length?o[0]:null;for(;null!==A||null!==S;){const P=l<r.length?r[l+1]:void 0,N=m<o.length?o[m+1]:void 0;let V,L=null;A===S?(l+=2,m+=2,P!==N&&(L=S,V=N)):null===S||null!==A&&A<S?(l+=2,L=A):(m+=2,L=S,V=N),null!==L&&aD(t,n,e,i,L,V,s,a),A=l<r.length?r[l]:null,S=m<o.length?o[m]:null}}(r,a,s,s[Mt],s[o+1],s[o+1]=function oU(t,n,e){if(null==e||""===e)return oi;const i=[],r=Wr(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,o)}}function rD(t,n){return n>=t.expandoStartIndex}function oD(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[rr()],s=rD(t,e);cD(o,i)&&null===n&&!s&&(n=!1),n=function tU(t,n,e,i){const r=Z_(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=wu(e=$v(null,t,n,e,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=$v(r,t,n,e,i),null===o){let l=function iU(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==ja(i))return t[la(i)]}(t,n,i);void 0!==l&&Array.isArray(l)&&(l=$v(null,t,n,l[1],i),l=wu(l,n.attrs,i),function nU(t,n,e,i){t[la(e?n.classBindings:n.styleBindings)]=i}(t,n,i,l))}else o=function rU(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=wu(i,t[o].hostAttrs,e);return wu(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function W4(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=la(s),l=ja(s);t[i]=e;let A,m=!1;if(Array.isArray(e)?(A=e[1],(null===A||jl(e,A)>0)&&(m=!0)):A=e,r)if(0!==l){const P=la(t[a+1]);t[i+1]=xp(P,a),0!==P&&(t[P+1]=Gv(t[P+1],i)),t[a+1]=function z4(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=xp(a,0),0!==a&&(t[a+1]=Gv(t[a+1],i)),a=i;else t[i+1]=xp(l,0),0===a?a=i:t[l+1]=Gv(t[l+1],i),l=i;m&&(t[i+1]=zv(t[i+1])),KT(t,A,i,!0),KT(t,A,i,!1),function Y4(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&jl(o,n)>=0&&(e[i+1]=Wv(e[i+1]))}(n,A,t,i,o),s=xp(a,l),o?n.classBindings=s:n.styleBindings=s}(r,o,n,e,s,i)}}function $v(t,n,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=n[a],i=wu(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function wu(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jr(t,s,!!e||n[++o]))}return void 0===t?null:t}function sU(t,n,e){const i=String(n);""!==i&&!i.includes(" ")&&jr(t,i,e)}function aD(t,n,e,i,r,o,s,a){if(!(3&n.type))return;const l=t.data,m=l[a+1],A=function G4(t){return!(1&~t)}(m)?lD(l,n,e,r,ja(m),s):void 0;Sp(A)||(Sp(o)||function U4(t){return!(2&~t)}(m)&&(o=lD(l,null,e,r,a,s)),function G5(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:ia.DashCase;null==r?t.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ia.Important),t.setStyle(e,i,r,o))}}(i,s,Ld(rr(),e),r,o))}function lD(t,n,e,i,r,o){const s=null===n;let a;for(;r>0;){const l=t[r],m=Array.isArray(l),A=m?l[1]:l,S=null===A;let P=e[r+1];P===Vt&&(P=S?oi:void 0);let N=S?S_(P,i):A===i?P:void 0;if(m&&!Sp(N)&&(N=S_(l,i)),Sp(N)&&(a=N,s))return a;const L=t[r+1];r=s?la(L):ja(L)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=S_(l,i))}return a}function Sp(t){return void 0!==t}function cD(t,n){return!!(t.flags&(n?8:16))}function qr(t,n,e){Eo(jr,as,_c(Ne(),t,n,e),!0)}class _U{destroy(n){}updateValue(n,e){}swap(n,e){const i=Math.min(n,e),r=Math.max(n,e),o=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,e){this.attach(e,this.detach(n))}}function qv(t,n,e,i,r){return t===e&&Object.is(n,i)?1:Object.is(r(t,n),r(e,i))?-1:0}function Xv(t,n,e,i){return!(void 0===n||!n.has(i)||(t.attach(e,n.get(i)),n.delete(i),0))}function uD(t,n,e,i,r){if(Xv(t,n,i,e(i,r)))t.updateValue(i,r);else{const o=t.create(i,r);t.attach(i,o)}}function hD(t,n,e,i){const r=new Set;for(let o=n;o<=e;o++)r.add(i(o,t.at(o)));return r}class fD{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const e=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,e)}}}function vt(t,n,e){rs("NgControlFlow");const i=Ne(),r=Co(),o=Qv(i,Ft+t);if(rn(i,r,n)){const a=h(null);try{if(ov(o,0),-1!==n){const l=Kv(i[$e],Ft+n),m=lc(o,l.tView.ssrId);ou(o,ru(i,l,e,{dehydratedView:m}),0,ac(l,m))}}finally{h(a)}}else{const a=pS(o,0);void 0!==a&&(a[Fi]=e)}}class vU{constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-nn}}function pD(t){return t}function $n(t,n){return n}class yU{constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}}function Fn(t,n,e,i,r,o,s,a,l,m,A,S,P){rs("NgControlFlow");const N=void 0!==l,L=Ne(),V=a?s.bind(L[Xi][Fi]):s,K=new yU(N,V);L[Ft+t]=K,Z(t+1,n,e,i,r,o),N&&Z(t+2,l,m,A,S,P)}class AU extends _U{constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-nn}at(n){return this.getLView(n)[Fi].$implicit}attach(n,e){const i=e[Ur];this.needsIndexUpdate||=n!==this.length,ou(this.lContainer,e,n,ac(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function CU(t,n){return eu(t,n)}(this.lContainer,n)}create(n,e){const i=lc(this.lContainer,this.templateTNode.tView.ssrId);return ru(this.hostLView,this.templateTNode,new vU(this.lContainer,e,n),{dehydratedView:i})}destroy(n){Xf(n[$e],n)}updateValue(n,e){this.getLView(n)[Fi].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Fi].$index=n}getLView(n){return function wU(t,n){return pS(t,n)}(this.lContainer,n)}}function Ln(t){const n=h(null),e=rr();try{const i=Ne(),r=i[$e],o=i[e];if(void 0===o.liveCollection){const a=e+1,l=Qv(i,a),m=Kv(r,a);o.liveCollection=new AU(l,i,m)}else o.liveCollection.reset();const s=o.liveCollection;if(function bU(t,n,e){let i,r,o=0,s=t.length-1;if(Array.isArray(n)){let a=n.length-1;for(;o<=s&&o<=a;){const l=t.at(o),m=n[o],A=qv(o,l,o,m,e);if(0!==A){A<0&&t.updateValue(o,m),o++;continue}const S=t.at(s),P=n[a],N=qv(s,S,a,P,e);if(0!==N){N<0&&t.updateValue(s,P),s--,a--;continue}const L=e(o,l),V=e(s,S),K=e(o,m);if(Object.is(K,V)){const re=e(a,P);Object.is(re,L)?(t.swap(o,s),t.updateValue(s,P),a--,s--):t.move(s,o),t.updateValue(o,m),o++}else if(i??=new fD,r??=hD(t,o,s,e),Xv(t,i,o,K))t.updateValue(o,m),o++,s++;else if(r.has(K))i.set(L,t.detach(o)),s--;else{const re=t.create(o,n[o]);t.attach(o,re),o++,s++}}for(;o<=a;)uD(t,i,e,o,n[o]),o++}else if(null!=n){const a=n[Symbol.iterator]();let l=a.next();for(;!l.done&&o<=s;){const m=t.at(o),A=l.value,S=qv(o,m,o,A,e);if(0!==S)S<0&&t.updateValue(o,A),o++,l=a.next();else{i??=new fD,r??=hD(t,o,s,e);const P=e(o,A);if(Xv(t,i,o,P))t.updateValue(o,A),o++,s++,l=a.next();else if(r.has(P)){const N=e(o,m);i.set(N,t.detach(o)),s--}else t.attach(o,t.create(o,A)),o++,s++,l=a.next()}}for(;!l.done;)uD(t,i,e,t.length,l.value),l=a.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(a=>{t.destroy(a)})}(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=Co(),l=0===s.length;if(rn(i,a,l)){const m=e+2,A=Qv(i,m);if(l){const S=Kv(r,m),P=lc(A,S.tView.ssrId);ou(A,ru(i,S,void 0,{dehydratedView:P}),0,ac(S,P))}else ov(A,0)}}}finally{h(n)}}function Qv(t,n){return t[n]}function Kv(t,n){return Bd(t,n)}function x(t,n,e,i){const r=Ne(),o=Xt(),s=Ft+t,a=r[Mt],l=o.firstCreatePass?function xU(t,n,e,i,r,o){const s=n.consts,l=sc(n,t,2,i,Zo(s,r));return Jb(n,e,l,Zo(s,o)),null!==l.attrs&&dp(l,l.attrs,!1),null!==l.mergedAttrs&&dp(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,r,n,e,i):o.data[s],m=mD(o,r,l,a,n,t);r[s]=m;const A=Af(l);return Jo(l,!0),Jx(a,m,l),!function vu(t){return!(32&~t.flags)}(l)&&jd()&&Kf(o,r,m,l),0===function w3(){return kt.lFrame.elementDepthCount}()&&or(m,r),function x3(){kt.lFrame.elementDepthCount++}(),A&&(Qb(o,r,l),Xb(o,l,r)),null!==i&&Kb(r,l),x}function T(){let t=xi();X_()?Q_():(t=t.parent,Jo(t,!1));const n=t;(function T3(t){return kt.skipHydrationRootTNode===t})(n)&&function M3(){kt.skipHydrationRootTNode=null}(),function S3(){kt.lFrame.elementDepthCount--}();const e=Xt();return e.firstCreatePass&&(xf(e,t),V_(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function G3(t){return!!(8&t.flags)}(n)&&Yv(e,n,Ne(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function W3(t){return!!(16&t.flags)}(n)&&Yv(e,n,Ne(),n.stylesWithoutHost,!1),T}function _e(t,n,e,i){return x(t,n,e,i),T(),_e}let mD=(t,n,e,i,r,o)=>(es(!0),qf(i,r,function yw(){return kt.lFrame.currentNamespace}()));function qn(t,n,e){const i=Ne(),r=Xt(),o=t+Ft,s=r.firstCreatePass?function DU(t,n,e,i,r){const o=n.consts,s=Zo(o,i),a=sc(n,t,8,"ng-container",s);return null!==s&&dp(a,s,!0),Jb(n,e,a,Zo(o,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,r,i,n,e):r.data[o];Jo(s,!0);const a=gD(r,i,s,t);return i[o]=a,jd()&&Kf(r,i,a,s),or(a,i),Af(s)&&(Qb(r,i,s),Xb(r,s,i)),null!=e&&Kb(i,s),qn}function Xn(){let t=xi();const n=Xt();return X_()?Q_():(t=t.parent,Jo(t,!1)),n.firstCreatePass&&(xf(n,t),V_(t)&&n.queries.elementEnd(t)),Xn}function ks(t,n,e){return qn(t,n,e),Xn(),ks}let gD=(t,n,e,i)=>(es(!0),jb(n[Mt],""));function ye(){return Ne()}function an(t,n,e){const i=Ne();return rn(i,Co(),n)&&kr(Xt(),Li(),i,t,n,i[Mt],e,!0),an}function Zv(t,n,e){const i=Ne();if(rn(i,Co(),n)){const o=Xt(),s=Li();kr(o,s,i,t,n,fS(Z_(o.data),s,i),e,!0)}return Zv}const Ua=void 0;var kU=["en",[["a","p"],["AM","PM"],Ua],[["AM","PM"],Ua,Ua],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ua,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ua,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ua,"{1} 'at' {0}",Ua],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MU(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Tc={};function gr(t){const n=function OU(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=bD(n);if(e)return e;const i=n.split("-")[0];if(e=bD(i),e)return e;if("en"===i)return kU;throw new xe(701,!1)}function bD(t){return t in Tc||(Tc[t]=_i.ng&&_i.ng.common&&_i.ng.common.locales&&_i.ng.common.locales[t]),Tc[t]}var Bi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bi||{});const PU=["zero","one","two","few","many"],Dc="en-US",Tp={marker:"element"},Dp={marker:"ICU"};var Or=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Or||{});let vD=Dc;function AD(t,n,e){const i=n.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?Yx(t,0,e):Ii(e[r])}function CD(t,n,e,i,r){const o=n.insertBeforeIndex;if(Array.isArray(o)){let s=i,a=null;if(3&n.type||(a=s,s=r),null!==s&&-1===n.componentOffset)for(let l=1;l<o.length;l++)Fa(t,s,e[o[l]],a,!1)}}function wD(t,n){if(t.push(n),t.length>1)for(let e=t.length-2;e>=0;e--){const i=t[e];xD(i)||LU(i,n)&&null===BU(i)&&VU(i,n.index)}}function xD(t){return!(64&t.type)}function LU(t,n){return xD(n)||t.index>n.index}function BU(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function VU(t,n){const e=t.insertBeforeIndex;Array.isArray(e)?e[0]=n:(qx(AD,CD),t.insertBeforeIndex=n)}function xu(t,n){const e=t.data[n];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function UU(t,n,e){const i=qb(t,e,64,null,null);return wD(n,i),i}function Ip(t,n){const e=n[t.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function SD(t){return t>>>17}function TD(t){return(131070&t)>>>1}let Su=0,Tu=0;let Du=(t,n,e,i)=>(es(!0),function ID(t,n,e){const i=t[Mt];switch(e){case Node.COMMENT_NODE:return jb(i,n);case Node.TEXT_NODE:return Hb(i,n);case Node.ELEMENT_NODE:return qf(i,n,null)}}(t,e,i));function ED(t,n,e,i){const r=e[Mt];let s,o=null;for(let a=0;a<n.length;a++){const l=n[a];if("string"==typeof l){const m=n[++a];null===e[m]&&(e[m]=Du(e,m,l,Node.TEXT_NODE))}else if("number"==typeof l)switch(1&l){case 0:const m=SD(l);let A,S;if(null===o&&(o=m,s=Qf(r,i)),m===o?(A=i,S=s):(A=null,S=Ii(e[m])),null!==S){const V=TD(l);Fa(r,S,e[V],A,!1);const re=xu(t,V);if(null!==re&&"object"==typeof re){const ae=Ip(re,e);null!==ae&&ED(t,re.create[ae],e,e[re.anchorIdx])}}break;case 1:const N=n[++a],L=n[++a];tv(r,Ld(l>>>1,e),null,null,N,L,null)}else switch(l){case Dp:const m=n[++a],A=n[++a];null===e[A]&&or(e[A]=Du(e,A,m,Node.COMMENT_NODE),e);break;case Tp:const S=n[++a],P=n[++a];null===e[P]&&or(e[P]=Du(e,P,S,Node.ELEMENT_NODE),e)}}}function MD(t,n,e,i,r){for(let o=0;o<e.length;o++){const s=e[o],a=e[++o];if(s&r){let l="";for(let m=o+1;m<=o+a;m++){const A=e[m];if("string"==typeof A)l+=A;else if("number"==typeof A)if(A<0)l+=Nt(n[i-A]);else{const S=A>>>2;switch(3&A){case 1:const P=e[++m],N=e[++m],L=t.data[S];"string"==typeof L?tv(n[Mt],n[S],null,L,P,l,N):kr(t,L,n,P,l,n[Mt],N,!1);break;case 0:const V=n[S];null!==V&&Vx(n[Mt],V,l);break;case 2:XU(t,xu(t,S),n,l);break;case 3:kD(t,xu(t,S),i,n)}}}}else{const l=e[o+1];if(l>0&&!(3&~l)){const A=xu(t,l>>>2);n[A.currentCaseLViewIndex]<0&&kD(t,A,i,n)}}o+=a}}function kD(t,n,e,i){let r=i[n.currentCaseLViewIndex];if(null!==r){let o=Su;r<0&&(r=i[n.currentCaseLViewIndex]=~r,o=-1),MD(t,i,n.update[r],e,o)}}function XU(t,n,e,i){const r=function QU(t,n){let e=t.cases.indexOf(n);if(-1===e)switch(t.type){case 1:{const i=function RU(t,n){const e=function _D(t){return gr(t)[Bi.PluralCase]}(n)(parseInt(t,10)),i=PU[e];return void 0!==i?i:"other"}(n,function FU(){return vD}());e=t.cases.indexOf(i),-1===e&&"other"!==i&&(e=t.cases.indexOf("other"));break}case 0:e=t.cases.indexOf("other")}return-1===e?null:e}(n,i);if(Ip(n,e)!==r&&(OD(t,n,e),e[n.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const s=e[n.anchorIdx];s&&ED(t,n.create[r],e,s)}}function OD(t,n,e){let i=Ip(n,e);if(null!==i){const r=n.remove[i];for(let o=0;o<r.length;o++){const s=r[o];if(s>0){const a=Ld(s,e);null!==a&&iu(e[Mt],a)}else OD(t,xu(t,~s),e)}}}function KU(){const t=[];let e,i,n=-1;function o(a,l){n=0;const m=Ip(a,l);i=null!==m?a.remove[m]:oi}function s(){if(n<i.length){const a=i[n++];return a>0?e[a]:(t.push(n,i),o(e[$e].data[~a],e),s())}return 0===t.length?null:(i=t.pop(),n=t.pop(),s())}return function r(a,l){for(e=l;t.length;)t.pop();return o(a.value,l),s}}const Ep=/\ufffd(\d+):?\d*\ufffd/gi,JU=/\ufffd(\d+)\ufffd/,RD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Iu="\ufffd",ez=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,tz=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,iz=/\uE500/g;function ND(t,n,e,i,r,o,s){const a=nu(t,i,1,null);let l=a<<Or.SHIFT,m=Hd();n===m&&(m=null),null===m&&(l|=Or.APPEND_EAGERLY),s&&(l|=Or.COMMENT,function O5(t){void 0===Bb&&(Bb=t())}(KU)),r.push(l,null===o?"":o);const A=qb(t,a,s?32:1,null===o?"":o,null);wD(e,A);const S=A.index;return Jo(A,!1),null!==m&&n!==m&&function jU(t,n){let e=t.insertBeforeIndex;null===e?(qx(AD,CD),e=t.insertBeforeIndex=[null,n]):(Qs(Array.isArray(e),!0,"Expecting array here"),e.push(n))}(m,S),A}function oz(t,n,e,i,r,o,s,a){const l=a.match(Ep),A=ND(n,e,i,s,r,l?null:a,!1).index;l&&Eu(o,a,A,null,0,null),t.push({kind:0,index:A})}function Eu(t,n,e,i,r,o){const s=t.length,a=s+1;t.push(null,null);const l=s+2,m=n.split(Ep);let A=0;for(let S=0;S<m.length;S++){const P=m[S];if(1&S){const N=r+parseInt(P,10);t.push(-1-N),A|=FD(N)}else""!==P&&t.push(P)}return t.push(e<<2|(i?1:0)),i&&t.push(i,o),t[s]=A,t[a]=t.length-l,A}function FD(t){return 1<<Math.min(t,31)}function LD(t){let n,o,e="",i=0,r=!1;for(;null!==(n=ez.exec(t));)r?n[0]===`${Iu}/*${o}${Iu}`&&(i=n.index,r=!1):(e+=t.substring(i,n.index+n[0].length),o=n[1],r=!0);return e+=t.slice(i),e}function BD(t,n,e,i,r,o,s){let a=0;const l={type:o.type,currentCaseLViewIndex:nu(n,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function fz(t,n,e){t.push(FD(n.mainBinding),2,-1-n.mainBinding,e<<2|2)})(i,o,s),function HU(t,n,e){const i=t.data[n];null===i?t.data[n]=e:i.value=e}(n,s,l);const m=o.values,A=[];for(let S=0;S<m.length;S++){const P=m[S],N=[];for(let V=0;V<P.length;V++){const K=P[V];if("string"!=typeof K){const re=N.push(K)-1;P[V]=`\x3c!--\ufffd${re}\ufffd--\x3e`}}const L=[];A.push(L),a=uz(L,n,l,e,i,r,o.cases[S],P.join(""),N)|a}a&&function pz(t,n,e){t.push(n,1,e<<2|3)}(i,a,s),t.push({kind:3,index:s,cases:A,currentCaseLViewIndex:l.currentCaseLViewIndex})}function dz(t){const n=[],e=[];let i=1,r=0;const o=Jv(t=t.replace(RD,function(s,a,l){return i="select"===l?0:1,r=parseInt(a.slice(1),10),""}));for(let s=0;s<o.length;){let a=o[s++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&n.push(a);const l=Jv(o[s++]);n.length>e.length&&e.push(l)}return{type:i,mainBinding:r,cases:n,values:e}}function Jv(t){if(!t)return[];let n=0;const e=[],i=[],r=/[{}]/g;let o;for(r.lastIndex=0;o=r.exec(t);){const a=o.index;if("}"==o[0]){if(e.pop(),0==e.length){const l=t.substring(n,a);RD.test(l)?i.push(dz(l)):i.push(l),n=a+1}}else{if(0==e.length){const l=t.substring(n,a);i.push(l),n=a+1}e.push("{")}}const s=t.substring(n);return i.push(s),i}function uz(t,n,e,i,r,o,s,a,l){const m=[],A=[],S=[];e.cases.push(s),e.create.push(m),e.remove.push(A),e.update.push(S);const N=yx(ta()).getInertBodyElement(a),L=Pb(N)||N;return L?VD(t,n,e,i,r,m,A,S,L,o,l,0):0}function VD(t,n,e,i,r,o,s,a,l,m,A,S){let P=0,N=l.firstChild;for(;N;){const L=nu(n,i,1,null);switch(N.nodeType){case Node.ELEMENT_NODE:const V=N,K=V.tagName.toLowerCase();if(kb.hasOwnProperty(K)){ey(o,Tp,K,m,L),n.data[L]=K;const Ue=V.attributes;for(let et=0;et<Ue.length;et++){const ft=Ue.item(et),yt=ft.name.toLowerCase();ft.value.match(Ep)?xx.hasOwnProperty(yt)&&Eu(a,ft.value,L,ft.name,0,Ob[yt]?zf:null):mz(o,L,ft)}const Ke={kind:1,index:L,children:[]};t.push(Ke),P=VD(Ke.children,n,e,i,r,o,s,a,N,L,A,S+1)|P,HD(s,L,S)}break;case Node.TEXT_NODE:const re=N.textContent||"",ae=re.match(Ep);ey(o,null,ae?"":re,m,L),HD(s,L,S),ae&&(P=Eu(a,re,L,null,0,null)|P),t.push({kind:0,index:L});break;case Node.COMMENT_NODE:const He=JU.exec(N.textContent||"");if(He){const Ke=A[parseInt(He[1],10)];ey(o,Dp,"",m,L),BD(t,n,i,r,m,Ke,L),hz(s,L,S)}}N=N.nextSibling}return P}function HD(t,n,e){0===e&&t.push(n)}function hz(t,n,e){0===e&&(t.push(~n),t.push(n))}function ey(t,n,e,i,r){null!==n&&t.push(n),t.push(e,r,function zU(t,n,e){return t|n<<17|e<<1}(0,i,r))}function mz(t,n,e){t.push(n<<1|1,e.name,e.value)}function UD(t,n,e=-1){const i=Xt(),r=Ne(),o=Ft+t,s=Zo(i.consts,n),a=Hd();i.firstCreatePass&&function rz(t,n,e,i,r,o){const s=Hd(),a=[],l=[],m=[[]],A=[[]];r=function cz(t,n){if(function lz(t){return-1===t}(n))return LD(t);{const e=t.indexOf(`:${n}${Iu}`)+2+n.toString().length,i=t.search(new RegExp(`${Iu}\\/\\*\\d+:${n}${Iu}`));return LD(t.substring(e,i))}}(r,o);const S=function nz(t){return t.replace(iz," ")}(r).split(tz);for(let P=0;P<S.length;P++){let N=S[P];if(1&P){const L=47===N.charCodeAt(0),V=N.charCodeAt(L?1:0),K=Ft+Number.parseInt(N.substring(L?2:1));if(L)m.shift(),A.shift(),Jo(Hd(),!1);else{const re=UU(t,m[0],K);m.unshift([]),Jo(re,!0);const ae={kind:2,index:K,children:[],type:35===V?0:1};A[0].push(ae),A.unshift(ae.children)}}else{const L=Jv(N);for(let V=0;V<L.length;V++){let K=L[V];if(1&V){const re=K;if("object"!=typeof re)throw new Error(`Unable to parse ICU expression in "${r}" message.`);const He=ND(t,s,m[0],e,a,"",!0).index;BD(A[0],t,e,l,n,re,He)}else""!==K&&oz(A[0],t,s,m[0],a,l,e,K)}}}t.data[i]={create:a,update:l,ast:A[0]}}(i,null===a?0:a.index,r,o,s,e),2===i.type?r[Xi][mt]|=32:r[mt]|=32;const l=i.data[o],A=Ux(i,a===r[tr]?null:a,r);(function qU(t,n,e,i){const r=t[Mt];for(let o=0;o<n.length;o++){const s=n[o++],m=(s&Or.APPEND_EAGERLY)===Or.APPEND_EAGERLY,A=s>>>Or.SHIFT;let S=t[A],P=!1;null===S&&(S=t[A]=Du(t,A,n[o],(s&Or.COMMENT)===Or.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),P=jd()),m&&null!==e&&P&&Fa(r,e,S,i,!1)}})(r,l.create,A,a&&8&a.type?r[a.index]:null),pw(!0)}function ca(t,n,e){UD(t,n,e),function zD(){pw(!1)}()}function ty(t){return function GU(t){t&&(Su|=1<<Math.min(Tu,31)),Tu++}(rn(Ne(),Co(),t)),ty}function W(t,n,e,i){const r=Ne(),o=Xt(),s=xi();return ny(o,r,r[Mt],s,t,n,i),W}function iy(t,n){const e=xi(),i=Ne(),r=Xt();return ny(r,i,fS(Z_(r.data),e,i),e,t,n),iy}function ny(t,n,e,i,r,o,s){const a=Af(i),m=t.firstCreatePass&&hS(t),A=n[Fi],S=uS(n);let P=!0;if(3&i.type||s){const V=pr(i,n),K=s?s(V):V,re=S.length,ae=s?Ue=>s(Ii(Ue[i.index])):i.index;let He=null;if(!s&&a&&(He=function Tz(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=n[Wl],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,n,r,i.index)),null!==He)(He.__ngLastListenerFn__||He).__ngNextListenerFn__=o,He.__ngLastListenerFn__=o,P=!1;else{o=YD(i,n,A,o,!1);const Ue=e.listen(K,r,o);S.push(o,Ue),m&&m.push(r,ae,re,re+1)}}else o=YD(i,n,A,o,!1);const N=i.outputs;let L;if(P&&null!==N&&(L=N[r])){const V=L.length;if(V)for(let K=0;K<V;K+=2){const Ke=n[L[K]][L[K+1]].subscribe(o),et=S.length;S.push(o,Ke),m&&m.push(r,i.index,et,-(et+1))}}}function WD(t,n,e,i){const r=h(null);try{return Ko(6,n,e),!1!==e(i)}catch(o){return tp(t,o),!1}finally{Ko(7,n,e),h(r)}}function YD(t,n,e,i,r){return function o(s){if(s===Function)return i;au(t.componentOffset>-1?zr(t.index,n):n);let l=WD(n,e,i,s),m=o.__ngNextListenerFn__;for(;m;)l=WD(n,e,m,s)&&l,m=m.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function O(t=1){return function F3(t){return(kt.lFrame.contextLView=function lw(t,n){for(;t>0;)n=n[Yl],t--;return n}(t,kt.lFrame.contextLView))[Fi]}(t)}function Dz(t,n){let e=null;const i=function RB(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?B1(t,o,!0):LB(i,o))return r}else e=r}return e}function yn(t){const n=Ne()[Xi][tr];if(!n.projection){const i=n.projection=function uf(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}(t?t.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const s=t?Dz(o,t):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function di(t,n=0,e){const i=Ne(),r=Xt(),o=sc(r,Ft+t,16,null,e||null);null===o.projection&&(o.projection=n),Q_(),(!i[Ur]||Ql())&&32&~o.flags&&function U5(t,n,e){Kx(n[Mt],0,n,e,zb(t,e,n),Wx(e.parent||n[tr],e,n))}(r,i,o)}function Os(t,n,e){return ry(t,"",n,"",e),Os}function ry(t,n,e,i,r){const o=Ne(),s=_c(o,n,e,i);return s!==Vt&&kr(Xt(),Li(),o,t,s,o[Mt],r,!1),ry}function Lt(t,n,e,i){!function KS(t,n,e,i){const r=Xt();if(r.firstCreatePass){const o=xi();ZS(r,new $S(n,e,i),o.index),function Rj(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),!(2&~e)&&(r.staticContentQueries=!0)}return XS(r,Ne(),e)}(t,n,e,i)}function Tt(t,n,e){!function QS(t,n,e){const i=Xt();return i.firstCreatePass&&(ZS(i,new $S(t,n,e),-1),!(2&~n)&&(i.staticViewQueries=!0)),XS(i,Ne(),n)}(t,n,e)}function Ge(t){const n=Ne(),e=Xt(),i=J_();wf(i+1);const r=Iv(e,i);if(t.dirty&&function y3(t){return!(4&~t[mt])}(n)===!(2&~r.metadata.flags)){if(null===r.matches)t.reset([]);else{const o=JS(n,i);t.reset(o,zw),t.notifyOnChanges()}return!0}return!1}function We(){return function Dv(t,n){return t[Ss].queries[n].queryList}(Ne(),J_())}function Vi(t){return Xl(function k3(){return kt.lFrame.contextLView}(),Ft+t)}function F(t,n=""){const e=Ne(),i=Xt(),r=t+Ft,o=i.firstCreatePass?sc(i,r,1,n,null):i.data[r],s=dI(i,e,o,n,t);e[r]=s,jd()&&Kf(i,e,s,o),Jo(o,!1)}let dI=(t,n,e,i,r)=>(es(!0),Hb(n[Mt],i));function tt(t){return ht("",t,""),tt}function ht(t,n,e){const i=Ne(),r=_c(i,t,n,e);return r!==Vt&&Ms(i,rr(),r),ht}function oo(t,n,e,i,r){const o=Ne(),s=bc(o,t,n,e,i,r);return s!==Vt&&Ms(o,rr(),s),oo}function Mo(t,n,e,i,r,o,s){const a=Ne(),l=function vc(t,n,e,i,r,o,s,a){const m=bp(t,Ts(),e,r,s);return Ds(3),m?n+Nt(e)+i+Nt(r)+o+Nt(s)+a:Vt}(a,t,n,e,i,r,o,s);return l!==Vt&&Ms(a,rr(),l),Mo}function oy(t,n,e,i,r,o,s,a,l){const m=Ne(),A=yc(m,t,n,e,i,r,o,s,a,l);return A!==Vt&&Ms(m,rr(),A),oy}function ln(t,n,e){iT(n)&&(n=n());const i=Ne();return rn(i,Co(),n)&&kr(Xt(),Li(),i,t,n,i[Mt],e,!1),ln}function An(t,n){const e=iT(t);return e&&t.set(n),e}function cn(t,n){const e=Ne(),i=Xt(),r=xi();return ny(i,e,e[Mt],r,t,n),cn}function sy(t,n,e,i,r){if(t=It(t),Array.isArray(t))for(let o=0;o<t.length;o++)sy(t[o],n,e,i,r);else{const o=Xt(),s=Ne(),a=xi();let l=Ea(t)?t:It(t.provide);const m=Y1(t),A=1048575&a.providerIndexes,S=a.directiveStart,P=a.providerIndexes>>20;if(Ea(t)||!t.multi){const N=new Ud(m,r,k),L=ly(l,n,r?A:A+P,S);-1===L?(lb(If(a,s),o,l),ay(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(N),s.push(N)):(e[L]=N,s[L]=N)}else{const N=ly(l,n,A+P,S),L=ly(l,n,A,A+P),K=L>=0&&e[L];if(r&&!K||!r&&!(N>=0&&e[N])){lb(If(a,s),o,l);const re=function Yz(t,n,e,i,r){const o=new Ud(t,e,k);return o.multi=[],o.index=n,o.componentProviders=0,gI(o,r,i&&!e),o}(r?Wz:Gz,e.length,r,i,m);!r&&K&&(e[L].providerFactory=re),ay(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(re),s.push(re)}else ay(o,t,N>-1?N:L,gI(e[r?L:N],m,!r&&i));!r&&i&&K&&e[L].componentProviders++}}}function ay(t,n,e,i){const r=Ea(n),o=function $B(t){return!!t.useClass}(n);if(r||o){const l=(o?It(n.useClass):n).prototype.ngOnDestroy;if(l){const m=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const A=m.indexOf(e);-1===A?m.push(e,[i,l]):m[A+1].push(i,l)}else m.push(e,l)}}}function gI(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function ly(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function Gz(t,n,e,i){return cy(this.multi,[])}function Wz(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ra(e,e[$e],this.providerFactory.index,i);o=a.slice(0,s),cy(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],cy(r,o);return o}function cy(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Bt(t,n=[]){return e=>{e.providersResolver=(i,r)=>function zz(t,n,e){const i=Xt();if(i.firstCreatePass){const r=Ao(t);sy(e,i.data,i.blueprint,r,!0),sy(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}let $z=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=E_(0,e.type),r=i.length>0?mp([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Te({token:t,providedIn:"environment",factory:()=>new t(ve(Gn))})}}return t})();function Yt(t){rs("NgStandalone"),t.getStandaloneInjector=n=>n.get($z).getOrCreateStandaloneInjector(t)}function Ht(t,n,e,i){return vI(Ne(),mr(),t,n,e,i)}function sr(t,n,e,i,r){return yI(Ne(),mr(),t,n,e,i,r)}function Mu(t,n){const e=t[n];return e===Vt?void 0:e}function vI(t,n,e,i,r,o){const s=n+e;return rn(t,s,r)?os(t,s+1,o?i.call(o,r):i(r)):Mu(t,s+1)}function yI(t,n,e,i,r,o,s){const a=n+e;return Va(t,a,r,o)?os(t,a+2,s?i.call(s,r,o):i(r,o)):Mu(t,a+2)}function Yi(t,n){const e=Xt();let i;const r=t+Ft;e.firstCreatePass?(i=function i8(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Da(i.type)),a=Dr(k);try{const l=Df(!1),m=o();return Df(l),function kz(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,Ne(),r,m),m}finally{Dr(a)}}function Rn(t,n,e){const i=t+Ft,r=Ne(),o=Xl(r,i);return Ou(r,i)?vI(r,mr(),n,o.transform,e,o):o.transform(e)}function ku(t,n,e,i,r){const o=t+Ft,s=Ne(),a=Xl(s,o);return Ou(s,o)?function AI(t,n,e,i,r,o,s,a){const l=n+e;return bp(t,l,r,o,s)?os(t,l+3,a?i.call(a,r,o,s):i(r,o,s)):Mu(t,l+3)}(s,mr(),n,a.transform,e,i,r,a):a.transform(e,i,r)}function Ou(t,n){return t[$e].data[n].pure}function so(t,n){return np(t,n)}let HI=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const WI=new Me(""),Pp=new Me("");let by,gy=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,by||(function K8(t){by=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||t)(ve(Je),ve(_y),ve(Pp))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})(),_y=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return by?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Nu(t){return!!t&&"function"==typeof t.then}function YI(t){return!!t&&"function"==typeof t.subscribe}const vy=new Me("");let yy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Q(vy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(Nu(o))e.push(o);else if(YI(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Ay=new Me("");function XI(t,n){return Array.isArray(n)?n.reduce(XI,t):{...t,...n}}let ko=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Q(jw),this.afterRenderEffectManager=Q(fu),this.externalTestViews=new Set,this.beforeRender=new Ye,this.afterTick=new Ye,this.componentTypes=[],this.components=[],this.isStable=Q(sa).hasPendingTasks.pipe(bt(e=>!e)),this._injector=Q(Gn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof DS;if(!this._injector.get(yy).done)throw!r&&function Js(t){const n=Wt(t)||Mn(t)||zn(t);return null!==n&&n.standalone}(e),new xe(405,!1);let s;s=r?e:this._injector.get(na).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function Z8(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ba),m=s.create(ci.NULL,[],i||s.selector,a),A=m.location.nativeElement,S=m.injector.get(WI,null);return S?.registerApplication(A),m.onDestroy(()=>{this.detachView(m.hostView),Rp(this.components,m),S?.unregisterApplication(A)}),this._loadComponent(m),m}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new xe(101,!1);const i=h(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,h(i)}}detectChangesInAttachedViews(e){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===_S)throw new xe(103,!1);if(e){const o=0===i;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)eG(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Cy(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Cy(o))))break}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Rp(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(Ay,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Rp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new xe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rp(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function eG(t,n,e){!n&&!Cy(t)||function tG(t,n,e){let i;e?(i=0,t[mt]|=1024):i=64&t[mt]?0:1,ip(t,n,i)}(t,e,n)}function Cy(t){return Y_(t)}class iG{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let QI=(()=>{class t{compileModuleSync(e){return new Ov(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Yr(er(e).declarations).reduce((s,a)=>{const l=Wt(a);return l&&s.push(new gu(l)),s},[]);return new iG(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oG=(()=>{class t{constructor(){this.zone=Q(Je),this.applicationRef=Q(ko)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sG(){const t=Q(Je),n=Q(Gr);return e=>t.runOutsideAngular(()=>n.handleError(e))}let lG=(()=>{class t{constructor(){this.subscription=new me,this.initialized=!1,this.zone=Q(Je),this.pendingTasks=Q(sa)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Oo=new Me("",{providedIn:"root",factory:()=>Q(Oo,qt.Optional|qt.SkipSelf)||function cG(){return typeof $localize<"u"&&$localize.locale||Dc}()}),wy=new Me("");let eE=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function dj(t="zone.js",n){return"noop"===t?new PS:"zone.js"===t?new Je(n):t}(i?.ngZone,function JI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function e4(t,n,e){return new kv(t,n,e)}(e.moduleType,this.injector,function ZI(t){return[{provide:Je,useFactory:t},{provide:Ia,multi:!0,useFactory:()=>{const n=Q(oG,{optional:!0});return()=>n.initialize()}},{provide:Ia,multi:!0,useFactory:()=>{const n=Q(lG);return()=>{n.initialize()}}},{provide:jw,useFactory:sG}]}(()=>r)),s=o.injector.get(Gr,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Rp(this._modules,o),a.unsubscribe()})}),function qI(t,n,e){try{const i=e();return Nu(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(yy);return a.runInitializers(),a.donePromise.then(()=>(function yD(t){"string"==typeof t&&(vD=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Oo,Dc)||Dc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=XI({},i);return function rG(t,n,e){const i=new Ov(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(ko);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new xe(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(wy,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||t)(ve(ci))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),da=null;const tE=new Me("");function iE(t,n,e=[]){const i=`Platform: ${n}`,r=new Me(i);return(o=[])=>{let s=xy();if(!s||s.injector.get(tE,!1)){const a=[...e,...o,{provide:r,useValue:!0}];t?t(a):function hG(t){if(da&&!da.get(tE,!1))throw new xe(400,!1);(function $I(){!function te(t){ct=t}(()=>{throw new xe(600,!1)})})(),da=t;const n=t.get(eE);(function rE(t){t.get(cx,null)?.forEach(e=>e())})(t)}(function nE(t=[],n){return ci.create({name:n,providers:[{provide:O_,useValue:"platform"},{provide:wy,useValue:new Set([()=>da=null])},...t]})}(a,i))}return function fG(t){const n=xy();if(!n)throw new xe(401,!1);return n}()}}function xy(){return da?.get(eE)??null}let Qt=(()=>{class t{static{this.__NG_ELEMENT_ID__=mG}}return t})();function mG(t){return function gG(t,n,e){if(ka(t)&&!e){const i=zr(t.index,n);return new lu(i,i)}return 47&t.type?new lu(n[Xi],n):null}(xi(),Ne(),!(16&~t))}class cE{constructor(){}supports(n){return _p(n)}create(n){return new AG(n)}}const yG=(t,n)=>n;class AG{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||yG}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<uE(i,r,o)?e:i,a=uE(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const m=a-r,A=l-r;if(m!=A){for(let P=0;P<m;P++){const N=P<o.length?o[P]:o[P]=0,L=N+P;A<=L&&L<m&&(o[P]=N+1)}o[s.previousIndex]=A-m}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!_p(n))throw new xe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function o4(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new CG(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new dE),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class CG{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wG{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class dE{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new wG,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uE(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class hE{constructor(){}supports(n){return n instanceof Map||Pv(n)}create(){return new xG}}class xG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Pv(n)))throw new xe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new SG(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class SG{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fE(){return new Ey([new cE])}let Ey=(()=>{class t{static{this.\u0275prov=Te({token:t,providedIn:"root",factory:fE})}constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||fE()),deps:[[t,new Vl,new Zs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new xe(901,!1)}}return t})();function pE(){return new Bp([new hE])}let Bp=(()=>{class t{static{this.\u0275prov=Te({token:t,providedIn:"root",factory:pE})}constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||pE()),deps:[[t,new Vl,new Zs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new xe(901,!1)}}return t})();const IG=iE(null,"core",[]);let EG=(()=>{class t{constructor(e){}static{this.\u0275fac=function(i){return new(i||t)(ve(ko))}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();function wt(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function ar(t,n=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?n:Number(t)}function FE(t){const n=h(null);try{return t()}finally{h(n)}}const o6=new Me("",{providedIn:"root",factory:()=>Q(s6)});let s6=(()=>{class t{static{this.\u0275prov=Te({token:t,providedIn:"root",factory:()=>new a6})}}return t})();class a6{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Q(sa),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){const e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const i=this.queues.get(e);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,e]of this.queues)null===n?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(const e of n)n.delete(e),this.queuedEffectCount--,e.run()}}class l6{constructor(n,e,i,r,o,s){this.scheduler=n,this.effectFn=e,this.creationZone=i,this.injector=o,this.watcher=function Y(t,n,e){const i=Object.create(ue);e&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=n;const r=l=>{i.cleanupFn=l};return i.ref={notify:()=>C(i),run:()=>{if(null===i.fn)return;if(function b(){return be}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!R(i))return;i.hasRun=!0;const l=D(i);try{i.cleanupFn(),i.cleanupFn=ie,i.fn(r)}finally{E(i,l)}},cleanup:()=>i.cleanupFn(),destroy:()=>function s(l){(function o(l){return null===l.fn&&null===l.schedule})(l)||(B(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=ie)}(i),[y]:i},i.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(Gr,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Oy(t,n){const e=Wt(t),i=n.elementInjector||_f();return new gu(e).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let BE=null;function ua(){return BE}class u6{}const xt=new Me("");let Py=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:()=>Q(f6),providedIn:"platform"})}}return t})();const h6=new Me("");let f6=(()=>{class t extends Py{constructor(){super(),this._doc=Q(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ua().getBaseHref(this._doc)}onPopState(e){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Ry(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function VE(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ps(t){return t&&"?"!==t[0]?"?"+t:t}let Wa=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:()=>Q(jE),providedIn:"root"})}}return t})();const HE=new Me("");let jE=(()=>{class t extends Wa{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Q(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ry(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ps(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Ps(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Ps(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(ve(Py),ve(HE,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),p6=(()=>{class t extends Wa{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ry(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Ps(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Ps(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(ve(Py),ve(HE,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})(),Ya=(()=>{class t{constructor(e){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function _6(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(VE(UE(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ps(i))}normalize(e){return t.stripTrailingSlash(function g6(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,UE(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ps(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ps(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Ps}static{this.joinWithSlash=Ry}static{this.stripTrailingSlash=VE}static{this.\u0275fac=function(i){return new(i||t)(ve(Wa))}}static{this.\u0275prov=Te({token:t,factory:()=>function m6(){return new Ya(ve(Wa))}(),providedIn:"root"})}}return t})();function UE(t){return t.replace(/\/index.html$/,"")}var Bn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Bn||{}),ai=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ai||{}),Xr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Xr||{});const Cn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Wp(t,n){return lo(gr(t)[Bi.DateFormat],n)}function Yp(t,n){return lo(gr(t)[Bi.TimeFormat],n)}function $p(t,n){return lo(gr(t)[Bi.DateTimeFormat],n)}function ao(t,n){const e=gr(t),i=e[Bi.NumberSymbols][n];if(typeof i>"u"){if(n===Cn.CurrencyDecimal)return e[Bi.NumberSymbols][Cn.Decimal];if(n===Cn.CurrencyGroup)return e[Bi.NumberSymbols][Cn.Group]}return i}function WE(t){if(!t[Bi.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Bi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lo(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Ly(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const E6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qp={},M6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rs=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Rs||{}),hi=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(hi||{}),fi=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(fi||{});function YE(t,n,e,i){let r=function V6(t){if(XE(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,o=1,s=1]=t.split("-").map(a=>+a);return Xp(r,o-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(E6))return function H6(t){const n=new Date(0);let e=0,i=0;const r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),m=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(n,s,a,l,m),n}(i)}const n=new Date(t);if(!XE(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Ns(e,n)||n;let a,s=[];for(;n;){if(a=M6.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const A=s.pop();if(!A)break;n=A}}let l=r.getTimezoneOffset();i&&(l=qE(i,l),r=function B6(t,n,e){const i=e?-1:1,r=t.getTimezoneOffset();return function L6(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(qE(n,r)-r))}(r,i,!0));let m="";return s.forEach(A=>{const S=function F6(t){if(Vy[t])return Vy[t];let n;switch(t){case"G":case"GG":case"GGG":n=Hi(fi.Eras,ai.Abbreviated);break;case"GGGG":n=Hi(fi.Eras,ai.Wide);break;case"GGGGG":n=Hi(fi.Eras,ai.Narrow);break;case"y":n=wn(hi.FullYear,1,0,!1,!0);break;case"yy":n=wn(hi.FullYear,2,0,!0,!0);break;case"yyy":n=wn(hi.FullYear,3,0,!1,!0);break;case"yyyy":n=wn(hi.FullYear,4,0,!1,!0);break;case"Y":n=Jp(1);break;case"YY":n=Jp(2,!0);break;case"YYY":n=Jp(3);break;case"YYYY":n=Jp(4);break;case"M":case"L":n=wn(hi.Month,1,1);break;case"MM":case"LL":n=wn(hi.Month,2,1);break;case"MMM":n=Hi(fi.Months,ai.Abbreviated);break;case"MMMM":n=Hi(fi.Months,ai.Wide);break;case"MMMMM":n=Hi(fi.Months,ai.Narrow);break;case"LLL":n=Hi(fi.Months,ai.Abbreviated,Bn.Standalone);break;case"LLLL":n=Hi(fi.Months,ai.Wide,Bn.Standalone);break;case"LLLLL":n=Hi(fi.Months,ai.Narrow,Bn.Standalone);break;case"w":n=By(1);break;case"ww":n=By(2);break;case"W":n=By(1,!0);break;case"d":n=wn(hi.Date,1);break;case"dd":n=wn(hi.Date,2);break;case"c":case"cc":n=wn(hi.Day,1);break;case"ccc":n=Hi(fi.Days,ai.Abbreviated,Bn.Standalone);break;case"cccc":n=Hi(fi.Days,ai.Wide,Bn.Standalone);break;case"ccccc":n=Hi(fi.Days,ai.Narrow,Bn.Standalone);break;case"cccccc":n=Hi(fi.Days,ai.Short,Bn.Standalone);break;case"E":case"EE":case"EEE":n=Hi(fi.Days,ai.Abbreviated);break;case"EEEE":n=Hi(fi.Days,ai.Wide);break;case"EEEEE":n=Hi(fi.Days,ai.Narrow);break;case"EEEEEE":n=Hi(fi.Days,ai.Short);break;case"a":case"aa":case"aaa":n=Hi(fi.DayPeriods,ai.Abbreviated);break;case"aaaa":n=Hi(fi.DayPeriods,ai.Wide);break;case"aaaaa":n=Hi(fi.DayPeriods,ai.Narrow);break;case"b":case"bb":case"bbb":n=Hi(fi.DayPeriods,ai.Abbreviated,Bn.Standalone,!0);break;case"bbbb":n=Hi(fi.DayPeriods,ai.Wide,Bn.Standalone,!0);break;case"bbbbb":n=Hi(fi.DayPeriods,ai.Narrow,Bn.Standalone,!0);break;case"B":case"BB":case"BBB":n=Hi(fi.DayPeriods,ai.Abbreviated,Bn.Format,!0);break;case"BBBB":n=Hi(fi.DayPeriods,ai.Wide,Bn.Format,!0);break;case"BBBBB":n=Hi(fi.DayPeriods,ai.Narrow,Bn.Format,!0);break;case"h":n=wn(hi.Hours,1,-12);break;case"hh":n=wn(hi.Hours,2,-12);break;case"H":n=wn(hi.Hours,1);break;case"HH":n=wn(hi.Hours,2);break;case"m":n=wn(hi.Minutes,1);break;case"mm":n=wn(hi.Minutes,2);break;case"s":n=wn(hi.Seconds,1);break;case"ss":n=wn(hi.Seconds,2);break;case"S":n=wn(hi.FractionalSeconds,1);break;case"SS":n=wn(hi.FractionalSeconds,2);break;case"SSS":n=wn(hi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Kp(Rs.Short);break;case"ZZZZZ":n=Kp(Rs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Kp(Rs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Kp(Rs.Long);break;default:return null}return Vy[t]=n,n}(A);m+=S?S(r,e,l):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Xp(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Ns(t,n){const e=function v6(t){return gr(t)[Bi.LocaleId]}(t);if(qp[e]??={},qp[e][n])return qp[e][n];let i="";switch(n){case"shortDate":i=Wp(t,Xr.Short);break;case"mediumDate":i=Wp(t,Xr.Medium);break;case"longDate":i=Wp(t,Xr.Long);break;case"fullDate":i=Wp(t,Xr.Full);break;case"shortTime":i=Yp(t,Xr.Short);break;case"mediumTime":i=Yp(t,Xr.Medium);break;case"longTime":i=Yp(t,Xr.Long);break;case"fullTime":i=Yp(t,Xr.Full);break;case"short":const r=Ns(t,"shortTime"),o=Ns(t,"shortDate");i=Qp($p(t,Xr.Short),[r,o]);break;case"medium":const s=Ns(t,"mediumTime"),a=Ns(t,"mediumDate");i=Qp($p(t,Xr.Medium),[s,a]);break;case"long":const l=Ns(t,"longTime"),m=Ns(t,"longDate");i=Qp($p(t,Xr.Long),[l,m]);break;case"full":const A=Ns(t,"fullTime"),S=Ns(t,"fullDate");i=Qp($p(t,Xr.Full),[A,S])}return i&&(qp[e][n]=i),i}function Qp(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Po(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function wn(t,n,e=0,i=!1,r=!1){return function(o,s){let a=function O6(t,n){switch(t){case hi.FullYear:return n.getFullYear();case hi.Month:return n.getMonth();case hi.Date:return n.getDate();case hi.Hours:return n.getHours();case hi.Minutes:return n.getMinutes();case hi.Seconds:return n.getSeconds();case hi.FractionalSeconds:return n.getMilliseconds();case hi.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((e>0||a>-e)&&(a+=e),t===hi.Hours)0===a&&-12===e&&(a=12);else if(t===hi.FractionalSeconds)return function k6(t,n){return Po(t,3).substring(0,n)}(a,n);const l=ao(s,Cn.MinusSign);return Po(a,n,l,i,r)}}function Hi(t,n,e=Bn.Format,i=!1){return function(r,o){return function P6(t,n,e,i,r,o){switch(e){case fi.Months:return function Ny(t,n,e){const i=gr(t),o=lo([i[Bi.MonthsFormat],i[Bi.MonthsStandalone]],n);return lo(o,e)}(n,r,i)[t.getMonth()];case fi.Days:return function GE(t,n,e){const i=gr(t),o=lo([i[Bi.DaysFormat],i[Bi.DaysStandalone]],n);return lo(o,e)}(n,r,i)[t.getDay()];case fi.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const m=function x6(t){const n=gr(t);return WE(n),(n[Bi.ExtraData][2]||[]).map(i=>"string"==typeof i?Ly(i):[Ly(i[0]),Ly(i[1])])}(n),A=function S6(t,n,e){const i=gr(t);WE(i);const o=lo([i[Bi.ExtraData][0],i[Bi.ExtraData][1]],n)||[];return lo(o,e)||[]}(n,r,i),S=m.findIndex(P=>{if(Array.isArray(P)){const[N,L]=P,V=s>=N.hours&&a>=N.minutes,K=s<L.hours||s===L.hours&&a<L.minutes;if(N.hours<L.hours){if(V&&K)return!0}else if(V||K)return!0}else if(P.hours===s&&P.minutes===a)return!0;return!1});if(-1!==S)return A[S]}return function y6(t,n,e){const i=gr(t),o=lo([i[Bi.DayPeriodsFormat],i[Bi.DayPeriodsStandalone]],n);return lo(o,e)}(n,r,i)[s<12?0:1];case fi.Eras:return function A6(t,n){return lo(gr(t)[Bi.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,t,n,e,i)}}function Kp(t){return function(n,e,i){const r=-1*i,o=ao(e,Cn.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Rs.Short:return(r>=0?"+":"")+Po(s,2,o)+Po(Math.abs(r%60),2,o);case Rs.ShortGMT:return"GMT"+(r>=0?"+":"")+Po(s,1,o);case Rs.Long:return"GMT"+(r>=0?"+":"")+Po(s,2,o)+":"+Po(Math.abs(r%60),2,o);case Rs.Extended:return 0===i?"Z":(r>=0?"+":"")+Po(s,2,o)+":"+Po(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const R6=0,Zp=4;function $E(t){const n=t.getDay(),e=0===n?-3:Zp-n;return Xp(t.getFullYear(),t.getMonth(),t.getDate()+e)}function By(t,n=!1){return function(e,i){let r;if(n){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=$E(e),s=function N6(t){const n=Xp(t,R6,1).getDay();return Xp(t,0,1+(n<=Zp?Zp:Zp+7)-n)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Po(r,t,ao(i,Cn.MinusSign))}}function Jp(t,n=!1){return function(e,i){return Po($E(e).getFullYear(),t,ao(i,Cn.MinusSign),n)}}const Vy={};function qE(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function XE(t){return t instanceof Date&&!isNaN(t.valueOf())}function JE(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}const Wy=/\s+/,eM=[];let Ro=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=eM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Wy):eM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Wy):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Wy).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Do))}}static{this.\u0275dir=Be({type:t,selectors:[["","ngClass",""]],inputs:{klass:[ke.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();class J6{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ri=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new J6(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),iM(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{iM(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(k(Qi),k(si),k(Ey))}}static{this.\u0275dir=Be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function iM(t,n){t.context.$implicit=n.item}let Pt=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new eW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){nM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){nM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(k(Qi),k(si))}}static{this.\u0275dir=Be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class eW{constructor(){this.$implicit=null,this.ngIf=null}}function nM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${En(n)}'.`)}let ls=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||t)(k(Qi))}}static{this.\u0275dir=Be({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[bi]})}}return t})();function No(t,n){return new xe(2100,!1)}class sW{createSubscription(n,e){return FE(()=>n.subscribe({next:e,error:i=>{throw i}}))}dispose(n){FE(()=>n.unsubscribe())}}class aW{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const lW=new aW,cW=new sW;let ha=(()=>{class t{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Nu(e))return lW;if(YI(e))return cW;throw No()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||t)(k(Qt,16))}}static{this.\u0275pipe=Er({name:"async",type:t,pure:!1,standalone:!0})}}return t})();const uW=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let qy=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw No();return e.replace(uW,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Er({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();const pW=new Me(""),mW=new Me("");let tm=(()=>{class t{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return YE(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw No()}}static{this.\u0275fac=function(i){return new(i||t)(k(Oo,16),k(pW,24),k(mW,24))}}static{this.\u0275pipe=Er({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),oM=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=sM}transform(e,i=sM){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ??=this.differs.find(e).create();const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function yW(t,n){return{key:t,value:n}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}static{this.\u0275fac=function(i){return new(i||t)(k(Bp,16))}}static{this.\u0275pipe=Er({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function sM(t,n){const e=t.key,i=n.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let Ky=(()=>{class t{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw No();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Er({name:"slice",type:t,pure:!1,standalone:!0})}}return t})(),Pr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();const aM="browser";function im(t){return t===aM}function lM(t){return"server"===t}let DW=(()=>{class t{static{this.\u0275prov=Te({token:t,providedIn:"root",factory:()=>im(Q(So))?new IW(Q(xt),window):new MW})}}return t})();class IW{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const e=function EW(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class MW{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class cM{}class rY extends u6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jy extends rY{static makeCurrent(){!function d6(t){BE??=t}(new Jy)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function oY(){return ju=ju||document.querySelector("base"),ju?ju.getAttribute("href"):null}();return null==e?null:function sY(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return JE(document.cookie,n)}}let ju=null,lY=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();const e0=new Me("");let bM=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new xe(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(ve(e0),ve(Je))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();class vM{constructor(n){this._doc=n}}const t0="ng-app-id";let yM=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lM(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${t0}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(t0),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(t0,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(ve(xt),ve($d),ve(_b,8),ve(So))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();const n0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r0=/%COMP%/g,hY=new Me("",{providedIn:"root",factory:()=>!0});function CM(t,n){return n.map(e=>e.replace(r0,t))}let o0=(()=>{class t{constructor(e,i,r,o,s,a,l,m=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=lM(a),this.defaultRenderer=new s0(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_o.ShadowDom&&(i={...i,encapsulation:_o.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof xM?r.applyToHost(e):r instanceof a0&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,m=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,S=this.platformIsServer;switch(i.encapsulation){case _o.Emulated:o=new xM(l,m,i,this.appId,A,s,a,S);break;case _o.ShadowDom:return new gY(l,m,e,i,s,a,this.nonce,S);default:o=new a0(l,m,i,A,s,a,S)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(ve(bM),ve(yM),ve($d),ve(hY),ve(xt),ve(So),ve(Je),ve(_b))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();class s0{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(n0[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(wM(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(wM(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new xe(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=n0[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=n0[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(ia.DashCase|ia.Important)?n.style.setProperty(e,i,r&ia.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&ia.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){null!=n&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=ua().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function wM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class gY extends s0{constructor(n,e,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=CM(r.id,r.styles);for(const A of m){const S=document.createElement("style");a&&S.setAttribute("nonce",a),S.textContent=A,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class a0 extends s0{constructor(n,e,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?CM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xM extends a0{constructor(n,e,i,r,o,s,a,l){const m=r+"-"+i.id;super(n,e,i,o,s,a,l,m),this.contentAttr=function fY(t){return"_ngcontent-%COMP%".replace(r0,t)}(m),this.hostAttr=function pY(t){return"_nghost-%COMP%".replace(r0,t)}(m)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let _Y=(()=>{class t extends vM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(ve(xt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();const SM=["alt","control","meta","shift"],bY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yY=(()=>{class t extends vM{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ua().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),SM.forEach(m=>{const A=i.indexOf(m);A>-1&&(i.splice(A,1),s+=m+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=bY[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),SM.forEach(s=>{s!==r&&(0,vY[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(ve(xt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();const xY=iE(IG,"browser",[{provide:So,useValue:aM},{provide:cx,useValue:function AY(){Jy.makeCurrent()},multi:!0},{provide:xt,useFactory:function wY(){return function OV(t){gb=t}(document),document},deps:[]}]),SY=new Me(""),IM=[{provide:Pp,useClass:class aY{addToWindow(n){_i.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new xe(5103,!1);return o},_i.getAllAngularTestabilities=()=>n.getAllTestabilities(),_i.getAllAngularRootElements=()=>n.getAllRootElements(),_i.frameworkStabilizers||(_i.frameworkStabilizers=[]),_i.frameworkStabilizers.push(i=>{const r=_i.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?ua().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:WI,useClass:gy,deps:[Je,_y,Pp]},{provide:gy,useClass:gy,deps:[Je,_y,Pp]}],EM=[{provide:O_,useValue:"root"},{provide:Gr,useFactory:function CY(){return new Gr},deps:[]},{provide:e0,useClass:_Y,multi:!0,deps:[xt,Je,So]},{provide:e0,useClass:yY,multi:!0,deps:[xt]},o0,yM,bM,{provide:hv,useExisting:o0},{provide:cM,useClass:lY,deps:[]},[]];let MM=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:$d,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||t)(ve(SY,12))}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[...EM,...IM],imports:[Pr,EG]})}}return t})(),TY=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(ve(xt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const MY=new Me("HammerGestureConfig");let kY=(()=>{class t{constructor(){this.events=[],this.overrides={}}buildHammer(e){const i=new Hammer(e,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const r in this.overrides)i.get(r).set(this.overrides[r]);return i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})(),Oc=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:function(i){let r=null;return r=i?new(i||t):ve(OY),r},providedIn:"root"})}}return t})(),OY=(()=>{class t extends Oc{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Yn.NONE:return i;case Yn.HTML:return is(i,"HTML")?Wr(i):Ix(this._doc,String(i)).toString();case Yn.STYLE:return is(i,"Style")?Wr(i):i;case Yn.SCRIPT:if(is(i,"Script"))return Wr(i);throw new xe(5200,!1);case Yn.URL:return is(i,"URL")?Wr(i):zf(String(i));case Yn.RESOURCE_URL:if(is(i,"ResourceURL"))return Wr(i);throw new xe(5201,!1);default:throw new xe(5202,!1)}}bypassSecurityTrustHtml(e){return function JV(t){return new $V(t)}(e)}bypassSecurityTrustStyle(e){return function e5(t){return new qV(t)}(e)}bypassSecurityTrustScript(e){return function t5(t){return new XV(t)}(e)}bypassSecurityTrustUrl(e){return function i5(t){return new QV(t)}(e)}bypassSecurityTrustResourceUrl(e){return function n5(t){return new KV(t)}(e)}static{this.\u0275fac=function(i){return new(i||t)(ve(xt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function RM(t){return t&&ne(t.schedule)}function l0(t){return t[t.length-1]}function sm(t){return ne(l0(t))?t.pop():void 0}function zu(t){return RM(l0(t))?t.pop():void 0}function fa(t){return this instanceof fa?(this.v=t,this):new fa(t)}function BM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function h0(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(m){o({value:m,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const p0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function VM(t){return ne(t?.then)}function HM(t){return ne(t[l_])}function jM(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function UM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zM=function s7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function GM(t){return ne(t?.[zM])}function WM(t){return function LM(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(N){return function(L){return Promise.resolve(L).then(N,S)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(N,L){i[N]&&(r[N]=function(V){return new Promise(function(K,re){o.push([N,V,K,re])>1||l(N,V)})},L&&(r[N]=L(r[N])))}function l(N,L){try{!function m(N){N.value instanceof fa?Promise.resolve(N.value.v).then(A,S):P(o[0][2],N)}(i[N](L))}catch(V){P(o[0][3],V)}}function A(N){l("next",N)}function S(N){l("throw",N)}function P(N,L){N(L),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield fa(e.read());if(r)return yield fa(void 0);yield yield fa(i)}}finally{e.releaseLock()}})}function YM(t){return ne(t?.getReader)}function xn(t){if(t instanceof Zt)return t;if(null!=t){if(HM(t))return function a7(t){return new Zt(n=>{const e=t[l_]();if(ne(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(p0(t))return function l7(t){return new Zt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(VM(t))return function c7(t){return new Zt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ut)})}(t);if(jM(t))return $M(t);if(GM(t))return function d7(t){return new Zt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(YM(t))return function u7(t){return $M(WM(t))}(t)}throw UM(t)}function $M(t){return new Zt(n=>{(function h7(t,n){var e,i,r,o;return function NM(t,n,e,i){return new(e||(e=Promise))(function(o,s){function a(A){try{m(i.next(A))}catch(S){s(S)}}function l(A){try{m(i.throw(A))}catch(S){s(S)}}function m(A){A.done?o(A.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(A.value).then(a,l)}m((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=BM(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Fs(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function qM(t,n=0){return Gi((e,i)=>{e.subscribe(Ci(i,r=>Fs(i,t,()=>i.next(r),n),()=>Fs(i,t,()=>i.complete(),n),r=>Fs(i,t,()=>i.error(r),n)))})}function XM(t,n=0){return Gi((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function QM(t,n){if(!t)throw new Error("Iterable cannot be null");return new Zt(e=>{Fs(e,n,()=>{const i=t[Symbol.asyncIterator]();Fs(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Sn(t,n){return n?function b7(t,n){if(null!=t){if(HM(t))return function f7(t,n){return xn(t).pipe(XM(n),qM(n))}(t,n);if(p0(t))return function m7(t,n){return new Zt(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(VM(t))return function p7(t,n){return xn(t).pipe(XM(n),qM(n))}(t,n);if(jM(t))return QM(t,n);if(GM(t))return function g7(t,n){return new Zt(e=>{let i;return Fs(e,n,()=>{i=t[zM](),Fs(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>ne(i?.return)&&i.return()})}(t,n);if(YM(t))return function _7(t,n){return QM(WM(t),n)}(t,n)}throw UM(t)}(t,n):xn(t)}function ot(...t){return Sn(t,zu(t))}function Vn(t,n,e=1/0){return ne(n)?Vn((i,r)=>bt((o,s)=>n(i,o,r,s))(xn(t(i,r))),e):("number"==typeof n&&(e=n),Gi((i,r)=>function v7(t,n,e,i,r,o,s,a){const l=[];let m=0,A=0,S=!1;const P=()=>{S&&!l.length&&!m&&n.complete()},N=V=>m<i?L(V):l.push(V),L=V=>{o&&n.next(V),m++;let K=!1;xn(e(V,A++)).subscribe(Ci(n,re=>{r?.(re),o?N(re):n.next(re)},()=>{K=!0},void 0,()=>{if(K)try{for(m--;l.length&&m<i;){const re=l.shift();s?Fs(n,s,()=>L(re)):L(re)}P()}catch(re){n.error(re)}}))};return t.subscribe(Ci(n,N,()=>{S=!0,P()})),()=>{a?.()}}(i,r,t,e)))}function Pc(t,n){return ne(n)?Vn(t,n,1):Vn(t,1)}function pi(t,n){return Gi((e,i)=>{let r=0;e.subscribe(Ci(i,o=>t.call(n,o,r++)&&i.next(o)))})}function Rc(t){return Gi((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function dn(t,n){return Gi((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Ci(i,l=>{r?.unsubscribe();let m=0;const A=o++;xn(t(l,A)).subscribe(r=Ci(i,S=>i.next(n?n(l,S,A,m++):S),()=>{r=null,a()}))},()=>{s=!0,a()}))})}class am{}class lm{}class lr{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof lr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new lr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof lr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=n.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class y7{encodeKey(n){return KM(n)}encodeValue(n){return KM(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const C7=/%(\d[a-f0-9])/gi,w7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function KM(t){return encodeURIComponent(t).replace(C7,(n,e)=>w7[e]??n)}function cm(t){return`${t}`}class br{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new y7,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function A7(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],r=Array.isArray(i)?i.map(cm):[cm(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new br({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(cm(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(cm(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class x7{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function ZM(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function JM(t){return typeof Blob<"u"&&t instanceof Blob}function ek(t){return typeof FormData<"u"&&t instanceof FormData}class Gu{constructor(n,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function S7(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new lr,this.context??=new x7,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new br,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||ZM(this.body)||JM(this.body)||ek(this.body)||function T7(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof br?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ek(this.body)?null:JM(this.body)?this.body.type||null:ZM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof br?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress;let m=n.headers||this.headers,A=n.params||this.params;const S=n.context??this.context;return void 0!==n.setHeaders&&(m=Object.keys(n.setHeaders).reduce((P,N)=>P.set(N,n.setHeaders[N]),m)),n.setParams&&(A=Object.keys(n.setParams).reduce((P,N)=>P.set(N,n.setParams[N]),A)),new Gu(e,i,s,{params:A,headers:m,context:S,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}}var pa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(pa||{});class m0{constructor(n,e=Wu.Ok,i="OK"){this.headers=n.headers||new lr,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class dm extends m0{constructor(n={}){super(n),this.type=pa.ResponseHeader}clone(n={}){return new dm({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class $a extends m0{constructor(n={}){super(n),this.type=pa.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new $a({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Nc extends m0{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var Wu=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Wu||{});function g0(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let Fo=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Gu)o=e;else{let l,m;l=r.headers instanceof lr?r.headers:new lr(r.headers),r.params&&(m=r.params instanceof br?r.params:new br({fromObject:r.params})),o=new Gu(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=ot(o).pipe(Pc(l=>this.handler.handle(l)));if(e instanceof Gu||"events"===r.observe)return s;const a=s.pipe(pi(l=>l instanceof $a));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(bt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(bt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(bt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(bt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new br).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,g0(r,i))}post(e,i,r={}){return this.request("POST",e,g0(r,i))}put(e,i,r={}){return this.request("PUT",e,g0(r,i))}static{this.\u0275fac=function(i){return new(i||t)(ve(am))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();function ik(t,n){return n(t)}function k7(t,n){return(e,i)=>n.intercept(e,{handle:r=>t(r,i)})}const nk=new Me(""),Yu=new Me(""),rk=new Me(""),ok=new Me("");function P7(){let t=null;return(n,e)=>{null===t&&(t=(Q(nk,{optional:!0})??[]).reduceRight(k7,ik));const i=Q(sa),r=i.add();return t(n,e).pipe(Rc(()=>i.remove(r)))}}let sk=(()=>{class t extends am{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Q(sa);const r=Q(ok,{optional:!0});this.backend=r??e}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Yu),...this.injector.get(rk,[])]));this.chain=r.reduceRight((o,s)=>function O7(t,n,e){return(i,r)=>Xo(e,()=>n(i,o=>t(o,r)))}(o,s,this.injector),ik)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Rc(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(ve(lm),ve(Gn))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();const B7=/^\)\]\}',?\n/;let lk=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new xe(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Sn(i.\u0275loadImpl()):ot(null)).pipe(dn(()=>new Zt(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((V,K)=>s.setRequestHeader(V,K.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const V=e.detectContentTypeHeader();null!==V&&s.setRequestHeader("Content-Type",V)}if(e.responseType){const V=e.responseType.toLowerCase();s.responseType="json"!==V?V:"text"}const a=e.serializeBody();let l=null;const m=()=>{if(null!==l)return l;const V=s.statusText||"OK",K=new lr(s.getAllResponseHeaders()),re=function V7(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new dm({headers:K,status:s.status,statusText:V,url:re}),l},A=()=>{let{headers:V,status:K,statusText:re,url:ae}=m(),He=null;K!==Wu.NoContent&&(He=typeof s.response>"u"?s.responseText:s.response),0===K&&(K=He?Wu.Ok:0);let Ue=K>=200&&K<300;if("json"===e.responseType&&"string"==typeof He){const Ke=He;He=He.replace(B7,"");try{He=""!==He?JSON.parse(He):null}catch(et){He=Ke,Ue&&(Ue=!1,He={error:et,text:He})}}Ue?(o.next(new $a({body:He,headers:V,status:K,statusText:re,url:ae||void 0})),o.complete()):o.error(new Nc({error:He,headers:V,status:K,statusText:re,url:ae||void 0}))},S=V=>{const{url:K}=m(),re=new Nc({error:V,status:s.status||0,statusText:s.statusText||"Unknown Error",url:K||void 0});o.error(re)};let P=!1;const N=V=>{P||(o.next(m()),P=!0);let K={type:pa.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(K.total=V.total),"text"===e.responseType&&s.responseText&&(K.partialText=s.responseText),o.next(K)},L=V=>{let K={type:pa.UploadProgress,loaded:V.loaded};V.lengthComputable&&(K.total=V.total),o.next(K)};return s.addEventListener("load",A),s.addEventListener("error",S),s.addEventListener("timeout",S),s.addEventListener("abort",S),e.reportProgress&&(s.addEventListener("progress",N),null!==a&&s.upload&&s.upload.addEventListener("progress",L)),s.send(a),o.next({type:pa.Sent}),()=>{s.removeEventListener("error",S),s.removeEventListener("abort",S),s.removeEventListener("load",A),s.removeEventListener("timeout",S),e.reportProgress&&(s.removeEventListener("progress",N),null!==a&&s.upload&&s.upload.removeEventListener("progress",L)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(ve(cM))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();const v0=new Me(""),ck=new Me("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),dk=new Me("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class uk{}let U7=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=JE(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(ve(xt),ve(So),ve(ck))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();function z7(t,n){const e=t.url.toLowerCase();if(!Q(v0)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const i=Q(uk).getToken(),r=Q(dk);return null!=i&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var ma=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ma||{});function qa(t,n){return{\u0275kind:t,\u0275providers:n}}function G7(...t){const n=[Fo,lk,sk,{provide:am,useExisting:sk},{provide:lm,useExisting:lk},{provide:Yu,useValue:z7,multi:!0},{provide:v0,useValue:!0},{provide:uk,useClass:U7}];for(const e of t)n.push(...e.\u0275providers);return function Md(t){return{\u0275providers:t}}(n)}const hk=new Me("");let fk=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[G7(qa(ma.LegacyInterceptors,[{provide:hk,useFactory:P7},{provide:Yu,useExisting:hk,multi:!0}]))]})}}return t})();const{isArray:K7}=Array,{getPrototypeOf:Z7,prototype:J7,keys:e$}=Object;function Ck(t){if(1===t.length){const n=t[0];if(K7(n))return{args:n,keys:null};if(function t$(t){return t&&"object"==typeof t&&Z7(t)===J7}(n)){const e=e$(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:i$}=Array;function y0(t){return bt(n=>function n$(t,n){return i$(n)?t(...n):t(n)}(t,n))}function wk(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function Fc(...t){const n=zu(t),e=sm(t),{args:i,keys:r}=Ck(t);if(0===i.length)return Sn([],n);const o=new Zt(function r$(t,n,e=Cs){return i=>{xk(n,()=>{const{length:r}=t,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)xk(n,()=>{const m=Sn(t[l],n);let A=!1;m.subscribe(Ci(i,S=>{o[l]=S,A||(A=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>wk(r,s):Cs));return e?o.pipe(y0(e)):o}function xk(t,n,e){t?Fs(e,t,n):n()}const $u=fe(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Lc(t=1/0){return Vn(Cs,t)}function Bc(...t){return function o$(){return Lc(1)}()(Sn(t,zu(t)))}function qu(t){return new Zt(n=>{xn(t()).subscribe(n)})}function Vc(t,n){const e=ne(t)?t:()=>t,i=r=>r.error(e());return new Zt(n?r=>n.schedule(i,0,r):i)}const vr=new Zt(t=>t.complete());function A0(){return Gi((t,n)=>{let e=null;t._refCount++;const i=Ci(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class Sk extends Zt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,g1(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new me;const e=this.getSubject();n.add(this.source.subscribe(Ci(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=me.EMPTY)}return n}refCount(){return A0()(this)}}function Ei(t){return t<=0?()=>vr:Gi((n,e)=>{let i=0;n.subscribe(Ci(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function cr(...t){const n=zu(t);return Gi((e,i)=>{(n?Bc(t,e,n):Bc(t,e)).subscribe(i)})}function hm(t){return Gi((n,e)=>{let i=!1;n.subscribe(Ci(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Tk(t=a$){return Gi((n,e)=>{let i=!1;n.subscribe(Ci(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function a$(){return new $u}function Xa(t,n){const e=arguments.length>=2;return i=>i.pipe(t?pi((r,o)=>t(r,o,i)):Cs,Ei(1),e?hm(n):Tk(()=>new $u))}function Ki(t,n,e){const i=ne(t)||n||e?{next:t,error:n,complete:e}:t;return i?Gi((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Ci(o,l=>{var m;null===(m=i.next)||void 0===m||m.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var m;a=!1,null===(m=i.error)||void 0===m||m.call(i,l),o.error(l)},()=>{var l,m;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(m=i.finalize)||void 0===m||m.call(i)}))}):Cs}function Lo(t){return Gi((n,e)=>{let o,i=null,r=!1;i=n.subscribe(Ci(e,void 0,void 0,s=>{o=xn(t(s,Lo(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function C0(t){return t<=0?()=>vr:Gi((n,e)=>{let i=[];n.subscribe(Ci(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Dt(t){return Gi((n,e)=>{xn(t).subscribe(Ci(e,()=>e.complete(),rt)),!e.closed&&n.subscribe(e)})}const zt="primary",Xu=Symbol("RouteTitle");class u${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Hc(t){return new u$(t)}function h$(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function cs(t,n){const e=t?w0(t):void 0,i=n?w0(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Ik(t[r],n[r]))return!1;return!0}function w0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ik(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}return t===n}function Ek(t){return t.length>0?t[t.length-1]:null}function ga(t){return function Ak(t){return!!t&&(t instanceof Zt||ne(t.lift)&&ne(t.subscribe))}(t)?t:Nu(t)?Sn(Promise.resolve(t)):ot(t)}const p$={exact:function Ok(t,n,e){if(!Qa(t.segments,n.segments)||!fm(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!Ok(t.children[i],n.children[i],e))return!1;return!0},subset:Pk},Mk={exact:function m$(t,n){return cs(t,n)},subset:function g$(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Ik(t[e],n[e]))},ignored:()=>!0};function kk(t,n,e){return p$[e.paths](t.root,n.root,e.matrixParams)&&Mk[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function Pk(t,n,e){return Rk(t,n,n.segments,e)}function Rk(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!Qa(r,e)||n.hasChildren()||!fm(r,e,i))}if(t.segments.length===e.length){if(!Qa(t.segments,e)||!fm(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!Pk(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(Qa(t.segments,r)&&fm(t.segments,r,i)&&t.children[zt])&&Rk(t.children[zt],n,o,i)}}function fm(t,n,e){return n.every((i,r)=>Mk[e](t[r].parameters,i.parameters))}class jc{constructor(n=new Mi([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Hc(this.queryParams),this._queryParamMap}toString(){return v$.serialize(this)}}class Mi{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pm(this)}}class Qu{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Hc(this.parameters),this._parameterMap}toString(){return Lk(this)}}function Qa(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let Uc=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:()=>new x0,providedIn:"root"})}}return t})();class x0{parse(n){const e=new M$(n);return new jc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Ku(n.root,!0)}`,i=function C$(t){const n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${mm(e)}=${mm(r)}`).join("&"):`${mm(e)}=${mm(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function y$(t){return encodeURI(t)}(n.fragment)}`:""}`}}const v$=new x0;function pm(t){return t.segments.map(n=>Lk(n)).join("/")}function Ku(t,n){if(!t.hasChildren())return pm(t);if(n){const e=t.children[zt]?Ku(t.children[zt],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==zt&&i.push(`${r}:${Ku(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function b$(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===zt&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==zt&&(e=e.concat(n(r,i)))}),e}(t,(i,r)=>r===zt?[Ku(t.children[zt],!1)]:[`${r}:${Ku(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[zt]?`${pm(t)}/${e[0]}`:`${pm(t)}/(${e.join("//")})`}}function Nk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mm(t){return Nk(t).replace(/%3B/gi,";")}function S0(t){return Nk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gm(t){return decodeURIComponent(t)}function Fk(t){return gm(t.replace(/\+/g,"%20"))}function Lk(t){return`${S0(t.path)}${function A$(t){return Object.entries(t).map(([n,e])=>`;${S0(n)}=${S0(e)}`).join("")}(t.parameters)}`}const w$=/^[^\/()?;#]+/;function T0(t){const n=t.match(w$);return n?n[0]:""}const x$=/^[^\/()?;=#]+/,T$=/^[^=?&#]+/,I$=/^[^&#]+/;class M${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mi([],{}):new Mi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[zt]=new Mi(n,e)),i}parseSegment(){const n=T0(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new xe(4009,!1);return this.capture(n),new Qu(gm(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function S$(t){const n=t.match(x$);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=T0(this.remaining);r&&(i=r,this.capture(i))}n[gm(e)]=gm(i)}parseQueryParam(n){const e=function D$(t){const n=t.match(T$);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function E$(t){const n=t.match(I$);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=Fk(e),o=Fk(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=T0(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new xe(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=zt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[zt]:new Mi([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new xe(4011,!1)}}function Bk(t){return t.segments.length>0?new Mi([],{[zt]:t}):t}function Vk(t){const n={};for(const[i,r]of Object.entries(t.children)){const o=Vk(r);if(i===zt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function k$(t){if(1===t.numberOfChildren&&t.children[zt]){const n=t.children[zt];return new Mi(t.segments.concat(n.segments),n.children)}return t}(new Mi(t.segments,n))}function zc(t){return t instanceof jc}function Hk(t){let n;const r=Bk(function e(o){const s={};for(const l of o.children){const m=e(l);s[l.outlet]=m}const a=new Mi(o.url,s);return o===t&&(n=a),a}(t.root));return n??r}function jk(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(0===n.length)return D0(r,r,r,e,i);const o=function P$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zk(!0,0,t);let n=0,e=!1;const i=t.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,m])=>{a[l]="string"==typeof m?m.split("/"):m}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new zk(e,n,i)}(n);if(o.toRoot())return D0(r,r,new Mi([],{}),e,i);const s=function R$(t,n,e){if(t.isAbsolute)return new bm(n,!0,0);if(!e)return new bm(n,!1,NaN);if(null===e.parent)return new bm(e,!0,0);const i=_m(t.commands[0])?0:1;return function N$(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new xe(4005,!1);r=i.segments.length}return new bm(i,!1,r-o)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(o,r,t),a=s.processChildren?Ju(s.segmentGroup,s.index,o.commands):Gk(s.segmentGroup,s.index,o.commands);return D0(r,s.segmentGroup,a,e,i)}function _m(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zu(t){return"object"==typeof t&&null!=t&&t.outlets}function D0(t,n,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,m])=>{o[l]=Array.isArray(m)?m.map(A=>`${A}`):`${m}`}),s=t===n?e:Uk(t,n,e);const a=Bk(Vk(s));return new jc(a,o,r)}function Uk(t,n,e){const i={};return Object.entries(t.children).forEach(([r,o])=>{i[r]=o===n?e:Uk(o,n,e)}),new Mi(t.segments,i)}class zk{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&_m(i[0]))throw new xe(4003,!1);const r=i.find(Zu);if(r&&r!==Ek(i))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bm{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function Gk(t,n,e){if(t??=new Mi([],{}),0===t.segments.length&&t.hasChildren())return Ju(t,n,e);const i=function L$(t,n,e){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;const s=t.segments[r],a=e[i];if(Zu(a))break;const l=`${a}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&m&&"object"==typeof m&&void 0===m.outlets){if(!Yk(l,m,s))return o;i+=2}else{if(!Yk(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const o=new Mi(t.segments.slice(0,i.pathIndex),{});return o.children[zt]=new Mi(t.segments.slice(i.pathIndex),t.children),Ju(o,0,r)}return i.match&&0===r.length?new Mi(t.segments,{}):i.match&&!t.hasChildren()?I0(t,n,e):i.match?Ju(t,0,r):I0(t,n,e)}function Ju(t,n,e){if(0===e.length)return new Mi(t.segments,{});{const i=function F$(t){return Zu(t[0])?t[0].outlets:{[zt]:t}}(e),r={};if(Object.keys(i).some(o=>o!==zt)&&t.children[zt]&&1===t.numberOfChildren&&0===t.children[zt].segments.length){const o=Ju(t.children[zt],n,e);return new Mi(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Gk(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Mi(t.segments,r)}}function I0(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const o=e[r];if(Zu(o)){const l=B$(o.outlets);return new Mi(i,l)}if(0===r&&_m(e[0])){i.push(new Qu(t.segments[n].path,Wk(e[0]))),r++;continue}const s=Zu(o)?o.outlets[zt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&_m(a)?(i.push(new Qu(s,Wk(a))),r+=2):(i.push(new Qu(s,{})),r++)}return new Mi(i,{})}function B$(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=I0(new Mi([],{}),0,i))}),n}function Wk(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function Yk(t,n,e){return t==e.path&&cs(n,e.parameters)}const eh="imperative";var ei=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ei||{});class ds{constructor(n,e){this.id=n,this.url=e}}class vm extends ds{constructor(n,e,i="imperative",r=null){super(n,e),this.type=ei.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ls extends ds{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=ei.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Qr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qr||{}),ym=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ym||{});class Gc extends ds{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=ei.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wc extends ds{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=ei.NavigationSkipped}}class Am extends ds{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=ei.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $k extends ds{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V$ extends ds{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H$ extends ds{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=ei.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class j$ extends ds{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U$ extends ds{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z${constructor(n){this.route=n,this.type=ei.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class G${constructor(n){this.route=n,this.type=ei.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class W${constructor(n){this.snapshot=n,this.type=ei.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y${constructor(n){this.snapshot=n,this.type=ei.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $${constructor(n){this.snapshot=n,this.type=ei.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q${constructor(n){this.snapshot=n,this.type=ei.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qk{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=ei.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class E0{}class M0{constructor(n){this.url=n}}class X${constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new th,this.attachRef=null}}let th=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new X$,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Xk{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=k0(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=k0(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=O0(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return O0(n,this._root).map(e=>e.value)}}function k0(t,n){if(t===n.value)return n;for(const e of n.children){const i=k0(t,e);if(i)return i}return null}function O0(t,n){if(t===n.value)return[n];for(const e of n.children){const i=O0(t,e);if(i.length)return i.unshift(n),i}return[]}class Bo{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yc(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Qk extends Xk{constructor(n,e){super(n),this.snapshot=e,N0(this,n)}toString(){return this.snapshot.toString()}}function Kk(t){const n=function Q$(t){const o=new R0([],{},{},"",{},zt,t,null,{});return new Zk("",new Bo(o,[]))}(t),e=new gn([new Qu("",{})]),i=new gn({}),r=new gn({}),o=new gn({}),s=new gn(""),a=new Zi(e,i,o,s,r,zt,t,n.root);return a.snapshot=n.root,new Qk(new Bo(a,[]),n)}class Zi{constructor(n,e,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(bt(m=>m[Xu]))??ot(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(bt(n=>Hc(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(bt(n=>Hc(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function P0(t,n,e="emptyOnly"){let i;const{routeConfig:r}=t;return i=null===n||"always"!==e&&""!==r?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.data,...r?.data,...t._resolvedData}},r&&eO(r)&&(i.resolve[Xu]=r.title),i}class R0{get title(){return this.data?.[Xu]}constructor(n,e,i,r,o,s,a,l,m){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zk extends Xk{constructor(n,e){super(e),this.url=n,N0(this,e)}toString(){return Jk(this._root)}}function N0(t,n){n.value._routerState=t,n.children.forEach(e=>N0(t,e))}function Jk(t){const n=t.children.length>0?` { ${t.children.map(Jk).join(", ")} } `:"";return`${t.value}${n}`}function F0(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,cs(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),cs(n.params,e.params)||t.paramsSubject.next(e.params),function f$(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!cs(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),cs(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function L0(t,n){const e=cs(t.params,n.params)&&function _$(t,n){return Qa(t,n)&&t.every((e,i)=>cs(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||L0(t.parent,n.parent))}function eO(t){return"string"==typeof t.title||null===t.title}let Cm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=Q(th),this.location=Q(Qi),this.changeDetector=Q(Qt),this.environmentInjector=Q(Gn),this.inputBinder=Q(wm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new xe(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new B0(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bi]})}}return t})();class B0{__ngOutletInjector(n){return new B0(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Zi?this.route:n===th?this.childContexts:this.parent.get(n,e)}}const wm=new Me("");let tO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Fc([i.queryParams,i.params,i.data]).pipe(dn(([o,s,a],l)=>(a={...o,...s,...a},0===l?ot(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function c6(t){const n=Wt(t);if(!n)return null;const e=new gu(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();function ih(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function Z$(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return ih(t,i,r);return ih(t,i)})}(t,n,e);return new Bo(i,r)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ih(t,a)),s}}const i=function J$(t){return new Zi(new gn(t.url),new gn(t.params),new gn(t.queryParams),new gn(t.fragment),new gn(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(o=>ih(t,o));return new Bo(i,r)}}const iO="ngNavigationCancelingError";function nO(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=zc(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=rO(!1,Qr.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function rO(t,n){const e=new Error(`NavigationCancelingError: ${t||""}`);return e[iO]=!0,e.cancellationCode=n,e}function oO(t){return!!t&&t[iO]}let sO=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["ng-component"]],standalone:!0,features:[Yt],decls:1,vars:0,template:function(i,r){1&i&&_e(0,"router-outlet")},dependencies:[Cm],encapsulation:2})}}return t})();function V0(t){const n=t.children&&t.children.map(V0),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==zt&&(e.component=sO),e}function us(t){return t.outlet||zt}function nh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class a9{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),F0(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=Yc(e);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Yc(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Yc(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const r=Yc(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new q$(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Y$(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(F0(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),F0(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=nh(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}}class aO{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class xm{constructor(n,e){this.component=n,this.route=e}}function l9(t,n,e){const i=t._root;return rh(i,n?n._root:null,e,[i.value])}function $c(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function dB(t){return null!==rf(t)}(t)?n.get(t):t:i}function rh(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yc(n);return t.children.forEach(s=>{(function d9(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function u9(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Qa(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Qa(t.url,n.url)||!cs(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!L0(t,n)||!cs(t.queryParams,n.queryParams);default:return!L0(t,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new aO(i)):(o.data=s.data,o._resolvedData=s._resolvedData),rh(t,n,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new xm(a.outlet.component,s))}else s&&oh(n,a,r),r.canActivateChecks.push(new aO(i)),rh(t,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>oh(a,e.getContext(s),r)),r}function oh(t,n,e){const i=Yc(t),r=t.value;Object.entries(i).forEach(([o,s])=>{oh(s,r.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new xm(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function sh(t){return"function"==typeof t}function lO(t){return t instanceof $u||"EmptyError"===t?.name}const Sm=Symbol("INITIAL_VALUE");function qc(){return dn(t=>Fc(t.map(n=>n.pipe(Ei(1),cr(Sm)))).pipe(bt(n=>{for(const e of n)if(!0!==e){if(e===Sm)return Sm;if(!1===e||e instanceof jc)return e}return!0}),pi(n=>n!==Sm),Ei(1)))}function cO(t){return function eB(...t){return p1(t)}(Ki(n=>{if(zc(n))throw nO(0,n)}),bt(n=>!0===n))}class H0{constructor(n){this.segmentGroup=n||null}}class j0 extends Error{constructor(n){super(),this.urlTree=n}}function Xc(t){return Vc(new H0(t))}class M9{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ot(i);if(r.numberOfChildren>1||!r.children[zt])return Vc(new xe(4e3,!1));r=r.children[zt]}}applyRedirectCommands(n,e,i){const r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e.startsWith("/"))throw new j0(r);return r}applyRedirectCreateUrlTree(n,e,i,r){const o=this.createSegmentGroup(n,e.root,i,r);return new jc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){const o=this.createSegments(n,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new Mi(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new xe(4001,!1);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}const U0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k9(t,n,e,i,r){const o=z0(t,n,e);return o.matched?(i=function t9(t,n){return t.providers&&!t._injector&&(t._injector=mp(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function D9(t,n,e,i){const r=n.canMatch;return r&&0!==r.length?ot(r.map(s=>{const a=$c(s,t);return ga(function _9(t){return t&&sh(t.canMatch)}(a)?a.canMatch(n,e):Xo(t,()=>a(n,e)))})).pipe(qc(),cO()):ot(!0)}(i,n,e).pipe(bt(s=>!0===s?o:{...U0}))):ot(o)}function z0(t,n,e){if("**"===n.path)return function O9(t){return{matched:!0,parameters:t.length>0?Ek(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...U0}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(n.matcher||h$)(e,t,n);if(!r)return{...U0};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function dO(t,n,e,i){return e.length>0&&function N9(t,n,e){return e.some(i=>Tm(t,n,i)&&us(i)!==zt)}(t,e,i)?{segmentGroup:new Mi(n,R9(i,new Mi(e,t.children))),slicedSegments:[]}:0===e.length&&function F9(t,n,e){return e.some(i=>Tm(t,n,i))}(t,e,i)?{segmentGroup:new Mi(t.segments,P9(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Mi(t.segments,t.children),slicedSegments:e}}function P9(t,n,e,i){const r={};for(const o of e)if(Tm(t,n,o)&&!i[us(o)]){const s=new Mi([],{});r[us(o)]=s}return{...i,...r}}function R9(t,n){const e={};e[zt]=n;for(const i of t)if(""===i.path&&us(i)!==zt){const r=new Mi([],{});e[us(i)]=r}return e}function Tm(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class V9{}class U9{constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new M9(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new xe(4002,`'${n.segmentGroup}'`)}recognize(){const n=dO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(bt(e=>{const i=new R0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,{}),r=new Bo(i,e),o=new Zk("",r),s=function O$(t,n,e=null,i=null){return jk(Hk(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,zt).pipe(Lo(i=>{if(i instanceof j0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof H0?this.noMatchError(i):i}))}inheritParamsAndData(n,e){const i=n.value,r=P0(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r,!0).pipe(bt(o=>o instanceof Bo?[o]:[]))}processChildren(n,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Sn(r).pipe(Pc(o=>{const s=i.children[o],a=function o9(t,n){const e=t.filter(i=>us(i)===n);return e.push(...t.filter(i=>us(i)!==n)),e}(e,o);return this.processSegmentGroup(n,a,s,o)}),function c$(t,n){return Gi(function l$(t,n,e,i,r){return(o,s)=>{let a=e,l=n,m=0;o.subscribe(Ci(s,A=>{const S=m++;l=a?t(l,A,S):(a=!0,A),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(t,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),hm(null),function d$(t,n){const e=arguments.length>=2;return i=>i.pipe(t?pi((r,o)=>t(r,o,i)):Cs,C0(1),e?hm(n):Tk(()=>new $u))}(),Vn(o=>{if(null===o)return Xc(i);const s=uO(o);return function z9(t){t.sort((n,e)=>n.value.outlet===zt?-1:e.value.outlet===zt?1:n.value.outlet.localeCompare(e.value.outlet))}(s),ot(s)}))}processSegment(n,e,i,r,o,s){return Sn(e).pipe(Pc(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,i,r,o,s).pipe(Lo(l=>{if(l instanceof H0)return ot(null);throw l}))),Xa(a=>!!a),Lo(a=>{if(lO(a))return function B9(t,n,e){return 0===n.length&&!t.children[e]}(i,r,o)?ot(new V9):Xc(i);throw a}))}processSegmentAgainstRoute(n,e,i,r,o,s,a){return function L9(t,n,e,i){return!!(us(t)===i||i!==zt&&Tm(n,e,t))&&z0(n,t,e).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s):Xc(r):Xc(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:m,remainingSegments:A}=z0(e,r,o);if(!a)return Xc(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const S=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,m);return this.applyRedirects.lineralizeSegments(r,S).pipe(Vn(P=>this.processSegment(n,i,e,P.concat(A),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o){const s=k9(e,i,r,n);return"**"===i.path&&(e.children={}),s.pipe(dn(a=>a.matched?this.getChildConfig(n=i._injector??n,i,r).pipe(dn(({routes:l})=>{const m=i._loadedInjector??n,{consumedSegments:A,remainingSegments:S,parameters:P}=a,N=new R0(A,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function W9(t){return t.data||{}}(i),us(i),i.component??i._loadedComponent??null,i,function Y9(t){return t.resolve||{}}(i)),{segmentGroup:L,slicedSegments:V}=dO(e,A,S,l);if(0===V.length&&L.hasChildren())return this.processChildren(m,l,L).pipe(bt(re=>null===re?null:new Bo(N,re)));if(0===l.length&&0===V.length)return ot(new Bo(N,[]));const K=us(i)===o;return this.processSegment(m,l,L,V,K?zt:o,!0).pipe(bt(re=>new Bo(N,re instanceof Bo?[re]:[])))})):Xc(e)))}getChildConfig(n,e,i){return e.children?ot({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?ot({routes:e._loadedRoutes,injector:e._loadedInjector}):function T9(t,n,e,i){const r=n.canLoad;return void 0===r||0===r.length?ot(!0):ot(r.map(s=>{const a=$c(s,t);return ga(function f9(t){return t&&sh(t.canLoad)}(a)?a.canLoad(n,e):Xo(t,()=>a(n,e)))})).pipe(qc(),cO())}(n,e,i).pipe(Vn(r=>r?this.configLoader.loadChildren(n,e).pipe(Ki(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function E9(t){return Vc(rO(!1,Qr.GuardRejected))}())):ot({routes:[],injector:n})}}function G9(t){const n=t.value.routeConfig;return n&&""===n.path}function uO(t){const n=[],e=new Set;for(const i of t){if(!G9(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=uO(i.children);n.push(new Bo(i.value,r))}return n.filter(i=>!e.has(i))}function q9(t,n){return Vn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ot(e);const o=new Set(r.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const m of hO(l))s.add(m);let a=0;return Sn(s).pipe(Pc(l=>o.has(l)?function X9(t,n,e,i){const r=t.routeConfig,o=t._resolve;return void 0!==r?.title&&!eO(r)&&(o[Xu]=r.title),function Q9(t,n,e,i){const r=w0(t);if(0===r.length)return ot({});const o={};return Sn(r).pipe(Vn(s=>function K9(t,n,e,i){const r=nh(n)??i,o=$c(t,r);return ga(o.resolve?o.resolve(n,e):Xo(r,()=>o(n,e)))}(t[s],n,e,i).pipe(Xa(),Ki(a=>{o[s]=a}))),C0(1),function Dk(t){return bt(()=>t)}(o),Lo(s=>lO(s)?vr:Vc(s)))}(o,t,n,i).pipe(bt(s=>(t._resolvedData=s,t.data=P0(t,t.parent,e).resolve,null)))}(l,i,t,n):(l.data=P0(l,l.parent,t).resolve,ot(void 0))),Ki(()=>a++),C0(1),Vn(l=>a===s.size?ot(e):vr))})}function hO(t){const n=t.children.map(e=>hO(e)).flat();return[t,...n]}function G0(t){return dn(n=>{const e=t(n);return e?Sn(e).pipe(bt(()=>n)):ot(n)})}let fO=(()=>{class t{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===zt);return i}getResolvedTitleForRoute(e){return e.data[Xu]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:()=>Q(Z9),providedIn:"root"})}}return t})(),Z9=(()=>{class t extends fO{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(ve(TY))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Qc=new Me("",{providedIn:"root",factory:()=>({})}),Kc=new Me("");let W0=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Q(QI)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ot(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ga(e.loadComponent()).pipe(bt(pO),Ki(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Rc(()=>{this.componentLoaders.delete(e)})),r=new Sk(i,()=>new Ye).pipe(A0());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ot({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function J9(t,n,e,i){return ga(t.loadChildren()).pipe(bt(pO),Vn(r=>r instanceof _T||Array.isArray(r)?ot(r):Sn(n.compileModuleAsync(r))),bt(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Kc,[],{optional:!0,self:!0}).flat()),{routes:s.map(V0),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Rc(()=>{this.childrenLoaders.delete(i)})),s=new Sk(o,()=>new Ye).pipe(A0());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function pO(t){return function eq(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Y0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:()=>Q(tq),providedIn:"root"})}}return t})(),tq=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const mO=new Me(""),gO=new Me("");function iq(t,n,e){const i=t.get(gO),r=t.get(xt);return t.get(Je).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o;const s=new Promise(m=>{o=m}),a=r.startViewTransition(()=>(o(),function nq(t){return new Promise(n=>{_v(n,{injector:t})})}(t))),{onViewTransitionCreated:l}=i;return l&&Xo(t,()=>l({transition:a,from:n,to:e})),s})}let Dm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.transitionAbortSubject=new Ye,this.configLoader=Q(W0),this.environmentInjector=Q(Gn),this.urlSerializer=Q(Uc),this.rootContexts=Q(th),this.location=Q(Ya),this.inputBindingEnabled=null!==Q(wm,{optional:!0}),this.titleStrategy=Q(fO),this.options=Q(Qc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Q(Y0),this.createViewTransition=Q(mO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new G$(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new z$(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new gn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:eh,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pi(o=>0!==o.id),bt(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dn(o=>{let s=!1,a=!1;return ot(o).pipe(dn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qr.SupersededByNewNavigation),vr;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const m=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const S="";return this.events.next(new Wc(l.id,this.urlSerializer.serialize(l.rawUrl),S,ym.IgnoredSameUrlNavigation)),l.resolve(null),vr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ot(l).pipe(dn(S=>{const P=this.transitions?.getValue();return this.events.next(new vm(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions?.getValue()?vr:Promise.resolve(S)}),function $9(t,n,e,i,r,o){return Vn(s=>function H9(t,n,e,i,r,o,s="emptyOnly"){return new U9(t,n,e,i,r,s,o).recognize()}(t,n,e,i,s.extractedUrl,r,o).pipe(bt(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ki(S=>{o.targetSnapshot=S.targetSnapshot,o.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects};const P=new $k(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(P)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:S,extractedUrl:P,source:N,restoredState:L,extras:V}=l,K=new vm(S,this.urlSerializer.serialize(P),N,L);this.events.next(K);const re=Kk(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:re,urlAfterRedirects:P,extras:{...V,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=P,ot(o)}{const S="";return this.events.next(new Wc(l.id,this.urlSerializer.serialize(l.extractedUrl),S,ym.IgnoredByUrlHandlingStrategy)),l.resolve(null),vr}}),Ki(l=>{const m=new V$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),bt(l=>(this.currentTransition=o={...l,guards:l9(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function b9(t,n){return Vn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?ot({...e,guardsResult:!0}):function v9(t,n,e,i){return Sn(t).pipe(Vn(r=>function S9(t,n,e,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?ot(o.map(a=>{const l=nh(n)??r,m=$c(a,l);return ga(function g9(t){return t&&sh(t.canDeactivate)}(m)?m.canDeactivate(t,n,e,i):Xo(l,()=>m(t,n,e,i))).pipe(Xa())})).pipe(qc()):ot(!0)}(r.component,r.route,e,n,i)),Xa(r=>!0!==r,!0))}(s,i,r,t).pipe(Vn(a=>a&&function h9(t){return"boolean"==typeof t}(a)?function y9(t,n,e,i){return Sn(n).pipe(Pc(r=>Bc(function C9(t,n){return null!==t&&n&&n(new W$(t)),ot(!0)}(r.route.parent,i),function A9(t,n){return null!==t&&n&&n(new $$(t)),ot(!0)}(r.route,i),function x9(t,n,e){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function c9(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>qu(()=>ot(s.guards.map(l=>{const m=nh(s.node)??e,A=$c(l,m);return ga(function m9(t){return t&&sh(t.canActivateChild)}(A)?A.canActivateChild(i,t):Xo(m,()=>A(i,t))).pipe(Xa())})).pipe(qc())));return ot(o).pipe(qc())}(t,r.path,e),function w9(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const r=i.map(o=>qu(()=>{const s=nh(n)??e,a=$c(o,s);return ga(function p9(t){return t&&sh(t.canActivate)}(a)?a.canActivate(n,t):Xo(s,()=>a(n,t))).pipe(Xa())}));return ot(r).pipe(qc())}(t,r.route,e))),Xa(r=>!0!==r,!0))}(i,o,t,n):ot(a)),bt(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ki(l=>{if(o.guardsResult=l.guardsResult,zc(l.guardsResult))throw nO(0,l.guardsResult);const m=new H$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),pi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Qr.GuardRejected),!1)),G0(l=>{if(l.guards.canActivateChecks.length)return ot(l).pipe(Ki(m=>{const A=new j$(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(A)}),dn(m=>{let A=!1;return ot(m).pipe(q9(this.paramsInheritanceStrategy,this.environmentInjector),Ki({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(m,"",Qr.NoDataFromResolver)}}))}),Ki(m=>{const A=new U$(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(A)}))}),G0(l=>{const m=A=>{const S=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(A.routeConfig).pipe(Ki(P=>{A.component=P}),bt(()=>{})));for(const P of A.children)S.push(...m(P));return S};return Fc(m(l.targetSnapshot.root)).pipe(hm(null),Ei(1))}),G0(()=>this.afterPreactivation()),dn(()=>{const{currentSnapshot:l,targetSnapshot:m}=o,A=this.createViewTransition?.(this.environmentInjector,l.root,m.root);return A?Sn(A).pipe(bt(()=>o)):ot(o)}),bt(l=>{const m=function K$(t,n,e){const i=ih(t,n._root,e?e._root:void 0);return new Qk(i,n)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:m},this.currentNavigation.targetRouterState=m,o}),Ki(()=>{this.events.next(new E0)}),((t,n,e,i)=>bt(r=>(new a9(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ei(1),Ki({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ls(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Dt(this.transitionAbortSubject.pipe(Ki(l=>{throw l}))),Rc(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Qr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lo(l=>{if(a=!0,oO(l))this.events.next(new Gc(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function e9(t){return oO(t)&&zc(t.url)}(l)?this.events.next(new M0(l.url)):o.resolve(!1);else{this.events.next(new Am(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(m){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(m)}}return vr}))}))}cancelNavigationTransition(e,i,r){const o=new Gc(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rq(t){return t!==eh}let oq=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:()=>Q(aq),providedIn:"root"})}}return t})();class sq{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let aq=(()=>{class t extends sq{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=li(t)))(r||t)}})()}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_O=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:()=>Q(lq),providedIn:"root"})}}return t})(),lq=(()=>{class t extends _O{constructor(){super(...arguments),this.location=Q(Ya),this.urlSerializer=Q(Uc),this.options=Q(Qc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Q(Y0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Kk(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof vm)this.stateMemento=this.createStateMemento();else if(e instanceof Wc)this.rawUrlTree=i.initialUrl;else if(e instanceof $k){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else e instanceof E0?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof Gc&&(e.code===Qr.GuardRejected||e.code===Qr.NoDataFromResolver)?this.restoreHistory(i):e instanceof Am?this.restoreHistory(i,!0):e instanceof Ls&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&0===o&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=li(t)))(r||t)}})()}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ah=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ah||{});function bO(t,n){t.events.pipe(pi(e=>e instanceof Ls||e instanceof Gc||e instanceof Am||e instanceof Wc),bt(e=>e instanceof Ls||e instanceof Wc?ah.COMPLETE:e instanceof Gc&&(e.code===Qr.Redirect||e.code===Qr.SupersededByNewNavigation)?ah.REDIRECTING:ah.FAILED),pi(e=>e!==ah.REDIRECTING),Ei(1)).subscribe(()=>{n()})}function cq(t){throw t}const dq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Q(HI),this.stateManager=Q(_O),this.options=Q(Qc,{optional:!0})||{},this.pendingTasks=Q(sa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Q(Dm),this.urlSerializer=Q(Uc),this.location=Q(Ya),this.urlHandlingStrategy=Q(Y0),this._events=new Ye,this.errorHandler=this.options.errorHandler||cq,this.navigated=!1,this.routeReuseStrategy=Q(oq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Q(Kc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Q(wm,{optional:!0}),this.eventsSubscription=new me,this.isNgZoneEnabled=Q(Je)instanceof Je&&Je.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Gc&&i.code!==Qr.Redirect&&i.code!==Qr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ls)this.navigated=!0;else if(i instanceof M0){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rq(r.source)};this.scheduleNavigation(s,eh,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function fq(t){return!(t instanceof E0||t instanceof M0)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(V0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,m=l?this.currentUrlTree.fragment:s;let S,A=null;switch(a){case"merge":A={...this.currentUrlTree.queryParams,...o};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=o||null}null!==A&&(A=this.removeEmptyProps(A));try{S=Hk(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),S=this.currentUrlTree.root}return jk(S,e,A,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=zc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,eh,null,i)}navigate(e,i={skipLocationChange:!1}){return function hq(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new xe(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...dq}:!1===i?{...uq}:i,zc(e))return kk(this.currentUrlTree,e,r);const o=this.parseUrl(e);return kk(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,m;s?(a=s.resolve,l=s.reject,m=s.promise):m=new Promise((S,P)=>{a=S,l=P});const A=this.pendingTasks.add();return bO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(S=>Promise.reject(S))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bs=(()=>{class t{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Ye,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof Ls&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:function Mx(t,n,e){return function y5(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Ex:Jt}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||t)(k(Kt),k(Zi),wo("tabindex"),k(Do),k(Xe),k(Wa))}}static{this.\u0275dir=Be({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&W("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&pt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ke.HasDecoratorInputTransform,"preserveFragment","preserveFragment",wt],skipLocationChange:[ke.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",wt],replaceUrl:[ke.HasDecoratorInputTransform,"replaceUrl","replaceUrl",wt],routerLink:"routerLink"},standalone:!0,features:[bn,bi]})}}return t})();class vO{}let gq=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(pi(e=>e instanceof Ls),Pc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=mp(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Sn(r).pipe(Lc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):ot(null);const o=r.pipe(Vn(s=>null===s?ot(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?Sn([o,this.loader.loadComponent(i)]).pipe(Lc()):o})}static{this.\u0275fac=function(i){return new(i||t)(ve(Kt),ve(QI),ve(Gn),ve(vO),ve(W0))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const $0=new Me("");let yO=(()=>{class t{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Q(Gn),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ls?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Wc&&e.code===ym.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof qk&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){var r=this;this.zone.runOutsideAngular(le(function*(){yield new Promise(o=>{setTimeout(()=>{o()}),_v(()=>{o()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new qk(e,"popstate"===r.lastSource?r.store[r.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){$b()}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();function hs(t,n){return{\u0275kind:t,\u0275providers:n}}function CO(){const t=Q(ci);return n=>{const e=t.get(ko);if(n!==e.components[0])return;const i=t.get(Kt),r=t.get(wO);1===t.get(q0)&&i.initialNavigation(),t.get(xO,null,qt.Optional)?.setUpPreloading(),t.get($0,null,qt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const wO=new Me("",{factory:()=>new Ye}),q0=new Me("",{providedIn:"root",factory:()=>1}),xO=new Me("");function yq(t){return hs(0,[{provide:xO,useExisting:gq},{provide:vO,useExisting:t}])}function Cq(t){return hs(9,[{provide:mO,useValue:iq},{provide:gO,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const SO=new Me("ROUTER_FORROOT_GUARD"),wq=[Ya,{provide:Uc,useClass:x0},Kt,th,{provide:Zi,useFactory:function AO(t){return t.routerState.root},deps:[Kt]},W0,[]];let Im=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[wq,[],{provide:Kc,multi:!0,useValue:e},{provide:SO,useFactory:Dq,deps:[[Kt,new Zs,new Vl]]},{provide:Qc,useValue:i||{}},i?.useHash?{provide:Wa,useClass:p6}:{provide:Wa,useClass:jE},{provide:$0,useFactory:()=>{const t=Q(DW),n=Q(Je),e=Q(Qc),i=Q(Dm),r=Q(Uc);return e.scrollOffset&&t.setOffset(e.scrollOffset),new yO(r,i,t,n,e)}},i?.preloadingStrategy?yq(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Iq(i):[],i?.bindToComponentInputs?hs(8,[tO,{provide:wm,useExisting:tO}]).\u0275providers:[],i?.enableViewTransitions?Cq().\u0275providers:[],[{provide:TO,useFactory:CO},{provide:Ay,multi:!0,useExisting:TO}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Kc,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)(ve(SO,8))}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();function Dq(t){return"guarded"}function Iq(t){return["disabled"===t.initialNavigation?hs(3,[{provide:vy,multi:!0,useFactory:()=>{const n=Q(Kt);return()=>{n.setUpLocationChangeListener()}}},{provide:q0,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?hs(2,[{provide:q0,useValue:0},{provide:vy,multi:!0,deps:[ci],useFactory:n=>{const e=n.get(h6,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=n.get(Kt),o=n.get(wO);bO(r,()=>{i(!0)}),n.get(Dm).afterPreactivation=()=>(i(!0),o.closed?ot(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const TO=new Me("");let Mq=(()=>{class t{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["app-stories"]],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"div",2),_e(3,"router-outlet"),T()()())},dependencies:[Cm]})}}return t})();const Ka="http://localhost:4500",X0={now:()=>(X0.delegate||Date).now(),delegate:void 0};class Em extends Ye{constructor(n=1/0,e=1/0,i=X0){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(n),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!n.closed;s+=i?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}const kq={url:"",deserializer:t=>JSON.parse(t.data),serializer:t=>JSON.stringify(t)};class Q0 extends c_{constructor(n,e){if(super(),this._socket=null,n instanceof Zt)this.destination=e,this.source=n;else{const i=this._config=Object.assign({},kq);if(this._output=new Ye,"string"==typeof n)i.url=n;else for(const r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new Em}}lift(n){const e=new Q0(this._config,this.destination);return e.operator=n,e.source=this,e}_resetState(){this._socket=null,this.source||(this.destination=new Em),this._output=new Ye}multiplex(n,e,i){const r=this;return new Zt(o=>{try{r.next(n())}catch(a){o.error(a)}const s=r.subscribe({next:a=>{try{i(a)&&o.next(a)}catch(l){o.error(l)}},error:a=>o.error(a),complete:()=>o.complete()});return()=>{try{r.next(e())}catch(a){o.error(a)}s.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:n,protocol:e,url:i,binaryType:r}=this._config,o=this._output;let s=null;try{s=e?new n(i,e):new n(i),this._socket=s,r&&(this._socket.binaryType=r)}catch(l){return void o.error(l)}const a=new me(()=>{this._socket=null,s&&1===s.readyState&&s.close()});s.onopen=l=>{const{_socket:m}=this;if(!m)return s.close(),void this._resetState();const{openObserver:A}=this._config;A&&A.next(l);const S=this.destination;this.destination=fr.create(P=>{if(1===s.readyState)try{const{serializer:N}=this._config;s.send(N(P))}catch(N){this.destination.error(N)}},P=>{const{closingObserver:N}=this._config;N&&N.next(void 0),P&&P.code?s.close(P.code,P.reason):o.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:P}=this._config;P&&P.next(void 0),s.close(),this._resetState()}),S&&S instanceof Em&&a.add(S.subscribe(this.destination))},s.onerror=l=>{this._resetState(),o.error(l)},s.onclose=l=>{s===this._socket&&this._resetState();const{closeObserver:m}=this._config;m&&m.next(l),l.wasClean?o.complete():o.error(l)},s.onmessage=l=>{try{const{deserializer:m}=this._config;o.next(m(l))}catch(m){o.error(m)}}}_subscribe(n){const{source:e}=this;return e?e.subscribe(n):(this._socket||this._connectSocket(),this._output.subscribe(n),n.add(()=>{const{_socket:i}=this;0===this._output.observers.length&&(i&&(1===i.readyState||0===i.readyState)&&i.close(),this._resetState())}),n)}unsubscribe(){const{_socket:n}=this;n&&(1===n.readyState||0===n.readyState)&&n.close(),this._resetState(),super.unsubscribe()}}let Mm=(()=>{class t{constructor(){this.unsubscribe$=new Ye,this.messageSubject=new Ye}startWebSocket(e){const i=`ws://localhost:8080/ws/${e}/`;this.socket=function Pq(t){return new Q0(t)}({url:i,openObserver:{next:r=>{console.log("Connection ok"),console.log(i)}},closeObserver:{next(r){4001===r.code&&console.log("Connection closed due to unauthenticated response from backend!")}}}),this.socket.subscribe({next:r=>{console.log("message received from: "+r.new_message.sender),this.messageSubject.next(r)},error:r=>{console.log(r)},complete:()=>{console.log("socket connection complete")}})}sendMSG(e){this.socket&&!this.socket.closed?(this.socket.next({content:e}),console.log(e)):console.error("WebSocket is not open")}closeWebSocket(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.socket&&!this.socket.closed&&this.socket.complete()}getMessageObservable(){return this.messageSubject.asObservable()}ngOnDestroy(){this.messageSubject.complete(),this.closeWebSocket()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class ii{static{this.authEmitter=new Fe}constructor(n,e,i){this.http=n,this.router=e,this.wService=i}login(n,e){return this.http.post(`${Ka}/auth/token`,{email:n,password:e},{withCredentials:!0}).pipe(Ki(i=>{ii.authEmitter.emit(!0);const r=i.user_id;localStorage.setItem("UserID",r),this.getUserDetails(r),localStorage.setItem("expiry",i.access_token_expiry)}))}signup(n,e,i,r,o){return this.http.post(`${Ka}/auth/register`,{email:n,password:e,first_name:i,last_name:r,password_confirm:o})}autoLogin(){const n=parseInt(localStorage.getItem("expiry"));n&&(n-(new Date).getSeconds()>0?this.refresh().subscribe():this.logout())}logout(){localStorage.removeItem("UserID"),localStorage.removeItem("Username"),localStorage.removeItem("expiry"),ii.authEmitter.emit(!1),this.wService.closeWebSocket();try{this.http.post(`${Ka}/auth/logout`,{},{withCredentials:!0}).subscribe()}catch(n){console.log(n)}this.router.navigate(["/login"])}getUserDetails(n){this.http.get(`${Ka}/auth/user/${n}`,{withCredentials:!0}).pipe(bt(i=>null===i?new Error("Some error occured! No data found!"):i)).subscribe(i=>{i.email.length>0&&localStorage.setItem("email",i.email)})}checkValidity(){const n=parseInt(localStorage.getItem("expiry"));if(n)return n-(new Date).getSeconds()>0||(localStorage.removeItem("UserID"),localStorage.removeItem("Username"),localStorage.removeItem("expiry"),!1)}refresh(){return this.http.post(`${Ka}/auth/token/refresh`,{},{withCredentials:!0})}publicUser(n){return this.http.get(`${Ka}/auth/user/${n}`,{withCredentials:!0})}user(){return this.http.get(`${Ka}/auth/user`,{withCredentials:!0})}static{this.\u0275fac=function(e){return new(e||ii)(ve(Fo),ve(Kt),ve(Mm))}}static{this.\u0275prov=Te({token:ii,factory:ii.\u0275fac,providedIn:"root"})}}let yr=(()=>{class t{constructor(e){this.http=e}fetchStories(){return this.http.get("http://localhost:4500/story/stories/",{withCredentials:!0})}fetchPushedStories(){return this.http.get("http://localhost:4500/story/s_feed",{withCredentials:!0})}fetchPushedReelStories(){return this.http.get("http://localhost:4500/story/r_feed",{withCredentials:!0})}fetchStory(e){return this.http.get("http://localhost:4500/story/stories/"+e+"/",{withCredentials:!0})}fetchFeedStory(e){return this.http.get("http://localhost:4500/story/s_feed/stories/"+e,{withCredentials:!0})}addStory(e){return this.http.post("http://localhost:4500/story/stories/",e,{withCredentials:!0})}addStoryImage(e,i){return this.http.post("http://localhost:4500/story/stories/"+e+"/upload-image/",i,{withCredentials:!0})}updateStory(e,i){return this.http.patch("http://localhost:4500/story/stories/"+e+"/",i,{withCredentials:!0})}fetchComments(e){return this.http.get("http://localhost:4500/story/storycomments/"+e+"/",{withCredentials:!0})}updateComment(e,i){return this.http.put("http://localhost:4500/story/storycomments/"+e+"/"+i.id+"/",i,{withCredentials:!0})}addStoryComment(e,i){return this.http.post("http://localhost:4500/story/storycomments/"+e+"/",i,{withCredentials:!0})}addStoryLike(e){return this.http.post("http://localhost:4500/story/storyreact/"+e+"/like/",{withCredentials:!0})}removeStoryLike(e){return this.http.delete("http://localhost:4500/story/storyreact/"+e+"/like/",{withCredentials:!0})}addStoryLove(e){return this.http.post("http://localhost:4500/story/storyreact/"+e+"/love/",{withCredentials:!0})}removeStoryLove(e){return this.http.delete("http://localhost:4500/story/storyreact/"+e+"/love/",{withCredentials:!0})}addStoryCelebrate(e){return this.http.post("http://localhost:4500/story/storyreact/"+e+"/celebrate/",{withCredentials:!0})}removeStoryCelebrate(e){return this.http.delete("http://localhost:4500/story/storyreact/"+e+"/celebrate/",{withCredentials:!0})}uploadImage(e,i){return this.http.post("http://localhost:4500/story/"+e+"/upload-image/",i,{withCredentials:!0})}fetchStoryfromReel(e){return this.http.get(`http://localhost:4500/story/stories/get-reel-story/?reel_id=${e}/`,{withCredentials:!0})}static{this.\u0275fac=function(i){return new(i||t)(ve(Fo))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zc(t){return null!=t&&"false"!=`${t}`}function _a(t,n=0){return function Rq(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function km(t){return Array.isArray(t)?t:[t]}function Tn(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Vs(t){return t instanceof Xe?t.nativeElement:t}const Nq=["addListener","removeListener"],Fq=["addEventListener","removeEventListener"],Lq=["on","off"];function Ji(t,n,e,i){if(ne(e)&&(i=e,e=void 0),i)return Ji(t,n,e).pipe(y0(i));const[r,o]=function Hq(t){return ne(t.addEventListener)&&ne(t.removeEventListener)}(t)?Fq.map(s=>a=>t[s](n,a,e)):function Bq(t){return ne(t.addListener)&&ne(t.removeListener)}(t)?Nq.map(DO(t,n)):function Vq(t){return ne(t.on)&&ne(t.off)}(t)?Lq.map(DO(t,n)):[];if(!r&&p0(t))return Vn(s=>Ji(s,n,e))(xn(t));if(!r)throw new TypeError("Invalid event target");return new Zt(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function DO(t,n){return e=>i=>t[e](n,i)}class jq extends me{constructor(n,e){super()}schedule(n,e=0){return this}}const Om={setInterval(t,n,...e){const{delegate:i}=Om;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Om;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class K0 extends jq{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return Om.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Om.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,we(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const lh={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=lh;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(o=>{e=void 0,t(o)});return new me(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:n}=lh;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=lh;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};class ch{constructor(n,e=ch.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}ch.now=X0.now;class Z0 extends ch{constructor(n,e=ch.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}new class zq extends Z0{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class Uq extends K0{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=lh.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:o}=n;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(lh.cancelAnimationFrame(e),n._scheduled=void 0)}});let J0,Wq=1;const Pm={};function IO(t){return t in Pm&&(delete Pm[t],!0)}const Yq={setImmediate(t){const n=Wq++;return Pm[n]=!0,J0||(J0=Promise.resolve()),J0.then(()=>IO(n)&&t()),n},clearImmediate(t){IO(t)}},{setImmediate:$q,clearImmediate:qq}=Yq,Rm={setImmediate(...t){const{delegate:n}=Rm;return(n?.setImmediate||$q)(...t)},clearImmediate(t){const{delegate:n}=Rm;return(n?.clearImmediate||qq)(t)},delegate:void 0},Nm=(new class Qq extends Z0{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class Xq extends K0{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Rm.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:o}=n;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Rm.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}}),new Z0(K0)),Zq=Nm;function dh(t=0,n,e=Zq){let i=-1;return null!=n&&(RM(n)?e=n:i=n),new Zt(r=>{let o=function eX(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function EO(t,n=Nm){return function Jq(t){return Gi((n,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const m=r;r=null,e.next(m)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};n.subscribe(Ci(e,m=>{i=!0,r=m,o||xn(t(m)).subscribe(o=Ci(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>dh(t,n))}let eA;try{eA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{eA=!1}let Jc,ki=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?im(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!eA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||t)(ve(So))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const MO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function kO(){if(Jc)return Jc;if("object"!=typeof document||!document)return Jc=new Set(MO),Jc;let t=document.createElement("input");return Jc=new Set(MO.filter(n=>(t.setAttribute("type",n),t.type===n))),Jc}let uh;function ba(t){return function tX(){if(null==uh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>uh=!0}))}finally{uh=uh||!1}return uh}()?t:!!t.capture}var fs=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(fs||{});let Fm,Za,tA;function OO(){if(null==Za){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Za=!1,Za;if("scrollBehavior"in document.documentElement.style)Za=!0;else{const t=Element.prototype.scrollTo;Za=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Za}function hh(){if("object"!=typeof document||!document)return fs.NORMAL;if(null==Fm){const t=document.createElement("div"),n=t.style;t.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",t.appendChild(e),document.body.appendChild(t),Fm=fs.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,Fm=0===t.scrollLeft?fs.NEGATED:fs.INVERTED),t.remove()}return Fm}function Lm(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function Hs(t){return t.composedPath?t.composedPath()[0]:t.target}function iA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const rX=new Me("cdk-dir-doc",{providedIn:"root",factory:function oX(){return Q(xt)}}),sX=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ar=(()=>{class t{constructor(e){this.value="ltr",this.change=new Fe,e&&(this.value=function aX(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?sX.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||t)(ve(rX,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ed=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),nA=(()=>{class t{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Zt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(EO(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(pi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Vs(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ji(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||t)(ve(Je),ve(ki),ve(xt,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cX=(()=>{class t{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Ye,this._elementScrolled=new Zt(s=>this.ngZone.runOutsideAngular(()=>Ji(this.elementRef.nativeElement,"scroll").pipe(Dt(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&hh()!=fs.NORMAL?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),hh()==fs.INVERTED?e.left=e.right:hh()==fs.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;OO()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&hh()==fs.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&hh()==fs.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(nA),k(Je),k(Ar,8))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return t})(),fh=(()=>{class t{constructor(e,i,r){this._platform=e,this._change=new Ye,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(EO(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||t)(ve(ki),ve(Je),ve(xt,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ph=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),PO=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ed,ph,ed,ph]})}}return t})();class rA{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class td extends rA{constructor(n,e,i,r,o){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Ja extends rA{constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class hX extends rA{constructor(n){super(),this.element=n instanceof Xe?n.nativeElement:n}}class Bm{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof td?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Ja?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof hX?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class fX extends Bm{constructor(n,e,i,r,o){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||ci.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let pX=(()=>{class t extends Ja{constructor(e,i){super(e,i)}static{this.\u0275fac=function(i){return new(i||t)(k(si),k(Qi))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[Ct]})}}return t})(),js=(()=>{class t extends Bm{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Fe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||t)(k(na),k(Qi),k(xt))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ke.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ct]})}}return t})(),id=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();function Vo(...t){const n=zu(t),e=function PY(t,n){return"number"==typeof l0(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?xn(i[0]):Lc(e)(Sn(i,n)):vr}function ps(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const LO=OO();class IX{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Tn(-this._previousScrollPosition.left),n.style.top=Tn(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),LO&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),LO&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class EX{constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(pi(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class BO{enable(){}disable(){}attach(){}}function aA(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function VO(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class MX{constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();aA(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kX=(()=>{class t{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new BO,this.close=s=>new EX(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new IX(this._viewportRuler,this._document),this.reposition=s=>new MX(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||t)(ve(nA),ve(fh),ve(Je),ve(xt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Hm{constructor(n){if(this.scrollStrategy=new BO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const i of e)void 0!==n[i]&&(this[i]=n[i])}}}class OX{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let HO=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||t)(ve(xt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PX=(()=>{class t extends HO{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||t)(ve(xt),ve(Je,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RX=(()=>{class t extends HO{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Hs(o)},this._clickListener=o=>{const s=Hs(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let m=l.length-1;m>-1;m--){const A=l[m];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(A.overlayElement.contains(s)||A.overlayElement.contains(a))break;const S=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(o)):S.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||t)(ve(xt),ve(ki),ve(Je,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jm=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||iA()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),iA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||t)(ve(xt),ve(ki))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Um{constructor(n,e,i,r,o,s,a,l,m,A=!1){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=m,this._animationsDisabled=A,this._backdropElement=null,this._backdropClick=new Ye,this._attachments=new Ye,this._detachments=new Ye,this._locationChanges=me.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Ye,this._outsidePointerEvents=new Ye,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ei(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Tn(this._config.width),n.height=Tn(this._config.height),n.minWidth=Tn(this._config.minWidth),n.minHeight=Tn(this._config.minHeight),n.maxWidth=Tn(this._config.maxWidth),n.maxHeight=Tn(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,i){const r=km(e||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Dt(Vo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const jO="cdk-overlay-connected-position-bounding-box",NX=/([A-Za-z%]+)$/;class FX{get positions(){return this._preferredPositions}constructor(n,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ye,this._resizeSubscription=me.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(jO),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(n,r,a),m=this._getOverlayPoint(l,e,a),A=this._getOverlayFit(m,e,i,a);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(A,m,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<A.visibleArea)&&(s={overlayFit:A,overlayPoint:m,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const m of o){const A=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);A>l&&(l=A,a=m)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&el(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r,o;if("center"==i.originX)r=n.left+n.width/2;else{const s=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(n,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,e,i,r){const o=zO(e);let{x:s,y:a}=n,l=this._getOffset(r,"x"),m=this._getOffset(r,"y");l&&(s+=l),m&&(a+=m);let P=0-a,N=a+o.height-i.height,L=this._subtractOverflows(o.width,0-s,s+o.width-i.width),V=this._subtractOverflows(o.height,P,N),K=L*V;return{visibleArea:K,isCompletelyWithinViewport:o.width*o.height===K,fitsInViewportVertically:V===o.height,fitsInViewportHorizontally:L==o.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=UO(this._overlayRef.getConfig().minHeight),a=UO(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=s&&s<=r)&&(n.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const r=zO(e),o=this._viewportRect,s=Math.max(n.x+r.width-o.width,0),a=Math.max(n.y+r.height-o.height,0),l=Math.max(o.top-i.top-n.y,0),m=Math.max(o.left-i.left-n.x,0);let A=0,S=0;return A=r.width<=o.width?m||-s:n.x<this._viewportMargin?o.left-i.left-n.x:0,S=r.height<=o.height?l||-a:n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:A,y:S},{x:n.x+A,y:n.y+S}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!function LX(t,n){return t===n||t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new OX(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,A,S,P;if("top"===e.overlayY)s=n.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-n.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const N=Math.min(i.bottom-n.y+i.top,n.y),L=this._lastBoundingBoxSize.height;o=2*N,s=n.y-N,o>L&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-L/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)P=i.width-n.x+2*this._viewportMargin,A=n.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=n.x,A=i.right-n.x;else{const N=Math.min(i.right-n.x+i.left,n.x),L=this._lastBoundingBoxSize.width;A=2*N,S=n.x-N,A>L&&!this._isInitialRender&&!this._growAfterOpen&&(S=n.x-L/2)}return{top:s,left:S,bottom:a,right:P,width:A,height:o}}_setBoundingBoxStyles(n,e){const i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Tn(i.height),r.top=Tn(i.top),r.bottom=Tn(i.bottom),r.width=Tn(i.width),r.left=Tn(i.left),r.right=Tn(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Tn(o)),s&&(r.maxWidth=Tn(s))}this._lastBoundingBoxSize=i,el(this._boundingBox.style,r)}_resetBoundingBoxStyles(){el(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){el(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const A=this._viewportRuler.getViewportScrollPosition();el(i,this._getExactOverlayY(e,n,A)),el(i,this._getExactOverlayX(e,n,A))}else i.position="static";let a="",l=this._getOffset(e,"x"),m=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),m&&(a+=`translateY(${m}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Tn(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Tn(s.maxWidth):o&&(i.maxWidth="")),el(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===n.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Tn(o.y),r}_getExactOverlayX(n,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Tn(o.x),r}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VO(n,i),isOriginOutsideView:aA(n,i),isOverlayClipped:VO(e,i),isOverlayOutsideView:aA(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&km(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Xe)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}}function el(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function UO(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(NX);return e&&"px"!==e?null:parseFloat(n)}return t||null}function zO(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const GO="cdk-global-overlay-wrapper";class BX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(GO),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),m=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),A=this._xPosition,S=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let N="",L="",V="";l?V="flex-start":"center"===A?(V="center",P?L=S:N=S):P?"left"===A||"end"===A?(V="flex-end",N=S):("right"===A||"start"===A)&&(V="flex-start",L=S):"left"===A||"start"===A?(V="flex-start",N=S):("right"===A||"end"===A)&&(V="flex-end",L=S),n.position=this._cssPosition,n.marginLeft=l?"0":N,n.marginTop=m?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=l?"0":L,e.justifyContent=V,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(GO),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let VX=(()=>{class t{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new BX}flexibleConnectedTo(e){return new FX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||t)(ve(fh),ve(xt),ve(ki),ve(jm))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HX=0,Hn=(()=>{class t{constructor(e,i,r,o,s,a,l,m,A,S,P,N){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=m,this._directionality=A,this._location=S,this._outsideClickDispatcher=P,this._animationsModuleType=N}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Hm(e);return s.direction=s.direction||this._directionality.value,new Um(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+HX++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ko)),new fX(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||t)(ve(kX),ve(jm),ve(na),ve(VX),ve(PX),ve(ci),ve(Je),ve(xt),ve(Ar),ve(Ya),ve(RX),ve(Wn,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const jX=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],WO=new Me("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=Q(Hn);return()=>t.scrollStrategies.reposition()}});let zm=(()=>{class t{constructor(e){this.elementRef=e}static{this.\u0275fac=function(i){return new(i||t)(k(Xe))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return t})(),YO=(()=>{class t{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._backdropSubscription=me.EMPTY,this._attachSubscription=me.EMPTY,this._detachSubscription=me.EMPTY,this._positionSubscription=me.EMPTY,this._disposeOnNavigation=!1,this._ngZone=Q(Je),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Fe,this.positionChange=new Fe,this.attach=new Fe,this.detach=new Fe,this.overlayKeydown=new Fe,this.overlayOutsideClick=new Fe,this._templatePortal=new Ja(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=jX);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ps(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const r=this._getOriginElement(),o=Hs(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Hm({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof zm?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof zm?this.origin.elementRef.nativeElement:this.origin instanceof Xe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function uX(t,n=!1){return Gi((e,i)=>{let r=0;e.subscribe(Ci(i,o=>{const s=t(o,r++);(s||n)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(k(Hn),k(si),k(Qi),k(WO),k(Ar,8))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[ke.None,"cdkConnectedOverlayOrigin","origin"],positions:[ke.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[ke.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[ke.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[ke.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[ke.None,"cdkConnectedOverlayWidth","width"],height:[ke.None,"cdkConnectedOverlayHeight","height"],minWidth:[ke.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[ke.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[ke.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[ke.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[ke.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[ke.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[ke.None,"cdkConnectedOverlayOpen","open"],disableClose:[ke.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[ke.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[ke.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",wt],lockPosition:[ke.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",wt],flexibleDimensions:[ke.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",wt],growAfterOpen:[ke.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",wt],push:[ke.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",wt],disposeOnNavigation:[ke.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",wt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[bn,bi]})}}return t})();const zX={provide:WO,deps:[Hn],useFactory:function UX(t){return()=>t.scrollStrategies.reposition()}};let nd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[Hn,zX],imports:[ed,id,PO,PO]})}}return t})();function lA(t,n=Nm){return Gi((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const m=o;o=null,i.next(m)}};function l(){const m=s+t,A=n.now();if(A<m)return r=this.schedule(void 0,m-A),void i.add(r);a()}e.subscribe(Ci(i,m=>{o=m,s=n.now(),r||(r=n.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Gm(t){return pi((n,e)=>t<=e)}function tl(t,n=Cs){return t=t??GX,Gi((e,i)=>{let r,o=!0;e.subscribe(Ci(i,s=>{const a=n(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function GX(t,n){return t===n}let $O=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YX=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Vs(e);return new Zt(r=>{const s=this._observeElement(i).pipe(bt(a=>a.filter(l=>!function WX(t){if("characterData"===t.type&&t.target instanceof Comment)return!0;if("childList"===t.type){for(let n=0;n<t.addedNodes.length;n++)if(!(t.addedNodes[n]instanceof Comment))return!1;for(let n=0;n<t.removedNodes.length;n++)if(!(t.removedNodes[n]instanceof Comment))return!1;return!0}return!1}(l))),pi(a=>!!a.length)).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ye,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static{this.\u0275fac=function(i){return new(i||t)(ve($O))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$X=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=_a(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new Fe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(lA(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(k(YX),k(Xe),k(Je))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[ke.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",wt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[bn]})}}return t})(),qO=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[$O]})}}return t})();const XO=new Set;let il,qX=(()=>{class t{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):QX}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function XX(t,n){if(!XO.has(t))try{il||(il=document.createElement("style"),n&&il.setAttribute("nonce",n),il.setAttribute("type","text/css"),document.head.appendChild(il)),il.sheet&&(il.sheet.insertRule(`@media ${t} {body{ }}`,0),XO.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||t)(ve(ki),ve(_b,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function QX(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let QO=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ye}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return KO(km(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Fc(KO(km(e)).map(s=>this._registerQuery(s).observable));return o=Bc(o.pipe(Ei(1)),o.pipe(Gm(1),lA(0))),o.pipe(bt(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:m})=>{a.matches=a.matches||l,a.breakpoints[m]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Zt(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(cr(i),bt(({matches:s})=>({query:e,matches:s})),Dt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||t)(ve(qX),ve(Je))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function KO(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function JO(t,n,e){const i=Wm(t,n);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),t.setAttribute(n,i.join(" ")))}function cA(t,n,e){const i=Wm(t,n);e=e.trim();const r=i.filter(o=>o!==e);r.length?t.setAttribute(n,r.join(" ")):t.removeAttribute(n)}function Wm(t,n){return t.getAttribute(n)?.match(/\S+/g)??[]}const eP="cdk-describedby-message",Ym="cdk-describedby-host";let dA=0,ZX=(()=>{class t{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+dA++,this._document=e,this._id=Q($d)+"-"+dA++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=uA(i,r);"string"!=typeof i?(tP(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=uA(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Ym}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Ym);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");tP(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(uA(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Wm(e,"aria-describedby").filter(r=>0!=r.indexOf(eP));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);JO(e,"aria-describedby",r.messageElement.id),e.setAttribute(Ym,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,cA(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Ym)}_isElementDescribedByMessage(e,i){const r=Wm(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(i){return new(i||t)(ve(xt),ve(ki))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uA(t,n){return"string"==typeof t?`${n||""}/${t}`:t}function tP(t,n){t.id||(t.id=`${eP}-${n}-${dA++}`)}class iP{constructor(n,e){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ye,this._typeaheadSubscription=me.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new Ye,this.change=new Ye,n instanceof Is?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):hp(n)&&(this._effectRef=function LE(t,n){rs("NgSignals"),!n?.injector&&kd();const e=n?.injector??Q(ci),i=!0!==n?.manualCleanup?e.get(xo):null,r=new l6(e.get(o6),t,typeof Zone>"u"?null:Zone.current,i,e,n?.allowSignalWrites??!1),o=e.get(Qt,null,{optional:!0});return o&&8&o._lView[mt]?(o._lView[vf]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>this._itemsChanged(n()),{injector:e}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ki(e=>this._pressedLetters.push(e)),lA(n),pi(()=>this._pressedLetters.length>0),bt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||ps(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),i="number"==typeof n?n:e.indexOf(n);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+n*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return hp(this._items)?this._items():this._items instanceof Is?this._items.toArray():this._items}_itemsChanged(n){if(this._activeItem){const e=n.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class JX extends iP{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class nP extends iP{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let hA=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function tQ(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function eQ(t){try{return t.frameElement}catch{return null}}(function cQ(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===oP(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=oP(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function aQ(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function lQ(t){return!function nQ(t){return function oQ(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function iQ(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function rQ(t){return function sQ(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||rP(t))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||t)(ve(ki))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rP(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function oP(t){if(!rP(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class sP{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,i,r,o=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Ei(1)).subscribe(n)}}let aP=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new sP(e,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||t)(ve(hA),ve(Je),ve(xt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lP(t){return 0===t.buttons||0===t.detail}function cP(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const dQ=new Me("cdk-input-modality-detector-options"),uQ={ignoreKeys:[18,17,224,91,16]},rd=ba({passive:!0,capture:!0});let hQ=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new gn(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Hs(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lP(s)?"keyboard":"mouse"),this._mostRecentTarget=Hs(s))},this._onTouchstart=s=>{cP(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hs(s))},this._options={...uQ,...o},this.modalityDetected=this._modality.pipe(Gm(1)),this.modalityChanged=this.modalityDetected.pipe(tl()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,rd),r.addEventListener("mousedown",this._onMousedown,rd),r.addEventListener("touchstart",this._onTouchstart,rd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rd),document.removeEventListener("mousedown",this._onMousedown,rd),document.removeEventListener("touchstart",this._onTouchstart,rd))}static{this.\u0275fac=function(i){return new(i||t)(ve(ki),ve(Je),ve(xt),ve(dQ,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const fQ=new Me("liveAnnouncerElement",{providedIn:"root",factory:function pQ(){return null}}),mQ=new Me("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gQ=0,uP=(()=>{class t{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+gQ++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||t)(ve(fQ,8),ve(Je),ve(xt),ve(mQ,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $m=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}($m||{});const _Q=new Me("cdk-focus-monitor-default-options"),qm=ba({passive:!0,capture:!0});let nl=(()=>{class t{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ye,this._rootNodeFocusAndBlurListener=a=>{for(let m=Hs(a);m;m=m.parentElement)"focus"===a.type?this._onFocus(a,m):this._onBlur(a,m)},this._document=o,this._detectionMode=s?.detectionMode||$m.IMMEDIATE}monitor(e,i=!1){const r=Vs(e);if(!this._platform.isBrowser||1!==r.nodeType)return ot();const o=function nX(t){if(function iX(){if(null==tA){const t=typeof document<"u"?document.head:null;tA=!(!t||!t.createShadowRoot&&!t.attachShadow)}return tA}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Ye,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Vs(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Vs(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===$m.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===$m.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Hs(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,qm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,qm)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Dt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||t)(ve(Je),ve(ki),ve(hQ),ve(xt,8),ve(_Q,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bQ=(()=>{class t{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Fe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(nl))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return t})();var rl=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(rl||{});const hP="cdk-high-contrast-black-on-white",fP="cdk-high-contrast-white-on-black",fA="cdk-high-contrast-active";let pP=(()=>{class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Q(QO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return rl.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return rl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return rl.BLACK_ON_WHITE}return rl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(fA,hP,fP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===rl.BLACK_ON_WHITE?e.add(fA,hP):i===rl.WHITE_ON_BLACK&&e.add(fA,fP)}}static{this.\u0275fac=function(i){return new(i||t)(ve(ki),ve(xt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mP=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||t)(ve(pP))}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[qO]})}}return t})();function vQ(t,n){}class Xm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let gP=(()=>{class t extends Bm{constructor(e,i,r,o,s,a,l,m){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=m,this._platform=Q(ki),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Q(Qt),this.attachDomPortal=A=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),S},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Lm(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Lm();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Lm()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(aP),k(xt,8),k(Xm),k(hA),k(Je),k(Um),k(nl))}}static{this.\u0275cmp=ze({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Tt(js,7),2&i){let o;Ge(o=We())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&pt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[Ct,Yt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Z(0,vQ,0,0,"ng-template",0)},dependencies:[js],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return t})();class pA{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new Ye,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ps(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(n,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const _P=new Me("DialogScrollStrategy",{providedIn:"root",factory:()=>{const t=Q(Hn);return()=>t.scrollStrategies.block()}}),yQ=new Me("DialogData"),AQ=new Me("DefaultDialogConfig");let wQ=0,bP=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ye,this._afterOpenedAtThisLevel=new Ye,this._ariaHiddenElements=new Map,this.afterAllClosed=qu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cr(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new Xm,...i}).id=i.id||"cdk-dialog-"+wQ++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new pA(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(e,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){mA(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){mA(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),mA(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Hm({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:Xm,useValue:r},{provide:pA,useValue:i},{provide:Um,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=gP;const l=new td(a,r.viewContainerRef,ci.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof si){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Ja(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new td(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:yQ,useValue:e.data},{provide:pA,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(Ar,null,{optional:!0}))&&a.push({provide:Ar,useValue:{value:e.direction,change:ot()}}),ci.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||t)(ve(Hn),ve(ci),ve(AQ,8),ve(t,12),ve(jm),ve(_P))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mA(t,n){let e=t.length;for(;e--;)n(t[e])}let xQ=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[bP],imports:[nd,id,mP,id]})}}return t})();const SQ=["text"],TQ=[[["mat-icon"]],"*"],DQ=["mat-icon","*"];function IQ(t,n){if(1&t&&_e(0,"mat-pseudo-checkbox",1),2&t){const e=O();M("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function EQ(t,n){1&t&&_e(0,"mat-pseudo-checkbox",3),2&t&&M("disabled",O().disabled)}function MQ(t,n){if(1&t&&(x(0,"span",4),F(1),T()),2&t){const e=O();I(),ht("(",e.group.label,")")}}const kQ=["mat-internal-form-field",""],OQ=["*"],RQ=new Me("mat-sanity-checks",{providedIn:"root",factory:function PQ(){return!0}});let ni=(()=>{class t{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!iA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(i){return new(i||t)(ve(pP),ve(RQ,8),ve(xt))}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ed,ed]})}}return t})();class gA{constructor(n,e,i,r,o){this._defaultMatcher=n,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){const n=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,e)??!1;o!==n&&(this.errorState=o,this._stateChanges.next())}}let _h=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),AP=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,ni]})}}return t})();var Rr=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Rr||{});class HQ{constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Rr.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const CP=ba({passive:!0,capture:!0});class jQ{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=Hs(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(n))})}}addHandler(n,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,CP)})}removeHandler(n,e,i){const r=this._events.get(n);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,CP)))}}const wP={enterDuration:225,exitDuration:150},xP=ba({passive:!0,capture:!0}),SP=["mousedown","touchstart"],TP=["mouseup","mouseleave","touchend","touchcancel"];class Qm{static{this._eventManager=new jQ}constructor(n,e,i,r){this._target=n,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Vs(i))}fadeInRipple(n,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...wP,...i.animation};i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function zQ(t,n,e){const i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}(n,e,r),a=n-r.left,l=e-r.top,m=o.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=a-s+"px",A.style.top=l-s+"px",A.style.height=2*s+"px",A.style.width=2*s+"px",null!=i.color&&(A.style.backgroundColor=i.color),A.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(A);const S=window.getComputedStyle(A),N=S.transitionDuration,L="none"===S.transitionProperty||"0s"===N||"0s, 0s"===N||0===r.width&&0===r.height,V=new HQ(this,A,i,L);A.style.transform="scale3d(1, 1, 1)",V.state=Rr.FADING_IN,i.persistent||(this._mostRecentTransientRipple=V);let K=null;return!L&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const re=()=>this._finishRippleTransition(V),ae=()=>this._destroyRipple(V);A.addEventListener("transitionend",re),A.addEventListener("transitioncancel",ae),K={onTransitionEnd:re,onTransitionCancel:ae}}),this._activeRipples.set(V,K),(L||!m)&&this._finishRippleTransition(V),V}fadeOutRipple(n){if(n.state===Rr.FADING_OUT||n.state===Rr.HIDDEN)return;const e=n.element,i={...wP,...n.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=Rr.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Vs(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,SP.forEach(i=>{Qm._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{TP.forEach(e=>{this._triggerElement.addEventListener(e,this,xP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===Rr.FADING_IN?this._startFadeOutTransition(n):n.state===Rr.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=Rr.VISIBLE,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=Rr.HIDDEN,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=lP(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!cP(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(n.state===Rr.VISIBLE||n.config.terminateOnPointerUp&&n.state===Rr.FADING_IN)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(SP.forEach(e=>Qm._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(TP.forEach(e=>n.removeEventListener(e,this,xP)),this._pointerUpEventsRegistered=!1))}}const _A=new Me("mat-ripple-global-options");let va=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Qm(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Je),k(ki),k(_A,8),k(Wn,8))}}static{this.\u0275dir=Be({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Qe("mat-ripple-unbounded",r.unbounded)},inputs:{color:[ke.None,"matRippleColor","color"],unbounded:[ke.None,"matRippleUnbounded","unbounded"],centered:[ke.None,"matRippleCentered","centered"],radius:[ke.None,"matRippleRadius","radius"],animation:[ke.None,"matRippleAnimation","animation"],disabled:[ke.None,"matRippleDisabled","disabled"],trigger:[ke.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return t})(),od=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,ni]})}}return t})(),GQ=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||t)(k(Wn,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&Qe("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Yt],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return t})(),WQ=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni]})}}return t})();const DP=new Me("MAT_OPTION_PARENT_COMPONENT"),IP=new Me("MatOptgroup");let YQ=0;class $Q{constructor(n,e=!1){this.source=n,this.isUserInput=e}}let EP=(()=>{class t{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+YQ++,this.onSelectionChange=new Fe,this._stateChanges=new Ye}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ps(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new $Q(this,e))}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Qt),k(DP,8),k(IP,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&Tt(SQ,7),2&i){let o;Ge(o=We())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&W("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(an("id",r.id),pt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Qe("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[ke.HasDecoratorInputTransform,"disabled","disabled",wt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[bn,Yt],ngContentSelectors:DQ,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(yn(TQ),Z(0,IQ,1,2,"mat-pseudo-checkbox",1),di(1),x(2,"span",2,0),di(4,1),T(),Z(5,EQ,1,1,"mat-pseudo-checkbox",3)(6,MQ,2,1,"span",4),_e(7,"div",5)),2&i&&(vt(0,r.multiple?0:-1),I(5),vt(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),I(),vt(6,r.group&&r.group._inert?6:-1),I(),M("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[GQ,va],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return t})(),MP=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[od,ni,WQ]})}}return t})();const kP={capture:!0},OP=["focus","click","mouseenter","touchstart"],bA="mat-ripple-loader-uninitialized",vA="mat-ripple-loader-class-name",PP="mat-ripple-loader-centered",Km="mat-ripple-loader-disabled";let QQ=(()=>{class t{constructor(){this._document=Q(xt,{optional:!0}),this._animationMode=Q(Wn,{optional:!0}),this._globalRippleOptions=Q(_A,{optional:!0}),this._platform=Q(ki),this._ngZone=Q(Je),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${bA}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of OP)this._document?.addEventListener(e,this._onInteraction,kP)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of OP)this._document?.removeEventListener(i,this._onInteraction,kP)}configureRipple(e,i){e.setAttribute(bA,""),(i.className||!e.hasAttribute(vA))&&e.setAttribute(vA,i.className||""),i.centered&&e.setAttribute(PP,""),i.disabled&&e.setAttribute(Km,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(Km,""):e.removeAttribute(Km)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(vA)),e.append(r);const o=new va(new Xe(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(PP),o.disabled=e.hasAttribute(Km),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(bA),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KQ=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&Qe("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Yt],attrs:kQ,ngContentSelectors:OQ,decls:1,vars:0,template:function(i,r){1&i&&(yn(),di(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}}return t})();var Ot=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ot||{});const Us="*";function co(t,n){return{type:Ot.Trigger,name:t,definitions:n,options:{}}}function Si(t,n=null){return{type:Ot.Animate,styles:n,timings:t}}function Zm(t,n=null){return{type:Ot.Group,steps:t,options:n}}function gt(t){return{type:Ot.Style,styles:t,offset:null}}function Ui(t,n,e){return{type:Ot.State,name:t,styles:n,options:e}}function vi(t,n,e=null){return{type:Ot.Transition,expr:t,animation:n,options:e}}function vh(t=null){return{type:Ot.AnimateChild,options:t}}function yh(t,n,e=null){return{type:Ot.Query,selector:t,animation:n,options:e}}class Ah{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class RP{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function nK(t,n){}class $i{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const AA="mdc-dialog--open",NP="mdc-dialog--opening",FP="mdc-dialog--closing";let LP=(()=>{class t extends gP{constructor(e,i,r,o,s,a,l,m,A){super(e,i,r,o,s,a,l,A),this._animationMode=m,this._animationStateChanged=new Fe,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?VP(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?VP(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(BP,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(NP,AA)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(AA),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(AA),this._animationsEnabled?(this._hostElement.style.setProperty(BP,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(FP)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(NP,FP)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(aP),k(xt,8),k($i),k(hA),k(Je),k(Um),k(Wn,8),k(nl))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(an("id",r._config.id),pt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Qe("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[Ct,Yt],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1),Z(2,nK,0,0,"ng-template",2),T()())},dependencies:[js],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return t})();const BP="--mat-dialog-transition-duration";function VP(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?_a(t.substring(0,t.length-2)):t.endsWith("s")?1e3*_a(t.substring(0,t.length-1)):"0"===t?0:null}var Jm=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Jm||{});class Ho{constructor(n,e,i){this._ref=n,this._containerInstance=i,this._afterOpened=new Ye,this._beforeClosed=new Ye,this._state=Jm.OPEN,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(pi(r=>"opened"===r.state),Ei(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(pi(r=>"closed"===r.state),Ei(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Vo(this.backdropClick(),this.keydownEvents().pipe(pi(r=>27===r.keyCode&&!this.disableClose&&!ps(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),HP(this,"keydown"===r.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(pi(e=>"closing"===e.state),Ei(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Jm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=Jm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function HP(t,n,e){return t._closeInteractionType=n,t.close(e)}const zs=new Me("MatMdcDialogData"),sK=new Me("mat-mdc-dialog-default-options"),jP=new Me("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const t=Q(Hn);return()=>t.scrollStrategies.block()}});let lK=0,uo=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,l,m){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ye,this._afterOpenedAtThisLevel=new Ye,this.dialogConfigClass=$i,this.afterAllClosed=qu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cr(void 0))),this._dialog=i.get(bP),this._dialogRefConstructor=Ho,this._dialogContainerType=LP,this._dialogDataToken=zs}open(e,i){let r;(i={...this._defaultOptions||new $i,...i}).id=i.id||"mat-mdc-dialog-"+lK++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Xm,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static{this.\u0275fac=function(i){return new(i||t)(ve(Hn),ve(ci),ve(Ya,8),ve(sK,8),ve(jP),ve(t,12),ve(jm),ve(Wn,8))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UP=(()=>{class t{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=GP(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){HP(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||t)(k(Ho,8),k(Xe),k(uo))}}static{this.\u0275dir=Be({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&W("click",function(s){return r._onButtonClick(s)}),2&i&&pt("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[ke.None,"aria-label","ariaLabel"],type:"type",dialogResult:[ke.None,"mat-dialog-close","dialogResult"],_matDialogClose:[ke.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[bi]})}}return t})(),zP=(()=>{class t{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=GP(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(i){return new(i||t)(k(Ho,8),k(Xe),k(uo))}}static{this.\u0275dir=Be({type:t,standalone:!0})}}return t})(),sd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}}return t})(),ad=(()=>{class t extends zP{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=li(t)))(r||t)}})()}static{this.\u0275dir=Be({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){2&i&&Qe("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[Ct]})}}return t})();function GP(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?n.find(i=>i.id===e.id):null}let CA=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[uo],imports:[xQ,nd,id,ni,ni]})}}return t})();const uK=t=>({"ngx-gallery-active":t});function hK(t,n){if(1&t){const e=ye();x(0,"div",1),W("click",function(r){const o=z(e).index;return G(O().handleChange(r,o))}),T()}if(2&t){const e=n.index,i=O();M("ngClass",Ht(1,uK,e===i.active))}}const fK=["previewImage"];function pK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-arrows",17),W("prevClick",function(){return z(e),G(O().showPrev())})("nextClick",function(){return z(e),G(O().showNext())}),T()}if(2&t){const e=O();M("prevDisabled",!e.canShowPrev())("nextDisabled",!e.canShowNext())("arrowPrevIcon",e.arrowPrevIcon)("arrowNextIcon",e.arrowNextIcon)}}function mK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",18),W("closeClick",function(r){const o=z(e).$implicit,s=O();return G(o.onClick(r,s.index))}),T()}if(2&t){const e=n.$implicit;M("icon",e.icon)("disabled",e.disabled)("titleText",e.titleText)}}function gK(t,n){if(1&t&&(x(0,"a",19),_e(1,"i"),T()),2&t){const e=O();M("href",e.src,Jt),I(),qr("ngx-gallery-icon-content ",e.downloadIcon,"")}}function _K(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",20),W("closeClick",function(){return z(e),G(O().zoomOut())}),T()}if(2&t){const e=O();M("icon",e.zoomOutIcon)("disabled",!e.canZoomOut())}}function bK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",20),W("closeClick",function(){return z(e),G(O().zoomIn())}),T()}if(2&t){const e=O();M("icon",e.zoomInIcon)("disabled",!e.canZoomIn())}}function vK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",8),W("closeClick",function(){return z(e),G(O().rotateLeft())}),T()}2&t&&M("icon",O().rotateLeftIcon)}function yK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",8),W("closeClick",function(){return z(e),G(O().rotateRight())}),T()}2&t&&M("icon",O().rotateRightIcon)}function AK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",8),W("closeClick",function(){return z(e),G(O().manageFullscreen())}),T()}2&t&&M("icon","ngx-gallery-fullscreen "+O().fullscreenIcon)}function CK(t,n){if(1&t){const e=ye();x(0,"img",21,0),W("click",function(r){return z(e),G(r.stopPropagation())})("mouseenter",function(){return z(e),G(O().imageMouseEnter())})("mouseleave",function(){return z(e),G(O().imageMouseLeave())})("mousedown",function(r){return z(e),G(O().mouseDownHandler(r))})("touchstart",function(r){return z(e),G(O().mouseDownHandler(r))}),T()}if(2&t){const e=O();ti("transform",e.getTransform())("left",e.positionLeft+"px")("top",e.positionTop+"px"),Qe("ngx-gallery-active",!e.loading)("animation",e.animation)("ngx-gallery-grab",e.canDragOnZoom()),M("src",e.src,Jt)}}function wK(t,n){if(1&t){const e=ye();x(0,"video",22,0),W("click",function(r){return z(e),G(r.stopPropagation())})("mouseenter",function(){return z(e),G(O().imageMouseEnter())})("mouseleave",function(){return z(e),G(O().imageMouseLeave())})("mousedown",function(r){return z(e),G(O().mouseDownHandler(r))})("touchstart",function(r){return z(e),G(O().mouseDownHandler(r))}),_e(2,"source",23),F(3," Your browser does not support the video tag. "),T()}if(2&t){const e=O();ti("transform",e.getTransform())("left",e.positionLeft+"px")("top",e.positionTop+"px"),Qe("ngx-gallery-active",!e.loading)("animation",e.animation)("ngx-gallery-grab",e.canDragOnZoom()),I(2),M("src",e.src,Jt)}}function xK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-bullets",24),W("bulletChange",function(r){return z(e),G(O().showAtIndex(r))}),T()}if(2&t){const e=O();M("count",e.images.length)("active",e.index)}}function SK(t,n){if(1&t){const e=ye();x(0,"div",25),W("click",function(r){return z(e),G(r.stopPropagation())}),T()}2&t&&M("innerHTML",O().description,Wf)}const YP=t=>({"ngx-gallery-clickable":t});function TK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",8),W("closeClick",function(r){const o=z(e).$implicit,s=O(2).$implicit;return G(o.onClick(r,s.index))}),T()}if(2&t){const e=n.$implicit;M("icon",e.icon)("disabled",e.disabled)("titleText",e.titleText)}}function DK(t,n){if(1&t){const e=ye();x(0,"div",9),W("click",function(r){return z(e),G(r.stopPropagation())}),T()}if(2&t){const e=O(2).$implicit;M("innerHTML",O().descriptions[e.index],Wf)}}function IK(t,n){if(1&t){const e=ye();x(0,"div",4),W("click",function(r){z(e);const o=O().$implicit;return G(O().handleClick(r,o.index))})("@animation.start",function(r){return z(e),G(O(2).onStart(r))})("@animation.done",function(r){return z(e),G(O(2).onDone(r))}),x(1,"div",5),Z(2,TK,1,3,"ngx-gallery-action",6),T(),Z(3,DK,1,1,"div",7),T()}if(2&t){const e=O().$implicit,i=O();ti("background-image",i.getSafeUrl(e.src)),M("ngClass",Ht(6,YP,i.clickable))("@animation",i.action),I(2),M("ngForOf",i.actions),I(),M("ngIf",i.showDescription&&i.descriptions[e.index])}}function EK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",8),W("closeClick",function(r){const o=z(e).$implicit,s=O(2).$implicit;return G(o.onClick(r,s.index))}),T()}if(2&t){const e=n.$implicit;M("icon",e.icon)("disabled",e.disabled)("titleText",e.titleText)}}function MK(t,n){if(1&t){const e=ye();x(0,"div",9),W("click",function(r){return z(e),G(r.stopPropagation())}),T()}if(2&t){const e=O(2).$implicit;M("innerHTML",O().descriptions[e.index],Wf)}}function kK(t,n){if(1&t){const e=ye();x(0,"div",4),W("click",function(r){z(e);const o=O().$implicit;return G(O().handleClick(r,o.index))})("@animation.start",function(r){return z(e),G(O(2).onStart(r))})("@animation.done",function(r){return z(e),G(O(2).onDone(r))}),x(1,"video",10),_e(2,"source",11),F(3," Your browser does not support the video tag. "),T(),x(4,"div",5),Z(5,EK,1,3,"ngx-gallery-action",6),T(),Z(6,MK,1,1,"div",7),T()}if(2&t){const e=O().$implicit,i=O();ti("background-image",i.getSafeUrl(e.src)),M("ngClass",Ht(7,YP,i.clickable))("@animation",i.action),I(2),M("src",e.src,Jt),I(3),M("ngForOf",i.actions),I(),M("ngIf",i.showDescription&&i.descriptions[e.index])}}function OK(t,n){if(1&t&&(qn(0),Z(1,IK,4,8,"div",3)(2,kK,7,9,"div",3),Xn()),2&t){const e=n.$implicit,i=O();I(),M("ngIf","image"===e.type&&e.index===i._selectedIndex),I(),M("ngIf","video"===e.type&&e.index===i._selectedIndex)}}function PK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-bullets",12),W("bulletChange",function(r){return z(e),G(O().show(r))}),T()}if(2&t){const e=O();M("count",e.images.length)("active",e._selectedIndex)}}function RK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-arrows",13),W("prevClick",function(){return z(e),G(O().showPrev())})("nextClick",function(){return z(e),G(O().showNext())}),T()}if(2&t){const e=O();qr("ngx-gallery-image-size-",e.size,""),M("prevDisabled",!e.canShowPrev())("nextDisabled",!e.canShowNext())("arrowPrevIcon",e.arrowPrevIcon)("arrowNextIcon",e.arrowNextIcon)}}const wA=(t,n)=>({"ngx-gallery-active":t,"ngx-gallery-clickable":n});function NK(t,n){if(1&t&&_e(0,"div",9),2&t){const e=O(),i=e.$implicit,r=e.index,o=O();ti("background-image",o.getSafeUrl(i)),M("ngClass",sr(3,wA,r===o.selectedIndex,o.clickable))}}function FK(t,n){if(1&t&&(x(0,"div",10)(1,"video",11),_e(2,"source",12),F(3," Your browser does not support the video tag. "),T()()),2&t){const e=O(),i=e.$implicit,r=e.index,o=O();I(),M("ngClass",sr(2,wA,r===o.selectedIndex,o.clickable)),I(),M("src",i,Jt)}}function LK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-action",13),W("closeClick",function(r){const o=z(e).$implicit,s=O().index;return G(o.onClick(r,s))}),T()}if(2&t){const e=n.$implicit;M("icon",e.icon)("disabled",e.disabled)("titleText",e.titleText)}}function BK(t,n){if(1&t&&(x(0,"div",14)(1,"span",15),F(2),T()()),2&t){const e=O(2);I(2),ht("+",e.remainingCountValue,"")}}function VK(t,n){if(1&t){const e=ye();x(0,"a",3),W("click",function(r){const o=z(e).index;return G(O().handleClick(r,o))}),Z(1,NK,1,6,"div",4)(2,FK,4,5,"div",5),x(3,"div",6),Z(4,LK,1,3,"ngx-gallery-action",7),T(),Z(5,BK,3,1,"div",8),T()}if(2&t){const e=n.$implicit,i=n.index,r=O();ti("width",r.getThumbnailWidth())("height",r.getThumbnailHeight())("left",r.getThumbnailLeft(i))("top",r.getThumbnailTop(i)),M("href",r.hasLink(i)?r.links[i]:"#",Jt)("target",r.linkTarget)("ngClass",sr(16,wA,i===r.selectedIndex,r.clickable)),pt("aria-label",r.labels[i]),I(),M("ngIf","image"===r.getFileType(e)),I(),M("ngIf","video"===r.getFileType(e)),I(2),M("ngForOf",r.actions),I(),M("ngIf",r.remainingCount&&r.remainingCountValue&&i===r.rows*r.columns-1)}}function HK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-arrows",16),W("prevClick",function(){return z(e),G(O().moveLeft())})("nextClick",function(){return z(e),G(O().moveRight())}),T()}if(2&t){const e=O();M("prevDisabled",!e.canMoveLeft())("nextDisabled",!e.canMoveRight())("arrowPrevIcon",e.arrowPrevIcon)("arrowNextIcon",e.arrowNextIcon)}}const jK=()=>[];function UK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-image",3),W("imageClick",function(r){return z(e),G(O().openPreview(r))})("activeChange",function(r){return z(e),G(O().selectFromImage(r))})("animating",function(r){return z(e),G(O().setAnimating(r))}),T()}if(2&t){const e=O();ti("height",e.getImageHeight()),M("images",e.mediumImages)("clickable",null==e.currentOptions?null:e.currentOptions.preview)("selectedIndex",e.selectedIndex)("arrows",null==e.currentOptions?null:e.currentOptions.imageArrows)("arrowsAutoHide",null==e.currentOptions?null:e.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==e.currentOptions?null:e.currentOptions.arrowPrevIcon)("arrowNextIcon",null==e.currentOptions?null:e.currentOptions.arrowNextIcon)("swipe",null==e.currentOptions?null:e.currentOptions.imageSwipe)("animation",null==e.currentOptions?null:e.currentOptions.imageAnimation)("size",null==e.currentOptions?null:e.currentOptions.imageSize)("autoPlay",null==e.currentOptions?null:e.currentOptions.imageAutoPlay)("autoPlayInterval",null==e.currentOptions?null:e.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==e.currentOptions?null:e.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==e.currentOptions?null:e.currentOptions.imageInfinityMove)("lazyLoading",null==e.currentOptions?null:e.currentOptions.lazyLoading)("actions",null==e.currentOptions?null:e.currentOptions.imageActions)("descriptions",e.descriptions)("showDescription",null==e.currentOptions?null:e.currentOptions.imageDescription)("bullets",null==e.currentOptions?null:e.currentOptions.imageBullets)}}function zK(t,n){if(1&t){const e=ye();x(0,"ngx-gallery-thumbnails",4),W("activeChange",function(r){return z(e),G(O().selectFromThumbnails(r))}),T()}if(2&t){const e=O();ti("margin-top",e.getThumbnailsMarginTop())("margin-bottom",e.getThumbnailsMarginBottom())("height",e.getThumbnailsHeight()),M("images",e.smallImages)("isAnimating",e.isAnimating)("links",null!=e.currentOptions&&e.currentOptions.thumbnailsAsLinks?e.links:function bI(t,n,e){const i=mr()+t,r=Ne();return r[i]===Vt?os(r,i,e?n.call(e):n()):function bu(t,n){return t[n]}(r,i)}(28,jK))("labels",e.labels)("linkTarget",null==e.currentOptions?null:e.currentOptions.linkTarget)("selectedIndex",e.selectedIndex)("columns",null==e.currentOptions?null:e.currentOptions.thumbnailsColumns)("rows",null==e.currentOptions?null:e.currentOptions.thumbnailsRows)("margin",null==e.currentOptions?null:e.currentOptions.thumbnailMargin)("arrows",null==e.currentOptions?null:e.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==e.currentOptions?null:e.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==e.currentOptions?null:e.currentOptions.arrowPrevIcon)("arrowNextIcon",null==e.currentOptions?null:e.currentOptions.arrowNextIcon)("clickable",(null==e.currentOptions?null:e.currentOptions.image)||(null==e.currentOptions?null:e.currentOptions.preview))("swipe",null==e.currentOptions?null:e.currentOptions.thumbnailsSwipe)("size",null==e.currentOptions?null:e.currentOptions.thumbnailSize)("moveSize",null==e.currentOptions?null:e.currentOptions.thumbnailsMoveSize)("order",null==e.currentOptions?null:e.currentOptions.thumbnailsOrder)("remainingCount",null==e.currentOptions?null:e.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==e.currentOptions?null:e.currentOptions.lazyLoading)("actions",null==e.currentOptions?null:e.currentOptions.thumbnailActions)("ngClass",null==e.currentOptions?null:e.currentOptions.thumbnailClasses)}}let Ch=(()=>{class t{constructor(e){this.renderer=e,this.swipeHandlers=new Map}manageSwipe(e,i,r,o,s){const a=this.getSwipeHandlers(r);try{e&&!a?this.swipeHandlers.set(r,[this.renderer.listen(i.nativeElement,"swipeleft",()=>o()),this.renderer.listen(i.nativeElement,"swiperight",()=>s())]):!e&&a&&(a.map(l=>l()),this.removeSwipeHandlers(r))}catch{}}validateUrl(e){return e.replace?e.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):e}getBackgroundUrl(e){return"url('"+this.validateUrl(e)+"')"}getFileType(e){const i=e.split(".").pop().toLowerCase();return"avi"===i||"flv"===i||"wmv"===i||"mov"===i||"mp4"===i?"video":"image"}getSwipeHandlers(e){return this.swipeHandlers.get(e)}removeSwipeHandlers(e){this.swipeHandlers.delete(e)}}return t.\u0275fac=function(e){return new(e||t)(ve(Do))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xA=(()=>{class t{constructor(){this.prevClick=new Fe,this.nextClick=new Fe}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ze({type:t,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),W("click",function(){return i.handlePrevClick()}),_e(2,"i"),T()(),x(3,"div",2)(4,"div",1),W("click",function(){return i.handleNextClick()}),_e(5,"i"),T()()),2&e&&(I(),Qe("ngx-gallery-disabled",i.prevDisabled),I(),qr("ngx-gallery-icon-content ",i.arrowPrevIcon,""),I(2),Qe("ngx-gallery-disabled",i.nextDisabled),I(),qr("ngx-gallery-icon-content ",i.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),t})(),SA=(()=>{class t{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new Fe}handleClick(e){this.disabled||this.closeClick.emit(e),e.stopPropagation(),e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ze({type:t,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"click","title"]],template:function(e,i){1&e&&(x(0,"div",0),W("click",function(o){return i.handleClick(o)}),_e(1,"i"),T()),2&e&&(Qe("ngx-gallery-icon-disabled",i.disabled),Os("title",i.titleText),I(),qr("ngx-gallery-icon-content ",i.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),t})(),$P=(()=>{class t{constructor(){this.active=0,this.bulletChange=new Fe}getBullets(){return Array(this.count)}handleChange(e,i){this.bulletChange.emit(i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ze({type:t,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"click","ngClass"]],template:function(e,i){1&e&&Z(0,hK,1,3,"div",0),2&e&&M("ngForOf",i.getBullets())},dependencies:[Ri,Ro],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),t})(),qP=(()=>{class t{constructor(e,i,r,o,s){this.sanitization=e,this.elementRef=i,this.helperService=r,this.renderer=o,this.changeDetectorRef=s,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new Fe,this.previewClose=new Fe,this.activeChange=new Fe,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(e){e.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(e){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(e)?this.showPrev():this.isKeyboardNext(e)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(e)&&this.close())}open(e){this.previewOpen.emit(),this.index=e,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",i=>this.onKeyDown(i))}close(){this.isOpen=!1;const e=this.previewImage.nativeElement;e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2&&e.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(e){this.index=e,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const e=document;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(e){return this.sanitization.bypassSecurityTrustUrl(e)}getFileType(e){return this.helperService.getFileType(e)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(e){this.canDragOnZoom()&&(this.initialX=this.getClientX(e),this.initialY=this.getClientY(e),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,e.preventDefault())}mouseUpHandler(e){this.isMove=!1}mouseMoveHandler(e){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(e)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(e)-this.initialY))}getClientX(e){return e.touches&&e.touches.length?e.touches[0].clientX:e.clientX}getClientY(e){return e.touches&&e.touches.length?e.touches[0].clientY:e.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(e){return 39===e.keyCode}isKeyboardPrev(e){return 37===e.keyCode}isKeyboardEsc(e){return 27===e.keyCode}openFullscreen(){const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const e=document;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}}isFullscreen(){const e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement}show(e=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),e||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(e){return!(!e.complete||typeof e.naturalWidth<"u"&&0===e.naturalWidth)}}return t.\u0275fac=function(e){return new(e||t)(k(Oc),k(Xe),k(Ch),k(Do),k(Qt))},t.\u0275cmp=ze({type:t,selectors:[["ngx-gallery-preview"]],viewQuery:function(e,i){if(1&e&&Tt(fK,5),2&e){let r;Ge(r=We())&&(i.previewImage=r.first)}},hostBindings:function(e,i){1&e&&W("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[bi],decls:19,vars:18,consts:[["previewImage",""],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"closeClick","icon"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"],[3,"closeClick","icon","disabled","titleText"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"closeClick","icon","disabled"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"click","mouseenter","mouseleave","mousedown","touchstart","src"],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"bulletChange","count","active"],[1,"ngx-gallery-preview-text",3,"click","innerHTML"]],template:function(e,i){1&e&&(Z(0,pK,1,4,"ngx-gallery-arrows",1),x(1,"div",2)(2,"div",3),Z(3,mK,1,3,"ngx-gallery-action",4)(4,gK,2,4,"a",5)(5,_K,1,2,"ngx-gallery-action",6)(6,bK,1,2,"ngx-gallery-action",6)(7,vK,1,1,"ngx-gallery-action",7)(8,yK,1,1,"ngx-gallery-action",7)(9,AK,1,1,"ngx-gallery-action",7),x(10,"ngx-gallery-action",8),W("closeClick",function(){return i.close()}),T()()(),x(11,"div",9),_e(12,"i",10),T(),x(13,"div",11),W("click",function(){return i.closeOnClick&&i.close()})("mouseup",function(o){return i.mouseUpHandler(o)})("mousemove",function(o){return i.mouseMoveHandler(o)})("touchend",function(o){return i.mouseUpHandler(o)})("touchmove",function(o){return i.mouseMoveHandler(o)}),x(14,"div",12),Z(15,CK,2,13,"img",13)(16,wK,4,13,"video",14)(17,xK,1,2,"ngx-gallery-bullets",15),T(),Z(18,SK,1,1,"div",16),T()),2&e&&(M("ngIf",i.arrows),I(3),M("ngForOf",i.actions),I(),M("ngIf",i.download&&i.src),I(),M("ngIf",i.zoom),I(),M("ngIf",i.zoom),I(),M("ngIf",i.rotate),I(),M("ngIf",i.rotate),I(),M("ngIf",i.fullscreen),I(),M("icon","ngx-gallery-close "+i.closeIcon),I(),Qe("ngx-gallery-active",i.showSpinner),I(),qr("ngx-gallery-icon ngx-gallery-spinner ",i.spinnerIcon,""),I(3),M("ngIf",i.src&&"image"===i.type),I(),M("ngIf",i.src&&"video"===i.type),I(),M("ngIf",i.bullets),I(),M("ngIf",i.showDescription&&i.description))},dependencies:[xA,SA,$P,Pt,Ri],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),t})(),Oi=(()=>{class t{}return t.Fade="fade",t.Slide="slide",t.Rotate="rotate",t.Zoom="zoom",t})(),XP=(()=>{class t{constructor(e,i,r,o){this.sanitization=e,this.changeDetectorRef=i,this.elementRef=r,this.helperService=o,this.imageClick=new Fe,this.activeChange=new Fe,this.animating=new Fe,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=i,this.action="none"}set selectedIndex(e){if(e>this._selectedIndex){let i;this.animation===Oi.Slide?i="slideRight":this.animation===Oi.Fade?i="fade":this.animation===Oi.Rotate?i="rotateRight":this.animation===Oi.Zoom&&(i="zoom"),this.setAction(i)}else if(e<this._selectedIndex){let i;this.animation===Oi.Slide?i="slideLeft":this.animation===Oi.Fade?i="fade":this.animation===Oi.Rotate?i="rotateLeft":this.animation===Oi.Zoom&&(i="zoom"),this.setAction(i)}this._selectedIndex=e}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(e){e.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(e){this._selectedIndex=e,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const e=[this._selectedIndex],i=this._selectedIndex-1;-1===i&&this.infinityMove?e.push(this.images.length-1):i>=0&&e.push(i);const r=this._selectedIndex+1;return r===this.images.length&&this.infinityMove?e.push(0):r<this.images.length&&e.push(r),this.images.filter((o,s)=>-1!==e.indexOf(s))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(e,i){this.clickable&&(this.imageClick.emit(i),e.stopPropagation(),e.preventDefault())}show(e){if(!this.isAnimating){if(e>this._selectedIndex){let i;this.animation===Oi.Slide?i="slideRight":this.animation===Oi.Fade?i="fade":this.animation===Oi.Rotate?i="rotateRight":this.animation===Oi.Zoom&&(i="zoom"),this.setAction(i)}else{let i;this.animation===Oi.Slide?i="slideLeft":this.animation===Oi.Fade?i="fade":this.animation===Oi.Rotate?i="rotateLeft":this.animation===Oi.Zoom&&(i="zoom"),this.setAction(i)}this._selectedIndex=e,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(e){this.action=e,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let e;return this.animation===Oi.Slide?e="slideRight":this.animation===Oi.Fade?e="fade":this.animation===Oi.Rotate?e="rotateRight":this.animation===Oi.Zoom&&(e="zoom"),this.setAction(e),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let e;this.animation===Oi.Slide?e="slideLeft":this.animation===Oi.Fade?e="fade":this.animation===Oi.Rotate?e="rotateLeft":this.animation===Oi.Zoom&&(e="zoom"),this.setAction(e),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let e=1e3;(this.animation===Oi.Slide||this.animation===Oi.Fade)&&(e=500),setTimeout(()=>{this.canChangeImage=!0},e)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(e){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(e.toString()))}getFileType(e){return this.helperService.getFileType(e)}onStart(e){this.isAnimating=!0,this.animating.emit(!0)}onDone(e){this.isAnimating=!1,this.animating.emit(!1)}}return t.\u0275fac=function(e){return new(e||t)(k(Oc),k(Qt),k(Xe),k(Ch))},t.\u0275cmp=ze({type:t,selectors:[["ngx-gallery-image"]],hostBindings:function(e,i){1&e&&W("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[bi],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"click","ngClass"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-image-text",3,"click","innerHTML"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"bulletChange","count","active"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(e,i){1&e&&(x(0,"div"),Z(1,OK,3,2,"ng-container",0)(2,PK,1,2,"ngx-gallery-bullets",1)(3,RK,1,7,"ngx-gallery-arrows",2),T()),2&e&&(function dD(t,n,e,i,r){Eo(jr,as,bc(Ne(),t,n,e,i,r),!0)}("ngx-gallery-image-wrapper ngx-gallery-animation-",i.animation," ngx-gallery-image-size-",i.size,""),I(),M("ngForOf",i.getImages()),I(),M("ngIf",i.bullets),I(),M("ngIf",i.arrows))},dependencies:[SA,$P,xA,Ri,Pt,Ro],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[co("animation",[Ui("slideRight",gt({})),Ui("slideLeft",gt({})),Ui("fade",gt({})),Ui("rotateLeft",gt({})),Ui("rotateRight",gt({})),Ui("zoom",gt({})),vi("slideRight => void",[Si("500ms ease-in-out",gt({transform:"translateX(-100%)"}))]),vi("void => slideRight",[gt({transform:"translateX(100%)"}),Si("500ms ease-in-out",gt({transform:"translateX(0)"}))]),vi("slideLeft => void",[Si("500ms ease-in-out",gt({transform:"translateX(100%)"}))]),vi("void => slideLeft",[gt({transform:"translateX(-100%)"}),Si("500ms ease-in-out",gt({transform:"translateX(0)"}))]),vi("fade => void",[Si("500ms ease-in-out",gt({opacity:"0"}))]),vi("void => fade",[gt({opacity:"0"}),Si("500ms ease-in-out",gt({opacity:"1"}))]),vi("rotateLeft => void",[Si("500ms ease-in-out",gt({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),vi("void => rotateLeft",[gt({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),Si("500ms ease-in-out",gt({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),vi("rotateRight => void",[Si("500ms ease-in-out",gt({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),vi("void => rotateRight",[gt({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),Si("500ms ease-in-out",gt({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),vi("zoom => void",[Si("500ms ease-in-out",gt({transform:"scale(2.5,2.5)",opacity:"0"}))]),vi("void => zoom",[gt({transform:"scale(2.5,2.5)",opacity:"0"}),Si("500ms ease-in-out",gt({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),t})(),ho=(()=>{class t{}return t.Column=1,t.Row=2,t.Page=3,t})(),QP=(()=>{class t{constructor(e,i,r){this.sanitization=e,this.elementRef=i,this.helperService=r,this.minStopIndex=0,this.activeChange=new Fe,this.index=0}ngOnChanges(e){e.selectedIndex&&this.validateIndex(),e.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(e){this.selectedIndex=e,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==ho.Row){let e=0;return this.order===ho.Column?e=(this.index+this.columns+this.moveSize)*this.rows:this.order===ho.Page&&(e=this.index+this.columns*this.rows*2),e<=this.minStopIndex?e=this.minStopIndex:this.minStopIndex=e,this.images.slice(0,e)}return this.images}handleClick(e,i){!this.hasLink(i)&&!this.isAnimating&&(this.selectedIndex=i,this.activeChange.emit(i)),e.stopPropagation(),e.preventDefault()}hasLink(e){return!!(this.links&&this.links.length&&this.links[e])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const e=this.getMaxIndex()-this.columns;this.index>e&&(this.index=e),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(e){let i;return i=this.order===ho.Column?Math.floor(e/this.rows):this.order===ho.Page?e%this.columns+Math.floor(e/(this.rows*this.columns))*this.columns:this.order===ho.Row&&this.remainingCount?e%this.columns:e%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(i,this.columns)}getThumbnailTop(e){let i;return i=this.order===ho.Column?e%this.rows:this.order===ho.Page?Math.floor(e/this.columns)-Math.floor(e/(this.rows*this.columns))*this.rows:this.order===ho.Row&&this.remainingCount?Math.floor(e/this.columns):Math.floor(e/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(i,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let e;if(e=this.order===ho.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(e=0),e<this.index||e>=this.index+this.columns){const i=this.getMaxIndex()-this.columns;this.index=e>i?i:e,this.setThumbnailsPosition()}}}getSafeUrl(e){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(e.toString()))}getFileType(e){return this.helperService.getFileType(e.toString())}getThumbnailPosition(e,i){return this.getSafeStyle("calc("+100/i*e+"% + "+(this.margin-(i-1)*this.margin/i)*e+"px)")}getThumbnailDimension(e){return this.getSafeStyle(0!==this.margin?"calc("+100/e+"% - "+(e-1)*this.margin/e+"px)":"calc("+100/e+"% + 1px)")}getMaxIndex(){if(this.order===ho.Page){let e=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?e+=this.columns:e+=this.images.length%this.getVisibleCount(),e}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(e){return this.sanitization.bypassSecurityTrustStyle(e)}}return t.\u0275fac=function(e){return new(e||t)(k(Oc),k(Xe),k(Ch))},t.\u0275cmp=ze({type:t,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(e,i){1&e&&W("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[bi],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"click","href","target","ngClass"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(e,i){1&e&&(x(0,"div")(1,"div",0),Z(2,VK,6,19,"a",1),T()(),Z(3,HK,1,4,"ngx-gallery-arrows",2)),2&e&&(qr("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",i.size,""),I(),ti("transform","translateX("+i.thumbnailsLeft+")")("margin-left",i.thumbnailsMarginLeft),I(),M("ngForOf",i.getImages()),I(),M("ngIf",i.canShowArrows()))},dependencies:[SA,xA,Ri,Ro,Pt],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),t})();class TA{constructor(n){this.icon=n.icon,this.disabled=!!n.disabled&&n.disabled,this.titleText=n.titleText?n.titleText:"",this.onClick=n.onClick}}let DA=(()=>{class t{}return t.ThumbnailsTop="thumbnails-top",t.ThumbnailsBottom="thumbnails-bottom",t})(),KP=(()=>{class t{}return t.Cover="cover",t.Contain="contain",t})();class ZP{constructor(n){const e=void 0!==n.breakpoint;function i(r,o){return n&&(void 0!==r||e)?r:o}this.breakpoint=i(n.breakpoint,void 0),this.width=i(n.width,"500px"),this.height=i(n.height,"400px"),this.fullWidth=i(n.fullWidth,!1),this.layout=i(n.layout,DA.ThumbnailsBottom),this.startIndex=i(n.startIndex,0),this.linkTarget=i(n.linkTarget,"_blank"),this.lazyLoading=i(n.lazyLoading,!0),this.image=i(n.image,!0),this.imagePercent=i(n.imagePercent,75),this.imageArrows=i(n.imageArrows,!0),this.imageArrowsAutoHide=i(n.imageArrowsAutoHide,!1),this.imageSwipe=i(n.imageSwipe,!1),this.imageAnimation=i(n.imageAnimation,Oi.Fade),this.imageSize=i(n.imageSize,KP.Cover),this.imageAutoPlay=i(n.imageAutoPlay,!1),this.imageAutoPlayInterval=i(n.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=i(n.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=i(n.imageInfinityMove,!1),n&&n.imageActions&&n.imageActions.length&&(n.imageActions=n.imageActions.map(r=>new TA(r))),this.imageActions=i(n.imageActions,[]),this.imageDescription=i(n.imageDescription,!1),this.imageBullets=i(n.imageBullets,!1),this.thumbnails=i(n.thumbnails,!0),this.thumbnailsColumns=i(n.thumbnailsColumns,4),this.thumbnailsRows=i(n.thumbnailsRows,1),this.thumbnailsPercent=i(n.thumbnailsPercent,25),this.thumbnailsMargin=i(n.thumbnailsMargin,10),this.thumbnailsArrows=i(n.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=i(n.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=i(n.thumbnailsSwipe,!1),this.thumbnailsMoveSize=i(n.thumbnailsMoveSize,1),this.thumbnailsOrder=i(n.thumbnailsOrder,ho.Column),this.thumbnailsRemainingCount=i(n.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=i(n.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=i(n.thumbnailsAutoHide,!1),this.thumbnailMargin=i(n.thumbnailMargin,10),this.thumbnailSize=i(n.thumbnailSize,KP.Cover),n&&n.thumbnailActions&&n.thumbnailActions.length&&(n.thumbnailActions=n.thumbnailActions.map(r=>new TA(r))),this.thumbnailActions=i(n.thumbnailActions,[]),this.thumbnailClasses=i(n.thumbnailClasses,[]),this.preview=i(n.preview,!0),this.previewDescription=i(n.previewDescription,!0),this.previewArrows=i(n.previewArrows,!0),this.previewArrowsAutoHide=i(n.previewArrowsAutoHide,!1),this.previewSwipe=i(n.previewSwipe,!1),this.previewFullscreen=i(n.previewFullscreen,!1),this.previewForceFullscreen=i(n.previewForceFullscreen,!1),this.previewCloseOnClick=i(n.previewCloseOnClick,!1),this.previewCloseOnEsc=i(n.previewCloseOnEsc,!1),this.previewKeyboardNavigation=i(n.previewKeyboardNavigation,!1),this.previewAnimation=i(n.previewAnimation,!0),this.previewAutoPlay=i(n.previewAutoPlay,!1),this.previewAutoPlayInterval=i(n.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=i(n.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=i(n.previewInfinityMove,!1),this.previewZoom=i(n.previewZoom,!1),this.previewZoomStep=i(n.previewZoomStep,.1),this.previewZoomMax=i(n.previewZoomMax,2),this.previewZoomMin=i(n.previewZoomMin,.5),this.previewRotate=i(n.previewRotate,!1),this.previewDownload=i(n.previewDownload,!1),this.previewCustom=i(n.previewCustom,void 0),this.previewBullets=i(n.previewBullets,!1),this.arrowPrevIcon=i(n.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=i(n.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=i(n.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=i(n.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=i(n.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=i(n.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=i(n.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=i(n.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=i(n.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=i(n.downloadIcon,"fa fa-arrow-circle-down"),n&&n.actions&&n.actions.length&&(n.actions=n.actions.map(r=>new TA(r))),this.actions=i(n.actions,[])}}class GK{constructor(n){this.src=n.src,this.type=n.type,this.index=n.index}}let WK=(()=>{class t{constructor(e,i){this.myElement=e,this.helperService=i,this.options=[{}],this.imagesReady=new Fe,this.change=new Fe,this.previewOpen=new Fe,this.previewClose=new Fe,this.previewChange=new Fe,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(e=>new ZP(e)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===DA.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===DA.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(e){this.currentOptions.previewCustom?this.currentOptions.previewCustom(e):(this.previewEnabled=!0,this.preview.open(e))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(e){this.select(e)}selectFromThumbnails(e){this.select(e),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(e){this.select(e)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(e){this.previewChange.emit({index:e,image:this.images[e]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(e){this.selectedIndex=e,this.change.emit({index:e,image:this.images[e]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(e=>e.type=this.helperService.getFileType(e.url||e.big||e.medium||e.small||"")),this.smallImages=this.images.map(e=>e.small),this.mediumImages=this.images.map((e,i)=>new GK({src:e.medium,type:e.type,index:i})),this.bigImages=this.images.map(e=>e.big),this.descriptions=this.images.map(e=>e.description),this.links=this.images.map(e=>e.url),this.labels=this.images.map(e=>e.label)}setBreakpoint(){let e;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(e=this.options.filter(i=>i.breakpoint>=window.innerWidth).map(i=>i.breakpoint)),this.breakpoint=e&&e.length?e.pop():void 0}sortOptions(){this.options=[...this.options.filter(e=>void 0===e.breakpoint),...this.options.filter(e=>void 0!==e.breakpoint).sort((e,i)=>i.breakpoint-e.breakpoint)]}setOptions(){this.currentOptions=new ZP({}),this.options.filter(e=>void 0===e.breakpoint||e.breakpoint>=this.breakpoint).map(e=>this.combineOptions(this.currentOptions,e)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(e,i){Object.keys(i).map(r=>e[r]=void 0!==i[r]?i[r]:e[r])}setAnimating(e){this.isAnimating=e}}return t.\u0275fac=function(e){return new(e||t)(k(Xe),k(Ch))},t.\u0275cmp=ze({type:t,selectors:[["ngx-gallery"]],viewQuery:function(e,i){if(1&e&&(Tt(qP,5),Tt(XP,5),Tt(QP,5)),2&e){let r;Ge(r=We())&&(i.preview=r.first),Ge(r=We())&&(i.image=r.first),Ge(r=We())&&(i.thumbnails=r.first)}},hostVars:6,hostBindings:function(e,i){1&e&&W("resize",function(){return i.onResize()},0,Rx),2&e&&ti("width",i.width)("height",i.height)("transform",i.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[Bt([Ch])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"previewClose","previewOpen","activeChange","images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets"],[3,"imageClick","activeChange","animating","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets"],[3,"activeChange","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass"]],template:function(e,i){1&e&&(x(0,"div"),Z(1,UK,1,21,"ngx-gallery-image",0)(2,zK,1,29,"ngx-gallery-thumbnails",1),x(3,"ngx-gallery-preview",2),W("previewClose",function(){return i.onPreviewClose()})("previewOpen",function(){return i.onPreviewOpen()})("activeChange",function(o){return i.previewSelect(o)}),T()()),2&e&&(qr("ngx-gallery-layout ",null==i.currentOptions?null:i.currentOptions.layout,""),I(),M("ngIf",null==i.currentOptions?null:i.currentOptions.image),I(),M("ngIf",null==i.currentOptions?null:i.currentOptions.thumbnails),I(),Qe("ngx-gallery-active",i.previewEnabled),M("images",i.bigImages)("descriptions",i.descriptions)("showDescription",null==i.currentOptions?null:i.currentOptions.previewDescription)("arrowPrevIcon",null==i.currentOptions?null:i.currentOptions.arrowPrevIcon)("arrowNextIcon",null==i.currentOptions?null:i.currentOptions.arrowNextIcon)("closeIcon",null==i.currentOptions?null:i.currentOptions.closeIcon)("fullscreenIcon",null==i.currentOptions?null:i.currentOptions.fullscreenIcon)("spinnerIcon",null==i.currentOptions?null:i.currentOptions.spinnerIcon)("arrows",null==i.currentOptions?null:i.currentOptions.previewArrows)("arrowsAutoHide",null==i.currentOptions?null:i.currentOptions.previewArrowsAutoHide)("swipe",null==i.currentOptions?null:i.currentOptions.previewSwipe)("fullscreen",null==i.currentOptions?null:i.currentOptions.previewFullscreen)("forceFullscreen",null==i.currentOptions?null:i.currentOptions.previewForceFullscreen)("closeOnClick",null==i.currentOptions?null:i.currentOptions.previewCloseOnClick)("closeOnEsc",null==i.currentOptions?null:i.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==i.currentOptions?null:i.currentOptions.previewKeyboardNavigation)("animation",null==i.currentOptions?null:i.currentOptions.previewAnimation)("autoPlay",null==i.currentOptions?null:i.currentOptions.previewAutoPlay)("autoPlayInterval",null==i.currentOptions?null:i.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==i.currentOptions?null:i.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==i.currentOptions?null:i.currentOptions.previewInfinityMove)("zoom",null==i.currentOptions?null:i.currentOptions.previewZoom)("zoomStep",null==i.currentOptions?null:i.currentOptions.previewZoomStep)("zoomMax",null==i.currentOptions?null:i.currentOptions.previewZoomMax)("zoomMin",null==i.currentOptions?null:i.currentOptions.previewZoomMin)("zoomInIcon",null==i.currentOptions?null:i.currentOptions.zoomInIcon)("zoomOutIcon",null==i.currentOptions?null:i.currentOptions.zoomOutIcon)("actions",null==i.currentOptions?null:i.currentOptions.actions)("rotate",null==i.currentOptions?null:i.currentOptions.previewRotate)("rotateLeftIcon",null==i.currentOptions?null:i.currentOptions.rotateLeftIcon)("rotateRightIcon",null==i.currentOptions?null:i.currentOptions.rotateRightIcon)("download",null==i.currentOptions?null:i.currentOptions.previewDownload)("downloadIcon",null==i.currentOptions?null:i.currentOptions.downloadIcon)("bullets",null==i.currentOptions?null:i.currentOptions.previewBullets))},dependencies:[XP,QP,qP,Pt,Ro],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),t})(),YK=(()=>{class t extends kY{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return t.\u0275fac=(()=>{let n;return function(i){return(n||(n=li(t)))(i||t)}})(),t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),$K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=st({providers:[{provide:MY,useClass:YK}],imports:[[Pr]]}),t})();function qK(t,n){if(1&t&&_e(0,"ngx-gallery",2),2&t){const e=O();M("options",e.galleryOptions)("images",e.galleryImages)}}function XK(t,n){1&t&&(x(0,"h3"),F(1,"This story doesn't have any reels!"),T())}let IA=(()=>{class t{constructor(e,i){this.images=e,this.dialogRef=i,this.startIndex=0,this.galleryOptions=[],this.galleryImages=[],this.show=!1}ngOnInit(){this.galleryOptions=[{width:"1000px",height:"800px",thumbnailsColumns:4,imageAnimation:Oi.Slide,imageArrows:!0,previewFullscreen:!0,previewCloseOnClick:!0,imageBullets:!0},{breakpoint:800,width:"100%",height:"600px",imagePercent:90,thumbnailsPercent:10,thumbnailsMargin:20,thumbnailMargin:20}],this.images.forEach(e=>{this.galleryImages.push({small:e.image,medium:e.image,big:e.image,description:e.caption})})}ngAfterViewInit(){setTimeout(()=>this.show=!0,0)}onClose(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(k(zs),k(Ho))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reel-dialog"]],decls:2,vars:2,consts:[["class","ngx-gallery",3,"options","images",4,"ngIf"],[4,"ngIf"],[1,"ngx-gallery",3,"options","images"]],template:function(i,r){1&i&&Z(0,qK,1,2,"ngx-gallery",0)(1,XK,2,0,"h3",1),2&i&&(M("ngIf",r.galleryImages),I(),M("ngIf",!r.galleryImages))},dependencies:[Pt,WK],styles:[".btn[_ngcontent-%COMP%]{border:3px solid;margin:10px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;justify-self:right}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:10px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;justify-self:right}.ngx-gallery[_ngcontent-%COMP%]{display:inline-block;margin-bottom:20px}"]})}}return t})();function QK(t,n){if(1&t){const e=ye();x(0,"a",13),W("click",function(){z(e);const r=O(2);return G(r.goToReelList(r.story.id))}),F(1,"Watch Reels"),T()}}function KK(t,n){if(1&t){const e=ye();x(0,"div",1),_e(1,"img",2),x(2,"div",3)(3,"h2",4),F(4),Yi(5,"slice"),T(),x(6,"p",5),F(7),Yi(8,"slice"),T()(),x(9,"div",6)(10,"div",7),Z(11,QK,2,0,"a",8),T(),x(12,"div",7)(13,"a",9),W("click",function(){z(e);const r=O();return G(r.goToStoryDetail(r.story.id))}),F(14,"Story Detail"),T()()(),x(15,"div",10)(16,"p",11),F(17),T(),x(18,"p",12),F(19),T()()()}if(2&t){const e=O();I(),M("src",e.story.image,Jt),I(3),tt(ku(5,8,e.story.title,0,50)),I(3),tt(ku(8,12,e.story.longDescription,0,100)),I(4),M("ngIf",e.reels.length>0),I(6),ht("",e.commentNumbers," Comments"),I(2),Mo("",e.likeNumbers," Likes, ",e.loveNumbers," Loves and ",e.celebrateNumbers," Celebrations")}}let ZK=(()=>{class t{constructor(e,i,r){this.router=e,this.sService=i,this.dialog=r,this.reels=[]}ngOnInit(){this.sService.fetchComments(this.story.id).subscribe(e=>{this.commentNumbers=e.length}),setTimeout(()=>{this.story&&(this.likeNumbers=this.story.likes?.length,this.loveNumbers=this.story.loves?.length,this.celebrateNumbers=this.story.celebrates?.length,this.story.reels.forEach(e=>{this.reels.push({image:e.image})}))},100)}goToReelList(e){const i=new $i;i.autoFocus=!1,i.data=this.reels,i.backdropClass="backdropBackground",this.dialog.open(IA,i)}goToStoryDetail(e){this.router.navigateByUrl("/story/"+e)}static{this.\u0275fac=function(i){return new(i||t)(k(Kt),k(yr),k(uo))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-item"]],inputs:{story:"story",index:"index",cols:"cols",rows:"rows"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],["alt","story.caption",1,"card-img-top","img-fluid",2,"max-height","600px","border-top-left-radius","5px","border-top-right-radius","5px",3,"src"],[1,"card-body","mb-0"],[1,"card-title"],[1,"card-text"],[1,"button-row"],[1,"col-md-6","mb-0"],["class","btn float-start",3,"click",4,"ngIf"],[1,"btn","float-end",3,"click"],[1,"card-footer"],[1,"float-start","text-muted","mb-0"],[1,"float-end","text-muted","mb-0"],[1,"btn","float-start",3,"click"]],template:function(i,r){1&i&&Z(0,KK,20,16,"div",0),2&i&&M("ngIf",!!r.story)},dependencies:[Pt,Ky],styles:[".card[_ngcontent-%COMP%]{background:#d4f3fd;color:#000;float:none;display:flex;margin:20px auto;padding:10px auto;max-width:800px;max-height:800px}a.btn[_ngcontent-%COMP%]{border:3px solid;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.button-row[_ngcontent-%COMP%]{display:flex;padding:10px}.card-footer.p[_ngcontent-%COMP%]{vertical-align:middle;margin:0!important}"]})}}return t})();function JK(t,n){if(1&t&&_e(0,"app-story-item",3),2&t){const i=n.index;M("story",n.$implicit)("index",i)}}function eZ(t,n){if(1&t&&(x(0,"div",1),Z(1,JK,1,2,"app-story-item",2),T()),2&t){const e=n.ngIf;I(),M("ngForOf",e)}}let tZ=(()=>{class t{constructor(e,i){this.sService=e,this.router=i,this.isAuth=!1}ngOnInit(){this.isAuth=!!ii.authEmitter,setTimeout(()=>{this.stories$=this.sService.fetchStories()},200)}onAddStory(){this.router.navigate(["story/new"])}static{this.\u0275fac=function(i){return new(i||t)(k(yr),k(Kt))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-list"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"story","index",4,"ngFor","ngForOf"],[3,"story","index"]],template:function(i,r){1&i&&(Z(0,eZ,2,1,"div",0),Yi(1,"async")),2&i&&M("ngIf",Rn(1,1,r.stories$))},dependencies:[Ri,Pt,ZK,ha],styles:[".container[_ngcontent-%COMP%]{margin:20px auto}"]})}}return t})(),eg=(()=>{class t{constructor(){this.image=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ol=(()=>{class t{constructor(){this.fileFieldList=[]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const iZ=["*"];function nZ(t,n){1&t&&di(0)}let JP=(()=>{class t{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(i){return new(i||t)(k(Xe))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}}return t})(),eR=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(k(si))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdkStepLabel",""]],standalone:!0})}}return t})(),rZ=0;const tR=new Me("STEPPER_GLOBAL_OPTIONS");let EA=(()=>{class t{get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new Fe,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}static{this.\u0275fac=function(i){return new(i||t)(k($t(()=>wh)),k(tR,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["cdk-step"]],contentQueries:function(i,r,o){if(1&i&&Lt(o,eR,5),2&i){let s;Ge(s=We())&&(r.stepLabel=s.first)}},viewQuery:function(i,r){if(1&i&&Tt(si,7),2&i){let o;Ge(o=We())&&(r.content=o.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[ke.None,"aria-label","ariaLabel"],ariaLabelledby:[ke.None,"aria-labelledby","ariaLabelledby"],state:"state",editable:[ke.HasDecoratorInputTransform,"editable","editable",wt],optional:[ke.HasDecoratorInputTransform,"optional","optional",wt],completed:[ke.HasDecoratorInputTransform,"completed","completed",wt],hasError:[ke.HasDecoratorInputTransform,"hasError","hasError",wt]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[bn,bi,Yt],ngContentSelectors:iZ,decls:1,vars:0,template:function(i,r){1&i&&(yn(),Z(0,nZ,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return t})(),wh=(()=>{class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this.steps&&this._steps?(this._isValidIndex(e),this.selected?._markAsInteracted(),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}constructor(e,i,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new Ye,this.steps=new Is,this._sortedHeaders=new Is,this.linear=!1,this._selectedIndex=0,this.selectionChange=new Fe,this.selectedIndexChange=new Fe,this._orientation="horizontal",this._groupId=rZ++}ngAfterContentInit(){this._steps.changes.pipe(cr(this._steps),Dt(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(cr(this._stepHeader),Dt(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new nP(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:ot()).pipe(cr(this._layoutDirection()),Dt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const r=this.steps.toArray()[e],o=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,r="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?r:e.editable&&i?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){const i=ps(e),r=e.keyCode,o=this._keyManager;null==o.activeItemIndex||i||32!==r&&13!==r?o.setFocusOrigin("keyboard").onKeydown(e):(this.selectedIndex=o.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this.linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=Lm();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static{this.\u0275fac=function(i){return new(i||t)(k(Ar,8),k(Qt),k(Xe))}}static{this.\u0275dir=Be({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(i,r,o){if(1&i&&(Lt(o,EA,5),Lt(o,JP,5)),2&i){let s;Ge(s=We())&&(r._steps=s),Ge(s=We())&&(r._stepHeader=s)}},inputs:{linear:[ke.HasDecoratorInputTransform,"linear","linear",wt],selectedIndex:[ke.HasDecoratorInputTransform,"selectedIndex","selectedIndex",ar],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[bn]})}}return t})(),oZ=(()=>{class t{constructor(e){this._stepper=e,this.type="submit"}static{this.\u0275fac=function(i){return new(i||t)(k(wh))}}static{this.\u0275dir=Be({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(i,r){1&i&&W("click",function(){return r._stepper.next()}),2&i&&an("type",r.type)},inputs:{type:"type"},standalone:!0})}}return t})(),sZ=(()=>{class t{constructor(e){this._stepper=e,this.type="button"}static{this.\u0275fac=function(i){return new(i||t)(k(wh))}}static{this.\u0275dir=Be({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(i,r){1&i&&W("click",function(){return r._stepper.previous()}),2&i&&an("type",r.type)},inputs:{type:"type"},standalone:!0})}}return t})(),aZ=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ed]})}}return t})();function iR(...t){const n=sm(t),{args:e,keys:i}=Ck(t),r=new Zt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,m=s;for(let A=0;A<s;A++){let S=!1;xn(e[A]).subscribe(Ci(o,P=>{S||(S=!0,m--),a[A]=P},()=>l--,void 0,()=>{(!l||!S)&&(m||o.next(i?wk(i,a):a),o.complete())}))}});return n?r.pipe(y0(n)):r}function nR(t={}){const{connector:n=(()=>new Ye),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,l,m=0,A=!1,S=!1;const P=()=>{a?.unsubscribe(),a=void 0},N=()=>{P(),s=l=void 0,A=S=!1},L=()=>{const V=s;N(),V?.unsubscribe()};return Gi((V,K)=>{m++,!S&&!A&&P();const re=l=l??n();K.add(()=>{m--,0===m&&!S&&!A&&(a=MA(L,r))}),re.subscribe(K),!s&&m>0&&(s=new Ta({next:ae=>re.next(ae),error:ae=>{S=!0,P(),a=MA(N,e,ae),re.error(ae)},complete:()=>{A=!0,P(),a=MA(N,i),re.complete()}}),xn(V).subscribe(s))})(o)}}function MA(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new Ta({next:()=>{i.unsubscribe(),t()}});return xn(n(...e)).subscribe(i)}const lZ=["*"];let tg;function xh(t){return function cZ(){if(void 0===tg&&(tg=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(tg=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return tg}()?.createHTML(t)||t}function rR(t){return Error(`Unable to find icon with the name "${t}"`)}function oR(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function sR(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class sl{constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}}let ig=(()=>{class t{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new sl(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Yn.HTML,r);if(!s)throw sR(r);const a=xh(s);return this._addSvgIconConfig(e,i,new sl("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new sl(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Yn.HTML,i);if(!o)throw sR(i);const s=xh(o);return this._addSvgIconSetConfig(e,new sl("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Yn.RESOURCE_URL,e);if(!i)throw oR(e);const r=this._cachedIconsByUrl.get(i);return r?ot(ng(r)):this._loadSvgIconFromConfig(new sl(e,null)).pipe(Ki(o=>this._cachedIconsByUrl.set(i,o)),bt(o=>ng(o)))}getNamedSvgIcon(e,i=""){const r=aR(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Vc(rR(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ot(ng(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(bt(i=>ng(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ot(r):iR(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Lo(a=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(Yn.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(m)),ot(null)})))).pipe(bt(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw rR(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ki(i=>e.svgText=i),bt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ot(null):this._fetchIcon(e).pipe(Ki(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(xh("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(xh("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function dZ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Yn.RESOURCE_URL,i);if(!s)throw oR(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(bt(m=>xh(m)),Rc(()=>this._inProgressUrlFetches.delete(s)),nR());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(aR(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return hZ(o)?new sl(o.url,null,o.options):new sl(o,null)}}static{this.\u0275fac=function(i){return new(i||t)(ve(Fo,8),ve(Oc),ve(xt,8),ve(Gr))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ng(t){return t.cloneNode(!0)}function aR(t,n){return t+":"+n}function hZ(t){return!(!t.url||!t.options)}const fZ=new Me("MAT_ICON_DEFAULT_OPTIONS"),pZ=new Me("mat-icon-location",{providedIn:"root",factory:function mZ(){const t=Q(xt),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),lR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gZ=lR.map(t=>`[${t}]`).join(", "),_Z=/^url\(['"]?#(.*?)['"]?\)$/;let kA=(()=>{class t{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){this._elementRef=e,this._iconRegistry=i,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=me.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(gZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)lR.forEach(s=>{const a=i[o],l=a.getAttribute(s),m=l?l.match(_Z):null;if(m){let A=r.get(a);A||(A=[],r.set(a,A)),A.push({name:s,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ei(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(ig),wo("aria-hidden"),k(pZ),k(Gr),k(fZ,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(pt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),vn(r.color?"mat-"+r.color:""),Qe("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[ke.HasDecoratorInputTransform,"inline","inline",wt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[bn,Yt],ngContentSelectors:lZ,decls:1,vars:0,template:function(i,r){1&i&&(yn(),di(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return t})(),Sh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,ni]})}}return t})();function bZ(t,n){if(1&t&&ks(0,2),2&t){const e=O();M("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function vZ(t,n){if(1&t&&(x(0,"span",7),F(1),T()),2&t){const e=O(2);I(),tt(e._getDefaultTextForState(e.state))}}function yZ(t,n){if(1&t&&(x(0,"span",8),F(1),T()),2&t){const e=O(3);I(),tt(e._intl.completedLabel)}}function AZ(t,n){if(1&t&&(x(0,"span",8),F(1),T()),2&t){const e=O(3);I(),tt(e._intl.editableLabel)}}function CZ(t,n){if(1&t&&(Z(0,yZ,2,1,"span",8)(1,AZ,2,1),x(2,"mat-icon",7),F(3),T()),2&t){const e=O(2);vt(0,"done"===e.state?0:"edit"===e.state?1:-1),I(3),tt(e._getDefaultTextForState(e.state))}}function wZ(t,n){if(1&t&&Z(0,vZ,2,1)(1,CZ,4,2),2&t){let e;vt(0,"number"===(e=O().state)?0:1)}}function xZ(t,n){1&t&&(x(0,"div",4),ks(1,9),T()),2&t&&(I(),M("ngTemplateOutlet",n.template))}function SZ(t,n){if(1&t&&(x(0,"div",4),F(1),T()),2&t){const e=O();I(),tt(e.label)}}function TZ(t,n){if(1&t&&(x(0,"div",5),F(1),T()),2&t){const e=O();I(),tt(e._intl.optionalLabel)}}function DZ(t,n){if(1&t&&(x(0,"div",6),F(1),T()),2&t){const e=O();I(),tt(e.errorMessage)}}const cR=["*"];function IZ(t,n){}function EZ(t,n){if(1&t&&(di(0),Z(1,IZ,0,0,"ng-template",0)),2&t){const e=O();I(),M("cdkPortalOutlet",e._portal)}}const dR=(t,n)=>({step:t,i:n}),uR=t=>({animationDuration:t}),hR=(t,n)=>({value:t,params:n});function MZ(t,n){1&t&&di(0)}function kZ(t,n){1&t&&_e(0,"div",6)}function OZ(t,n){if(1&t&&(ks(0,5),Z(1,kZ,1,0,"div",6)),2&t){const e=n.$implicit,i=n.$index,r=n.$index,o=n.$count;O(2),M("ngTemplateOutlet",Vi(4))("ngTemplateOutletContext",sr(3,dR,e,i)),I(),vt(1,r!==o-1?1:-1)}}function PZ(t,n){if(1&t){const e=ye();x(0,"div",7),W("@horizontalStepTransition.done",function(r){return z(e),G(O(2)._animationDone.next(r))}),ks(1,8),T()}if(2&t){const e=n.$implicit,i=n.$index,r=O(2);Qe("mat-horizontal-stepper-content-inactive",r.selectedIndex!==i),M("@horizontalStepTransition",sr(8,hR,r._getAnimationDirection(i),Ht(6,uR,r._getAnimationDuration())))("id",r._getStepContentId(i)),pt("aria-labelledby",r._getStepLabelId(i)),I(),M("ngTemplateOutlet",e.content)}}function RZ(t,n){if(1&t&&(x(0,"div",1)(1,"div",2),Fn(2,OZ,2,6,null,null,$n),T(),x(4,"div",3),Fn(5,PZ,2,11,"div",4,$n),T()()),2&t){const e=O();I(2),Ln(e.steps),I(3),Ln(e.steps)}}function NZ(t,n){if(1&t){const e=ye();x(0,"div",9),ks(1,5),x(2,"div",10)(3,"div",11),W("@verticalStepTransition.done",function(r){return z(e),G(O(2)._animationDone.next(r))}),x(4,"div",12),ks(5,8),T()()()()}if(2&t){const e=n.$implicit,i=n.$index,r=n.$index,o=n.$count,s=O(2),a=Vi(4);I(),M("ngTemplateOutlet",a)("ngTemplateOutletContext",sr(10,dR,e,i)),I(),Qe("mat-stepper-vertical-line",r!==o-1),I(),Qe("mat-vertical-stepper-content-inactive",s.selectedIndex!==i),M("@verticalStepTransition",sr(15,hR,s._getAnimationDirection(i),Ht(13,uR,s._getAnimationDuration())))("id",s._getStepContentId(i)),pt("aria-labelledby",s._getStepLabelId(i)),I(2),M("ngTemplateOutlet",e.content)}}function FZ(t,n){1&t&&Fn(0,NZ,6,18,"div",9,$n),2&t&&Ln(O().steps)}function LZ(t,n){if(1&t){const e=ye();x(0,"mat-step-header",13),W("click",function(){return G(z(e).step.select())})("keydown",function(r){return z(e),G(O()._onKeydown(r))}),T()}if(2&t){const e=n.step,i=n.i,r=O();Qe("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),M("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,e))("color",e.color||r.color),pt("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(i,e)||null)}}let Th=(()=>{class t extends eR{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=li(t)))(r||t)}})()}static{this.\u0275dir=Be({type:t,selectors:[["","matStepLabel",""]],standalone:!0,features:[Ct]})}}return t})(),rg=(()=>{class t{constructor(){this.changes=new Ye,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const VZ={provide:rg,deps:[[new Zs,new Vl,rg]],useFactory:function BZ(t){return t||new rg}};let OA=(()=>{class t extends JP{constructor(e,i,r,o){super(r),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof Th?null:this.label}_templateLabel(){return this.label instanceof Th?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}static{this.\u0275fac=function(i){return new(i||t)(k(rg),k(nl),k(Xe),k(Qt))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,r){2&i&&vn("mat-"+(r.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[Ct,Yt],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,r){if(1&i&&(_e(0,"div",0),x(1,"div")(2,"div",1),Z(3,bZ,1,2,"ng-container",2)(4,wZ,2,1),T()(),x(5,"div",3),Z(6,xZ,2,1,"div",4)(7,SZ,2,1)(8,TZ,2,1,"div",5)(9,DZ,2,1,"div",6),T()),2&i){let o;M("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disableRipple),I(),qr("mat-step-icon-state-",r.state," mat-step-icon"),Qe("mat-step-icon-selected",r.selected),I(2),vt(3,r.iconOverrides&&r.iconOverrides[r.state]?3:4),I(2),Qe("mat-step-label-active",r.active)("mat-step-label-selected",r.selected)("mat-step-label-error","error"==r.state),I(),vt(6,(o=r._templateLabel())?6:r._stringLabel()?7:-1,o),I(2),vt(8,r.optional&&"error"!=r.state?8:-1),I(),vt(9,"error"===r.state?9:-1)}},dependencies:[va,ls,kA],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0})}}return t})();const mR={horizontalStepTransition:co("horizontalStepTransition",[Ui("previous",gt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Ui("current",gt({transform:"none",visibility:"inherit"})),Ui("next",gt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),vi("* => *",Zm([Si("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),yh("@*",vh(),{optional:!0})]),{params:{animationDuration:"500ms"}})]),verticalStepTransition:co("verticalStepTransition",[Ui("previous",gt({height:"0px",visibility:"hidden"})),Ui("next",gt({height:"0px",visibility:"hidden"})),Ui("current",gt({height:"*",visibility:"inherit"})),vi("* <=> current",Zm([Si("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),yh("@*",vh(),{optional:!0})]),{params:{animationDuration:"225ms"}})])};let HZ=(()=>{class t{constructor(e){this.templateRef=e}static{this.\u0275fac=function(i){return new(i||t)(k(si))}}static{this.\u0275dir=Be({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[ke.None,"matStepperIcon","name"]},standalone:!0})}}return t})(),jZ=(()=>{class t{constructor(e){this._template=e}static{this.\u0275fac=function(i){return new(i||t)(k(si))}}static{this.\u0275dir=Be({type:t,selectors:[["ng-template","matStepContent",""]],standalone:!0})}}return t})(),PA=(()=>{class t extends EA{constructor(e,i,r,o){super(e,o),this._errorStateMatcher=i,this._viewContainerRef=r,this._isSelected=me.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(dn(()=>this._stepper.selectionChange.pipe(bt(e=>e.selectedStep===this),cr(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Ja(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}static{this.\u0275fac=function(i){return new(i||t)(k($t(()=>Dh)),k(_h,4),k(Qi),k(tR,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-step"]],contentQueries:function(i,r,o){if(1&i&&(Lt(o,Th,5),Lt(o,jZ,5)),2&i){let s;Ge(s=We())&&(r.stepLabel=s.first),Ge(s=We())&&(r._lazyContent=s.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[Bt([{provide:_h,useExisting:t},{provide:EA,useExisting:t}]),Ct,Yt],ngContentSelectors:cR,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(yn(),Z(0,EZ,2,1,"ng-template"))},dependencies:[js],encapsulation:2,changeDetection:0})}}return t})(),Dh=(()=>{class t extends wh{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,i,r){super(e,i,r),this._stepHeader=void 0,this._steps=void 0,this.steps=new Is,this.animationDone=new Fe,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new Ye,this._animationDuration="",this._isServer=!Q(ki).isBrowser;const o=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===o?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(Dt(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(tl((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),Dt(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}static{this.\u0275fac=function(i){return new(i||t)(k(Ar,8),k(Qt),k(Xe))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,r,o){if(1&i&&(Lt(o,PA,5),Lt(o,HZ,5)),2&i){let s;Ge(s=We())&&(r._steps=s),Ge(s=We())&&(r._icons=s)}},viewQuery:function(i,r){if(1&i&&Tt(OA,5),2&i){let o;Ge(o=We())&&(r._stepHeader=o)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(i,r){2&i&&(pt("aria-orientation",r.orientation),Qe("mat-stepper-horizontal","horizontal"===r.orientation)("mat-stepper-vertical","vertical"===r.orientation)("mat-stepper-label-position-end","horizontal"===r.orientation&&"end"==r.labelPosition)("mat-stepper-label-position-bottom","horizontal"===r.orientation&&"bottom"==r.labelPosition)("mat-stepper-header-position-bottom","bottom"===r.headerPosition))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[Bt([{provide:wh,useExisting:t}]),Ct,Yt],ngContentSelectors:cR,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,r){if(1&i&&(yn(),Z(0,MZ,1,0)(1,RZ,7,0)(2,FZ,2,0)(3,LZ,1,23,"ng-template",null,0,so)),2&i){let o;vt(0,r._isServer?0:-1),I(),vt(1,"horizontal"===(o=r.orientation)?1:"vertical"===o?2:-1)}},dependencies:[ls,OA],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[mR.horizontalStepTransition,mR.verticalStepTransition]},changeDetection:0})}}return t})(),gR=(()=>{class t extends oZ{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=li(t)))(r||t)}})()}static{this.\u0275dir=Be({type:t,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(i,r){2&i&&an("type",r.type)},standalone:!0,features:[Ct]})}}return t})(),_R=(()=>{class t extends sZ{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=li(t)))(r||t)}})()}static{this.\u0275dir=Be({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(i,r){2&i&&an("type",r.type)},standalone:!0,features:[Ct]})}}return t})(),bR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[VZ,_h],imports:[ni,Pr,id,aZ,Sh,od,Dh,OA,ni]})}}return t})(),vR=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(k(Do),k(Xe))}}static{this.\u0275dir=Be({type:t})}}return t})(),al=(()=>{class t extends vR{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=li(t)))(r||t)}})()}static{this.\u0275dir=Be({type:t,features:[Ct]})}}return t})();const dr=new Me(""),zZ={provide:dr,useExisting:$t(()=>jn),multi:!0},WZ=new Me("");let jn=(()=>{class t extends vR{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function GZ(){const t=ua()?ua().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(k(Do),k(Xe),k(WZ,8))}}static{this.\u0275dir=Be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&W("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Bt([zZ]),Ct]})}}return t})();function ya(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function AR(t){return null!=t&&"number"==typeof t.length}const Qn=new Me(""),Aa=new Me(""),YZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mi{static min(n){return function CR(t){return n=>{if(ya(n.value)||ya(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function wR(t){return n=>{if(ya(n.value)||ya(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function xR(t){return ya(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function SR(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function TR(t){return ya(t.value)||YZ.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function DR(t){return n=>ya(n.value)||!AR(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function IR(t){return n=>AR(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function ER(t){if(!t)return og;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(ya(i.value))return null;const r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return NR(n)}static composeAsync(n){return FR(n)}}function og(t){return null}function MR(t){return null!=t}function kR(t){return Nu(t)?Sn(t):t}function OR(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function PR(t,n){return n.map(e=>e(t))}function RR(t){return t.map(n=>function $Z(t){return!t.validate}(n)?n:e=>n.validate(e))}function NR(t){if(!t)return null;const n=t.filter(MR);return 0==n.length?null:function(e){return OR(PR(e,n))}}function RA(t){return null!=t?NR(RR(t)):null}function FR(t){if(!t)return null;const n=t.filter(MR);return 0==n.length?null:function(e){return iR(PR(e,n).map(kR)).pipe(bt(OR))}}function NA(t){return null!=t?FR(RR(t)):null}function LR(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function BR(t){return t._rawValidators}function VR(t){return t._rawAsyncValidators}function FA(t){return t?Array.isArray(t)?t:[t]:[]}function sg(t,n){return Array.isArray(t)?t.includes(n):t===n}function HR(t,n){const e=FA(n);return FA(t).forEach(r=>{sg(e,r)||e.push(r)}),e}function jR(t,n){return FA(n).filter(e=>!sg(t,e))}class UR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=RA(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=NA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Cr extends UR{get formDirective(){return null}get path(){return null}}class ms extends UR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zR{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Un=(()=>{class t extends zR{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(k(ms,2))}}static{this.\u0275dir=Be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ct]})}}return t})(),Kn=(()=>{class t extends zR{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(k(Cr,10))}}static{this.\u0275dir=Be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ct]})}}return t})();const Ih="VALID",lg="INVALID",ld="PENDING",Eh="DISABLED";function VA(t){return(cg(t)?t.validators:t)||null}function HA(t,n){return(cg(n)?n.asyncValidators:t)||null}function cg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function WR(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new xe(1e3,"");if(!i[e])throw new xe(1001,"")}function YR(t,n,e){t._forEachChild((i,r)=>{if(void 0===e[r])throw new xe(1002,"")})}class dg{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Ih}get invalid(){return this.status===lg}get pending(){return this.status==ld}get disabled(){return this.status===Eh}get enabled(){return this.status!==Eh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(HR(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(HR(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(jR(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(jR(n,this._rawAsyncValidators))}hasValidator(n){return sg(this._rawValidators,n)}hasAsyncValidator(n){return sg(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ld,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Eh,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ih,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ih||this.status===ld)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eh:Ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ld,this._hasOwnPendingAsyncValidator=!0;const e=kR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Eh:this.errors?lg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ld)?ld:this._anyControlsHaveStatus(lg)?lg:Ih}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){cg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function KZ(t){return Array.isArray(t)?RA(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function ZZ(t){return Array.isArray(t)?NA(t):t||null}(this._rawAsyncValidators)}}class Kr extends dg{constructor(n,e,i){super(VA(e),HA(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){YR(this,0,n),Object.keys(n).forEach(i=>{WR(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class $R extends Kr{}const ll=new Me("CallSetDisabledState",{providedIn:"root",factory:()=>Mh}),Mh="always";function ug(t,n){return[...n.path,t]}function kh(t,n,e=Mh){jA(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function eJ(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qR(t,n)})}(t,n),function iJ(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function tJ(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qR(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function JZ(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function hg(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),pg(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function fg(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function jA(t,n){const e=BR(t);null!==n.validator?t.setValidators(LR(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=VR(t);null!==n.asyncValidator?t.setAsyncValidators(LR(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();fg(n._rawValidators,r),fg(n._rawAsyncValidators,r)}function pg(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=BR(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const r=VR(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}const i=()=>{};return fg(n._rawValidators,i),fg(n._rawAsyncValidators,i),e}function qR(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function XR(t,n){jA(t,n)}function zA(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function QR(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function GA(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===jn?e=o:function oJ(t){return Object.getPrototypeOf(t.constructor)===al}(o)?i=o:r=o}),r||i||e||null}const aJ={provide:Cr,useExisting:$t(()=>cd)},Oh=Promise.resolve();let cd=(()=>{class t extends Cr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new Kr({},RA(e),NA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Oh.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),kh(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Oh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Oh.then(()=>{const i=this._findContainer(e.path),r=new Kr({});XR(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Oh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Oh.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,QR(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||t)(k(Qn,10),k(Aa,10),k(ll,8))}}static{this.\u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&W("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[ke.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bt([aJ]),Ct]})}}return t})();function KR(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function ZR(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Pi=class extends dg{constructor(n=null,e,i){super(VA(e),HA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ZR(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){KR(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){KR(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){ZR(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let JR=(()=>{class t extends Cr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ug(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=li(t)))(r||t)}})()}static{this.\u0275dir=Be({type:t,features:[Ct]})}}return t})();const dJ={provide:ms,useExisting:$t(()=>dd)},t2=Promise.resolve();let dd=(()=>{class t extends ms{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Pi,this._registered=!1,this.name="",this.update=new Fe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=GA(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),zA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){t2.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&wt(i);t2.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ug(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(k(Cr,9),k(Qn,10),k(Aa,10),k(dr,10),k(Qt,8),k(ll,8))}}static{this.\u0275dir=Be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ke.None,"disabled","isDisabled"],model:[ke.None,"ngModel","model"],options:[ke.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bt([dJ]),Ct,bi]})}}return t})(),jo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();const WA=new Me(""),gJ={provide:Cr,useExisting:$t(()=>Dn)};let Dn=(()=>{class t extends Cr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return kh(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){hg(e.control||null,e,!1),function sJ(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,QR(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(hg(i||null,e),(t=>t instanceof Pi)(r)&&(kh(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);XR(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function nJ(t,n){return pg(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jA(this.form,this),this._oldForm&&pg(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||t)(k(Qn,10),k(Aa,10),k(ll,8))}}static{this.\u0275dir=Be({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&W("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[ke.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bt([gJ]),Ct,bi]})}}return t})();const _J={provide:Cr,useExisting:$t(()=>cl)};let cl=(()=>{class t extends JR{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){a2(this._parent)}static{this.\u0275fac=function(i){return new(i||t)(k(Cr,13),k(Qn,10),k(Aa,10))}}static{this.\u0275dir=Be({type:t,selectors:[["","formGroupName",""]],inputs:{name:[ke.None,"formGroupName","name"]},features:[Bt([_J]),Ct]})}}return t})();const bJ={provide:Cr,useExisting:$t(()=>dl)};let dl=(()=>{class t extends Cr{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ug(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){a2(this._parent)}static{this.\u0275fac=function(i){return new(i||t)(k(Cr,13),k(Qn,10),k(Aa,10))}}static{this.\u0275dir=Be({type:t,selectors:[["","formArrayName",""]],inputs:{name:[ke.None,"formArrayName","name"]},features:[Bt([bJ]),Ct]})}}return t})();function a2(t){return!(t instanceof cl||t instanceof Dn||t instanceof dl)}const vJ={provide:ms,useExisting:$t(()=>wr)};let wr=(()=>{class t extends ms{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=GA(0,o)}ngOnChanges(e){this._added||this._setUpControl(),zA(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ug(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(k(Cr,13),k(Qn,10),k(Aa,10),k(dr,10),k(WA,8))}}static{this.\u0275dir=Be({type:t,selectors:[["","formControlName",""]],inputs:{name:[ke.None,"formControlName","name"],isDisabled:[ke.None,"disabled","isDisabled"],model:[ke.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Bt([vJ]),Ct,bi]})}}return t})(),v2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();class mg extends dg{constructor(n,e,i){super(VA(e),HA(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){YR(this,0,n),n.forEach((i,r)=>{WR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function y2(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let gs=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return y2(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Kr(r,o)}record(e,i=null){const r=this._reduceControls(e);return new $R(r,i)}control(e,i,r){let o={};return this.useNonNullable?(y2(i)?o=i:(o.validators=i,o.asyncValidators=r),new Pi(e,{...o,nonNullable:!0})):new Pi(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new mg(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Pi||e instanceof dg?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gg=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ll,useValue:e.callSetDisabledState??Mh}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[v2]})}}return t})(),XA=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:WA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ll,useValue:e.callSetDisabledState??Mh}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[v2]})}}return t})();const RJ=["mat-button",""],NJ=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],FJ=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],BJ=["mat-icon-button",""],VJ=["*"],HJ=new Me("MAT_BUTTON_CONFIG"),jJ=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let A2=(()=>{class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Q(nl),this._rippleLoader=Q(QQ),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=Q(HJ,{optional:!0}),a=e.nativeElement,l=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:m,mdcClasses:A}of jJ)a.hasAttribute(m)&&l.add(...A)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){$b()}}static{this.\u0275dir=Be({type:t,inputs:{color:"color",disableRipple:[ke.HasDecoratorInputTransform,"disableRipple","disableRipple",wt],disabled:[ke.HasDecoratorInputTransform,"disabled","disabled",wt],ariaDisabled:[ke.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",wt],disabledInteractive:[ke.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",wt]},features:[bn]})}}return t})(),QA=(()=>{class t extends A2{constructor(e,i,r,o){super(e,i,r,o)}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(ki),k(Je),k(Wn,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(pt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),vn(r.color?"mat-"+r.color:""),Qe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ct,Yt],attrs:RJ,ngContentSelectors:FJ,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(yn(NJ),_e(0,"span",0),di(1),x(2,"span",1),di(3,1),T(),di(4,2),_e(5,"span",2)(6,"span",3)),2&i&&Qe("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return t})(),Ws=(()=>{class t extends A2{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(ki),k(Je),k(Wn,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(pt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),vn(r.color?"mat-"+r.color:""),Qe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ct,Yt],attrs:BJ,ngContentSelectors:VJ,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(yn(),_e(0,"span",0),di(1),_e(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return t})(),KA=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,od,ni]})}}return t})();function zJ(t,n){1&t&&(x(0,"div",22)(1,"p",23),F(2,"Upload Image"),T()())}function GJ(t,n){if(1&t&&(x(0,"div",22),_e(1,"img",24),T()),2&t){const e=O();I(),M("src",e.storyStartForm.get("image").value,Jt)}}function WJ(t,n){if(1&t&&(x(0,"div",22),_e(1,"img",25),T()),2&t){const e=O();I(),M("src",e.imageUrl,Jt)}}function YJ(t,n){if(1&t){const e=ye();x(0,"div",3)(1,"div",26)(2,"div",27),_e(3,"input",28),T(),x(4,"div",29)(5,"button",30),W("click",function(){const r=z(e).index;return G(O().onDeleteTag(r))}),F(6,"Delete Tag"),T()()()()}if(2&t){const e=n.index;I(),M("formGroupName",e)}}function $J(t,n){if(1&t){const e=ye();x(0,"button",31),W("click",function(){return z(e),G(O().onAddTag())}),F(1,"Add Tag"),T()}}let qJ=(()=>{class t{onFileSelected(e){this.selectedFile=e.target.files[0],this.imageUrl=URL.createObjectURL(this.selectedFile),this.fileTransferService.image=this.selectedFile,e.target.value=""}onUpload(){console.log(!!this.fileTransferService.image)}get tags(){return this.storyStartForm.controls.tags}constructor(e,i,r,o){this.route=e,this.sService=i,this.router=r,this.fileTransferService=o,this.editMode=!1,this.validForm=!1,this.uploaded=new Fe}ngOnInit(){this.storyStartForm=new Kr({title:new Pi("",mi.required),description:new Pi("",mi.required),longDescription:new Pi("",mi.required),image:new Pi(null,mi.required),tags:new mg([])})}ngAfterViewInit(){this.fileInputElement=document.getElementById("upload-file-input")}onUploadButtonTrigger(){this.fileInputElement.click()}onAddTag(){this.storyStartForm.get("tags").push(new Kr({name:new Pi("",mi.required)}))}onDeleteTag(e){this.storyStartForm.get("tags").removeAt(e)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k(yr),k(Kt),k(eg))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-new-parta"]],outputs:{uploaded:"uploaded"},decls:36,vars:6,consts:[[1,"row","container"],[1,"col-xs-12"],["enctype","multipart/form-data",3,"formGroup"],[1,"row"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control"],["for","longDescription"],["type","text","id","longDescription","formControlName","longDescription",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control"],[1,"col-8"],["class","col-12 imagerow",4,"ngIf"],[1,"col-4"],["mat-icon-button","","id","upload-file-button",3,"click"],[1,"material-icons","icons"],["type","file","id","upload-file-input","accept","image/*",2,"display","none",3,"change"],[1,"tag","row"],["formArrayName","tags",1,"col-xs-12"],["class","row",4,"ngFor","ngForOf"],[1,"btnCol","row"],["style","margin:10px auto;","type","button","class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"col-12","imagerow"],[2,"max-width","600px"],["alt","Upload Image",2,"max-width","600px",3,"src"],["alt","Upload Image",2,"max-width","200px",3,"src"],[1,"row",3,"formGroupName"],[1,"col-md-8"],["type","text","formControlName","name","placeholder","Tag Name",1,"form-control",2,"margin","8px"],[1,"col-md-4"],["type","button",1,"btn","btn-primary","float-end",3,"click"],["type","button",1,"btn","btn-primary","float-end",2,"margin","10px auto",3,"click"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"label",5),F(7,"Title"),T(),_e(8,"input",6),T()()(),x(9,"div",3)(10,"div",1)(11,"div",4)(12,"label",7),F(13,"Background"),T(),_e(14,"input",8),T()()(),x(15,"div",3)(16,"div",1)(17,"div",4)(18,"label",9),F(19,"Content"),T(),_e(20,"input",10),T()()(),x(21,"div",3)(22,"div",11),Z(23,zJ,3,0,"div",12)(24,GJ,2,1,"div",12)(25,WJ,2,1,"div",12),T(),x(26,"div",13)(27,"button",14),W("click",function(){return r.onUploadButtonTrigger()}),x(28,"i",15),F(29,"add_a_photo"),T(),x(30,"input",16),W("change",function(s){return r.onFileSelected(s)}),T()()()(),x(31,"div",17)(32,"div",18),Z(33,YJ,7,1,"div",19),T(),x(34,"div",20),Z(35,$J,2,0,"button",21),T()()()()()),2&i&&(I(2),M("formGroup",r.storyStartForm),I(21),M("ngIf",!r.imageUrl&&!!r.storyStartForm.get("image").value),I(),M("ngIf",!r.imageUrl),I(),M("ngIf",!!r.imageUrl),I(8),M("ngForOf",r.tags.controls),I(2),M("ngIf",!(r.storyStartForm.value.tags.length>0)))},dependencies:[Ri,Pt,jo,jn,Un,Kn,Dn,wr,cl,dl,Ws],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.row[_ngcontent-%COMP%], .imagerow[_ngcontent-%COMP%]{margin:10px auto}.imagerow[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;background-color:#a0c9d5;display:block;margin:auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:150px}input[type=file][_ngcontent-%COMP%]{display:none}"]})}}return t})(),Nr=(()=>{class t{constructor(e){this.http=e}fetchReelPersonal(e){return this.http.get("http://localhost:4500/story/reels",{withCredentials:!0})}fetchReel(e){return this.http.get("http://localhost:4500/story/reels/"+e+"/",{withCredentials:!0})}fetchReelforFeed(e){return console.log(e),this.http.get("http://localhost:4500/story/s_feed/reels/"+e,{withCredentials:!0})}fetchReelComments(e){return this.http.get("http://localhost:4500/story/reelcomments/"+e+"/",{withCredentials:!0})}updateReelComment(e,i){return this.http.put("http://localhost:4500/story/reelcomments/"+e+"/"+i.id+"/",i,{withCredentials:!0})}addReelComment(e,i){return this.http.post("http://localhost:4500/story/reelcomments/"+e+"/",i,{withCredentials:!0})}addReelLike(e){return this.http.post("http://localhost:4500/story/reelreact/"+e+"/like/",{withCredentials:!0})}removeReelLike(e){return this.http.delete("http://localhost:4500/story/reelreact/"+e+"/like/",{withCredentials:!0})}addReelLove(e){return this.http.post("http://localhost:4500/story/reelreact/"+e+"/love/",{withCredentials:!0})}removeReelLove(e){return this.http.delete("http://localhost:4500/story/reelreact/"+e+"/love/",{withCredentials:!0})}addReelCelebrate(e){return this.http.post("http://localhost:4500/story/reelreact/"+e+"/celebrate/",{withCredentials:!0})}removeReelCelebrate(e){return this.http.delete("http://localhost:4500/story/reelreact/"+e+"/celebrate/",{withCredentials:!0})}addReel(e){return this.http.post("http://localhost:4500/story/reels/",e,{withCredentials:!0})}updateReel(e,i){return this.http.patch("http://localhost:4500/story/reels/"+e+"/",i,{withCredentials:!0})}addReelImage(e,i){return this.http.post("http://localhost:4500/story/reels/"+e+"/upload-image/",i,{withCredentials:!0})}editReelImage(e,i){return this.http.put("http://localhost:4500/story/reels/"+e+"/edit-image/",i,{withCredentials:!0})}deleteReel(e){return this.http.delete("http://localhost:4500/story/reels/"+e+"/",{withCredentials:!0})}static{this.\u0275fac=function(i){return new(i||t)(ve(Fo))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XJ(t,n){if(1&t&&(x(0,"div",17),_e(1,"img",18),T()),2&t){const e=O(2);I(),M("src",e.reelForm.get("image").value,Jt)}}function QJ(t,n){if(1&t&&(x(0,"div",17),_e(1,"img",19),T()),2&t){const e=O(2);I(),M("src",e.imageUrl,Jt)}}function KJ(t,n){if(1&t){const e=ye();qn(0)(1,5),x(2,"div",6)(3,"div",7)(4,"div",8)(5,"label",9),F(6,"Caption"),T(),_e(7,"input",10),T()()(),x(8,"div",6)(9,"div",11),Z(10,XJ,2,1,"div",12)(11,QJ,2,1,"div",12),T(),x(12,"div",13)(13,"input",14,0),W("change",function(r){return z(e),G(O().onFileSelected(r))}),T(),x(15,"button",15),W("click",function(){z(e);const r=Vi(14);return G(O().onUploadButtonTrigger(r))}),x(16,"i",16),F(17,"add_a_photo"),T()()()(),Xn()()}if(2&t){const e=O();I(),M("formGroup",e.reelForm),I(9),M("ngIf",!e.imageUrl),I(),M("ngIf",!!e.imageUrl)}}let C2=(()=>{class t{constructor(e,i,r,o,s,a){this.fb=e,this.dialogRef=i,this.authService=r,this.rService=o,this.fileTransferService=s,this.reelForm=this.fb.group({caption:["",mi.required],image:["",mi.required],reel_owner:this.user_id})}ngOnInit(){this.authService.user().subscribe(e=>{this.user_id=e.id})}ngAfterViewInit(){this.fileInputElement=document.getElementById("upload-file-input")}onClose(){this.dialogRef.close()}onUploadButtonTrigger(e){e.click()}onFileSelected(e){const i=e.target.files?.[0];i&&(this.selectedFile=i,this.imageUrl=URL.createObjectURL(i),this.reelForm.patchValue({image:i}))}onSave(){if(this.reelForm.invalid)return void console.error("Form invalid");if(!this.selectedFile)return void console.error("No file selected");const e={reel_owner:this.user_id,caption:this.reelForm.value.caption},i=new FormData;i.append("image",this.selectedFile),this.rService.addReel(e).pipe(dn(r=>this.rService.addReelImage(r.id,i).pipe()),Lo(r=>(console.error("Upload error",r),ot(null)))).subscribe(r=>{if(!r)return;const o={id:r.id||r?.id,caption:this.reelForm.value.caption,image:r.image};this.fileTransferService.fileFieldList.push({id:o.id,image:o.image,caption:o.caption}),this.dialogRef.close({id:o.id,caption:o.caption,image:o.image})})}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(Ho),k(ii),k(Nr),k(ol),k(zs))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-new-reel"]],decls:9,vars:1,consts:[["fileInput",""],[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[4,"ngIf"],["color","primary",1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],["enctype","multipart/form-data",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","caption"],["type","text","id","caption","formControlName","caption",1,"form-control"],[1,"col-8"],["class","col-12 imagerow",4,"ngIf"],[1,"col-4"],["type","file","id","upload-file-input","accept","image/*",2,"display","none",3,"change"],["mat-icon-button","","id","upload-file-button",3,"click"],[1,"material-icons","icons"],[1,"col-12","imagerow"],[2,"max-width","600px",3,"src"],[2,"max-width","200px",3,"src"]],template:function(i,r){1&i&&(x(0,"h2",1),F(1,"New Reel"),T(),x(2,"mat-dialog-content"),Z(3,KJ,18,3,"ng-container",2),T(),x(4,"mat-dialog-actions")(5,"button",3),W("click",function(){return r.onSave()}),F(6," Add Reel "),T(),x(7,"button",4),W("click",function(){return r.onClose()}),F(8," Cancel "),T()()),2&i&&(I(3),M("ngIf",r.reelForm))},dependencies:[Pt,jn,Un,Kn,Dn,wr,ad,sd,Ws],styles:[".imagerow[_ngcontent-%COMP%]{margin:10px auto}.imagerow[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;background-color:#a0c9d5;display:block;margin:auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:150px}"]})}}return t})(),_s=(()=>{class t{constructor(e){this.http=e,this.uploadedId="",this.addImageToCanvasSource=new Ye,this.addImageToCanvas$=this.addImageToCanvasSource.asObservable(),this.addImageToCanvas=i=>{this.addImageToCanvasSource.next(i)},this.addImageFilterSource=new Ye,this.addImageFilter$=this.addImageFilterSource.asObservable(),this.addImageFilter=(i,r)=>{this.addImageFilterSource.next({filterScope:i,filterProps:r})},this.onUpdateTextSource=new Ye,this.onUpdateText$=this.onUpdateTextSource.asObservable(),this.onUpdateText=i=>{this.onUpdateTextSource.next(i)},this.onUpdateShapeMaskSource=new Ye,this.onUpdateShapeMask$=this.onUpdateShapeMaskSource.asObservable(),this.onUpdateShapeMask=i=>{this.onUpdateShapeMaskSource.next(i)},this.onChangeBrushSource=new Ye,this.onChangeBrush$=this.onChangeBrushSource.asObservable(),this.onChangeBrush=i=>{this.onChangeBrushSource.next(i)},this.changeToolTypeSource=new Ye,this.changeToolType$=this.changeToolTypeSource.asObservable(),this.changeToolType=(i,r)=>{this.changeToolTypeSource.next(r?{toolType:i,activeObjectProps:r}:{toolType:i})},this.onSelectionCreatedSource=new Ye,this.onSelectionCreated$=this.onSelectionCreatedSource.asObservable(),this.onSelectionCreated=(i,r,o)=>{this.onSelectionCreatedSource.next({selection:i,selectionType:r,extraOptions:o})},this.canvasCommandSource=new Ye,this.canvasCommand$=this.canvasCommandSource.asObservable(),this.canvasCommand=(i,r)=>{this.canvasCommandSource.next({toolType:i,option:r})},this.openSnackBarSource=new Ye,this.openSnackBar$=this.openSnackBarSource.asObservable(),this.openSnackBar=(i,r)=>{this.openSnackBarSource.next({message:i,duration:r})},this.changeCanvasSizeSource=new Ye,this.changeCanvasSize$=this.changeCanvasSizeSource.asObservable(),this.changeCanvasSize=(i,r)=>{this.changeCanvasSizeSource.next({orientation:i,aspectRatio:r})}}editUserImage(e,i){return this.http.put("http://localhost:4500/story/reels/"+e+"/edit-image/",i,{withCredentials:!0})}static{this.\u0275fac=function(i){return new(i||t)(ve(Fo))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ZJ(t,n){if(1&t){const e=ye();x(0,"div",1)(1,"button",2),W("click",function(){return z(e),G(O().action())}),F(2),T()()}if(2&t){const e=O();I(2),ht(" ",e.data.action," ")}}const JJ=["label"];function eee(t,n){}const tee=Math.pow(2,31)-1;class ZA{constructor(n,e){this._overlayRef=e,this._afterDismissed=new Ye,this._afterOpened=new Ye,this._onAction=new Ye,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,tee))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const w2=new Me("MatSnackBarData");class _g{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let x2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return t})(),S2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return t})(),T2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return t})(),D2=(()=>{class t{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||t)(k(ZA),k(w2))}}static{this.\u0275cmp=ze({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Yt],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(x(0,"div",0),F(1),T(),Z(2,ZJ,3,1,"div",1)),2&i&&(I(),ht(" ",r.data.message,"\n"),I(),vt(2,r.hasAction?2:-1))},dependencies:[QA,x2,S2,T2],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return t})();const iee={snackBarState:co("state",[Ui("void, hidden",gt({transform:"scale(0.8)",opacity:0})),Ui("visible",gt({transform:"scale(1)",opacity:1})),vi("* => visible",Si("150ms cubic-bezier(0, 0, 0.2, 1)")),vi("* => void, * => hidden",Si("75ms cubic-bezier(0.4, 0.0, 1, 1)",gt({opacity:0})))])};let nee=0,I2=(()=>{class t extends Bm{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=Q(xt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ye,this._onExit=new Ye,this._onEnter=new Ye,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+nee++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>e.classList.add(s)):e.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||t)(k(Je),k(Xe),k(Qt),k(ki),k(_g))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(Tt(js,7),Tt(JJ,7)),2&i){let o;Ge(o=We())&&(r._portalOutlet=o.first),Ge(o=We())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&iy("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&Zv("@state",r._animationState)},standalone:!0,features:[Ct,Yt],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(x(0,"div",1)(1,"div",2,0)(3,"div",3),Z(4,eee,0,0,"ng-template",4),T(),_e(5,"div"),T()()),2&i&&(I(5),pt("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[js],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[iee.snackBarState]}})}}return t})();const oee=new Me("mat-snack-bar-default-options",{providedIn:"root",factory:function ree(){return new _g}});let E2=(()=>{class t{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,s,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=D2,this.snackBarContainerComponent=I2,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=ci.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:_g,useValue:i}]}),s=new td(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new _g,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new ZA(s,o);if(e instanceof si){const l=new Ja(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),m=new td(e,void 0,l),A=s.attachComponentPortal(m);a.instance=A.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Dt(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Hm;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return ci.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:ZA,useValue:i},{provide:w2,useValue:e.data}]})}static{this.\u0275fac=function(i){return new(i||t)(ve(Hn),ve(uP),ve(ci),ve(QO),ve(t,12),ve(oee))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),M2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[E2],imports:[nd,id,KA,ni,D2,ni]})}}return t})();Ee(669);const see=["myCanvas"];let aee=(()=>{class t{compare(e,i){if(e.length!=i.length)return"False";for(let r=0;r<e.length;r++)if(e[r]!=i[r])return"False";return"True"}onSelectImage(e){this.utilService.changeToolType("FILTER:SINGLE",this.getActiveFilter(e))}addImageOnCanvas(e){e&&fabric.Image.fromURL(e,i=>{let r=(this.size.width-20)/i.width;i.set({left:10,top:10,scaleX:r,scaleY:r,angle:0,cornersize:10,hasRotatingPoint:!0}),i.crossOrigin="Anonymous",i.setSrc(i.getSrc(),()=>{this.extend(i,this.randomId()),this.canvas.add(i),this.selectItemAfterAdded(i)},{crossOrigin:"anonymous"})})}applyFilterOnSingle(e){"image"===this.activeObjectType&&(this.activeObject.filters=this.generateFilterArray(e),this.activeObject.setSrc(this.activeObject.getSrc(),()=>{console.log("changed"),this.activeObject.applyFilters(),this.canvas.renderAll()},{crossOrigin:"anonymous"}))}applyFilterOnAll(e){this.globalFilterValues=e;const i=this.generateFilterArray(e);this.canvas.forEachObject(r=>{"image"===r.type&&(r.filters=i,r.setSrc(r.getSrc(),()=>{console.log("changed"),r.applyFilters(),this.canvas.renderAll()},{crossOrigin:"anonymous"}))}),this.canvas.renderAll()}flipSelectedImage(){"image"===this.activeObjectType?this.activeObject.setSrc(this.activeObject.getSrc(),()=>{console.log("changed"),this.activeObject.flipX=!this.activeObject.flipX||!this.activeObject.flipX,this.canvas.renderAll()},{crossOrigin:"anonymous"}):this.utilService.openSnackBar("No image selected",800)}startCrop(){console.log("cropping started"),this.cleanSelect(),this.overlay=new fabric.Rect({left:0,top:0,fill:"#000000",opacity:.5,width:this.size.width,height:this.size.height}),this.canvas.add(this.overlay),this.canvas.forEachObject(e=>{e.selectable=!1}),this.croppingWindow=new fabric.Rect({left:100,top:100,fill:"transparent",borderColor:"#ffffff",cornerColor:"#ffffff",borderOpacityWhenMoving:1,hasRotatingPoint:!1,padding:0,width:200,height:200}),this.canvas.add(this.croppingWindow),this.selectItemAfterAdded(this.croppingWindow),this.canvas.renderAll()}cropSelectedWindow(){this.croppingWindow?(this.canvas.forEachObject(e=>{if("image"===e.type){const i=new fabric.Rect({left:this.croppingWindow.left,top:this.croppingWindow.top,width:this.croppingWindow.getScaledWidth(),height:this.croppingWindow.getScaledHeight(),originX:"left",originY:"top",absolutePositioned:!0});e.set({clipPath:i}),e.setCoords(),this.canvas.requestRenderAll()}}),this.stopCrop()):console.error("No cropping window")}stopCrop(){this.canvas.remove(this.overlay),this.canvas.remove(this.croppingWindow),this.canvas.forEachObject(e=>{e.selectable=!0}),this.canvas.renderAll(),this.croppingWindow=void 0,this.overlay=void 0}clone(){if("image"===this.activeObjectType){const e=fabric.util.object.clone(this.activeObject);e.set({left:10,top:10}),this.activeObject.setSrc(this.activeObject.getSrc(),()=>{console.log("changed"),this.canvas.add(e),this.selectItemAfterAdded(e)},{crossOrigin:"anonymous"})}else this.utilService.openSnackBar("No image selected",800)}onSelectText(e){this.utilService.changeToolType(this.toolType,{fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,color:e.fill,opacity:e.opacity,underline:e.underline,linethrough:e.linethrough,textAlign:e.textAlign,lineHeight:e.lineHeight,charSpacing:e.charSpacing})}onSelectTextEditing(e){e.isEditing&&this.utilService.changeToolType(this.toolType,e.selectionStart!==e.selectionEnd?e.getSelectionStyles()[0]:{isSelectionInactive:!0})}onAddText(){const e=new fabric.IText(this.defaultTextProps.text,{left:10,top:10,angle:0,fontFamily:this.defaultTextProps.fontFamily,fontSize:this.defaultTextProps.fontSize,fontWeight:this.defaultTextProps.fontWeight,fontStyle:this.defaultTextProps.fontStyle,fill:this.defaultTextProps.color,opacity:this.defaultTextProps.opacity,underline:this.defaultTextProps.underline,linethrough:this.defaultTextProps.linethrough,textAlign:this.defaultTextProps.textAlign,hasRotatingPoint:!0,lockScalingX:!0,lockScalingY:!0});this.extend(e,this.randomId()),this.canvas.add(e),this.selectItemAfterAdded(e)}onUpdateText(e){"i-text"===this.activeObjectType&&(this.activeObject.set("fontFamily",e.fontFamily),this.activeObject.set("fontSize",e.fontSize),this.activeObject.set("fontWeight",e.fontWeight),this.activeObject.set("fontStyle",e.fontStyle),this.activeObject.set("fill",e.color),this.activeObject.set("opacity",e.opacity),this.activeObject.set("underline",e.underline),this.activeObject.set("linethrough",e.linethrough),this.activeObject.set("textAlign",e.textAlign),this.activeObject.set("lineHeight",e.lineHeight),this.activeObject.set("charSpacing",e.charSpacing)),this.canvas.renderAll()}onUpdateTextEditing(e){"i-text"===this.activeObjectType&&this.activeObject.isEditing&&this.activeObject.setSelectionStyles(e),this.canvas.renderAll()}addShapeMask(e){let i;switch(e.shape){case"RECTANGLE":i=new fabric.Rect({top:25,left:25,height:100,width:100,fill:e.color,opacity:e.opacity});break;case"TRIANGLE":i=new fabric.Triangle({top:25,left:25,height:100,width:100,fill:e.color,opacity:e.opacity});break;case"CIRCLE":i=new fabric.Circle({top:25,left:25,radius:50,fill:e.color,opacity:e.opacity})}i.set("shadow",new fabric.Shadow({color:`rgba(0,0,0,${e.shadowAmount})`,blur:e.shadowBlur,offsetX:e.shadowOffsetX,offsetY:e.shadowOffsetY})),this.canvas.add(i),this.selectItemAfterAdded(i)}onSelectShapeMask(){this.activeObject&&(console.log(this.activeObject.shadow),this.utilService.changeToolType("SHAPE_MASK",{color:this.activeObject.fill,opacity:this.activeObject.opacity,shadowAmount:this.activeObject.shadow.color.split(",")[3].split(")")[0],shadowBlur:this.activeObject.shadow.blur,shadowOffsetX:this.activeObject.shadow.offsetX,shadowOffsetY:this.activeObject.shadow.offsetY}))}onUpdateShapeMask(e){this.activeObject&&"shape-mask"===this.activeObjectType&&(this.activeObject.set("fill",e.color),this.activeObject.set("opacity",e.opacity),this.activeObject.set("shadow",new fabric.Shadow({color:`rgba(0,0,0,${e.shadowAmount})`,blur:e.shadowBlur,offsetX:e.shadowOffsetX,offsetY:e.shadowOffsetY})),this.canvas.renderAll())}startPenMode(){this.canvas.isDrawingMode=!0,this.canvas.forEachObject(e=>{e.selectable=!1}),this.cleanSelect(),this.utilService.changeToolType("PEN",{})}stopPenMode(){this.canvas.isDrawingMode=!1}getActiveFilter(e){let i={brightness:0,contrast:0,saturation:0,hue:0,noise:0,blur:0,pixelate:0,sharpen:!1,emboss:!1,grayscale:!1,vintage:!1,sepia:!1,polaroid:!1};return e.filters.map(r=>{switch(r.type){case"Brightness":i={...i,brightness:r.brightness};break;case"Contrast":i={...i,contrast:r.contrast};break;case"Saturation":i={...i,saturation:r.saturation};break;case"HueRotation":i={...i,hue:r.rotation};break;case"Noise":i={...i,noise:r.noise};break;case"Blur":i={...i,blur:r.blur};break;case"Pixelate":i={...i,pixelate:r.blocksize};break;case"Grayscale":i={...i,grayscale:!0};break;case"Vintage":i={...i,vintage:!0};break;case"Sepia":i={...i,sepia:!0};break;case"Polaroid":i={...i,polaroid:!0}}}),i}generateFilterArray(e){let i=[];return 0!==e.brightness&&i.push(new fabric.Image.filters.Brightness({brightness:e.brightness})),0!==e.contrast&&i.push(new fabric.Image.filters.Contrast({contrast:e.contrast})),0!==e.saturation&&i.push(new fabric.Image.filters.Saturation({saturation:e.saturation})),0!==e.hue&&i.push(new fabric.Image.filters.HueRotation({rotation:e.hue})),0!==e.noise&&i.push(new fabric.Image.filters.Noise({noise:e.noise})),0!==e.blur&&i.push(new fabric.Image.filters.Blur({blur:e.blur})),0!==e.pixelate&&i.push(new fabric.Image.filters.Pixelate({blocksize:e.pixelate})),e.grayscale&&i.push(new fabric.Image.filters.Grayscale({mode:"lightness"})),e.vintage&&i.push(new fabric.Image.filters.Vintage),e.sepia&&i.push(new fabric.Image.filters.Sepia),e.polaroid&&i.push(new fabric.Image.filters.Polaroid),i}selectItemAfterAdded(e){this.canvas.discardActiveObject(),this.canvas.setActiveObject(e).renderAll()}getActiveSelection(){const e=this.canvas.getActiveObjects();if(1!==e.length)return{type:"group",activeObjectList:e};{const i=e[0];switch(i.type){case"image":return{type:"image",activeObject:i};case"i-text":return{type:"i-text",activeObject:i};case"rect":return void 0===this.croppingWindow?{type:"shape-mask",activeObject:i}:{type:"cropping-window",activeObject:i};case"triangle":case"circle":return{type:"shape-mask",activeObject:i};default:return{type:"UNKNOWN"}}}}cleanSelect(){this.canvas.discardActiveObject().renderAll()}removeSelection(){"group"===this.activeObjectType?this.activeObjectList.map((e,i)=>{this.canvas.remove(e)},this):this.canvas.remove(this.activeObject),this.cleanSelect()}randomId(){return Math.floor(999999*Math.random())+1}extend(e,i){e.toObject=(r=>()=>fabric.util.object.extend(r.call(this),{id:i}))(e.toObject)}bringForward(){"group"!==this.activeObjectType&&void 0!==this.activeObject&&(this.activeObject.bringForward(),this.canvas.discardActiveObject().renderAll())}sendBackward(){"group"!==this.activeObjectType&&void 0!==this.activeObject&&(this.activeObject.sendBackwards(),this.canvas.discardActiveObject().renderAll())}downloadCurrentCanvas(){const i=this.canvas.toDataURL({format:"jpeg",quality:1,multiplier:1080/this.size.height},{crossOrigin:"anonymous"});this.utilService.editedImageURL=i}onObjectSelected(){const e=this.getActiveSelection();if(this.activeObjectType=e.type,"group"===this.activeObjectType)this.activeObjectList=e.activeObjectList,this.utilService.onSelectionCreated(this.activeObjectList,this.activeObjectType,{}),this.utilService.changeToolType("DEACTIVATE",{});else{switch(this.activeObject=e.activeObject,this.activeObjectType){case"i-text":this.toolType="TEXT",this.onSelectText(this.activeObject);break;case"image":"FILTER:ALL"===this.toolType&&(this.toolType="FILTER:SINGLE",this.onSelectImage(this.activeObject));break;case"shape-mask":this.toolType="SHAPE_MASK",this.onSelectShapeMask()}this.utilService.onSelectionCreated(this.activeObject,this.activeObjectType,{})}}onObjectDeselected(){"image"===(this.croppingWindow&&this.stopCrop(),this.activeObjectType)?("FILTER:SINGLE"===this.toolType&&(this.toolType="FILTER:ALL"),this.activeObjectType="",this.activeObject=void 0,this.activeObjectList=[],this.utilService.changeToolType(this.toolType,this.activeObject),this.utilService.onSelectionCreated(this.activeObject,this.activeObjectType,{})):(this.toolType="MAIN",this.activeObjectType="",this.activeObject=void 0,this.activeObjectList=[],this.utilService.changeToolType(this.toolType,this.activeObject),this.utilService.onSelectionCreated(this.activeObject,this.activeObjectType,{}))}onEnterningTextEditingMode(){const e=this.getActiveSelection();this.toolType="TEXT:EDITING",this.activeObjectType=e.type,this.activeObject=e.activeObject,"i-text"===this.activeObjectType&&this.onSelectTextEditing(this.activeObject)}onExitingTextEditingMode(){this.toolType="MAIN",this.activeObjectType="",this.activeObject=void 0,this.activeObjectList=[],this.utilService.changeToolType(this.toolType,void 0)}onTextSelectionChange(){"i-text"===this.activeObjectType&&this.onSelectTextEditing(this.activeObject)}constructor(e){this.utilService=e,this.screenReductionFactor=180,this.aspectRatioList=[1,8/6,1.4,1.5],this.globalFilterValues={brightness:0,contrast:0,saturation:0,hue:0,noise:0,blur:0,pixelate:0,sharpen:!1,emboss:!1,grayscale:!1,vintage:!1,sepia:!1,polaroid:!1},this.defaultTextProps={text:"Sample Text",color:"#7F7F7F",opacity:1,fontFamily:"Roboto",fontSize:24,fontWeight:"normal",fontStyle:"normal",underline:!1,linethrough:!1,textAlign:"left",lineHeight:1.6,charSpacing:0},this.size={height:Math.round(window.innerHeight-this.screenReductionFactor),width:Math.round((window.innerHeight-this.screenReductionFactor)*this.aspectRatioList[3])},this.addImageSubscription=e.addImageToCanvas$.subscribe(i=>{this.addImageOnCanvas(i)}),this.addImageFilterSubscription=e.addImageFilter$.subscribe(({filterScope:i,filterProps:r})=>{switch(i){case"SINGLE":this.applyFilterOnSingle(r);break;case"ALL":this.applyFilterOnAll(r)}}),this.onUpdateTextSubscription=e.onUpdateText$.subscribe(i=>{switch(this.toolType){case"TEXT":this.onUpdateText(i);break;case"TEXT:EDITING":this.onUpdateTextEditing(i)}}),this.onUpdateShapeMaskSubscription=e.onUpdateShapeMask$.subscribe(i=>{this.onUpdateShapeMask(i)}),this.canvasCommandSubscription=e.canvasCommand$.subscribe(({toolType:i,option:r})=>{switch(i){case"ADD_FILTER":"image"===this.activeObjectType?(this.toolType="FILTER:SINGLE",this.utilService.changeToolType("FILTER:SINGLE",this.getActiveFilter(this.activeObject))):""===this.activeObjectType&&(this.toolType="FILTER:ALL",this.utilService.changeToolType("FILTER:ALL",this.globalFilterValues));break;case"FILTER:ALL":this.cleanSelect(),this.toolType="FILTER:ALL",this.utilService.changeToolType("FILTER:ALL",this.globalFilterValues);break;case"ADD_TEXT":this.onAddText();break;case"CLEAN_SELECT":this.cleanSelect();break;case"BACK_TO_MAIN_MENU":this.stopPenMode(),"image"!==this.activeObjectType&&"FILTER:ALL"!==this.toolType&&this.cleanSelect(),this.toolType="MAIN";break;case"DELETE":this.removeSelection(),this.onObjectDeselected();break;case"BRING_FORWARD":this.bringForward();break;case"SEND_BACKWARD":this.sendBackward();break;case"START_CROP":this.startCrop(),this.utilService.changeToolType("CROP",{});break;case"STOP_CROP":this.onObjectDeselected();break;case"FINISH_CROP":this.cropSelectedWindow();break;case"FLIP:X":this.flipSelectedImage();break;case"CLONE":this.clone();break;case"ADD_SHAPE_MASK":this.addShapeMask(r);break;case"DOWNLOAD_CURRENT_CANVAS":this.downloadCurrentCanvas();break;case"PEN":this.startPenMode()}}),this.changeCanvasSizeSubscription=e.changeCanvasSize$.subscribe(({orientation:i,aspectRatio:r})=>{"LANDSCAPE"===i?(this.size.height=Math.round(window.innerHeight-this.screenReductionFactor),this.size.width=Math.round((window.innerHeight-this.screenReductionFactor)*this.aspectRatioList[r])):(this.size.height=Math.round(window.innerHeight-this.screenReductionFactor),this.size.width=Math.round((window.innerHeight-this.screenReductionFactor)*Math.pow(this.aspectRatioList[r],-1))),this.canvas.setWidth(this.size.width),this.canvas.setHeight(this.size.height)})}ngOnInit(){this.toolType="MAIN",this.activeObjectType="",this.activeObject=void 0,this.activeObjectList=[]}ngAfterViewInit(){const e=this.canvasRef?.nativeElement;if(e){this.canvas=new fabric.Canvas(e,{hoverCursor:"pointer",selection:!0,selectionBorderColor:"#B3E5FC",backgroundColor:"#ffffff"}),fabric.textureSize=4096;try{fabric.filterBackend=fabric.initFilterBackend()}catch(i){console.warn("fabric.initFilterBackend() failed \u2014 falling back to Canvas2dFilterBackend",i);try{fabric.filterBackend=new fabric.Canvas2dFilterBackend}catch(r){console.error("Fatal: could not initialize any fabric filter backend",r),fabric.filterBackend=void 0}}this.canvas.setWidth(this.size.width),this.canvas.setHeight(this.size.height),this.utilService.uploadedImageURL&&this.utilService.addImageToCanvas(this.utilService.uploadedImageURL),this.canvas.on({"selection:created":()=>this.onObjectSelected(),"selection:updated":()=>this.onObjectSelected(),"selection:cleared":()=>this.onObjectDeselected(),"object:modified":()=>console.log("object modified"),"text:editing:entered":()=>this.onEnterningTextEditingMode(),"text:editing:exited":()=>this.onExitingTextEditingMode(),"text:selection:changed":()=>this.onTextSelectionChange(),"text:changed":()=>console.log("text changed")})}else console.error("Canvas element not found in ngAfterViewInit")}ngOnDestroy(){this.canvas.off(),this.addImageSubscription.unsubscribe(),this.addImageFilterSubscription.unsubscribe(),this.onUpdateTextSubscription.unsubscribe(),this.onUpdateShapeMaskSubscription.unsubscribe(),this.canvasCommandSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(k(_s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-canvas"]],viewQuery:function(i,r){if(1&i&&Tt(see,5),2&i){let o;Ge(o=We())&&(r.canvasRef=o.first)}},decls:3,vars:0,consts:[["myCanvas",""],[1,"canvas-wrapper"],["id","canvas",2,"border","1px dashed #252525"]],template:function(i,r){1&i&&(x(0,"div",1),_e(1,"canvas",2,0),T())}})}}return t})();const lee=["tooltip"],O2=new Me("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const t=Q(Hn);return()=>t.scrollStrategies.reposition({scrollThrottle:20})}}),dee={provide:O2,deps:[Hn],useFactory:function cee(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},hee=new Me("mat-tooltip-default-options",{providedIn:"root",factory:function uee(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),P2="tooltip-panel",R2=ba({passive:!0});let Ph=(()=>{class t{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Zc(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Zc(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=_a(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=_a(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,l,m,A,S,P,N){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=m,this._dir=S,this._defaultOptions=P,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=_ee,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ye,this._scrollStrategy=A,this._document=N,P&&(this._showDelay=P.showDelay,this._hideDelay=P.hideDelay,P.position&&(this.position=P.position),P.positionAtOrigin&&(this.positionAtOrigin=P.positionAtOrigin),P.touchGestures&&(this.touchGestures=P.touchGestures)),S.change.pipe(Dt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Dt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,R2)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new td(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Dt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Xe)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Dt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${P2}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Dt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Dt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Dt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!ps(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ei(1),Dt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${P2}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,R2)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static{this.\u0275fac=function(i){return new(i||t)(k(Hn),k(Xe),k(nA),k(Qi),k(Je),k(ki),k(ZX),k(nl),k(O2),k(Ar),k(hee,8),k(xt))}}static{this.\u0275dir=Be({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&Qe("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[ke.None,"matTooltipPosition","position"],positionAtOrigin:[ke.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[ke.None,"matTooltipDisabled","disabled"],showDelay:[ke.None,"matTooltipShowDelay","showDelay"],hideDelay:[ke.None,"matTooltipHideDelay","hideDelay"],touchGestures:[ke.None,"matTooltipTouchGestures","touchGestures"],message:[ke.None,"matTooltip","message"],tooltipClass:[ke.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return t})(),_ee=(()=>{class t{constructor(e,i,r){this._changeDetectorRef=e,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ye,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(i){return new(i||t)(k(Qt),k(Xe),k(Wn,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&Tt(lee,7),2&i){let o;Ge(o=We())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&W("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&ti("zoom",r.isVisible()?1:null)},standalone:!0,features:[Yt],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){if(1&i){const o=ye();x(0,"div",1,0),W("animationend",function(a){return z(o),G(r._handleAnimationEnd(a))}),x(2,"div",2),F(3),T()()}2&i&&(Qe("mdc-tooltip--multiline",r._isMultiline),M("ngClass",r.tooltipClass),I(3),tt(r.message))},dependencies:[Ro],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return t})(),N2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[dee],imports:[mP,Pr,nd,ni,ni,ph]})}}return t})();const bee=["knob"],vee=["valueIndicatorContainer"];function yee(t,n){if(1&t&&(x(0,"div",2,1)(2,"div",5)(3,"span",6),F(4),T()()()),2&t){const e=O();I(4),tt(e.valueIndicatorText)}}const Aee=["trackActive"],Cee=["*"];function wee(t,n){if(1&t&&_e(0,"div"),2&t){const e=n.$implicit,i=n.$index,r=O(3);vn(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),ti("transform",r._calcTickMarkTransform(i))}}function xee(t,n){1&t&&Fn(0,wee,1,4,"div",8,pD),2&t&&Ln(O(2)._tickMarks)}function See(t,n){if(1&t&&(x(0,"div",6,1),Z(2,xee,2,0),T()),2&t){const e=O();I(2),vt(2,e._cachedWidth?2:-1)}}function Tee(t,n){if(1&t&&_e(0,"mat-slider-visual-thumb",7),2&t){const e=O();M("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}var Et=function(t){return t[t.START=1]="START",t[t.END=2]="END",t}(Et||{}),ud=function(t){return t[t.ACTIVE=0]="ACTIVE",t[t.INACTIVE=1]="INACTIVE",t}(ud||{});const bg=new Me("_MatSlider"),F2=new Me("_MatSliderThumb"),L2=new Me("_MatSliderRangeThumb"),B2=new Me("_MatSliderVisualThumb");let Dee=(()=>{class t{constructor(e,i,r,o){this._cdr=e,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=Q(ki),this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;const a=this._hostElement.getBoundingClientRect(),l=this._slider._isCursorOnSliderThumb(s,a);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=s=>{0===s.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e&&(e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return e?.state===Rr.FADING_IN||e?.state===Rr.VISIBLE}_showRipple(e,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===Et.START?Et.END:Et.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===Et.START?Et.END:Et.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static{this.\u0275fac=function(i){return new(i||t)(k(Qt),k(Je),k(Xe),k(bg))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(1&i&&(Tt(va,5),Tt(bee,5),Tt(vee,5)),2&i){let o;Ge(o=We())&&(r._ripple=o.first),Ge(o=We())&&(r._knob=o.first),Ge(o=We())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[Bt([{provide:B2,useExisting:t}]),Yt],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){1&i&&(Z(0,yee,5,1,"div",2),_e(1,"div",3,0)(3,"div",4)),2&i&&(vt(0,r.discrete?0:-1),I(3),M("matRippleDisabled",!0))},dependencies:[va],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}}return t})(),V2=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e;const i=this._getInput(Et.END),r=this._getInput(Et.START);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}get min(){return this._min}set min(e){const i=isNaN(e)?this._min:e;this._min!==i&&this._updateMin(i)}_updateMin(e){const i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const i=this._getInput(Et.END),r=this._getInput(Et.START),o=i.value,s=r.value;r.min=e.new,i.min=Math.max(e.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){const i=this._getInput(Et.END);if(i){const r=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){const i=isNaN(e)?this._max:e;this._max!==i&&this._updateMax(i)}_updateMax(e){const i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const i=this._getInput(Et.END),r=this._getInput(Et.START),o=i.value,s=r.value;i.max=e.new,r.max=Math.min(e.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){const i=this._getInput(Et.END);if(i){const r=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){const i=isNaN(e)?this._step:e;this._step!==i&&this._updateStep(i)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(Et.END),i=this._getInput(Et.START),r=e.value,o=i.value,s=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<s?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),r!==e.value&&this._onValueChange(e),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const e=this._getInput(Et.END);if(e){const i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}constructor(e,i,r,o,s,a){this._ngZone=e,this._cdr=i,this._elementRef=r,this._dir=o,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=l=>`${l}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=Q(ki),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===a,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(Et.END),i=this._getInput(Et.START);this._isRange=!!e&&!!i,this._cdr.detectChanges();const r=this._getThumb(Et.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(Et.END),i=this._getInput(Et.START);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(Et.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(Et.START)._isActive||this._getThumb(Et.END)._isActive}_getValue(e=Et.END){const i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(Et.START)?._skipUIUpdate&&!this._getInput(Et.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(Et.END),i=this._getInput(Et.START);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{const e=this._getInput(Et.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(Et.START),i=this._getInput(Et.END);return!(!e||!i)&&i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const i=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(e.thumbPosition===Et.END?Et.END:Et.START)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(i):e._hostElement.setAttribute("aria-valuetext",i),this.discrete){e.thumbPosition===Et.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(e.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(Et.END),i=this._getInput(Et.START);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const i=e.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const i=this._getValue();let r=Math.max(Math.floor((i-this.min)/e),0),o=Math.max(Math.floor((this.max-i)/e),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(ud.ACTIVE).concat(Array(o).fill(ud.INACTIVE))}_updateTickMarkUIRange(e){const i=this._getValue(),r=this._getValue(Et.START),o=Math.max(Math.floor((r-this.min)/e),0),s=Math.max(Math.floor((i-r)/e)+1,0),a=Math.max(Math.floor((this.max-i)/e),0);this._tickMarks=Array(o).fill(ud.INACTIVE).concat(Array(s).fill(ud.ACTIVE),Array(a).fill(ud.INACTIVE))}_getInput(e){return e===Et.END&&this._input?this._input:this._inputs?.length?e===Et.START?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return e===Et.END?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,i){const r=i.width/2,l=e.clientY-(i.y+r);return Math.pow(e.clientX-(i.x+r),2)+Math.pow(l,2)<Math.pow(r,2)}static{this.\u0275fac=function(i){return new(i||t)(k(Je),k(Qt),k(Xe),k(Ar,8),k(_A,8),k(Wn,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-slider"]],contentQueries:function(i,r,o){if(1&i&&(Lt(o,F2,5),Lt(o,L2,4)),2&i){let s;Ge(s=We())&&(r._input=s.first),Ge(s=We())&&(r._inputs=s)}},viewQuery:function(i,r){if(1&i&&(Tt(Aee,5),Tt(B2,5)),2&i){let o;Ge(o=We())&&(r._trackActive=o.first),Ge(o=We())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,r){2&i&&(vn("mat-"+(r.color||"primary")),Qe("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[ke.HasDecoratorInputTransform,"disabled","disabled",wt],discrete:[ke.HasDecoratorInputTransform,"discrete","discrete",wt],showTickMarks:[ke.HasDecoratorInputTransform,"showTickMarks","showTickMarks",wt],min:[ke.HasDecoratorInputTransform,"min","min",ar],color:"color",disableRipple:[ke.HasDecoratorInputTransform,"disableRipple","disableRipple",wt],max:[ke.HasDecoratorInputTransform,"max","max",ar],step:[ke.HasDecoratorInputTransform,"step","step",ar],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[Bt([{provide:bg,useExisting:t}]),bn,Yt],ngContentSelectors:Cee,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,r){1&i&&(yn(),di(0),x(1,"div",2),_e(2,"div",3),x(3,"div",4),_e(4,"div",5,0),T(),Z(6,See,3,1,"div",6),T(),Z(7,Tee,1,3,"mat-slider-visual-thumb",7),_e(8,"mat-slider-visual-thumb",7)),2&i&&(I(6),vt(6,r.showTickMarks?6:-1),I(),vt(7,r._isRange?7:-1),I(),M("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[Dee],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return t})();const Eee={provide:dr,useExisting:$t(()=>JA),multi:!0};let JA=(()=>{class t{get value(){return ar(this._hostElement.value,0)}set value(e){const i=(e=isNaN(e)?0:e)+"";this._hasSetInitialValue?this._isActive||this._setValue(i):this._initialValue=i}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return ar(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return ar(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return ar(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return wt(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,i,r,o){this._ngZone=e,this._elementRef=i,this._cdr=r,this._slider=o,this.valueChange=new Fe,this.dragStart=new Fe,this.dragEnd=new Fe,this.thumbPosition=Et.END,this._valuetext=eT(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Ye,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=Q(ki),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!this.disabled&&0===e.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const i=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),m=Math.round((this._slider._isRtl?1-i/r:i/r)*s)/s*(this._slider.max-this._slider.min)+this._slider.min,A=Math.round(m/o)*o;if(A===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=A,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){const i=this._tickMarkOffset;return Math.max(Math.min(e,this._slider._cachedWidth-this._tickMarkOffset),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||null!==e)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static{this.\u0275fac=function(i){return new(i||t)(k(Je),k(Xe),k(Qt),k(bg))}}static{this.\u0275dir=Be({type:t,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){1&i&&W("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&i&&pt("aria-valuetext",r._valuetext())},inputs:{value:[ke.HasDecoratorInputTransform,"value","value",ar]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[Bt([Eee,{provide:F2,useExisting:t}]),bn]})}}return t})(),H2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,od]})}}return t})();const j2=["*"];class Pee{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const n=Math.max(...this.tracker);return n>1?this.rowCount+n-1:this.rowCount}update(n,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(n),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(n){const e=this._findMatchingGap(n.colspan);return this._markTilePosition(e,n),this.columnIndex=e+n.colspan,new Ree(this.rowIndex,e)}_findMatchingGap(n){let e=-1,i=-1;do{this.columnIndex+n>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<n||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let n=0;n<this.tracker.length;n++)this.tracker[n]=Math.max(0,this.tracker[n]-1)}_findGapEndIndex(n){for(let e=n+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(n,e){for(let i=0;i<e.colspan;i++)this.tracker[n+i]=e.rowspan}}class Ree{constructor(n,e){this.row=n,this.col=e}}const U2=new Me("MAT_GRID_LIST");let hd=(()=>{class t{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(_a(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(_a(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(U2,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,r){2&i&&pt("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],standalone:!0,features:[Yt],ngContentSelectors:j2,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,r){1&i&&(yn(),x(0,"div",0),di(1),T())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return t})();const Nee=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class eC{constructor(){this._rows=0,this._rowspan=0}init(n,e,i,r){this._gutterSize=z2(n),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(n,e){return`(${n}% - (${this._gutterSize} * ${e}))`}getTilePosition(n,e){return 0===e?"0":hl(`(${n} + ${this._gutterSize}) * ${e}`)}getTileSize(n,e){return`(${n} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(n,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(n,i,r,o),this.setRowStyles(n,e,r,o)}setColStyles(n,e,i,r){let o=this.getBaseTileSize(i,r);n._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),n._setStyle("width",hl(this.getTileSize(o,n.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(n){return`${this._rowspan} * ${this.getTileSize(n,1)}`}getComputedHeight(){return null}}class Fee extends eC{constructor(n){super(),this.fixedRowHeight=n}init(n,e,i,r){super.init(n,e,i,r),this.fixedRowHeight=z2(this.fixedRowHeight),Nee.test(this.fixedRowHeight)}setRowStyles(n,e){n._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),n._setStyle("height",hl(this.getTileSize(this.fixedRowHeight,n.rowspan)))}getComputedHeight(){return["height",hl(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(n){n._setListStyle(["height",null]),n._tiles&&n._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Lee extends eC{constructor(n){super(),this._parseRatio(n)}setRowStyles(n,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),n._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),n._setStyle("paddingTop",hl(this.getTileSize(this.baseTileHeight,n.rowspan)))}getComputedHeight(){return["paddingBottom",hl(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(n){n._setListStyle(["paddingBottom",null]),n._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(n){const e=n.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Bee extends eC{setRowStyles(n,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);n._setStyle("top",this.getTilePosition(o,e)),n._setStyle("height",hl(this.getTileSize(o,n.rowspan)))}reset(n){n._tiles&&n._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function hl(t){return`calc(${t})`}function z2(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}let Rh=(()=>{class t{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(_a(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Bee:e&&e.indexOf(":")>-1?new Lee(e):new Fee(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Pee);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,s)=>{const a=e.positions[s];this._tileStyler.setStyle(o,a.row,a.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Ar,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-grid-list"]],contentQueries:function(i,r,o){if(1&i&&Lt(o,hd,5),2&i){let s;Ge(s=We())&&(r._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,r){2&i&&pt("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],standalone:!0,features:[Bt([{provide:U2,useExisting:t}]),Yt],ngContentSelectors:j2,decls:2,vars:0,template:function(i,r){1&i&&(yn(),x(0,"div"),di(1),T())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return t})(),tC=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[AP,ni,AP,ni]})}}return t})();const G2=t=>({"active-icon":t}),fl=t=>({icons:t});function Hee(t,n){if(1&t){const e=ye();x(0,"div",8)(1,"div",9)(2,"button",10),W("click",function(){return z(e),G(O(2).onSetToDefault("brightness"))}),x(3,"i",11),F(4,"brightness_medium"),T()(),x(5,"div",12)(6,"mat-slider",13),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.filterValues.brightness,r)||(o.filterValues.brightness=r),G(r)}),W("change",function(){return z(e),G(O(2).onFilterUpdate())}),T()()(),x(7,"div",9)(8,"button",14),W("click",function(){return z(e),G(O(2).onSetToDefault("contrast"))}),x(9,"i",11),F(10,"brightness_2"),T()(),x(11,"div",12)(12,"mat-slider",15),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.filterValues.contrast,r)||(o.filterValues.contrast=r),G(r)}),W("change",function(){return z(e),G(O(2).onFilterUpdate())}),T()()(),x(13,"div",9)(14,"button",16),W("click",function(){return z(e),G(O(2).onSetToDefault("saturation"))}),x(15,"i",11),F(16,"invert_colors"),T()(),x(17,"div",12)(18,"mat-slider",17),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.filterValues.saturation,r)||(o.filterValues.saturation=r),G(r)}),W("change",function(){return z(e),G(O(2).onFilterUpdate())}),T()()(),x(19,"div",9)(20,"button",18),W("click",function(){return z(e),G(O(2).onSetToDefault("hue"))}),x(21,"i",11),F(22,"colorize"),T()(),x(23,"div",12)(24,"mat-slider",19),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.filterValues.hue,r)||(o.filterValues.hue=r),G(r)}),W("change",function(){return z(e),G(O(2).onFilterUpdate())}),T()()(),x(25,"div",9)(26,"button",20),W("click",function(){return z(e),G(O(2).onSetToDefault("noise"))}),x(27,"i",11),F(28,"graphic_eq"),T()(),x(29,"div",12)(30,"mat-slider",21),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.filterValues.noise,r)||(o.filterValues.noise=r),G(r)}),W("change",function(){return z(e),G(O(2).onFilterUpdate())}),T()()(),x(31,"div",9)(32,"button",22),W("click",function(){return z(e),G(O(2).onSetToDefault("blur"))}),x(33,"i",11),F(34,"blur_circular"),T()(),x(35,"div",12)(36,"mat-slider",23),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.filterValues.blur,r)||(o.filterValues.blur=r),G(r)}),W("change",function(){return z(e),G(O(2).onFilterUpdate())}),T()()(),x(37,"div",9)(38,"button",24),W("click",function(){return z(e),G(O(2).onSetToDefault("pixelate"))}),x(39,"i",11),F(40,"view_comfy"),T()(),x(41,"div",12)(42,"mat-slider",25),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.filterValues.pixelate,r)||(o.filterValues.pixelate=r),G(r)}),W("change",function(){return z(e),G(O(2).onFilterUpdate())}),T()()(),x(43,"div",26)(44,"button",27),W("click",function(){return z(e),G(O(2).onPanelChange("PRESET"))}),F(45,"SHOW PRESET"),T()()()}if(2&t){const e=O(2);I(2),M("disabled",0===e.filterValues.brightness),I(),M("ngClass",Ht(49,fl,0!==e.filterValues.brightness)),I(3),M("min",0)("step",.05)("max",1),ln("ngModel",e.filterValues.brightness),M("displayWith",e.formatLabel),I(2),M("disabled",0===e.filterValues.contrast),I(),M("ngClass",Ht(51,fl,0!==e.filterValues.contrast)),I(3),M("min",0)("step",.05)("max",1),ln("ngModel",e.filterValues.contrast),M("displayWith",e.formatLabel),I(2),M("disabled",0===e.filterValues.saturation),I(),M("ngClass",Ht(53,fl,0!==e.filterValues.saturation)),I(3),M("min",0)("step",.05)("max",20),ln("ngModel",e.filterValues.saturation),M("displayWith",e.formatLabel),I(2),M("disabled",0===e.filterValues.hue),I(),M("ngClass",Ht(55,fl,0!==e.filterValues.hue)),I(3),M("min",0)("step",.05)("max",100),ln("ngModel",e.filterValues.hue),M("displayWith",e.formatLabel),I(2),M("disabled",0===e.filterValues.noise),I(),M("ngClass",Ht(57,fl,0!==e.filterValues.noise)),I(3),M("min",0)("step",1)("max",100),ln("ngModel",e.filterValues.noise),M("displayWith",e.formatLabel),I(2),M("disabled",0===e.filterValues.blur),I(),M("ngClass",Ht(59,fl,0!==e.filterValues.blur)),I(3),M("min",0)("step",.1)("max",1),ln("ngModel",e.filterValues.blur),M("displayWith",e.formatLabel),I(2),M("disabled",0===e.filterValues.pixelate||.01===e.filterValues.pixelate),I(),M("ngClass",Ht(61,fl,0!==e.filterValues.pixelate&&.01!==e.filterValues.pixelate)),I(3),M("min",.01)("step",.1)("max",10),ln("ngModel",e.filterValues.pixelate),M("displayWith",e.formatLabel)}}function jee(t,n){if(1&t){const e=ye();x(0,"div",8)(1,"div",28)(2,"button",29),W("click",function(){return z(e),G(O(2).togglePreset("grayscale"))}),F(3,"GRAYSCALE"),T()(),x(4,"div",28)(5,"button",29),W("click",function(){return z(e),G(O(2).togglePreset("vintage"))}),F(6,"VINTAGE"),T()(),x(7,"div",28)(8,"button",29),W("click",function(){return z(e),G(O(2).togglePreset("sepia"))}),F(9,"SEPIA"),T()(),x(10,"div",28)(11,"button",29),W("click",function(){return z(e),G(O(2).togglePreset("polaroid"))}),F(12,"POLAROID"),T()(),x(13,"div",26)(14,"button",27),W("click",function(){return z(e),G(O(2).onPanelChange("ADVANCED"))}),F(15,"ADVANCED SETTINGS"),T()()()}if(2&t){const e=O(2);I(2),M("color",e.filterValues.grayscale?"accent":"warn"),I(3),M("color",e.filterValues.vintage?"accent":"warn"),I(3),M("color",e.filterValues.sepia?"accent":"warn"),I(3),M("color",e.filterValues.polaroid?"accent":"warn")}}function Uee(t,n){if(1&t){const e=ye();qn(0),x(1,"mat-grid-list",1)(2,"mat-grid-tile")(3,"button",2),W("click",function(){return z(e),G(O().toggleScope("ALL"))}),x(4,"i",3),F(5,"photo_size_select_actual"),T()()(),x(6,"mat-grid-tile")(7,"button",4)(8,"i",3),F(9,"photo_size_select_large"),T()()()(),x(10,"div",5)(11,"button",6),W("click",function(){return z(e),G(O().onPanelChange("PRESET"))}),F(12,"PRESET"),T(),x(13,"button",6),W("click",function(){return z(e),G(O().onPanelChange("ADVANCED"))}),F(14,"ADVANCED"),T()(),Z(15,Hee,46,63,"div",7)(16,jee,16,4,"div",7),Xn()}if(2&t){const e=O();I(3),M("disabled","ALL"===e.filterScope),I(),M("ngClass",Ht(7,G2,"ALL"===e.filterScope)),I(4),M("ngClass",Ht(9,G2,"SINGLE"===e.filterScope)),I(3),M("disabled","PRESET"===e.panelType),I(2),M("disabled","ADVANCED"===e.panelType),I(2),M("ngIf","ADVANCED"===e.panelType),I(),M("ngIf","PRESET"===e.panelType)}}let zee=(()=>{class t{constructor(e){this.utilService=e,this.defaultFilterValues={brightness:0,contrast:0,saturation:0,hue:0,noise:0,blur:0,pixelate:.01,sharpen:!1,emboss:!1,grayscale:!1,vintage:!1,sepia:!1,polaroid:!1},this.showSliders=!1,this.panelType="PRESET",this.filterValues={...this.defaultFilterValues},this.filterScope="ALL"}ngOnInit(){this.activeObjectProps&&(this.filterValues={...this.defaultFilterValues,...this.activeObjectProps})}ngOnChanges(e){e.activeObjectProps&&(this.filterValues={...this.defaultFilterValues,...this.activeObjectProps||{}}),e.selectedToolType&&("FILTER:ALL"===this.selectedToolType?this.filterScope="ALL":"FILTER:SINGLE"===this.selectedToolType&&(this.filterScope="SINGLE"))}formatLabel(e){return e>=1e3?Math.round(e/1e3)+"k":`${e}`}onPanelChange(e){this.panelType=e}toggleScope(e){this.filterScope=e,"ALL"===this.filterScope&&this.utilService.canvasCommand("FILTER:ALL",{})}togglePreset(e){this.filterValues={...this.filterValues,[e]:!this.filterValues[e]},this.onFilterUpdate()}onFilterUpdate(){this.utilService.addImageFilter(this.filterScope,this.filterValues)}ngAfterViewInit(){setTimeout(()=>this.showSliders=!0,0)}onSetToDefault(e){switch(e){case"brightness":this.filterValues={...this.filterValues,brightness:0};break;case"contrast":this.filterValues={...this.filterValues,contrast:0};break;case"saturation":this.filterValues={...this.filterValues,saturation:0};break;case"hue":this.filterValues={...this.filterValues,hue:0};break;case"noise":this.filterValues={...this.filterValues,noise:0};break;case"blur":this.filterValues={...this.filterValues,blur:0};break;case"pixelate":this.filterValues={...this.filterValues,pixelate:.01}}this.onFilterUpdate()}static{this.\u0275fac=function(i){return new(i||t)(k(_s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-filter-tool"]],inputs:{selectedToolType:"selectedToolType",activeObjectProps:"activeObjectProps"},features:[bi],decls:1,vars:1,consts:[[4,"ngIf"],["cols","2","rowHeight","48px",1,"filter-scope-container"],["mat-icon-button","",3,"click","disabled"],[1,"material-icons","icons",3,"ngClass"],["mat-icon-button","","disabled",""],[1,"panel-switcher",2,"margin","8px 0"],["mat-button","",3,"click","disabled"],["class","panel-container",4,"ngIf"],[1,"panel-container"],[1,"picker-container"],["mat-icon-button","","matTooltip","Brightness","matTooltipPosition","above",3,"click","disabled"],[1,"material-icons",3,"ngClass"],[1,"slider-wrapper"],["ngDefaultControl","","name","brightness",1,"slider",3,"ngModelChange","change","min","step","max","ngModel","displayWith"],["mat-icon-button","","matTooltip","Contrast","matTooltipPosition","above",3,"click","disabled"],["ngDefaultControl","","name","contrast",1,"slider",3,"ngModelChange","change","min","step","max","ngModel","displayWith"],["mat-icon-button","","matTooltip","Saturation","matTooltipPosition","above",3,"click","disabled"],["ngDefaultControl","","name","saturation",1,"slider",3,"ngModelChange","change","min","step","max","ngModel","displayWith"],["mat-icon-button","","matTooltip","Hue","matTooltipPosition","above",3,"click","disabled"],["ngDefaultControl","","name","hue",1,"slider",3,"ngModelChange","change","min","step","max","ngModel","displayWith"],["mat-icon-button","","matTooltip","Noise","matTooltipPosition","above",3,"click","disabled"],["ngDefaultControl","","name","noise",1,"slider",3,"ngModelChange","change","min","step","max","ngModel","displayWith"],["mat-icon-button","","matTooltip","Blur","matTooltipPosition","above",3,"click","disabled"],["ngDefaultControl","","name","blur",1,"slider",3,"ngModelChange","change","min","step","max","ngModel","displayWith"],["mat-icon-button","","matTooltip","Pixelate","matTooltipPosition","above",3,"click","disabled"],["ngDefaultControl","","name","pixelate",1,"slider",3,"ngModelChange","change","min","step","max","ngModel","displayWith"],[1,"button-container",2,"margin-top","12px"],["mat-raised-button","","color","primary",1,"button",3,"click"],[1,"button-container"],["mat-raised-button","",1,"button",3,"click","color"]],template:function(i,r){1&i&&Z(0,Uee,17,11,"ng-container",0),2&i&&M("ngIf",r.showSliders)},dependencies:[Ro,Pt,jn,Un,dd,V2,Rh,hd,QA,Ws,Ph],styles:[".icons[_ngcontent-%COMP%]{color:#dddbdb}.active-icon[_ngcontent-%COMP%]{color:#69f0ae}.slider-wrapper[_ngcontent-%COMP%]{flex:1;margin:0 8px 0 0}.slider[_ngcontent-%COMP%]{width:100%}.picker-container[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:row;align-items:center;margin:2px 0 0 4px}.panel-container[_ngcontent-%COMP%]{width:100%;margin:8px 0 0}.ilter-scope-container[_ngcontent-%COMP%]{margin:4px 0 0}.button-container[_ngcontent-%COMP%]{width:100%;margin:8px 0 0}.button[_ngcontent-%COMP%]{width:calc(100% - 16px);margin:0 8px}"]})}}return t})();const pl=t=>({icons:t});function Gee(t,n){if(1&t){const e=ye();qn(0),x(1,"mat-grid-list",1)(2,"mat-grid-tile")(3,"button",2),W("click",function(){return z(e),G(O().canvasCommand("START_CROP"))}),x(4,"i",3),F(5,"crop"),T()()(),x(6,"mat-grid-tile")(7,"button",4),W("click",function(){return z(e),G(O().canvasCommand("ADD_TEXT"))}),x(8,"i",3),F(9,"text_fields"),T()()(),x(10,"mat-grid-tile")(11,"button",5),W("click",function(){return z(e),G(O().onChangeToolType("SHAPE_MASK"))}),x(12,"i",3),F(13,"filter_b_and_w"),T()()(),x(14,"mat-grid-tile")(15,"button",6),W("click",function(){return z(e),G(O().canvasCommand("CLONE"))}),x(16,"i",3),F(17,"content_copy"),T()()(),x(18,"mat-grid-tile")(19,"button",7),W("click",function(){return z(e),G(O().canvasCommand("FLIP:X"))}),x(20,"i",3),F(21,"flip"),T()()(),x(22,"mat-grid-tile")(23,"button",8),W("click",function(){return z(e),G(O().canvasCommand("ADD_FILTER"))}),x(24,"i",3),F(25,"format_paint"),T()()(),x(26,"mat-grid-tile")(27,"form",9)(28,"button",10),W("click",function(r){return z(e),G(O().editPhoto(r))}),x(29,"i",3),F(30,"save"),T(),_e(31,"input",11),T()()()(),Xn()}if(2&t){const e=O();I(3),M("disabled","DEACTIVATE"===e.selectedToolType),I(),M("ngClass",Ht(14,pl,"DEACTIVATE"!==e.selectedToolType)),I(3),M("disabled","DEACTIVATE"===e.selectedToolType),I(),M("ngClass",Ht(16,pl,"DEACTIVATE"!==e.selectedToolType)),I(3),M("disabled","DEACTIVATE"===e.selectedToolType),I(),M("ngClass",Ht(18,pl,"DEACTIVATE"!==e.selectedToolType)),I(3),M("disabled","DEACTIVATE"===e.selectedToolType),I(),M("ngClass",Ht(20,pl,"DEACTIVATE"!==e.selectedToolType)),I(3),M("disabled","DEACTIVATE"===e.selectedToolType),I(),M("ngClass",Ht(22,pl,"DEACTIVATE"!==e.selectedToolType)),I(3),M("disabled","DEACTIVATE"===e.selectedToolType),I(),M("ngClass",Ht(24,pl,"DEACTIVATE"!==e.selectedToolType)),I(4),M("disabled","DEACTIVATE"===e.selectedToolType),I(),M("ngClass",Ht(26,pl,"DEACTIVATE"!==e.selectedToolType))}}let Wee=(()=>{class t{onChangeToolType(e){this.utilService.changeToolType(e,{})}canvasCommand(e){this.utilService.canvasCommand(e,{})}editPhoto(e){if(this.canvasCommand("DOWNLOAD_CURRENT_CANVAS"),this.id=this.utilService.uploadedId,this.utilService.editedImageURL&&this.id){const r=this.dataURLToBlob(this.utilService.editedImageURL),o=new File([r],`edited_${Date.now()}.jpg`,{type:r.type}),s=new FormData;s.append("image",o,o.name),this.utilService.editUserImage(this.id,s).subscribe(a=>{const l={id:a.id,image:a.image,caption:this.caption},m=this.fileTransferService.fileFieldList.findIndex(A=>A.id===a.id);-1!==m&&(this.fileTransferService.fileFieldList[m]=l),this.utilService.dataPostUpdate={id:l.id,caption:l.caption,image:l.image},this.closeSignal.emit("True")},a=>{console.error("Upload error",a)})}else console.log("Some Error: missing editedImageURL or id")}dataURLToBlob(e){const i=e.split(","),r=i[0].match(/:(.*?);/),o=r?r[1]:"image/png",s=atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);return new Blob([l],{type:o})}constructor(e,i){this.utilService=e,this.fileTransferService=i,this.caption="",this.id="",this.closeSignal=new Fe,this.showSliders=!1}ngOnInit(){this.caption=this.utilService.originalCaption}ngAfterViewInit(){setTimeout(()=>this.showSliders=!0,0)}static{this.\u0275fac=function(i){return new(i||t)(k(_s),k(ol))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-main-tool"]],inputs:{selectedToolType:"selectedToolType"},outputs:{closeSignal:"closeSignal"},decls:1,vars:1,consts:[[4,"ngIf"],["cols","3","rowHeight","52px"],["matTooltip","Crop","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],[1,"material-icons",3,"ngClass"],["matTooltip","Text","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["matTooltip","Shape Mask","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["matTooltip","Clone Image","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["matTooltip","Flip Horizontally","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["matTooltip","Photo Filter","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["enctype","multipart/form-data"],["matTooltip","Save Photo","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["id","upload-file-input",2,"display","none"]],template:function(i,r){1&i&&Z(0,Gee,32,28,"ng-container",0),2&i&&M("ngIf",r.showSliders)},dependencies:[Ro,Pt,jo,Kn,cd,Rh,hd,Ws,Ph],styles:[".icons[_ngcontent-%COMP%]{color:#dddbdb}"]})}}return t})();function Yee(t,n){if(1&t){const e=ye();qn(0),x(1,"mat-grid-list",1)(2,"mat-grid-tile")(3,"button",2),W("click",function(){return z(e),G(O().onCropCancel())}),F(4,"CANCEL"),T()(),x(5,"mat-grid-tile")(6,"button",2),W("click",function(){return z(e),G(O().onCropFinish())}),F(7,"CROP"),T()()(),Xn()}2&t&&(I(3),M("color","warn"),I(3),M("color","accent"))}let $ee=(()=>{class t{onCropCancel(){this.utilService.canvasCommand("STOP_CROP",{})}onCropFinish(){this.utilService.canvasCommand("FINISH_CROP",{})}constructor(e){this.utilService=e,this.showSliders=!1}ngAfterViewInit(){setTimeout(()=>this.showSliders=!0,0)}static{this.\u0275fac=function(i){return new(i||t)(k(_s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-crop-tools"]],inputs:{selectedToolType:"selectedToolType"},decls:1,vars:1,consts:[[4,"ngIf"],["cols","2","rowHeight","56px",1,"filter-scope-container"],["mat-raised-button","",1,"button",3,"click","color"]],template:function(i,r){1&i&&Z(0,Yee,8,2,"ng-container",0),2&i&&M("ngIf",r.showSliders)},dependencies:[Pt,Rh,hd,QA]})}}return t})();const qee=["dialogPopup"],Xee=["hueSlider"],Qee=["alphaSlider"];function Kee(t,n){if(1&t&&_e(0,"div"),2&t){const e=O();qr("arrow arrow-",e.cpUsePosition,""),ti("left",e.cpArrowPosition)("top",e.arrowTop,"px")}}function Zee(t,n){if(1&t){const e=ye();x(0,"div",28),W("newValue",function(r){return z(e),G(O().onColorChange(r))})("dragStart",function(){return z(e),G(O().onDragStart("saturation-lightness"))})("dragEnd",function(){return z(e),G(O().onDragEnd("saturation-lightness"))}),_e(1,"div",16),T()}if(2&t){const e=O();ti("background-color",e.hueSliderColor),M("rgX",1)("rgY",1),I(),ti("top",null==e.slider?null:e.slider.v,"px")("left",null==e.slider?null:e.slider.s,"px")}}function Jee(t,n){1&t&&(ib(),x(0,"svg",29),_e(1,"path",30)(2,"path",31),T())}function ete(t,n){if(1&t){const e=ye();x(0,"button",32),W("click",function(r){z(e);const o=O();return G(o.onAddPresetColor(r,o.selectedColor))}),F(1),T()}if(2&t){const e=O();vn(e.cpAddColorButtonClass),M("disabled",e.cpPresetColors&&e.cpPresetColors.length>=e.cpMaxPresetColorsLength),I(),ht(" ",e.cpAddColorButtonText," ")}}function tte(t,n){1&t&&_e(0,"div",33)}function ite(t,n){if(1&t){const e=ye();x(0,"input",39),W("keyup.enter",function(r){return z(e),G(O(2).onAcceptColor(r))})("newValue",function(r){return z(e),G(O(2).onAlphaInput(r))}),T()}if(2&t){const e=O(2);M("rg",1)("value",null==e.cmykText?null:e.cmykText.a)}}function nte(t,n){1&t&&(x(0,"div"),F(1,"A"),T())}function rte(t,n){if(1&t){const e=ye();x(0,"div",34)(1,"div",35)(2,"input",36),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onCyanInput(r))}),T(),x(3,"input",36),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onMagentaInput(r))}),T(),x(4,"input",36),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onYellowInput(r))}),T(),x(5,"input",36),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onBlackInput(r))}),T(),Z(6,ite,1,2,"input",37),T(),x(7,"div",35)(8,"div"),F(9,"C"),T(),x(10,"div"),F(11,"M"),T(),x(12,"div"),F(13,"Y"),T(),x(14,"div"),F(15,"K"),T(),Z(16,nte,2,0,"div",38),T()()}if(2&t){const e=O();ti("display",3!==e.format?"none":"block"),I(2),M("rg",100)("value",null==e.cmykText?null:e.cmykText.c),I(),M("rg",100)("value",null==e.cmykText?null:e.cmykText.m),I(),M("rg",100)("value",null==e.cmykText?null:e.cmykText.y),I(),M("rg",100)("value",null==e.cmykText?null:e.cmykText.k),I(),M("ngIf","disabled"!==e.cpAlphaChannel),I(10),M("ngIf","disabled"!==e.cpAlphaChannel)}}function ote(t,n){if(1&t){const e=ye();x(0,"input",39),W("keyup.enter",function(r){return z(e),G(O(2).onAcceptColor(r))})("newValue",function(r){return z(e),G(O(2).onAlphaInput(r))}),T()}if(2&t){const e=O(2);M("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function ste(t,n){1&t&&(x(0,"div"),F(1,"A"),T())}function ate(t,n){if(1&t){const e=ye();x(0,"div",40)(1,"div",35)(2,"input",41),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onHueInput(r))}),T(),x(3,"input",36),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onSaturationInput(r))}),T(),x(4,"input",36),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onLightnessInput(r))}),T(),Z(5,ote,1,2,"input",37),T(),x(6,"div",35)(7,"div"),F(8,"H"),T(),x(9,"div"),F(10,"S"),T(),x(11,"div"),F(12,"L"),T(),Z(13,ste,2,0,"div",38),T()()}if(2&t){const e=O();ti("display",2!==e.format?"none":"block"),I(2),M("rg",360)("value",null==e.hslaText?null:e.hslaText.h),I(),M("rg",100)("value",null==e.hslaText?null:e.hslaText.s),I(),M("rg",100)("value",null==e.hslaText?null:e.hslaText.l),I(),M("ngIf","disabled"!==e.cpAlphaChannel),I(8),M("ngIf","disabled"!==e.cpAlphaChannel)}}function lte(t,n){if(1&t){const e=ye();x(0,"input",39),W("keyup.enter",function(r){return z(e),G(O(2).onAcceptColor(r))})("newValue",function(r){return z(e),G(O(2).onAlphaInput(r))}),T()}if(2&t){const e=O(2);M("rg",1)("value",null==e.rgbaText?null:e.rgbaText.a)}}function cte(t,n){1&t&&(x(0,"div"),F(1,"A"),T())}function dte(t,n){if(1&t){const e=ye();x(0,"div",42)(1,"div",35)(2,"input",43),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onRedInput(r))}),T(),x(3,"input",43),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onGreenInput(r))}),T(),x(4,"input",43),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onBlueInput(r))}),T(),Z(5,lte,1,2,"input",37),T(),x(6,"div",35)(7,"div"),F(8,"R"),T(),x(9,"div"),F(10,"G"),T(),x(11,"div"),F(12,"B"),T(),Z(13,cte,2,0,"div",38),T()()}if(2&t){const e=O();ti("display",1!==e.format?"none":"block"),I(2),M("rg",255)("value",null==e.rgbaText?null:e.rgbaText.r),I(),M("rg",255)("value",null==e.rgbaText?null:e.rgbaText.g),I(),M("rg",255)("value",null==e.rgbaText?null:e.rgbaText.b),I(),M("ngIf","disabled"!==e.cpAlphaChannel),I(8),M("ngIf","disabled"!==e.cpAlphaChannel)}}function ute(t,n){if(1&t){const e=ye();x(0,"input",39),W("keyup.enter",function(r){return z(e),G(O(2).onAcceptColor(r))})("newValue",function(r){return z(e),G(O(2).onAlphaInput(r))}),T()}if(2&t){const e=O(2);M("rg",1)("value",e.hexAlpha)}}function hte(t,n){1&t&&(x(0,"div"),F(1,"A"),T())}function fte(t,n){if(1&t){const e=ye();x(0,"div",44)(1,"div",35)(2,"input",45),W("blur",function(){return z(e),G(O().onHexInput(null))})("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onHexInput(r))}),T(),Z(3,ute,1,2,"input",37),T(),x(4,"div",35)(5,"div"),F(6,"Hex"),T(),Z(7,hte,2,0,"div",38),T()()}if(2&t){const e=O();ti("display",0!==e.format?"none":"block"),Qe("hex-alpha","forced"===e.cpAlphaChannel),I(2),M("value",e.hexText),I(),M("ngIf","forced"===e.cpAlphaChannel),I(4),M("ngIf","forced"===e.cpAlphaChannel)}}function pte(t,n){if(1&t){const e=ye();x(0,"input",39),W("keyup.enter",function(r){return z(e),G(O(2).onAcceptColor(r))})("newValue",function(r){return z(e),G(O(2).onAlphaInput(r))}),T()}if(2&t){const e=O(2);M("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function mte(t,n){if(1&t){const e=ye();x(0,"div",46)(1,"div",35)(2,"input",36),W("keyup.enter",function(r){return z(e),G(O().onAcceptColor(r))})("newValue",function(r){return z(e),G(O().onValueInput(r))}),T(),Z(3,pte,1,2,"input",37),T(),x(4,"div",35)(5,"div"),F(6,"V"),T(),x(7,"div"),F(8,"A"),T()()()}if(2&t){const e=O();I(2),M("rg",100)("value",null==e.hslaText?null:e.hslaText.l),I(),M("ngIf","disabled"!==e.cpAlphaChannel)}}function gte(t,n){if(1&t){const e=ye();x(0,"div",47)(1,"span",48),W("click",function(){return z(e),G(O().onFormatToggle(-1))}),T(),x(2,"span",48),W("click",function(){return z(e),G(O().onFormatToggle(1))}),T()()}}function _te(t,n){if(1&t){const e=ye();x(0,"span",55),W("click",function(r){z(e);const o=O().$implicit;return G(O(3).onRemovePresetColor(r,o))}),T()}2&t&&vn(O(4).cpRemoveColorButtonClass)}function bte(t,n){if(1&t){const e=ye();x(0,"div",53),W("click",function(){const r=z(e).$implicit;return G(O(3).setColorFromString(r))}),Z(1,_te,1,3,"span",54),T()}if(2&t){const e=n.$implicit,i=O(3);ti("background-color",e),I(),M("ngIf",i.cpAddColorButton)}}function vte(t,n){if(1&t&&(x(0,"div"),Z(1,bte,2,3,"div",52),T()),2&t){const e=O(2);vn(e.cpPresetColorsClass),I(),M("ngForOf",e.cpPresetColors)}}function yte(t,n){if(1&t&&(x(0,"div"),F(1),T()),2&t){const e=O(2);vn(e.cpPresetEmptyMessageClass),I(),tt(e.cpPresetEmptyMessage)}}function Ate(t,n){if(1&t&&(x(0,"div",49),_e(1,"hr"),x(2,"div",50),F(3),T(),Z(4,vte,2,4,"div",51)(5,yte,2,4,"div",51),T()),2&t){const e=O();I(3),tt(e.cpPresetLabel),I(),M("ngIf",null==e.cpPresetColors?null:e.cpPresetColors.length),I(),M("ngIf",!(null!=e.cpPresetColors&&e.cpPresetColors.length)&&e.cpAddColorButton)}}function Cte(t,n){if(1&t){const e=ye();x(0,"button",58),W("click",function(r){return z(e),G(O(2).onCancelColor(r))}),F(1),T()}if(2&t){const e=O(2);vn(e.cpCancelButtonClass),I(),tt(e.cpCancelButtonText)}}function wte(t,n){if(1&t){const e=ye();x(0,"button",58),W("click",function(r){return z(e),G(O(2).onAcceptColor(r))}),F(1),T()}if(2&t){const e=O(2);vn(e.cpOKButtonClass),I(),tt(e.cpOKButtonText)}}function xte(t,n){if(1&t&&(x(0,"div",56),Z(1,Cte,2,4,"button",57)(2,wte,2,4,"button",57),T()),2&t){const e=O();I(),M("ngIf",e.cpCancelButton),I(),M("ngIf",e.cpOKButton)}}function Ste(t,n){1&t&&ks(0)}function Tte(t,n){if(1&t&&(x(0,"div",59),Z(1,Ste,1,0,"ng-container",60),T()),2&t){const e=O();I(),M("ngTemplateOutlet",e.cpExtraTemplate)}}var xr=function(t){return t[t.HEX=0]="HEX",t[t.RGBA=1]="RGBA",t[t.HSLA=2]="HSLA",t[t.CMYK=3]="CMYK",t}(xr||{});class Ys{r;g;b;a;constructor(n,e,i,r){this.r=n,this.g=e,this.b=i,this.a=r}}class vg{h;s;v;a;constructor(n,e,i,r){this.h=n,this.s=e,this.v=i,this.a=r}}class ml{h;s;l;a;constructor(n,e,i,r){this.h=n,this.s=e,this.l=i,this.a=r}}class Nh{c;m;y;k;a;constructor(n,e,i,r,o=1){this.c=n,this.m=e,this.y=i,this.k=r,this.a=o}}let Ete=(()=>{class t{rg;text;newValue=new Fe;inputChange(e){const i=e.target.value;if(void 0===this.rg)this.newValue.emit(i);else{const r=parseFloat(i);this.newValue.emit({v:r,rg:this.rg})}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Be({type:t,selectors:[["","text",""]],hostBindings:function(i,r){1&i&&W("input",function(s){return r.inputChange(s)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}})}return t})(),Mte=(()=>{class t{elRef;listenerMove;listenerStop;rgX;rgY;slider;dragEnd=new Fe;dragStart=new Fe;newValue=new Fe;mouseDown(e){this.start(e)}touchStart(e){this.start(e)}constructor(e){this.elRef=e,this.listenerMove=i=>this.move(i),this.listenerStop=()=>this.stop()}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-i.left-window.pageXOffset}getY(e){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-i.top-window.pageYOffset}setCursor(e){const i=this.elRef.nativeElement.offsetWidth,r=this.elRef.nativeElement.offsetHeight,o=Math.max(0,Math.min(this.getX(e),i)),s=Math.max(0,Math.min(this.getY(e),r));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:o/i,v:1-s/r,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:s/r,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:o/i,rgX:this.rgX})}static \u0275fac=function(i){return new(i||t)(k(Xe))};static \u0275dir=Be({type:t,selectors:[["","slider",""]],hostBindings:function(i,r){1&i&&W("mousedown",function(s){return r.mouseDown(s)})("touchstart",function(s){return r.touchStart(s)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}})}return t})();class W2{h;s;v;a;constructor(n,e,i,r){this.h=n,this.s=e,this.v=i,this.a=r}}class Y2{h;s;v;a;constructor(n,e,i,r){this.h=n,this.s=e,this.v=i,this.a=r}}let iC=(()=>{class t{active=null;setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const i=e.h,r=e.s,o=e.v,s=e.a;if(0===o)return new ml(i,0,0,s);if(0===r&&1===o)return new ml(i,1,1,s);{const a=o*(2-r)/2;return new ml(i,o*r/(1-Math.abs(2*a-1)),a,s)}}hsla2hsva(e){const i=Math.min(e.h,1),r=Math.min(e.s,1),o=Math.min(e.l,1),s=Math.min(e.a,1);if(0===o)return new vg(i,0,0,s);{const a=o+r*(1-Math.abs(2*o-1))/2;return new vg(i,2*(a-o)/a,a,s)}}hsvaToRgba(e){let i,r,o;const s=e.h,a=e.s,l=e.v,m=e.a,A=Math.floor(6*s),S=6*s-A,P=l*(1-a),N=l*(1-S*a),L=l*(1-(1-S)*a);switch(A%6){case 0:i=l,r=L,o=P;break;case 1:i=N,r=l,o=P;break;case 2:i=P,r=l,o=L;break;case 3:i=P,r=N,o=l;break;case 4:i=L,r=P,o=l;break;case 5:i=l,r=P,o=N;break;default:i=0,r=0,o=0}return new Ys(i,r,o,m)}cmykToRgb(e){return new Ys((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const i=1-Math.max(e.r,e.g,e.b);return 1===i?new Nh(0,0,0,1,e.a):new Nh((1-e.r-i)/(1-i),(1-e.g-i)/(1-i),(1-e.b-i)/(1-i),i,e.a)}rgbaToHsva(e){let i,r;const o=Math.min(e.r,1),s=Math.min(e.g,1),a=Math.min(e.b,1),l=Math.min(e.a,1),m=Math.max(o,s,a),A=Math.min(o,s,a),S=m,P=m-A;if(r=0===m?0:P/m,m===A)i=0;else{switch(m){case o:i=(s-a)/P+(s<a?6:0);break;case s:i=(a-o)/P+2;break;case a:i=(o-s)/P+4;break;default:i=0}i/=6}return new vg(i,r,S,l)}rgbaToHex(e,i){let r="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return i&&(r+=(256|Math.round(255*e.a)).toString(16).substr(1)),r}normalizeCMYK(e){return new Nh(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new Nh(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new Ys(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",i=!1){let r=null;e=(e||"").toLowerCase();const o=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new Ys(parseInt(s[2],10)/255,parseInt(s[3],10)/255,parseInt(s[4],10)/255,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new ml(parseInt(s[2],10)/360,parseInt(s[3],10)/100,parseInt(s[4],10)/100,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}}];o.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(s){return new Ys(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,parseInt(s[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(s){return new Ys(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,1)}}),o.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(s){return new Ys(parseInt(s[1]+s[1],16)/255,parseInt(s[2]+s[2],16)/255,parseInt(s[3]+s[3],16)/255,1)}});for(const s in o)if(o.hasOwnProperty(s)){const a=o[s],l=a.re.exec(e),m=l&&a.parse(l);if(m)return m instanceof Ys?r=this.rgbaToHsva(m):m instanceof ml&&(r=this.hsla2hsva(m)),r}return r}outputFormat(e,i,r){switch("auto"===i&&(i=e.a<1?"rgba":"hex"),i){case"hsla":const o=this.hsva2hsla(e),s=new ml(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100);return e.a<1||"always"===r?"hsla("+s.h+","+s.s+"%,"+s.l+"%,"+s.a+")":"hsl("+s.h+","+s.s+"%,"+s.l+"%)";case"rgba":const a=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===r?"rgba("+a.r+","+a.g+","+a.b+","+Math.round(100*a.a)/100+")":"rgb("+a.r+","+a.g+","+a.b+")";default:const l="always"===r||"forced"===r;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),l)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const $2=typeof window<"u"&&"ontouchstart"in window;let kte=(()=>{class t{ngZone;elRef;cdRef;document;platformId;service;isIE10=!1;cmyk;hsva;width;height;cmykColor;outputColor;initialColor;fallbackColor;listenerResize;listenerMouseDown;directiveInstance;sliderH;sliderDimMax;directiveElementRef;dialogArrowSize=10;dialogArrowOffset=15;dialogInputFields=[xr.HEX,xr.RGBA,xr.HSLA,xr.CMYK];useRootViewContainer=!1;show;hidden;top;left;position;format;slider;hexText;hexAlpha;cmykText;hslaText;rgbaText;arrowTop;selectedColor;hueSliderColor;alphaSliderColor;cpWidth;cpHeight;cpColorMode;cpCmykEnabled;cpAlphaChannel;cpOutputFormat;cpDisableInput;cpDialogDisplay;cpIgnoredElements;cpSaveClickOutside;cpCloseClickOutside;cpPosition;cpUsePosition;cpPositionOffset;cpOKButton;cpOKButtonText;cpOKButtonClass;cpCancelButton;cpCancelButtonText;cpCancelButtonClass;cpEyeDropper;eyeDropperSupported;cpPresetLabel;cpPresetColors;cpPresetColorsClass;cpMaxPresetColorsLength;cpPresetEmptyMessage;cpPresetEmptyMessageClass;cpAddColorButton;cpAddColorButtonText;cpAddColorButtonClass;cpRemoveColorButtonClass;cpArrowPosition;cpTriggerElement;cpExtraTemplate;dialogElement;hueSlider;alphaSlider;handleEsc(e){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(e)}handleEnter(e){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(e)}constructor(e,i,r,o,s,a){this.ngZone=e,this.elRef=i,this.cdRef=r,this.document=o,this.platformId=s,this.service=a,this.eyeDropperSupported=im(this.platformId)&&"EyeDropper"in this.document.defaultView}ngOnInit(){this.slider=new W2(0,0,0,0),this.sliderDimMax=new Y2(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?xr.CMYK:"rgba"===this.cpOutputFormat?xr.RGBA:"hsla"===this.cpOutputFormat?xr.HSLA:xr.HEX,this.listenerMouseDown=r=>{this.onMouseDown(r)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new Y2(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(e,i=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,i),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e,i,r,o,s,a,l,m,A,S,P,N,L,V,K,re,ae,He,Ue,Ke,et,ft,yt,gi,yi,un,hn,fn,mo,go,Ze,at,_t,jt,zi,ur,pn,Sr){this.setInitialColor(r),this.setColorMode(m),this.isIE10=10===function Ite(){let t="";typeof navigator<"u"&&(t=navigator.userAgent.toLowerCase());const n=t.indexOf("msie ");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}(),this.directiveInstance=e,this.directiveElementRef=i,this.cpDisableInput=N,this.cpCmykEnabled=A,this.cpAlphaChannel=S,this.cpOutputFormat=P,this.cpDialogDisplay=a,this.cpIgnoredElements=L,this.cpSaveClickOutside=V,this.cpCloseClickOutside=K,this.useRootViewContainer=re,this.width=this.cpWidth=parseInt(o,10),this.height=this.cpHeight=parseInt(s,10),this.cpPosition=ae,this.cpPositionOffset=parseInt(He,10),this.cpOKButton=un,this.cpOKButtonText=fn,this.cpOKButtonClass=hn,this.cpCancelButton=mo,this.cpCancelButtonText=Ze,this.cpCancelButtonClass=go,this.cpEyeDropper=ur,this.fallbackColor=l||"#fff",this.setPresetConfig(Ke,et),this.cpPresetColorsClass=ft,this.cpMaxPresetColorsLength=yt,this.cpPresetEmptyMessage=gi,this.cpPresetEmptyMessageClass=yi,this.cpAddColorButton=at,this.cpAddColorButtonText=jt,this.cpAddColorButtonClass=_t,this.cpRemoveColorButtonClass=zi,this.cpTriggerElement=pn,this.cpExtraTemplate=Sr,Ue||(this.dialogArrowOffset=0),"inline"===a&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===P&&"always"!==S&&"forced"!==S&&(this.cpAlphaChannel="disabled")}setColorMode(e){switch(e.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(e){this.initialColor=e}setPresetConfig(e,i){this.cpPresetLabel=e,this.cpPresetColors=i}setColorFromString(e,i=!0,r=!0){let o;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(o=this.service.stringToHsva(e,!0),!o&&!this.hsva&&(o=this.service.stringToHsva(e,!1))):o=this.service.stringToHsva(e,!1),!o&&!this.hsva&&(o=this.service.stringToHsva(this.fallbackColor,!1)),o&&(this.hsva=o,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(i,r))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})}onMouseDown(e){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&e.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,e.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,e.target)&&0===this.cpIgnoredElements.filter(i=>i===e.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(e){e.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(e){this.hsva=null,e.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(i=>{this.setColorFromString(i.sRGBHex,!0)})}onFormatToggle(e){const i=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),r=((this.dialogInputFields.indexOf(this.format)+e)%i+i)%i;this.format=this.dialogInputFields[r]}onColorChange(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(e){this.hsva.v=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(e){if(null===e)this.updateColorPicker();else{e&&"#"!==e[0]&&(e="#"+e);let i=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const r=i.test(e);r&&(e.length<5&&(e="#"+e.substring(1).split("").map(o=>o+o).join("")),"forced"===this.cpAlphaChannel&&(e+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(e,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:r,value:e,color:this.outputColor})}}onRedInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:r,value:i.r,color:this.outputColor})}onBlueInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:r,value:i.b,color:this.outputColor})}onGreenInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:r,value:i.g,color:this.outputColor})}onHueInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:i,value:this.hsva.h,color:this.outputColor})}onValueInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:i,value:this.hsva.v,color:this.outputColor})}onAlphaInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:i,value:this.hsva.a,color:this.outputColor})}onLightnessInput(e){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:r,value:i.l,color:this.outputColor})}onSaturationInput(e){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:r,value:i.s,color:this.outputColor})}onCyanInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.c=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.m=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.y=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.k=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(e,i){e.stopPropagation(),this.cpPresetColors.filter(r=>r===i).length||(this.cpPresetColors=this.cpPresetColors.concat(i),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(e,i){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(r=>r!==i),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{$2?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||($2?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,i=!0,r=!1){if(this.sliderDimMax){let o,s,a;2===this.cpColorMode&&(this.hsva.s=0);const l=this.outputColor;if(s=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(r?(a=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(a)):(a=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(a))),a=this.service.denormalizeRGBA(a),this.sliderH=this.hsva.h):a=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(new vg(this.sliderH||this.hsva.h,1,1,1))),i&&(this.hslaText=new ml(Math.round(360*s.h),Math.round(100*s.s),Math.round(100*s.l),Math.round(100*s.a)/100),this.rgbaText=new Ys(a.r,a.g,a.b,Math.round(100*a.a)/100),this.cpCmykEnabled&&(this.cmykText=new Nh(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(a,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==xr.RGBA&&this.format!==xr.CMYK&&this.format!==xr.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?xr.RGBA:xr.HEX),this.hueSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.alphaSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==xr.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const m=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${m})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new W2((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&l!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let r,e="static",i="",o=null,s=null,a=this.directiveElementRef.nativeElement.parentNode;const l=this.dialogElement.nativeElement.offsetHeight;for(;null!==a&&"HTML"!==a.tagName;){if(r=window.getComputedStyle(a),e=r.getPropertyValue("position"),i=r.getPropertyValue("transform"),"static"!==e&&null===o&&(o=a),i&&"none"!==i&&null===s&&(s=a),"fixed"===e){o=s;break}a=a.parentNode}const m=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&(!o||o instanceof HTMLUnknownElement))this.top=m.top,this.left=m.left;else{null===o&&(o=a);const re=this.createDialogBox(o,"fixed"!==e);this.top=m.top-re.top,this.left=m.left-re.left}"fixed"===e&&(this.position="fixed");let A=this.cpPosition;const S=this.dialogElement.nativeElement.getBoundingClientRect();switch("auto"===this.cpPosition&&(A=function Dte(t,n){let e="right",i="bottom";const{height:r,width:o}=t,{top:s,left:a}=n,l=s+n.height,m=a+n.width,A=s-r<0,S=l+r>(window.innerHeight||document.documentElement.clientHeight),P=a-o<0,N=m+o>(window.innerWidth||document.documentElement.clientWidth);return S&&(i="top"),A&&(i="bottom"),P&&(e="right"),N&&(e="left"),A&&S&&P&&N?["left","right","top","bottom"].reduce((K,re)=>t[K]>t[re]?K:re):P&&N?A?"bottom":S||s>l?"top":"bottom":A&&S?P?"right":N||a>m?"left":"right":`${i}-${e}`}(S,this.cpTriggerElement.nativeElement.getBoundingClientRect())),this.arrowTop="top"===A?l-1:void 0,this.cpArrowPosition=void 0,A){case"top":this.top-=l+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*m.width-this.dialogArrowOffset;break;case"bottom":this.top+=m.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*m.width-this.dialogArrowOffset;break;case"top-left":case"left-top":this.top-=l-m.height+m.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"top-right":case"right-top":this.top-=l-m.height+m.height*this.cpPositionOffset/100,this.left+=m.width+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"left":case"bottom-left":case"left-bottom":this.top+=m.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2;break;default:this.top+=m.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=m.width+this.dialogArrowSize-2}const P=window.innerHeight,N=window.innerWidth,L=this.elRef.nativeElement.getBoundingClientRect();this.top+S.height>P&&(this.top=P-S.height,this.cpArrowPosition=L.x/2-20),this.left+S.width>N&&(this.left=N-S.width,this.cpArrowPosition=L.x/2-20),this.cpUsePosition=A}}isDescendant(e,i){let r=i.parentNode;for(;null!==r;){if(r===e)return!0;r=r.parentNode}return!1}createDialogBox(e,i){const{top:r,left:o}=e.getBoundingClientRect();return{top:r+(i?window.pageYOffset:0),left:o+(i?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}}static \u0275fac=function(i){return new(i||t)(k(Je),k(Xe),k(Qt),k(xt),k(So),k(iC))};static \u0275cmp=ze({type:t,selectors:[["color-picker"]],viewQuery:function(i,r){if(1&i&&(Tt(qee,7),Tt(Xee,7),Tt(Qee,7)),2&i){let o;Ge(o=We())&&(r.dialogElement=o.first),Ge(o=We())&&(r.hueSlider=o.first),Ge(o=We())&&(r.alphaSlider=o.first)}},hostBindings:function(i,r){1&i&&W("keyup.esc",function(s){return r.handleEsc(s)},0,Lb)("keyup.enter",function(s){return r.handleEnter(s)},!1,Lb)},decls:30,vars:51,consts:[["dialogPopup",""],["hueSlider",""],["valueSlider",""],["alphaSlider",""],[1,"color-picker",3,"click"],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"cursor"],[1,"value",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"alpha",3,"newValue","dragStart","dragEnd","slider","rgX"],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"newValue","dragStart","dragEnd","slider","rgX","rgY"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"click","disabled"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"keyup.enter","newValue","text","rg","value"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"keyup.enter","newValue","text","rg","value"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"keyup.enter","newValue","text","rg","value"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"keyup.enter","newValue","text","rg","value"],[1,"hex-text"],[3,"blur","keyup.enter","newValue","text","value"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(i,r){if(1&i){const o=ye();x(0,"div",4,0),W("click",function(a){return z(o),G(a.stopPropagation())}),Z(2,Kee,1,7,"div",5)(3,Zee,2,8,"div",6),x(4,"div",7)(5,"div",8),_e(6,"div",9),x(7,"div",10),W("click",function(){return z(o),G(r.eyeDropperSupported&&r.cpEyeDropper&&r.onEyeDropper())}),Z(8,Jee,3,0,"svg",11),T(),Z(9,ete,2,5,"button",12),T(),x(10,"div",13),Z(11,tte,1,0,"div",14),x(12,"div",15,1),W("newValue",function(a){return z(o),G(r.onHueChange(a))})("dragStart",function(){return z(o),G(r.onDragStart("hue"))})("dragEnd",function(){return z(o),G(r.onDragEnd("hue"))}),_e(14,"div",16),T(),x(15,"div",17,2),W("newValue",function(a){return z(o),G(r.onValueChange(a))})("dragStart",function(){return z(o),G(r.onDragStart("value"))})("dragEnd",function(){return z(o),G(r.onDragEnd("value"))}),_e(17,"div",16),T(),x(18,"div",18,3),W("newValue",function(a){return z(o),G(r.onAlphaChange(a))})("dragStart",function(){return z(o),G(r.onDragStart("alpha"))})("dragEnd",function(){return z(o),G(r.onDragEnd("alpha"))}),_e(20,"div",16),T()()(),Z(21,rte,17,12,"div",19)(22,ate,14,10,"div",20)(23,dte,14,10,"div",21)(24,fte,8,7,"div",22)(25,mte,9,3,"div",23)(26,gte,3,0,"div",24)(27,Ate,6,3,"div",25)(28,xte,3,2,"div",26)(29,Tte,2,1,"div",27),T()}2&i&&(ti("display",r.show?"block":"none")("visibility",r.hidden?"hidden":"visible")("top",r.top,"px")("left",r.left,"px")("position",r.position)("height",r.cpHeight,"px")("width",r.cpWidth,"px"),Qe("open",r.show),I(2),M("ngIf","popup"===r.cpDialogDisplay),I(),M("ngIf",1===(r.cpColorMode||1)),I(4),ti("background-color",r.selectedColor)("cursor",r.eyeDropperSupported&&r.cpEyeDropper?"pointer":null),I(),M("ngIf",r.eyeDropperSupported&&r.cpEyeDropper),I(),M("ngIf",r.cpAddColorButton),I(2),M("ngIf","disabled"===r.cpAlphaChannel),I(),ti("display",1===(r.cpColorMode||1)?"block":"none"),M("rgX",1),I(2),ti("left",null==r.slider?null:r.slider.h,"px"),I(),ti("display",2===(r.cpColorMode||1)?"block":"none"),M("rgX",1),I(2),ti("right",null==r.slider?null:r.slider.v,"px"),I(),ti("display","disabled"===r.cpAlphaChannel?"none":"block")("background-color",r.alphaSliderColor),M("rgX",1),I(2),ti("left",null==r.slider?null:r.slider.a,"px"),I(),M("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),I(),M("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),I(),M("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),I(),M("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),I(),M("ngIf",!r.cpDisableInput&&2===(r.cpColorMode||1)),I(),M("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),I(),M("ngIf",(null==r.cpPresetColors?null:r.cpPresetColors.length)||r.cpAddColorButton),I(),M("ngIf",r.cpOKButton||r.cpCancelButton),I(),M("ngIf",r.cpExtraTemplate))},dependencies:[Ri,Pt,ls,Ete,Mte],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2})}return t})(),q2=(()=>{class t{injector;cfr;appRef;vcRef;elRef;_service;dialog;dialogCreated=!1;ignoreChanges=!1;cmpRef;viewAttachedToAppRef=!1;colorPicker;cpWidth="230px";cpHeight="auto";cpToggle=!1;cpDisabled=!1;cpIgnoredElements=[];cpFallbackColor="";cpColorMode="color";cpCmykEnabled=!1;cpOutputFormat="auto";cpAlphaChannel="enabled";cpDisableInput=!1;cpDialogDisplay="popup";cpSaveClickOutside=!0;cpCloseClickOutside=!0;cpUseRootViewContainer=!1;cpPosition="auto";cpPositionOffset="0%";cpPositionRelativeToArrow=!1;cpOKButton=!1;cpOKButtonText="OK";cpOKButtonClass="cp-ok-button-class";cpCancelButton=!1;cpCancelButtonText="Cancel";cpCancelButtonClass="cp-cancel-button-class";cpEyeDropper=!1;cpPresetLabel="Preset colors";cpPresetColors;cpPresetColorsClass="cp-preset-colors-class";cpMaxPresetColorsLength=6;cpPresetEmptyMessage="No colors added";cpPresetEmptyMessageClass="preset-empty-message";cpAddColorButton=!1;cpAddColorButtonText="Add color";cpAddColorButtonClass="cp-add-color-button-class";cpRemoveColorButtonClass="cp-remove-color-button-class";cpArrowPosition=0;cpExtraTemplate;cpInputChange=new Fe(!0);cpToggleChange=new Fe(!0);cpSliderChange=new Fe(!0);cpSliderDragEnd=new Fe(!0);cpSliderDragStart=new Fe(!0);colorPickerOpen=new Fe(!0);colorPickerClose=new Fe(!0);colorPickerCancel=new Fe(!0);colorPickerSelect=new Fe(!0);colorPickerChange=new Fe(!1);cpCmykColorChange=new Fe(!0);cpPresetColorsChange=new Fe(!0);handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(e){this.inputChange(e)}constructor(e,i,r,o,s,a){this.injector=e,this.cfr=i,this.appRef=r,this.vcRef=o,this.elRef=s,this._service=a}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let e=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const o=this.injector.get(this.appRef.componentTypes[0],ci.NULL);o!==ci.NULL?e=o.vcRef||o.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const i=this.cfr.resolveComponentFactory(kte);if(this.viewAttachedToAppRef)this.cmpRef=i.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const r=ci.create({providers:[],parent:e.injector});this.cmpRef=e.createComponent(i,0,r,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(e){this.cpCmykColorChange.emit(e)}stateChanged(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(e,i=!0){this.ignoreChanges=i,this.colorPickerChange.emit(e)}colorSelected(e){this.colorPickerSelect.emit(e)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const e=this.elRef.nativeElement,i=this.cpIgnoredElements.filter(r=>r===e);!this.cpDisabled&&!i.length&&(typeof document<"u"&&e===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(e){this.cpInputChange.emit(e)}sliderChanged(e){this.cpSliderChange.emit(e)}sliderDragEnd(e){this.cpSliderDragEnd.emit(e)}sliderDragStart(e){this.cpSliderDragStart.emit(e)}presetColorsChanged(e){this.cpPresetColorsChange.emit(e)}static \u0275fac=function(i){return new(i||t)(k(ci),k(na),k(ko),k(Qi),k(Xe),k(iC))};static \u0275dir=Be({type:t,selectors:[["","colorPicker",""]],hostBindings:function(i,r){1&i&&W("click",function(){return r.handleClick()})("focus",function(){return r.handleFocus()})("input",function(s){return r.handleInput(s)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[bi]})}return t})(),X2=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=lt({type:t});static \u0275inj=st({providers:[iC],imports:[Pr]})}return t})(),Q2=(()=>{class t{constructor(){this.min=0,this.max=100,this.step=1,this.disabled=!1,this.change=new Fe,this.value=0,this._onChange=()=>{},this._onTouched=()=>{}}writeValue(e){this.value=e??0}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}onInput(e){this.value=Number(e?.value??this.value),this._onChange(this.value)}onChangeEvent(e){this.change.emit(Number(e?.value??this.value)),this._onTouched()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["my-slider-wrapper"]],inputs:{min:"min",max:"max",step:"step",disabled:"disabled"},outputs:{change:"change"},features:[Bt([{provide:dr,useExisting:$t(()=>t),multi:!0}])],decls:2,vars:5,consts:[[3,"input","change","min","max","step","disabled"],["matSliderThumb","",3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(x(0,"mat-slider",0),W("input",function(s){return r.onInput(s)})("change",function(s){return r.onChangeEvent(s)}),x(1,"input",1),cn("ngModelChange",function(s){return An(r.value,s)||(r.value=s),s}),T()()),2&i&&(M("min",r.min)("max",r.max)("step",r.step)("disabled",r.disabled),I(),ln("ngModel",r.value))},dependencies:[jn,Un,dd,V2,JA],encapsulation:2})}}return t})();class Rte{constructor(n){this._box=n,this._destroyed=new Ye,this._resizeSubject=new Ye,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new Zt(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),i.unsubscribe(),this._elementObservables.delete(n)}}).pipe(pi(e=>e.some(i=>i.target===n)),function Pte(t,n,e){let i,r=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=t):i=t??1/0,nR({connector:()=>new Em(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),Dt(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Nte=(()=>{class t{constructor(){this._observers=new Map,this._ngZone=Q(Je)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Rte(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Fte=["notch"],Lte=["matFormFieldNotchedOutline",""],Bte=["*"],Vte=["textField"],Hte=["iconPrefixContainer"],jte=["textPrefixContainer"],Ute=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zte=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Gte(t,n){1&t&&_e(0,"span",17)}function Wte(t,n){if(1&t&&(x(0,"label",16),di(1,1),Z(2,Gte,1,0,"span",17),T()),2&t){const e=O(2);M("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),pt("for",e._control.disableAutomaticLabeling?null:e._control.id),I(2),vt(2,!e.hideRequiredMarker&&e._control.required?2:-1)}}function Yte(t,n){1&t&&Z(0,Wte,3,5,"label",16),2&t&&vt(0,O()._hasFloatingLabel()?0:-1)}function $te(t,n){1&t&&_e(0,"div",5)}function qte(t,n){}function Xte(t,n){1&t&&Z(0,qte,0,0,"ng-template",11),2&t&&(O(2),M("ngTemplateOutlet",Vi(1)))}function Qte(t,n){if(1&t&&(x(0,"div",7),Z(1,Xte,1,1,null,11),T()),2&t){const e=O();M("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),I(),vt(1,e._forceDisplayInfixLabel()?-1:1)}}function Kte(t,n){1&t&&(x(0,"div",8,2),di(2,2),T())}function Zte(t,n){1&t&&(x(0,"div",9,3),di(2,3),T())}function Jte(t,n){}function eie(t,n){1&t&&Z(0,Jte,0,0,"ng-template",11),2&t&&(O(),M("ngTemplateOutlet",Vi(1)))}function tie(t,n){1&t&&(x(0,"div",12),di(1,4),T())}function iie(t,n){1&t&&(x(0,"div",13),di(1,5),T())}function nie(t,n){1&t&&_e(0,"div",14)}function rie(t,n){1&t&&(x(0,"div",18),di(1,6),T()),2&t&&M("@transitionMessages",O()._subscriptAnimationState)}function oie(t,n){if(1&t&&(x(0,"mat-hint",20),F(1),T()),2&t){const e=O(2);M("id",e._hintLabelId),I(),tt(e.hintLabel)}}function sie(t,n){if(1&t&&(x(0,"div",19),Z(1,oie,2,2,"mat-hint",20),di(2,7),_e(3,"div",21),di(4,8),T()),2&t){const e=O();M("@transitionMessages",e._subscriptAnimationState),I(),vt(1,e.hintLabel?1:-1)}}let yg=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["mat-label"]],standalone:!0})}}return t})();const aie=new Me("MatError");let lie=0,K2=(()=>{class t{constructor(){this.align="start",this.id="mat-mdc-hint-"+lie++}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(an("id",r.id),pt("align",null),Qe("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}}return t})();const cie=new Me("MatPrefix"),die=new Me("MatSuffix"),Z2=new Me("FloatingLabelParent");let J2=(()=>{class t{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Q(Nte),this._ngZone=Q(Je),this._parent=Q(Z2),this._resizeSubscription=new me}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function uie(t){if(null!==t.offsetParent)return t.scrollWidth;const e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||t)(k(Xe))}}static{this.\u0275dir=Be({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Qe("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return t})();const eN="mdc-line-ripple--active",Ag="mdc-line-ripple--deactivating";let tN=(()=>{class t{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(Ag);"opacity"===r.propertyName&&s&&o.remove(eN,Ag)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Ag),e.add(eN)}deactivate(){this._elementRef.nativeElement.classList.add(Ag)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Je))}}static{this.\u0275dir=Be({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return t})(),iN=(()=>{class t{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Je))}}static{this.\u0275cmp=ze({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Tt(Fte,5),2&i){let o;Ge(o=We())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Qe("mdc-notched-outline--notched",r.open)},inputs:{open:[ke.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Yt],attrs:Lte,ngContentSelectors:Bte,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(yn(),_e(0,"div",1),x(1,"div",2,0),di(3),T(),_e(4,"div",3))},encapsulation:2,changeDetection:0})}}return t})();const hie={transitionMessages:co("transitionMessages",[Ui("enter",gt({opacity:1,transform:"translateY(0%)"})),vi("void => enter",[gt({opacity:0,transform:"translateY(-5px)"}),Si("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let nC=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t})}}return t})();const rC=new Me("MatFormField"),fie=new Me("MAT_FORM_FIELD_DEFAULT_OPTIONS");let nN=0,sN=(()=>{class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Zc(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,l,m){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+nN++,this._hintLabelId="mat-mdc-hint-"+nN++,this._subscriptAnimationState="",this._destroyed=new Ye,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Dt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Vo(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Dt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Dt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Qt),k(Je),k(Ar),k(ki),k(fie,8),k(Wn,8),k(xt))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Lt(o,yg,5),Lt(o,yg,7),Lt(o,nC,5),Lt(o,cie,5),Lt(o,die,5),Lt(o,aie,5),Lt(o,K2,5)),2&i){let s;Ge(s=We())&&(r._labelChildNonStatic=s.first),Ge(s=We())&&(r._labelChildStatic=s.first),Ge(s=We())&&(r._formFieldControl=s.first),Ge(s=We())&&(r._prefixChildren=s),Ge(s=We())&&(r._suffixChildren=s),Ge(s=We())&&(r._errorChildren=s),Ge(s=We())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(Tt(Vte,5),Tt(Hte,5),Tt(jte,5),Tt(J2,5),Tt(iN,5),Tt(tN,5)),2&i){let o;Ge(o=We())&&(r._textField=o.first),Ge(o=We())&&(r._iconPrefixContainer=o.first),Ge(o=We())&&(r._textPrefixContainer=o.first),Ge(o=We())&&(r._floatingLabel=o.first),Ge(o=We())&&(r._notchedOutline=o.first),Ge(o=We())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Qe("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Bt([{provide:rC,useExisting:t},{provide:Z2,useExisting:t}]),Yt],ngContentSelectors:zte,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const o=ye();yn(Ute),Z(0,Yte,1,1,"ng-template",null,0,so),x(2,"div",4,1),W("click",function(a){return z(o),G(r._control.onContainerClick(a))}),Z(4,$te,1,0,"div",5),x(5,"div",6),Z(6,Qte,2,2,"div",7)(7,Kte,3,0,"div",8)(8,Zte,3,0,"div",9),x(9,"div",10),Z(10,eie,1,1,null,11),di(11),T(),Z(12,tie,2,0,"div",12)(13,iie,2,0,"div",13),T(),Z(14,nie,1,0,"div",14),T(),x(15,"div",15),Z(16,rie,2,1)(17,sie,5,2),T()}if(2&i){let o;I(2),Qe("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),I(2),vt(4,r._hasOutline()||r._control.disabled?-1:4),I(2),vt(6,r._hasOutline()?6:-1),I(),vt(7,r._hasIconPrefix?7:-1),I(),vt(8,r._hasTextPrefix?8:-1),I(2),vt(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),I(2),vt(12,r._hasTextSuffix?12:-1),I(),vt(13,r._hasIconSuffix?13:-1),I(),vt(14,r._hasOutline()?-1:14),I(),Qe("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),I(),vt(16,"error"===(o=r._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[J2,iN,ls,tN,K2],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[hie.transitionMessages]},changeDetection:0})}}return t})(),Fh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,Pr,qO,ni]})}}return t})();class _ie{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,i=!0,r){this._multiple=n,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ye,e&&e.length&&(n?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,i=new Set(n);n.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(n,i))return i;return n}return n}}let bie=(()=>{class t{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const vie=["trigger"],yie=["panel"],Aie=[[["mat-select-trigger"]],"*"],Cie=["mat-select-trigger","*"];function wie(t,n){if(1&t&&(x(0,"span",4),F(1),T()),2&t){const e=O();I(),tt(e.placeholder)}}function xie(t,n){1&t&&di(0)}function Sie(t,n){if(1&t&&(x(0,"span",11),F(1),T()),2&t){const e=O(2);I(),tt(e.triggerValue)}}function Tie(t,n){if(1&t&&(x(0,"span",10),Z(1,xie,1,0)(2,Sie,2,1),T()),2&t){const e=O();I(),vt(1,e.customTrigger?1:2)}}function Die(t,n){if(1&t){const e=ye();x(0,"div",12,1),W("@transformPanel.done",function(r){return z(e),G(O()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return z(e),G(O()._handleKeydown(r))}),di(2,1),T()}if(2&t){const e=O();qr("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),M("ngClass",e.panelClass)("@transformPanel","showing"),pt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Iie={transformPanelWrap:co("transformPanelWrap",[vi("* => void",yh("@transformPanel",[vh()],{optional:!0}))]),transformPanel:co("transformPanel",[Ui("void",gt({opacity:0,transform:"scale(1, 0.8)"})),vi("void => showing",Si("120ms cubic-bezier(0, 0, 0.2, 1)",gt({opacity:1,transform:"scale(1, 1)"}))),vi("* => void",Si("100ms linear",gt({opacity:0})))])};let aN=0;const lN=new Me("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const t=Q(Hn);return()=>t.scrollStrategies.reposition()}}),Mie=new Me("MAT_SELECT_CONFIG"),kie={provide:lN,deps:[Hn],useFactory:function Eie(t){return()=>t.scrollStrategies.reposition()}},Oie=new Me("MatSelectTrigger");class Pie{constructor(n,e){this.source=n,this.value=e}}let Rie=(()=>{class t{_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function qQ(t,n,e){if(e.length){let i=n.toArray(),r=e.toArray(),o=0;for(let s=0;s<t+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:function XQ(t,n,e,i){return t<e?t:t+n>e+i?Math.max(0,t-i+n):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Pie(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(mi.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,o,s,a,l,m,A,S,P,N,L,V){this._viewportRuler=e,this._changeDetectorRef=i,this._elementRef=s,this._dir=a,this._parentFormField=A,this.ngControl=S,this._liveAnnouncer=L,this._defaultOptions=V,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(K,re)=>K===re,this._uid="mat-select-"+aN++,this._triggerAriaLabelledBy=null,this._destroy=new Ye,this.stateChanges=new Ye,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+aN++,this._panelDoneAnimatingStream=new Ye,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Ye,this.optionSelectionChanges=qu(()=>{const K=this.options;return K?K.changes.pipe(cr(K),dn(()=>Vo(...K.map(re=>re.onSelectionChange)))):this._initialized.pipe(dn(()=>this.optionSelectionChanges))}),this.openedChange=new Fe,this._openedStream=this.openedChange.pipe(pi(K=>K),bt(()=>{})),this._closedStream=this.openedChange.pipe(pi(K=>!K),bt(()=>{})),this.selectionChange=new Fe,this.valueChange=new Fe,this._trackedModal=null,this._skipPredicate=K=>!this.panelOpen&&K.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=V?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=V.typeaheadDebounceInterval),this._errorStateTracker=new gA(o,S,m,l,this.stateChanges),this._scrollStrategyFactory=N,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(P)||0,this.id=this.id}ngOnInit(){this._selectionModel=new _ie(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(tl(),Dt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Dt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Dt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(cr(null),Dt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&cA(this._trackedModal,"aria-owns",i),JO(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(cA(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!ps(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||ps(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ei(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof zm?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new JX(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Vo(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Dt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Vo(...this.options.map(i=>i._stateChanges)).pipe(Dt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(i){return new(i||t)(k(fh),k(Qt),k(Je),k(_h),k(Xe),k(Ar,8),k(cd,8),k(Dn,8),k(rC,8),k(ms,10),wo("tabindex"),k(lN),k(uP),k(Mie,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(Lt(o,Oie,5),Lt(o,EP,5),Lt(o,IP,5)),2&i){let s;Ge(s=We())&&(r.customTrigger=s.first),Ge(s=We())&&(r.options=s),Ge(s=We())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(Tt(vie,5),Tt(yie,5),Tt(YO,5)),2&i){let o;Ge(o=We())&&(r.trigger=o.first),Ge(o=We())&&(r.panel=o.first),Ge(o=We())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&W("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(pt("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Qe("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[ke.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[ke.HasDecoratorInputTransform,"disabled","disabled",wt],disableRipple:[ke.HasDecoratorInputTransform,"disableRipple","disableRipple",wt],tabIndex:[ke.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>null==e?0:ar(e)],hideSingleSelectionIndicator:[ke.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",wt],placeholder:"placeholder",required:[ke.HasDecoratorInputTransform,"required","required",wt],multiple:[ke.HasDecoratorInputTransform,"multiple","multiple",wt],disableOptionCentering:[ke.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",wt],compareWith:"compareWith",value:"value",ariaLabel:[ke.None,"aria-label","ariaLabel"],ariaLabelledby:[ke.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[ke.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",ar],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Bt([{provide:nC,useExisting:t},{provide:DP,useExisting:t}]),bn,bi,Yt],ngContentSelectors:Cie,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const o=ye();yn(Aie),x(0,"div",2,0),W("click",function(){return z(o),G(r.open())}),x(3,"div",3),Z(4,wie,2,1,"span",4)(5,Tie,3,1),T(),x(6,"div",5)(7,"div",6),ib(),x(8,"svg",7),_e(9,"path",8),T()()()(),Z(10,Die,3,9,"ng-template",9),W("backdropClick",function(){return z(o),G(r.close())})("attach",function(){return z(o),G(r._onAttached())})("detach",function(){return z(o),G(r.close())})}if(2&i){const o=Vi(1);I(3),pt("id",r._valueId),I(),vt(4,r.empty?4:5),I(6),M("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[zm,YO,Ro],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Iie.transformPanel]},changeDetection:0})}}return t})(),cN=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[kie],imports:[Pr,nd,MP,ni,ph,Fh,MP,ni]})}}return t})();const Cg=(t,n)=>({"active-icon":t,icons:n}),wg=t=>({"active-icon":t});function Nie(t,n){if(1&t&&(x(0,"mat-option",18),F(1),T()),2&t){const e=n.$implicit;M("value",e),I(),ht(" ",e," ")}}function Fie(t,n){if(1&t){const e=ye();x(0,"mat-grid-list",4)(1,"mat-grid-tile")(2,"button",19),W("click",function(){return z(e),G(O(2).setTextAlign("left"))}),x(3,"i",20),F(4," format_align_left "),T()()(),x(5,"mat-grid-tile")(6,"button",21),W("click",function(){return z(e),G(O(2).setTextAlign("center"))}),x(7,"i",20),F(8," format_align_center "),T()()(),x(9,"mat-grid-tile")(10,"button",22),W("click",function(){return z(e),G(O(2).setTextAlign("right"))}),x(11,"i",20),F(12," format_align_right "),T()()(),x(13,"mat-grid-tile")(14,"button",23),W("click",function(){return z(e),G(O(2).setTextAlign("justify"))}),x(15,"i",20),F(16," format_align_justify "),T()()()()}if(2&t){const e=O(2);I(2),M("disabled",e.isSelectionInactive),I(),M("ngClass",Ht(8,wg,"left"===e.textAlign)),I(3),M("disabled",e.isSelectionInactive),I(),M("ngClass",Ht(10,wg,"center"===e.textAlign)),I(3),M("disabled",e.isSelectionInactive),I(),M("ngClass",Ht(12,wg,"right"===e.textAlign)),I(3),M("disabled",e.isSelectionInactive),I(),M("ngClass",Ht(14,wg,"justify"===e.textAlign))}}function Lie(t,n){if(1&t){const e=ye();x(0,"div",24)(1,"my-slider-wrapper",25),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.opacity,r)||(o.opacity=r),G(r)}),W("change",function(){return z(e),G(O(2).onUpdateText())}),T()()}if(2&t){const e=O(2);I(),M("disabled",e.isSelectionInactive)("min",0)("step",.1)("max",1),ln("ngModel",e.opacity)}}function Bie(t,n){if(1&t){const e=ye();x(0,"div",24)(1,"my-slider-wrapper",26),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.fontSize,r)||(o.fontSize=r),G(r)}),W("change",function(){return z(e),G(O(2).onUpdateText())}),T()()}if(2&t){const e=O(2);I(),M("disabled",e.isSelectionInactive)("min",8)("step",1)("max",100),ln("ngModel",e.fontSize)}}function Vie(t,n){if(1&t){const e=ye();x(0,"div",15)(1,"div",27)(2,"i",13),F(3,"format_line_spacing"),T()(),x(4,"div",24)(5,"my-slider-wrapper",28),cn("ngModelChange",function(r){z(e);const o=O(2);return An(o.lineHeight,r)||(o.lineHeight=r),G(r)}),W("change",function(){return z(e),G(O(2).onUpdateText())}),T()()()}if(2&t){const e=O(2);I(5),M("disabled",e.isSelectionInactive)("min",.8)("step",.1)("max",4),ln("ngModel",e.lineHeight)}}function Hie(t,n){if(1&t){const e=ye();qn(0),x(1,"div",1)(2,"mat-select",2),cn("valueChange",function(r){z(e);const o=O();return An(o.fontFamily,r)||(o.fontFamily=r),G(r)}),W("selectionChange",function(){return z(e),G(O().onUpdateText())}),Z(3,Nie,2,2,"mat-option",3),T()(),x(4,"mat-grid-list",4)(5,"mat-grid-tile")(6,"button",5),W("click",function(){return z(e),G(O().toggleBold())}),x(7,"i",6),F(8," format_bold "),T()()(),x(9,"mat-grid-tile")(10,"button",7),W("click",function(){return z(e),G(O().toggleItalic())}),x(11,"i",6),F(12," format_italic "),T()()(),x(13,"mat-grid-tile")(14,"button",8),W("click",function(){return z(e),G(O().toggleUnderline())}),x(15,"i",6),F(16," format_underlined "),T()()(),x(17,"mat-grid-tile")(18,"button",9),W("click",function(){return z(e),G(O().toggleLinethrough())}),x(19,"i",6),F(20," strikethrough_s "),T()()()(),Z(21,Fie,17,16,"mat-grid-list",10),x(22,"div",11)(23,"button",12),cn("colorPickerChange",function(r){z(e);const o=O();return An(o.color,r)||(o.color=r),G(r)}),W("colorPickerChange",function(){return z(e),G(O().onUpdateText())}),x(24,"i",13),F(25,"color_lens"),T()(),Z(26,Lie,2,5,"div",14),T(),x(27,"div",15)(28,"div",16),F(29),T(),Z(30,Bie,2,5,"div",14),T(),Z(31,Vie,6,5,"div",17),Xn()}if(2&t){const e=O();I(2),M("disabled",e.isSelectionInactive),ln("value",e.fontFamily),I(),M("ngForOf",e.fontList),I(3),M("disabled",e.isSelectionInactive),I(),M("ngClass",sr(26,Cg,"bold"===e.fontWeight,!e.isSelectionInactive)),I(3),M("disabled",e.isSelectionInactive),I(),M("ngClass",sr(29,Cg,"italic"===e.fontStyle,!e.isSelectionInactive)),I(3),M("disabled",e.isSelectionInactive),I(),M("ngClass",sr(32,Cg,e.underline,!e.isSelectionInactive)),I(3),M("disabled",e.isSelectionInactive),I(),M("ngClass",sr(35,Cg,e.linethrough,!e.isSelectionInactive)),I(2),M("ngIf","TEXT:EDITING"!==e.selectedToolType),I(2),M("disabled",e.isSelectionInactive),ln("colorPicker",e.color),M("cpWidth","196")("cpDisableInput",!0)("cpPosition","bottom")("cpPositionOffset","50%")("cpPositionRelativeToArrow",!0)("cpSaveClickOutside",!0),I(),ti("color",e.color),I(2),M("ngIf",void 0!==e.opacity),I(3),ht(" ",e.fontSize," "),I(),M("ngIf",void 0!==e.fontSize),I(),M("ngIf","TEXT:EDITING"!==e.selectedToolType&&void 0!==e.lineHeight)}}let jie=(()=>{class t{onUpdateText(){"TEXT"===this.selectedToolType?this.utilService.onUpdateText({color:this.color,opacity:this.opacity,fontFamily:this.fontFamily,fontSize:this.fontSize,fontWeight:this.fontWeight,fontStyle:this.fontStyle,underline:this.underline,linethrough:this.linethrough,textAlign:this.textAlign,lineHeight:this.lineHeight,charSpacing:this.charSpacing}):"TEXT:EDITING"===this.selectedToolType&&this.utilService.onUpdateText({fill:this.color,fontFamily:this.fontFamily,fontSize:this.fontSize,fontWeight:this.fontWeight,fontStyle:this.fontStyle,underline:this.underline,linethrough:this.linethrough})}toggleBold(){this.fontWeight="normal"===this.fontWeight?"bold":"normal",this.onUpdateText()}toggleItalic(){this.fontStyle="normal"===this.fontStyle?"italic":"normal",this.onUpdateText()}toggleUnderline(){this.underline=!this.underline,this.onUpdateText()}toggleLinethrough(){this.linethrough=!this.linethrough,this.onUpdateText()}setTextAlign(e){this.textAlign=e,this.onUpdateText()}constructor(e){this.utilService=e,this.color="#7F7F7F",this.opacity=1,this.fontFamily="Roboto",this.fontSize=24,this.fontWeight="normal",this.fontStyle="normal",this.underline=!1,this.linethrough=!1,this.textAlign="left",this.lineHeight=1.6,this.charSpacing=0,this.isSelectionInactive=!1,this.fontList=["Roboto","Alegreya Sans"],this.showSliders=!1}ngOnInit(){this.activeObjectProps&&"TEXT"===this.selectedToolType&&(this.color=this.activeObjectProps.color,this.opacity=this.activeObjectProps.opacity,this.fontFamily=this.activeObjectProps.fontFamily,this.fontSize=this.activeObjectProps.fontSize,this.fontStyle=this.activeObjectProps.fontStyle,this.underline=this.activeObjectProps.underline,this.linethrough=this.activeObjectProps.linethrough,this.textAlign=this.activeObjectProps.textAlign,this.lineHeight=this.activeObjectProps.lineHeight,this.charSpacing=this.activeObjectProps.charSpacing),this.isSelectionInactive=!1}ngOnChanges(){this.activeObjectProps&&"TEXT"===this.selectedToolType?(this.color=this.activeObjectProps.color,this.opacity=this.activeObjectProps.opacity,this.fontFamily=this.activeObjectProps.fontFamily,this.fontWeight=this.activeObjectProps.fontWeight,this.fontSize=this.activeObjectProps.fontSize,this.fontStyle=this.activeObjectProps.fontStyle,this.underline=this.activeObjectProps.underline,this.linethrough=this.activeObjectProps.linethrough,this.textAlign=this.activeObjectProps.textAlign,this.lineHeight=this.activeObjectProps.lineHeight,this.charSpacing=this.activeObjectProps.charSpacing):this.activeObjectProps&&"TEXT:EDITING"===this.selectedToolType&&(this.color=this.activeObjectProps.fill||"#7F7F7F",this.fontFamily=this.activeObjectProps.fontFamily||"Roboto",this.fontSize=this.activeObjectProps.fontSize||24,this.fontWeight=this.activeObjectProps.fontWeight||"normal",this.fontStyle=this.activeObjectProps.fontStyle||"normal",this.underline=this.activeObjectProps.underline||!1,this.linethrough=this.activeObjectProps.linethrough||!1,this.isSelectionInactive=this.activeObjectProps.isSelectionInactive||!1)}ngAfterViewInit(){setTimeout(()=>this.showSliders=!0,0)}static{this.\u0275fac=function(i){return new(i||t)(k(_s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-text-tools"]],inputs:{selectedToolType:"selectedToolType",activeObjectProps:"activeObjectProps"},features:[bi],decls:1,vars:1,consts:[[4,"ngIf"],[1,"text-field-container"],["placeholder","Font family","disableRipple","",1,"text-field",3,"valueChange","selectionChange","disabled","value"],[3,"value",4,"ngFor","ngForOf"],["cols","4","rowHeight","48px",1,"style-container"],["matTooltip","Bold","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],[1,"material-icons",3,"ngClass"],["matTooltip","Italic","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["matTooltip","Underline","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["matTooltip","Strikeout","matTooltipPosition","above","mat-icon-button","",3,"click","disabled"],["class","style-container","cols","4","rowHeight","48px",4,"ngIf"],[1,"picker-container",2,"margin-top","12px"],["matTooltip","Text Color","matTooltipPosition","above","mat-icon-button","",3,"colorPickerChange","disabled","colorPicker","cpWidth","cpDisableInput","cpPosition","cpPositionOffset","cpPositionRelativeToArrow","cpSaveClickOutside"],[1,"material-icons","icons"],["class","slider-wrapper",4,"ngIf"],[1,"picker-container"],["matTooltip","Font Size","matTooltipPosition","above",1,"font-size-text"],["class","picker-container",4,"ngIf"],[3,"value"],["mat-icon-button","","matTooltip","Left Align","matTooltipPosition","above",3,"click","disabled"],[1,"material-icons","icons",3,"ngClass"],["mat-icon-button","","matTooltip","Center Align","matTooltipPosition","above",3,"click","disabled"],["mat-icon-button","","matTooltip","Right Align","matTooltipPosition","above",3,"click","disabled"],["mat-icon-button","","matTooltip","Justify","matTooltipPosition","above",3,"click","disabled"],[1,"slider-wrapper"],["name","opacity",1,"slider",3,"ngModelChange","change","disabled","min","step","max","ngModel"],["name","fontSize",1,"slider",3,"ngModelChange","change","disabled","min","step","max","ngModel"],["matTooltip","Line Spacing","matTooltipPosition","above",1,"non-interactive-icon-wrapper"],["name","lineHeight",1,"slider",3,"ngModelChange","change","disabled","min","step","max","ngModel"]],template:function(i,r){1&i&&Z(0,Hie,32,38,"ng-container",0),2&i&&M("ngIf",r.showSliders)},dependencies:[Ro,Ri,Pt,Un,dd,q2,Q2,Rh,hd,Ws,Rie,EP,Ph],styles:[".icons[_ngcontent-%COMP%]{color:#dddbdb}.active-icon[_ngcontent-%COMP%]{color:#69f0ae}.slider-wrapper[_ngcontent-%COMP%]{flex:1;margin:0 8px 0 0}.slider[_ngcontent-%COMP%]{width:100%}.picker-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center}.style-container[_ngcontent-%COMP%]{margin:4px 0 0}.text-field-container[_ngcontent-%COMP%]{width:100%;margin:16px 0 8px}.text-field[_ngcontent-%COMP%]{width:calc(100% - 32px);margin:0 16px;color:#eee}.font-size-text[_ngcontent-%COMP%]{height:40px;width:40px;color:#eee;line-height:40px;vertical-align:middle;text-align:center}.non-interactive-icon-wrapper[_ngcontent-%COMP%]{height:40px;width:40px;display:flex;flex-direction:row;justify-content:center;align-items:center}.button-container[_ngcontent-%COMP%]{width:100%;margin:8px 0 0}.button[_ngcontent-%COMP%]{width:calc(100% - 16px);margin:0 8px}"]})}}return t})();function Uie(t,n){if(1&t){const e=ye();qn(0),x(1,"mat-grid-list",1)(2,"mat-grid-tile")(3,"button",2),W("click",function(){return z(e),G(O().addShapeMask("RECTANGLE"))}),x(4,"i",3),F(5,"crop_landscape"),T()()(),x(6,"mat-grid-tile")(7,"button",4),W("click",function(){return z(e),G(O().addShapeMask("CIRCLE"))}),x(8,"i",3),F(9,"panorama_fish_eye"),T()()(),x(10,"mat-grid-tile")(11,"button",5),W("click",function(){return z(e),G(O().addShapeMask("TRIANGLE"))}),x(12,"i",3),F(13,"change_history"),T()()()(),x(14,"div",6)(15,"button",7),cn("colorPickerChange",function(r){z(e);const o=O();return An(o.color,r)||(o.color=r),G(r)}),W("colorPickerChange",function(){return z(e),G(O().onUpdateShapeMask())}),x(16,"i",3),F(17,"color_lens"),T()(),x(18,"div",8)(19,"my-slider-wrapper",9),cn("ngModelChange",function(r){z(e);const o=O();return An(o.opacity,r)||(o.opacity=r),G(r)}),W("change",function(){return z(e),G(O().onUpdateShapeMask())}),T()()(),x(20,"div",10)(21,"div",11)(22,"i",3),F(23,"layers"),T()(),x(24,"div",12)(25,"my-slider-wrapper",13),cn("ngModelChange",function(r){z(e);const o=O();return An(o.shadowAmount,r)||(o.shadowAmount=r),G(r)}),W("change",function(){return z(e),G(O().onUpdateShapeMask())}),T()()(),x(26,"div",10)(27,"div",14)(28,"i",3),F(29,"grain"),T()(),x(30,"div",12)(31,"my-slider-wrapper",15),cn("ngModelChange",function(r){z(e);const o=O();return An(o.shadowBlur,r)||(o.shadowBlur=r),G(r)}),W("change",function(){return z(e),G(O().onUpdateShapeMask())}),T()()(),x(32,"div",10)(33,"div",16)(34,"i",3),F(35,"border_bottom"),T()(),x(36,"div",12)(37,"my-slider-wrapper",17),cn("ngModelChange",function(r){z(e);const o=O();return An(o.shadowOffsetX,r)||(o.shadowOffsetX=r),G(r)}),W("change",function(){return z(e),G(O().onUpdateShapeMask())}),T()()(),x(38,"div",10)(39,"div",18)(40,"i",3),F(41,"border_right"),T()(),x(42,"div",12)(43,"my-slider-wrapper",19),cn("ngModelChange",function(r){z(e);const o=O();return An(o.shadowOffsetY,r)||(o.shadowOffsetY=r),G(r)}),W("change",function(){return z(e),G(O().onUpdateShapeMask())}),T()()(),Xn()}if(2&t){const e=O();I(15),M("disabled",e.isSelectionInactive),ln("colorPicker",e.color),M("cpWidth","196")("cpDisableInput",!0)("cpPosition","bottom")("cpPositionOffset","50%")("cpPositionRelativeToArrow",!0)("cpSaveClickOutside",!0),I(),ti("color",e.color),I(3),M("disabled",e.isSelectionInactive)("min",0)("step",.1)("max",1),ln("ngModel",e.opacity),I(6),M("disabled",e.isSelectionInactive)("min",0)("step",.1)("max",1),ln("ngModel",e.shadowAmount),I(6),M("disabled",e.isSelectionInactive)("min",0)("step",1)("max",20),ln("ngModel",e.shadowBlur),I(6),M("disabled",e.isSelectionInactive)("min",-20)("step",1)("max",20),ln("ngModel",e.shadowOffsetX),I(6),M("disabled",e.isSelectionInactive)("min",-20)("step",.8)("max",20),ln("ngModel",e.shadowOffsetY)}}let zie=(()=>{class t{constructor(e){this.utilService=e,this.isSelectionInactive=!1,this.color="#a0c9d5",this.opacity=1,this.shadowAmount=.3,this.shadowBlur=5,this.shadowOffsetX=0,this.shadowOffsetY=0,this.showSliders=!1}ngOnInit(){this.activeObjectProps&&this.applyActiveProps(this.activeObjectProps)}ngOnChanges(e){e.activeObjectProps&&this.activeObjectProps&&this.applyActiveProps(this.activeObjectProps),this.isSelectionInactive=!(!this.activeObjectProps||!this.activeObjectProps.isSelectionInactive)}applyActiveProps(e){if(this.color=null!=e.color?e.color:this.color,this.opacity=null!=e.opacity?e.opacity:this.opacity,void 0!==e.shadowAmount)this.shadowAmount=e.shadowAmount;else if(e.shadow&&"object"==typeof e.shadow&&e.shadow.color){const i=/rgba?\(([^)]+)\)/.exec(e.shadow.color);if(i){const r=i[1].split(",").map(o=>o.trim());if(r.length>=4){const o=parseFloat(r[3]);Number.isNaN(o)||(this.shadowAmount=o)}}}this.shadowBlur=null!=e.shadowBlur?e.shadowBlur:this.shadowBlur,this.shadowOffsetX=null!=e.shadowOffsetX?e.shadowOffsetX:this.shadowOffsetX,this.shadowOffsetY=null!=e.shadowOffsetY?e.shadowOffsetY:this.shadowOffsetY}onUpdateShapeMask(){this.utilService.onUpdateShapeMask({color:this.color,opacity:this.opacity,shadowAmount:this.shadowAmount,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY})}addShapeMask(e){this.utilService.canvasCommand("ADD_SHAPE_MASK",{shape:e,color:this.color,opacity:this.opacity,shadowAmount:this.shadowAmount,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY})}ngAfterViewInit(){setTimeout(()=>this.showSliders=!0,0)}static{this.\u0275fac=function(i){return new(i||t)(k(_s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-shape-mask-tools"]],inputs:{selectedToolType:"selectedToolType",activeObjectProps:"activeObjectProps"},features:[bi],decls:1,vars:1,consts:[[4,"ngIf"],["cols","3","rowHeight","48px",1,"style-container"],["matTooltip","Add Rectangle Mask","matTooltipPosition","above","mat-icon-button","",3,"click"],[1,"material-icons","icons"],["matTooltip","Add Circle Mask","matTooltipPosition","above","mat-icon-button","",3,"click"],["matTooltip","Add Triangle Mask","matTooltipPosition","above","mat-icon-button","",3,"click"],[1,"picker-container",2,"margin","12px 0 0 0"],["matTooltip","Text Color","matTooltipPosition","above","mat-icon-button","",3,"colorPickerChange","disabled","colorPicker","cpWidth","cpDisableInput","cpPosition","cpPositionOffset","cpPositionRelativeToArrow","cpSaveClickOutside"],[1,"slider-wrapper",2,"margin-left","8px"],["name","opacity",1,"slider",3,"ngModelChange","change","disabled","min","step","max","ngModel"],[1,"picker-container"],["matTooltip","Shadow Amount","matTooltipPosition","above",1,"non-interactive-icon-wrapper"],[1,"slider-wrapper"],["name","shadowAmount",1,"slider",3,"ngModelChange","change","disabled","min","step","max","ngModel"],["matTooltip","Shadow Blur","matTooltipPosition","above",1,"non-interactive-icon-wrapper"],["name","shadowBlur",1,"slider",3,"ngModelChange","change","disabled","min","step","max","ngModel"],["matTooltip","Shadow Offset X","matTooltipPosition","above",1,"non-interactive-icon-wrapper"],["name","shadowOffsetX",1,"slider",3,"ngModelChange","change","disabled","min","step","max","ngModel"],["matTooltip","Shadow Offset Y","matTooltipPosition","above",1,"non-interactive-icon-wrapper"],["name","shadowOffsetY",1,"slider",3,"ngModelChange","change","disabled","min","step","max","ngModel"]],template:function(i,r){1&i&&Z(0,Uie,44,35,"ng-container",0),2&i&&M("ngIf",r.showSliders)},dependencies:[Pt,Un,dd,q2,Q2,Rh,hd,Ws,Ph],styles:[".icons[_ngcontent-%COMP%]{color:#dddbdb}.slider-wrapper[_ngcontent-%COMP%]{flex:1;margin:0 8px 0 0}.slider[_ngcontent-%COMP%]{width:100%}.picker-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center}.style-container[_ngcontent-%COMP%]{margin:4px 0 0}.non-interactive-icon-wrapper[_ngcontent-%COMP%]{height:40px;width:40px;display:flex;flex-direction:row;justify-content:center;align-items:center}"]})}}return t})();const oC=t=>({icons:t});function Gie(t,n){if(1&t){const e=ye();x(0,"button",12),W("click",function(){return z(e),G(O().cleanSelect())}),x(1,"i",6),F(2,"do_not_disturb_alt"),T()()}if(2&t){const e=O();M("disabled",void 0===e.selection),I(),M("ngClass",Ht(2,oC,void 0!==e.selection))}}let Wie=(()=>{class t{onChangeToolType(e){this.selectedToolType=e}cleanSelect(){this.utilService.canvasCommand("CLEAN_SELECT",{}),this.onChangeToolType("MAIN")}backToMainMenu(){this.utilService.canvasCommand("BACK_TO_MAIN_MENU",{}),this.onChangeToolType("MAIN")}bringForward(){this.utilService.canvasCommand("BRING_FORWARD",{})}sendBackward(){this.utilService.canvasCommand("SEND_BACKWARD",{})}constructor(e){this.utilService=e,this.selectedToolTypeList=["MAIN","TEXT","TEXT:EDITING","CROP","PREVIEW","FILTER:ALL","FILTER:SINGLE","SHAPE_MASK","PEN","DEACTIVATE"],this.fileUrlList=[],this.closeSignal=new Fe,this.selectedToolType=this.selectedToolTypeList[0],this.onChangeToolTypeSubscription=e.changeToolType$.subscribe(({toolType:i,activeObjectProps:r})=>{r&&(this.activeObjectProps=r),this.onChangeToolType(i)}),this.onSelectionCreatedSubscription=e.onSelectionCreated$.subscribe(({selection:i,selectionType:r})=>{this.selectionType=r,this.selection=i}),this.selection=void 0,this.onSelectionCreatedSubscription=e.onSelectionCreated$.subscribe(({selection:i})=>{this.selection=i}),this.index=1,this.orientation="LANDSCAPE"}ngOnInit(){this.fileInputElement=document.getElementById("upload-file-input")}ngOnDestroy(){this.onChangeToolTypeSubscription.unsubscribe(),this.onSelectionCreatedSubscription.unsubscribe()}onClearByIndex(e){this.fileUrlList=this.fileUrlList.filter((i,r)=>r!==e)}onClearAll(){this.fileUrlList=[]}onRemoveObjectFromCanvas(){this.utilService.canvasCommand("DELETE",{})}addImageOnCanvas(e){this.utilService.addImageToCanvas(e)}changeOrientation(e){this.orientation=e,this.utilService.changeCanvasSize(e,this.index)}getNotification(e){console.log(e),this.closeSignal.emit(e)}static{this.\u0275fac=function(i){return new(i||t)(k(_s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-toolbar"]],outputs:{closeSignal:"closeSignal"},decls:18,vars:23,consts:[[1,"toolbar-wrapper"],[1,"icon-panel"],["matTooltip","Go Back","mat-icon-button","",3,"click","hidden"],[1,"material-icons","icons"],["matTooltip","Clean Selected","mat-icon-button","",3,"disabled","click",4,"ngIf"],["matTooltip","Bring Forward","mat-icon-button","",3,"click","disabled"],[1,"material-icons",3,"ngClass"],["matTooltip","Send backward","mat-icon-button","",3,"click","disabled"],[1,"main-tool-slider"],[3,"closeSignal","selectedToolType","hidden"],[3,"selectedToolType","activeObjectProps","hidden"],[3,"selectedToolType","hidden"],["matTooltip","Clean Selected","mat-icon-button","",3,"click","disabled"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"button",2),W("click",function(){return r.backToMainMenu()}),x(3,"i",3),F(4,"arrow_back"),T()(),Z(5,Gie,3,4,"button",4),x(6,"button",5),W("click",function(){return r.bringForward()}),x(7,"i",6),F(8,"flip_to_front"),T()(),x(9,"button",7),W("click",function(){return r.sendBackward()}),x(10,"i",6),F(11,"flip_to_back"),T()()(),x(12,"div",8)(13,"app-main-tool",9),W("closeSignal",function(s){return r.getNotification(s)}),T(),_e(14,"app-filter-tool",10)(15,"app-crop-tools",11)(16,"app-text-tools",10)(17,"app-shape-mask-tools",10),T()()),2&i&&(I(2),M("hidden","MAIN"===r.selectedToolType||"DEACTIVATE"===r.selectedToolType),I(3),M("ngIf","MAIN"===r.selectedToolType||"DEACTIVATE"===r.selectedToolType),I(),M("disabled",void 0===r.selection||"group"===r.selectionType),I(),M("ngClass",Ht(19,oC,void 0!==r.selection&&"group"!==r.selectionType)),I(2),M("disabled",void 0===r.selection||"group"===r.selectionType),I(),M("ngClass",Ht(21,oC,void 0!==r.selection&&"group"!==r.selectionType)),I(3),M("selectedToolType",r.selectedToolType)("hidden",!("MAIN"===r.selectedToolType||"DEACTIVATE"===r.selectedToolType)),I(),M("selectedToolType",r.selectedToolType)("activeObjectProps",r.activeObjectProps)("hidden",!("FILTER:ALL"===r.selectedToolType||"FILTER:SINGLE"===r.selectedToolType)),I(),M("selectedToolType",r.selectedToolType)("hidden","CROP"!==r.selectedToolType),I(),M("selectedToolType",r.selectedToolType)("activeObjectProps",r.activeObjectProps)("hidden",!("TEXT"===r.selectedToolType||"TEXT:EDITING"===r.selectedToolType)),I(),M("selectedToolType",r.selectedToolType)("activeObjectProps",r.activeObjectProps)("hidden","SHAPE_MASK"!==r.selectedToolType))},dependencies:[Ro,Pt,Ws,Ph,zee,Wee,$ee,jie,zie],styles:[".toolbar-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-panel[_ngcontent-%COMP%]{height:10%;min-height:40px;width:calc(100% - 8px);display:flex;flex-direction:row;justify-content:center;align-items:center;margin:8px;border-bottom:1px solid #dddbdb}.icons[_ngcontent-%COMP%]{color:#dddbdb}.active-icon[_ngcontent-%COMP%]{color:#69f0ae}.spacer[_ngcontent-%COMP%]{flex:1}.main-tool-slider[_ngcontent-%COMP%]{height:90%;position:relative;z-index:9;overflow-x:hidden;overflow-y:hidden}.main-tool-slider[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin:16px 15px 0 0}.main-tool-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3n+1){margin:16px 15px 0}"]})}}return t})(),sC=(()=>{class t{constructor(e,i,r,o,s,a){this.authService=e,this.utilService=i,this.snackBar=r,this.dialogRef=o,this.data=s,this.rService=a,this.openSnackBarSubscription=i.openSnackBar$.subscribe(({message:l,duration:m})=>{this.snackBar.open(l,void 0,{duration:m})})}ngOnInit(){this.authService.user().subscribe(e=>{this.user_id=e.id}),console.log(this.data),this.utilService.uploadedImageURL=this.data.image,this.utilService.uploadedId=this.data.id,this.utilService.originalCaption=this.data.caption}ngOnDestroy(){this.openSnackBarSubscription.unsubscribe()}onClose(){this.dialogRef.close(this.utilService.dataPostUpdate)}getNotification(e){console.log(e),"True"===e&&this.onClose()}static{this.\u0275fac=function(i){return new(i||t)(k(ii),k(_s),k(E2),k(Ho),k(zs),k(Nr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-image-editor"]],decls:9,vars:0,consts:[[1,"editor-container"],["mat-icon-button","",1,"menubar-container",3,"click"],[1,"material-icons","icons"],[1,"work-panel"],[1,"canvas-container"],[1,"toolbar-container"],[3,"closeSignal"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"button",1),W("click",function(){return r.onClose()}),x(2,"i",2),F(3,"clear"),T()(),x(4,"div",3)(5,"div",4),_e(6,"app-canvas"),T(),x(7,"div",5)(8,"app-toolbar",6),W("closeSignal",function(s){return r.getNotification(s)}),T()()()())},dependencies:[Ws,aee,Wie],styles:[".editor-container[_ngcontent-%COMP%]{height:100vh;width:auto}.menubar-container[_ngcontent-%COMP%]{height:5%}.work-panel[_ngcontent-%COMP%]{background:#e2e1e0;height:92%;min-height:663px;display:flex;flex-direction:row;justify-content:center;align-items:center}.image-picker-container[_ngcontent-%COMP%]{position:relative;z-index:10;background:#303030;min-width:208px;max-width:208px;height:78%}.canvas-container[_ngcontent-%COMP%]{padding:16px;background:#fff;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.toolbar-container[_ngcontent-%COMP%]{background:#303030;min-width:208px;max-width:208px;height:78%}"]})}}return t})();function Yie(t,n){if(1&t){const e=ye();qn(0),x(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h3"),F(6),T()()()(),x(7,"div",5)(8,"div",8),_e(9,"img",9),T(),x(10,"div",10)(11,"div",5)(12,"div",11)(13,"mat-icon",12),W("click",function(){const r=z(e).index;return G(O().deleteReel(r))}),F(14,"delete_forever"),T()(),x(15,"div",11)(16,"mat-icon",13),W("click",function(){const r=z(e).index;return G(O().onEdit(r))}),F(17,"edit"),T()()()()()(),Xn()}if(2&t){const e=n.$implicit,i=n.index;I(),M("formGroupName",i),I(5),tt(e.get("caption").value),I(3),M("src",e.get("image").value,Jt)}}let $ie=(()=>{class t{constructor(e,i,r,o){this.fb=e,this.dialog=i,this.fileTransferService=r,this.rService=o,this.storyDetailForm=this.fb.group({reels:this.fb.array([])})}ngOnInit(){}get reels(){return this.storyDetailForm.controls.reels}addReel(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.disableClose=!0,this.dialog.open(C2,e).afterClosed().subscribe(i=>{if(i){console.log(i);const r=this.fb.group({id:[i.id],caption:[i.caption],image:[i.image]});this.reels.push(r)}})}deleteReel(e){this.rService.deleteReel(this.reels.controls[e].value.id).subscribe(()=>{this.reels.removeAt(e)})}onEdit(e){console.log(this.reels.value[e]);const i=new $i;i.autoFocus=!1,i.minWidth="1200px",i.disableClose=!0,this.reels.value[e].image.split(":")[0]||(this.reels.value[e].image="http://localhost:4500/"+this.reels.value[e].image),i.data={id:this.reels.value[e].id,image:this.reels.value[e].image,caption:this.reels.value[e].caption},this.dialog.open(sC,i).afterClosed().subscribe(r=>{if(r){this.reels.at(e).patchValue({image:"http://localhost:4500/"+r.image,caption:r.caption});const o={id:this.reels.value[e].id,image:r.image,caption:this.reels.value[e].caption},s=this.fileTransferService.fileFieldList.findIndex(a=>a.id===o.id);-1!==s&&(this.fileTransferService.fileFieldList[s]=o)}})}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(uo),k(ol),k(Nr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-new-partb"]],decls:8,vars:2,consts:[["enctype","multipart/form-data",3,"formGroup"],["formArrayName","reels"],[4,"ngFor","ngForOf"],[1,"edit-btn",3,"click"],[3,"formGroupName"],[1,"row"],[1,"col-xs-12"],[1,"form-group"],[1,"col-md-8"],[1,"img-responsive",2,"max-width","600px",3,"src"],[1,"col-md-4"],[1,"col-md-6"],[1,"delete-btn","float-end",3,"click"],[1,"edit-btn","float-end",3,"click"]],template:function(i,r){1&i&&(x(0,"h3"),F(1,"Add Reels"),T(),x(2,"div",0),qn(3,1),Z(4,Yie,18,3,"ng-container",2),Xn(),x(5,"button",3),W("click",function(){return r.addReel()}),x(6,"mat-icon"),F(7,"add"),T()()()),2&i&&(I(2),M("formGroup",r.storyDetailForm),I(2),M("ngForOf",r.reels.controls))},dependencies:[Ri,Kn,Dn,cl,dl,kA],styles:[".delete-btn[_ngcontent-%COMP%]{background-color:#da4747}.edit-btn[_ngcontent-%COMP%]{background-color:#2d7007}"]})}}return t})();function qie(t,n){1&t&&F(0,"Story Details")}function Xie(t,n){1&t&&(x(0,"div",9)(1,"button",17),F(2,"Next"),T()())}function Qie(t,n){1&t&&F(0,"Story Reels")}let Kie=(()=>{class t{constructor(e,i,r,o,s,a){this.router=e,this.sService=i,this.cdref=r,this.authService=o,this.fileTransferService=s,this.rfileTransferService=a,this.reelfileFieldList=[]}ngOnInit(){this.authService.user().subscribe(e=>{this.user_id=e.id})}ngAfterContentChecked(){this.cdref.detectChanges()}onCancel(){this.router.navigateByUrl("/story")}submit(e,i){this.reelfileFieldList=this.rfileTransferService.fileFieldList||[];const r=this.reelfileFieldList.map(a=>({id:a.id,caption:a.caption,image:a.image,reel_owner:this.user_id})),o={title:e.title,description:e.description,longDescription:e.longDescription,tags:e.tags||[],reels:r,owner:this.user_id},s=new FormData;this.fileTransferService.image&&s.append("image",this.fileTransferService.image),this.sService.addStory(o).pipe(dn(a=>{const l=a?.id;return l?this.fileTransferService.image?this.sService.addStoryImage(l,s).pipe(dn(m=>ot({storyId:l,imageResp:m})),Lo(m=>(console.error("Error uploading story image",m),ot({storyId:l,imageResp:null})))):ot({storyId:l,imageResp:null}):(console.error("Create story did not return id",a),ot(null))}),Lo(a=>(console.error("Error creating story",a),ot(null)))).subscribe(a=>{a&&(this.rfileTransferService.fileFieldList=[],localStorage.removeItem("STEP_1"),this.router.navigateByUrl("/story"))})}static{this.\u0275fac=function(i){return new(i||t)(k(Kt),k(yr),k(Qt),k(ii),k(eg),k(ol))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-new"]],decls:24,vars:4,consts:[["stepper","matHorizontalStepper"],["step1",""],["step2",""],[1,"data-form"],[1,"title"],["labelPosition","bottom",1,"mat-elevation-z5"],["errorMessage","Story page in error",3,"stepControl"],["matStepLabel",""],[1,"row"],[1,"col-md-6","stepper-buttons"],["type","button",1,"btn","btn-primary","float-start",3,"click"],["class","col-md-6 stepper-buttons",4,"ngIf"],["errorMessage","Reel Page in error",3,"stepControl"],[1,"stepper-buttons"],["matStepperPrevious","",1,"btn","btn-primary","float-start"],["color","primary",1,"btn","btn-primary","float-end",3,"click","disabled"],[1,"scrolling-space"],["matStepperNext","",1,"btn","btn-primary","float-end"]],template:function(i,r){if(1&i){const o=ye();x(0,"div",3)(1,"h2",4),F(2,"Create New Story"),T(),x(3,"mat-horizontal-stepper",5,0)(5,"mat-step",6),_e(6,"app-story-new-parta",null,1),Z(8,qie,1,0,"ng-template",7),x(9,"div",8)(10,"div",9)(11,"button",10),W("click",function(){return z(o),G(r.onCancel())}),F(12,"Cancel"),T()(),Z(13,Xie,3,0,"div",11),T()(),x(14,"mat-step",12),_e(15,"app-story-new-partb",null,2),Z(17,Qie,1,0,"ng-template",7),x(18,"div",13)(19,"button",14),F(20,"Back"),T(),x(21,"button",15),W("click",function(){z(o);const a=Vi(7),l=Vi(16);return G(r.submit(a.storyStartForm.value,l.storyDetailForm.value))}),F(22," Create Story "),T()()()()(),_e(23,"div",16)}if(2&i){const o=Vi(7),s=Vi(16);I(5),M("stepControl",o.storyStartForm),I(8),M("ngIf",!!o.storyStartForm),I(),M("stepControl",s.storyDetailForm),I(7),M("disabled",!(s.storyDetailForm.value.reels.length>0))}},dependencies:[Pt,PA,Th,Dh,gR,_R,qJ,$ie],styles:[".data-form[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1200px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.heading[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important;padding:10px;text-align:center}"]})}}return t})();function Gt(t,n){const e="object"==typeof n;return new Promise((i,r)=>{let s,o=!1;t.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?i(s):e?i(n.defaultValue):r(new $u)}})})}function Zie(t,n){if(1&t&&(x(0,"div",22),_e(1,"img",23),T()),2&t){const e=O(2);I(),M("src",e.storyStartForm.get("image").value,Jt)}}function Jie(t,n){if(1&t&&(x(0,"div",22),_e(1,"img",24),T()),2&t){const e=O(2);I(),M("src",e.imageUrl,Jt)}}function ene(t,n){if(1&t){const e=ye();x(0,"div",5)(1,"div",25)(2,"div",26),_e(3,"input",27),T(),x(4,"div",28)(5,"button",29),W("click",function(){const r=z(e).index;return G(O(2).onDeleteTag(r))}),F(6,"Delete Tag"),T()()()()}if(2&t){const e=n.index;I(),M("formGroupName",e)}}function tne(t,n){if(1&t){const e=ye();x(0,"div",5)(1,"button",30),W("click",function(){return z(e),G(O(2).onAddTag())}),F(2,"Add Tag"),T()()}}function ine(t,n){if(1&t){const e=ye();x(0,"div",2)(1,"div",3)(2,"form",4)(3,"div",5)(4,"div",3)(5,"div",6)(6,"label",7),F(7,"Title"),T(),_e(8,"input",8),T()()(),x(9,"div",5)(10,"div",3)(11,"div",6)(12,"label",9),F(13,"Description"),T(),_e(14,"input",10),T()()(),x(15,"div",5)(16,"div",3)(17,"div",6)(18,"label",11),F(19,"Background"),T(),_e(20,"input",12),T()()(),x(21,"div",5)(22,"div",13),Z(23,Zie,2,1,"div",14)(24,Jie,2,1,"div",14),T(),x(25,"div",15)(26,"input",16,0),W("change",function(r){return z(e),G(O().onFileSelected(r))}),T(),x(28,"button",17),W("click",function(){z(e);const r=Vi(27);return G(O().onUploadButtonTrigger(r))}),x(29,"i",18),F(30,"add_a_photo"),T()()()(),x(31,"div",5)(32,"div",19),Z(33,ene,7,1,"div",20),T(),Z(34,tne,3,0,"div",21),T()()()()}if(2&t){const e=O();I(2),M("formGroup",e.storyStartForm),I(21),M("ngIf",!e.imageUrl),I(),M("ngIf",!!e.imageUrl),I(9),M("ngForOf",e.tags.controls),I(),M("ngIf",!(e.storyStartForm.value.tags.length>0))}}let nne=(()=>{class t{onFileSelected(e){this.selectedFile=e.target.files[0],this.imageUrl=URL.createObjectURL(this.selectedFile),this.fileTransferService.image=this.selectedFile}onUploadButtonTrigger(e){e.click()}get tags(){return this.storyStartForm.controls.tags}constructor(e,i,r,o,s){this.route=e,this.sService=i,this.router=r,this.fileTransferService=o,this.rfileTransferService=s,this.editMode=!1,this.uploaded=new Fe}ngOnInit(){this.route.params.subscribe(e=>{this.storyId=e.id}),this.loadData()}ngAfterViewInit(){this.fileInputElement=document.getElementById("upload-file-input")}onAddTag(){this.storyStartForm.get("tags").push(new Kr({name:new Pi("",mi.required)}))}onDeleteTag(e){this.storyStartForm.get("tags").removeAt(e)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}loadData(){var e=this;return le(function*(){e.story$=e.sService.fetchStory(e.storyId);const i=yield Gt(e.story$);e.story={id:i.id,title:i.title,description:i.description,longDescription:i.longDescription,image:i.image,reels:i.reels,tags:i.tags,owner:i.owner},i.reels.forEach(r=>{e.rfileTransferService.fileFieldList.push({id:r.id,image:r.image,caption:r.caption})}),e.initForm()})()}initForm(){let o,s,e="",i="",r="",a=new mg([]);if(this.story&&(e=this.story.title,i=this.story.description,r=this.story.longDescription,o=this.story.image,s=this.story.owner),this.story.tags)for(let l of this.story.tags)a.push(new Kr({name:new Pi(l.name,mi.required)}));this.storyStartForm=new Kr({title:new Pi(e,mi.required),image:new Pi(o,mi.required),description:new Pi(i,mi.required),longDescription:new Pi(r,mi.required),tags:a,owner:new Pi(s,mi.required)})}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k(yr),k(Kt),k(eg),k(ol))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-edit-parta"]],outputs:{uploaded:"uploaded"},decls:1,vars:1,consts:[["fileInput",""],["class","row container",4,"ngIf"],[1,"row","container"],[1,"col-xs-12"],["enctype","multipart/form-data",3,"formGroup"],[1,"row"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control"],["for","longDescription"],["type","text","id","longDescription","formControlName","longDescription",1,"form-control"],[1,"col-8"],["class","col-12 imagerow",4,"ngIf"],[1,"col-4"],["type","file","id","upload-file-input","accept","image/*",2,"display","none",3,"change"],["mat-icon-button","","id","upload-file-button",3,"click"],[1,"material-icons","icons"],["formArrayName","tags",1,"col-xs-12"],["class","row",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-12","imagerow"],[2,"max-width","600px",3,"src"],[2,"max-width","200px",3,"src"],[1,"row",3,"formGroupName"],[1,"col-md-8"],["type","text","formControlName","name","placeholder","Tag Name",1,"form-control",2,"margin","8px"],[1,"col-md-4"],["type","button",1,"btn","btn-primary","float-end",3,"click"],["type","button",1,"btn","btn-primary","float-end",2,"margin","10px auto",3,"click"]],template:function(i,r){1&i&&Z(0,ine,35,5,"div",1),2&i&&M("ngIf",!!r.story)},dependencies:[Ri,Pt,jo,jn,Un,Kn,Dn,wr,cl,dl,Ws],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.row[_ngcontent-%COMP%], .imagerow[_ngcontent-%COMP%]{margin:10px auto}.imagerow[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;background-color:#a0c9d5;display:block;margin:auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:150px}input[type=file][_ngcontent-%COMP%]{display:none}"]})}}return t})();function rne(t,n){if(1&t){const e=ye();qn(0),x(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h3"),F(6),T()()()(),x(7,"div",6)(8,"div",9),_e(9,"img",10),T(),x(10,"div",11)(11,"div",6)(12,"div",12)(13,"mat-icon",13),W("click",function(){const r=z(e).index;return G(O().deleteReel(r))}),F(14,"delete_forever"),T()(),x(15,"div",12)(16,"mat-icon",14),W("click",function(){const r=z(e).index;return G(O().onEdit(r))}),F(17,"edit"),T()()()()()(),_e(18,"hr"),Xn()}if(2&t){const e=n.$implicit,i=n.index;I(),M("formGroupName",i),I(5),tt(e.get("caption").value),I(3),M("src",e.get("image").value,Jt)}}let one=(()=>{class t{constructor(e,i,r,o,s){this.fb=e,this.rService=i,this.dialog=r,this.rfileTransferService=o,this.utilService=s,this.storyDetailForm=this.fb.group({reels:this.fb.array([])})}ngOnInit(){setTimeout(()=>{if(this.reelsData){const e=this.storyDetailForm.get("reels");this.reelsData.forEach(i=>{e.push(this.fb.group({id:i.id,caption:i.caption,image:i.image}))})}},500)}get reels(){return this.storyDetailForm.controls.reels}addReel(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.disableClose=!0,this.dialog.open(C2,e).afterClosed().subscribe(i=>{if(i){console.log(i);const r=this.fb.group({id:[i.id],caption:[i.caption],image:[i.image]});this.reels.push(r)}})}deleteReel(e){this.rService.deleteReel(this.reels.controls[e].value.id).subscribe(()=>{this.reels.removeAt(e)})}clearReels(){for(;this.reels.length>0;)this.reels.removeAt(0)}onEdit(e){console.log(this.reels.value[e]);const i=new $i;i.autoFocus=!1,i.minWidth="1200px",i.disableClose=!0,this.reels.value[e].image.split(":")[0]||(this.reels.value[e].image="http://localhost:4500/"+this.reels.value[e].image),i.data={id:this.reels.value[e].id,image:this.reels.value[e].image,caption:this.reels.value[e].caption},this.dialog.open(sC,i).afterClosed().subscribe(r=>{r&&(console.log(r),this.reels.at(e).patchValue({image:"http://localhost:4500/"+r.image,caption:r.caption}))})}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(Nr),k(uo),k(ol),k(_s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-edit-partb"]],viewQuery:function(i,r){if(1&i&&Tt(Dh,5),2&i){let o;Ge(o=We())&&(r.stepper=o.first)}},inputs:{reelsData:"reelsData"},decls:7,vars:2,consts:[["enctype","multipart/form-data",3,"formGroup"],["formArrayName","reels"],[4,"ngFor","ngForOf"],[1,"edit-btn",3,"click"],[1,"scrolling-space"],[3,"formGroupName"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[1,"col-md-8"],[1,"img-responsive",2,"max-width","600px",3,"src"],[1,"col-md-4"],[1,"col-md-6"],[1,"delete-btn","float-end",3,"click"],[1,"edit-btn","float-end",3,"click"]],template:function(i,r){1&i&&(x(0,"div",0),qn(1,1),Z(2,rne,19,3,"ng-container",2),Xn(),x(3,"button",3),W("click",function(){return r.addReel()}),x(4,"mat-icon"),F(5,"add"),T()()(),_e(6,"div",4)),2&i&&(M("formGroup",r.storyDetailForm),I(2),M("ngForOf",r.reels.controls))},dependencies:[Ri,Kn,Dn,cl,dl,kA],styles:[".delete-btn[_ngcontent-%COMP%]{background-color:#da4747}.edit-btn[_ngcontent-%COMP%]{background-color:#2d7007}.row[_ngcontent-%COMP%]{margin:10px auto}.scrolling-space[_ngcontent-%COMP%]{height:50px}"]})}}return t})();function sne(t,n){1&t&&F(0,"Story Details")}function ane(t,n){1&t&&(x(0,"div",9)(1,"button",18),F(2,"Next"),T()())}function lne(t,n){1&t&&F(0,"Story Reels")}let cne=(()=>{class t{constructor(e,i,r,o,s,a,l){this.route=e,this.sService=i,this.rService=r,this.authService=o,this.router=s,this.rfileTransferService=a,this.sfileTransferService=l,this.reelselectedFile=[],this.reelImageUrls=[],this.reelsData=[],this.reelfileFieldList=[],this.validForm=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=e.id}),this.authService.user().subscribe(e=>{this.user_id=e.id}),this.loadData()}loadData(){var e=this;return le(function*(){e.story$=e.sService.fetchStory(e.id);const i=yield Gt(e.story$);e.story={id:i.id,title:i.title,description:i.description,longDescription:i.longDescription,image:i.image,reels:i.reels,tags:i.tags,owner:i.owner},i.reels.forEach(r=>{e.reelsData.push({id:r.id,caption:r.caption,image:r.image})})})()}submit(e,i){const r=new FormData;this.reelfileFieldList=this.rfileTransferService.fileFieldList,r.append("id",this.story.id),r.append("owner",this.story.owner.toString()),r.append("title",e.title),r.append("description",e.description),r.append("longDescription",e.longDescription),r.append("tags",JSON.stringify(e.tags));const o=[];this.reelfileFieldList.forEach((s,a)=>{o.push({id:s.id,caption:s.caption,image:s.image,reel_owner:this.user_id})}),r.append("reels",JSON.stringify(o)),setTimeout(()=>{const s=new FormData;this.sfileTransferService.image&&s.append("image",this.sfileTransferService.image),this.sService.updateStory(this.story.id,r).subscribe(a=>{this.sfileTransferService.image&&this.sService.addStoryImage(a.id,s).subscribe(()=>{console.log("story image updated"),this.sfileTransferService.image=null}),console.log(r.get("reels")),this.rfileTransferService.fileFieldList=[],this.router.navigateByUrl("/story")})},100)}onCancel(){this.router.navigateByUrl("/story/"+this.id)}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k(yr),k(Nr),k(ii),k(Kt),k(ol),k(eg))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-edit"]],decls:24,vars:5,consts:[["stepper","matHorizontalStepper"],["step1",""],["step2",""],[1,"data-form"],[1,"heading"],["labelPosition","bottom",1,"mat-elevation-z5"],["errorMessage","Story page in error",3,"stepControl"],["matStepLabel",""],[1,"row"],[1,"col-md-6","stepper-buttons"],["type","button",1,"btn","btn-primary","float-start",3,"click"],["class","col-md-6 stepper-buttons",4,"ngIf"],["errorMessage","Reel Page in error",3,"stepControl"],[3,"reelsData"],[1,"stepper-buttons"],["matStepperPrevious","",1,"btn","btn-primary","float-start"],["color","primary",1,"btn","btn-primary","float-end",3,"click","disabled"],[1,"scrolling-space"],["matStepperNext","",1,"btn","btn-primary","float-end"]],template:function(i,r){if(1&i){const o=ye();x(0,"div",3)(1,"h1",4),F(2,"Edit Story"),T(),x(3,"mat-horizontal-stepper",5,0)(5,"mat-step",6),_e(6,"app-story-edit-parta",null,1),Z(8,sne,1,0,"ng-template",7),x(9,"div",8)(10,"div",9)(11,"button",10),W("click",function(){return z(o),G(r.onCancel())}),F(12,"Cancel"),T()(),Z(13,ane,3,0,"div",11),T()(),x(14,"mat-step",12),_e(15,"app-story-edit-partb",13,2),Z(17,lne,1,0,"ng-template",7),x(18,"div",14)(19,"button",15),F(20,"Back"),T(),x(21,"button",16),W("click",function(){z(o);const a=Vi(7),l=Vi(16);return G(r.submit(a.storyStartForm.value,l.storyDetailForm.value))}),F(22," Edit Story "),T()()()()(),_e(23,"div",17)}if(2&i){const o=Vi(7),s=Vi(16);I(5),M("stepControl",o.storyStartForm),I(8),M("ngIf",!!o.storyStartForm),I(),M("stepControl",s.storyDetailForm),I(),M("reelsData",r.reelsData),I(6),M("disabled",!(s.storyDetailForm.value.reels.length>0))}},dependencies:[Pt,PA,Th,Dh,gR,_R,nne,one],styles:[".data-form[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.heading[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important;padding:10px;text-align:center}"]})}}return t})();function dne(t,n){if(1&t&&(qn(0)(1,6),x(2,"div",7)(3,"div",8)(4,"div",9)(5,"label",10),F(6,"Comment"),T(),_e(7,"input",11),T()()(),Xn()()),2&t){const e=O();I(),M("formGroup",e.commentForm)}}let dN=(()=>{class t{constructor(e,i,r){this.fb=e,this.dialogRef=i,this.startIndex=0,this.commentForm=this.fb.group({storycomment:["",mi.required]})}ngOnInit(){}onClose(){this.dialogRef.close()}onSave(){this.dialogRef.close({data:this.commentForm.get("storycomment").value})}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(Ho),k(zs))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-comment-create"]],decls:12,vars:1,consts:[[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[4,"ngIf"],[1,"row",2,"margin","10px auto","padding","10px"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","storycomment",2,"padding","10px"],["type","text","id","storycomment","formControlName","storycomment",1,"form-control",2,"padding","10px"]],template:function(i,r){1&i&&(x(0,"h2",0),F(1,"New Comment"),T(),x(2,"mat-dialog-content"),Z(3,dne,8,1,"ng-container",1),T(),x(4,"mat-dialog-actions")(5,"div",2)(6,"div",3)(7,"button",4),W("click",function(){return r.onClose()}),F(8," Cancel "),T()(),x(9,"div",3)(10,"button",5),W("click",function(){return r.onSave()}),F(11," Post Comment "),T()()()()),2&i&&(I(3),M("ngIf",r.commentForm))},dependencies:[Pt,jn,Un,Kn,Dn,wr,ad,sd],styles:[".btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;width:150px}"]})}}return t})();var xg,une=new Uint8Array(16);function hne(){if(!xg&&!(xg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xg(une)}const fne=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Zn=[],aC=0;aC<256;++aC)Zn.push((aC+256).toString(16).substr(1));const _ne=function gne(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Zn[t[n+0]]+Zn[t[n+1]]+Zn[t[n+2]]+Zn[t[n+3]]+"-"+Zn[t[n+4]]+Zn[t[n+5]]+"-"+Zn[t[n+6]]+Zn[t[n+7]]+"-"+Zn[t[n+8]]+Zn[t[n+9]]+"-"+Zn[t[n+10]]+Zn[t[n+11]]+Zn[t[n+12]]+Zn[t[n+13]]+Zn[t[n+14]]+Zn[t[n+15]]).toLowerCase();if(!function pne(t){return"string"==typeof t&&fne.test(t)}(e))throw TypeError("Stringified UUID is invalid");return e},bs=function bne(t,n,e){var i=(t=t||{}).random||(t.rng||hne)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var r=0;r<16;++r)n[e+r]=i[r];return n}return _ne(i)},lC=["*"];function vne(t,n){1&t&&di(0)}const yne=["tabListContainer"],Ane=["tabList"],Cne=["tabListInner"],wne=["nextPaginator"],xne=["previousPaginator"],Sne=t=>({animationDuration:t}),Tne=(t,n)=>({value:t,params:n});function Dne(t,n){}const Ine=["tabBodyWrapper"],Ene=["tabHeader"];function Mne(t,n){}function kne(t,n){1&t&&Z(0,Mne,0,0,"ng-template",12),2&t&&M("cdkPortalOutlet",O().$implicit.templateLabel)}function One(t,n){1&t&&F(0),2&t&&tt(O().$implicit.textLabel)}function Pne(t,n){if(1&t){const e=ye();x(0,"div",7,2),W("click",function(){const r=z(e),o=r.$implicit,s=r.$index,a=O(),l=Vi(1);return G(a._handleClick(o,l,s))})("cdkFocusChange",function(r){const o=z(e).$index;return G(O()._tabFocusChanged(r,o))}),_e(2,"span",8)(3,"div",9),x(4,"span",10)(5,"span",11),Z(6,kne,1,1,null,12)(7,One,1,1),T()()()}if(2&t){const e=n.$implicit,i=n.$index,r=Vi(1),o=O();vn(e.labelClass),Qe("mdc-tab--active",o.selectedIndex===i),M("id",o._getTabLabelId(i))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),pt("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),I(3),M("matRippleTrigger",r)("matRippleDisabled",e.disabled||o.disableRipple),I(3),vt(6,e.templateLabel?6:7)}}function Rne(t,n){1&t&&di(0)}function Nne(t,n){if(1&t){const e=ye();x(0,"mat-tab-body",13),W("_onCentered",function(){return z(e),G(O()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return z(e),G(O()._setTabBodyWrapperHeight(r))}),T()}if(2&t){const e=n.$implicit,i=n.$index,r=O();vn(e.bodyClass),Qe("mat-mdc-tab-body-active",r.selectedIndex===i),M("id",r._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),pt("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}const Fne=new Me("MatTabContent");let Lne=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(k(si))}}static{this.\u0275dir=Be({type:t,selectors:[["","matTabContent",""]],standalone:!0,features:[Bt([{provide:Fne,useExisting:t}])]})}}return t})();const Bne=new Me("MatTabLabel"),uN=new Me("MAT_TAB");let Vne=(()=>{class t extends pX{constructor(e,i,r){super(e,i),this._closestTab=r}static{this.\u0275fac=function(i){return new(i||t)(k(si),k(Qi),k(uN,8))}}static{this.\u0275dir=Be({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Bt([{provide:Bne,useExisting:t}]),Ct]})}}return t})();const hN=new Me("MAT_TAB_GROUP");let cC=(()=>{class t{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,i){this._viewContainerRef=e,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ye,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ja(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static{this.\u0275fac=function(i){return new(i||t)(k(Qi),k(hN,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(1&i&&(Lt(o,Vne,5),Lt(o,Lne,7,si)),2&i){let s;Ge(s=We())&&(r.templateLabel=s.first),Ge(s=We())&&(r._explicitContent=s.first)}},viewQuery:function(i,r){if(1&i&&Tt(si,7),2&i){let o;Ge(o=We())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[ke.HasDecoratorInputTransform,"disabled","disabled",wt],textLabel:[ke.None,"label","textLabel"],ariaLabel:[ke.None,"aria-label","ariaLabel"],ariaLabelledby:[ke.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Bt([{provide:uN,useExisting:t}]),bn,bi,Yt],ngContentSelectors:lC,decls:1,vars:0,template:function(i,r){1&i&&(yn(),Z(0,vne,1,0,"ng-template"))},encapsulation:2})}}return t})();const dC="mdc-tab-indicator--active",fN="mdc-tab-indicator--no-transition";class Hne{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(r=>r.elementRef.nativeElement===n),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}}let jne=(()=>{class t{constructor(){this._elementRef=Q(Xe),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement)return void i.classList.add(dC);const r=i.getBoundingClientRect(),o=e.width/r.width,s=e.left-r.left;i.classList.add(fN),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(fN),i.classList.add(dC),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(dC)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,inputs:{fitInkBarToContent:[ke.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",wt]},features:[bn]})}}return t})(),pN=(()=>{class t extends jne{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(i){return new(i||t)(k(Xe))}}static{this.\u0275dir=Be({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){2&i&&(pt("aria-disabled",!!r.disabled),Qe("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[ke.HasDecoratorInputTransform,"disabled","disabled",wt]},standalone:!0,features:[bn,Ct]})}}return t})();const mN=ba({passive:!0});let Wne=(()=>{class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(e,i,r,o,s,a,l){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ye,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ye,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Fe,this.indexFocused=new Fe,s.runOutsideAngular(()=>{Ji(e.nativeElement,"mouseleave").pipe(Dt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ji(this._previousPaginator.nativeElement,"touchstart",mN).pipe(Dt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ji(this._nextPaginator.nativeElement,"touchstart",mN).pipe(Dt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:ot("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new nP(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Ei(1)).subscribe(r),Vo(e,i,this._items.changes,this._itemsResized()).pipe(Dt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?vr:this._items.changes.pipe(cr(this._items),dn(e=>new Zt(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>i.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),Gm(1),pi(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!ps(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=o,l=a+s):(l=this._tabListInner.nativeElement.offsetWidth-o,a=l-s);const m=this.scrollDistance,A=this.scrollDistance+r;a<m?this.scrollDistance-=m-a:l>A&&(this.scrollDistance+=Math.min(l-A,a-m))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),dh(650,100).pipe(Dt(Vo(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Qt),k(fh),k(Ar,8),k(Je),k(ki),k(Wn,8))}}static{this.\u0275dir=Be({type:t,inputs:{disablePagination:[ke.HasDecoratorInputTransform,"disablePagination","disablePagination",wt],selectedIndex:[ke.HasDecoratorInputTransform,"selectedIndex","selectedIndex",ar]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[bn]})}}return t})(),Yne=(()=>{class t extends Wne{constructor(e,i,r,o,s,a,l){super(e,i,r,o,s,a,l),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new Hne(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Qt),k(fh),k(Ar,8),k(Je),k(ki),k(Wn,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(1&i&&Lt(o,pN,4),2&i){let s;Ge(s=We())&&(r._items=s)}},viewQuery:function(i,r){if(1&i&&(Tt(yne,7),Tt(Ane,7),Tt(Cne,7),Tt(wne,5),Tt(xne,5)),2&i){let o;Ge(o=We())&&(r._tabListContainer=o.first),Ge(o=We())&&(r._tabList=o.first),Ge(o=We())&&(r._tabListInner=o.first),Ge(o=We())&&(r._nextPaginator=o.first),Ge(o=We())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){2&i&&Qe("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{disableRipple:[ke.HasDecoratorInputTransform,"disableRipple","disableRipple",wt]},standalone:!0,features:[bn,Ct,Yt],ngContentSelectors:lC,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(i,r){if(1&i){const o=ye();yn(),x(0,"button",5,0),W("click",function(){return z(o),G(r._handlePaginatorClick("before"))})("mousedown",function(a){return z(o),G(r._handlePaginatorPress("before",a))})("touchend",function(){return z(o),G(r._stopInterval())}),_e(2,"div",6),T(),x(3,"div",7,1),W("keydown",function(a){return z(o),G(r._handleKeydown(a))}),x(5,"div",8,2),W("cdkObserveContent",function(){return z(o),G(r._onContentChanges())}),x(7,"div",9,3),di(9),T()()(),x(10,"button",10,4),W("mousedown",function(a){return z(o),G(r._handlePaginatorPress("after",a))})("click",function(){return z(o),G(r._handlePaginatorClick("after"))})("touchend",function(){return z(o),G(r._stopInterval())}),_e(12,"div",6),T()}2&i&&(Qe("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),M("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),I(3),Qe("_mat-animation-noopable","NoopAnimations"===r._animationMode),I(7),Qe("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),M("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[va,$X],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return t})();const $ne=new Me("MAT_TABS_CONFIG"),qne={translateTab:co("translateTab",[Ui("center, void, left-origin-center, right-origin-center",gt({transform:"none"})),Ui("left",gt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ui("right",gt({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),vi("* => left, * => right, left => center, right => center",Si("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),vi("void => left-origin-center",[gt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Si("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),vi("void => right-origin-center",[gt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Si("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Xne=(()=>{class t extends js{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=me.EMPTY,this._leavingSub=me.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(cr(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(k(na),k(Qi),k($t(()=>gN)),k(xt))}}static{this.\u0275dir=Be({type:t,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[Ct]})}}return t})(),gN=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=me.EMPTY,this._translateTabComplete=new Ye,this._onCentering=new Fe,this._beforeCentering=new Fe,this._afterLeavingCenter=new Fe,this._onCentered=new Fe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(tl((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Ar,8),k(Qt))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(1&i&&Tt(js,5),2&i){let o;Ge(o=We())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[ke.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Yt],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){if(1&i){const o=ye();x(0,"div",1,0),W("@translateTab.start",function(a){return z(o),G(r._onTranslateTabStarted(a))})("@translateTab.done",function(a){return z(o),G(r._translateTabComplete.next(a))}),Z(2,Dne,0,0,"ng-template",2),T()}2&i&&M("@translateTab",sr(3,Tne,r._position,Ht(1,Sne,r.animationDuration)))},dependencies:[Xne,cX],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[qne.translateTab]}})}}return t})(),Qne=0,_N=(()=>{class t{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){const i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,r,o){this._elementRef=e,this._changeDetectorRef=i,this._animationMode=o,this._tabs=new Is,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=me.EMPTY,this._tabLabelSubscription=me.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Fe,this.focusChange=new Fe,this.animationDone=new Fe,this.selectedTabChange=new Fe(!0),this._isServer=!Q(ki).isBrowser,this._groupId=Qne++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(cr(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new Zne;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Vo(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(Qt),k($ne,8),k(Wn,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(1&i&&Lt(o,cC,5),2&i){let s;Ge(s=We())&&(r._allTabs=s)}},viewQuery:function(i,r){if(1&i&&(Tt(Ine,5),Tt(Ene,5)),2&i){let o;Ge(o=We())&&(r._tabBodyWrapper=o.first),Ge(o=We())&&(r._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,r){2&i&&(vn("mat-"+(r.color||"primary")),ti("--mat-tab-animation-duration",r.animationDuration),Qe("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[ke.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",wt],stretchTabs:[ke.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",wt],dynamicHeight:[ke.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",wt],selectedIndex:[ke.HasDecoratorInputTransform,"selectedIndex","selectedIndex",ar],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[ke.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",ar],disablePagination:[ke.HasDecoratorInputTransform,"disablePagination","disablePagination",wt],disableRipple:[ke.HasDecoratorInputTransform,"disableRipple","disableRipple",wt],preserveContent:[ke.HasDecoratorInputTransform,"preserveContent","preserveContent",wt],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Bt([{provide:hN,useExisting:t}]),bn,Yt],ngContentSelectors:lC,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(i,r){if(1&i){const o=ye();yn(),x(0,"mat-tab-header",3,0),W("indexFocused",function(a){return z(o),G(r._focusChanged(a))})("selectFocusedIndex",function(a){return z(o),G(r.selectedIndex=a)}),Fn(2,Pne,8,17,"div",4,$n),T(),Z(4,Rne,1,0),x(5,"div",5,1),Fn(7,Nne,1,13,"mat-tab-body",6,$n),T()}2&i&&(M("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),I(2),Ln(r._tabs),I(2),vt(4,r._isServer?4:-1),I(),Qe("_mat-animation-noopable","NoopAnimations"===r._animationMode),I(2),Ln(r._tabs))},dependencies:[Yne,pN,bQ,va,js,gN],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return t})();class Zne{}let bN=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,ni]})}}return t})();const uC=t=>[t];function Jne(t,n){if(1&t&&(x(0,"div",6)(1,"div",7)(2,"a",8),F(3),T()()()),2&t){const e=n.$implicit;I(2),M("routerLink",Ht(2,uC,"/profile/"+e.key)),I(),tt(e.value)}}function ere(t,n){if(1&t&&(x(0,"div",6)(1,"div",7)(2,"a",8),F(3),T()()()),2&t){const e=n.$implicit;I(2),M("routerLink",Ht(2,uC,"/profile/"+e.key)),I(),tt(e.value)}}function tre(t,n){if(1&t&&(x(0,"div",6)(1,"div",7)(2,"a",8),F(3),T()()()),2&t){const e=n.$implicit;I(2),M("routerLink",Ht(2,uC,"/profile/"+e.key)),I(),tt(e.value)}}let Sg=(()=>{class t{constructor(e,i){this.data=e,this.dialogRef=i}ngOnInit(){console.log(this.data)}onClose(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(k(zs),k(Ho))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reaction-info-dialog"]],decls:11,vars:10,consts:[[1,"custom-dialogbox"],["animationDuration","500ms",1,"group",3,"color"],["label","Likes",1,"mat-tab"],["class","container",4,"ngFor","ngForOf"],["label","Loves",1,"mat-tab"],["label","Celebrations",1,"mat-tab"],[1,"container"],[1,"itemdata",2,"margin","20px auto"],["mat-dialog-close","",2,"cursor","pointer","color","#0c527b","text-decoration","none",3,"routerLink"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2),Z(3,Jne,4,4,"div",3),Yi(4,"keyvalue"),T(),x(5,"mat-tab",4),Z(6,ere,4,4,"div",3),Yi(7,"keyvalue"),T(),x(8,"mat-tab",5),Z(9,tre,4,4,"div",3),Yi(10,"keyvalue"),T()()()),2&i&&(I(),M("color","accent"),I(2),M("ngForOf",Rn(4,4,r.data.likes)),I(3),M("ngForOf",Rn(7,6,r.data.loves)),I(3),M("ngForOf",Rn(10,8,r.data.celebrates)))},dependencies:[Ri,Bs,UP,cC,_N,oM],styles:[".custom-dialogbox[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important;text-align:center}.container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;overflow-x:hidden!important;overflow-y:hidden!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;max-width:750px}.container[_ngcontent-%COMP%] > .item-data[_ngcontent-%COMP%]{padding:20px auto}.container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important}"]})}}return t})(),fd=(()=>{class t{constructor(e){this.http=e,this.token=JSON.parse(localStorage.getItem("access")),this.httpOptions={headers:new lr({Authorization:"Bearer "+this.token,"Content-Type":"application/json"})}}listFriends(){return this.http.get("http://localhost:4500/profile/friends",{withCredentials:!0})}friendstoryActivity(e){const i=(new br).append("friend_id",e);return this.http.get("http://localhost:4500/story/fs_notifications",{withCredentials:!0,params:i})}friendreelActivity(e){const i=(new br).append("friend_id",e);return this.http.get("http://localhost:4500/story/fr_notifications",{withCredentials:!0,params:i})}isFriend(e){return this.http.get(`http://localhost:4500/profile/friends/is_friend/?checked_user_id=${e}`,{withCredentials:!0})}static{this.\u0275fac=function(i){return new(i||t)(ve(Fo))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gl=(()=>{class t{constructor(e){this.http=e}showChatRooms(){return this.http.get("http://localhost:4500/webchat/chat",{withCredentials:!0})}startChatRoom(e){return console.log(e),this.http.post("http://localhost:4500/webchat/chat/",e,{withCredentials:!0})}fetchChatData(e){return this.http.get(`http://localhost:4500/webchat/messages/?chatroom_id=${e}`,{withCredentials:!0})}isMember(e){return this.http.get(`http://localhost:4500/webchat/chatroom/${e}/membership/is_member`,{withCredentials:!0})}joinserver(e){return this.http.post(`http://localhost:4500/webchat/chatroom/${e}/membership/`,{},{withCredentials:!0})}leaveserver(e){return this.http.delete(`http://localhost:4500/webchat/chatroom/${e}/membership/remove_member/`,{withCredentials:!0})}removeChatRoom(e){return this.http.delete(`http://localhost:4500/webchat/chat/${e}/`,{withCredentials:!0})}getConversationChatroomStatus(e){return this.http.get("http://localhost:4500/webchat/conversation/"+e+"/get_chatroom_status/",{withCredentials:!0})}static{this.\u0275fac=function(i){return new(i||t)(ve(Fo))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ire(t,n){if(1&t){const e=ye();x(0,"div",1)(1,"div",2)(2,"p",3),F(3,"Caption : "),x(4,"strong"),F(5),T()()(),x(6,"div",4)(7,"div",5),_e(8,"img",6),T(),x(9,"div",7)(10,"a",8),W("click",function(){z(e);const r=O();return G(r.goToReelDetail(r.reel.id))}),F(11,"Reel Detail"),T()()(),x(12,"div",9)(13,"p",10),F(14),T(),x(15,"p",11),F(16),T()()()}if(2&t){const e=O();I(5),tt(e.reel.caption),I(3),M("src",e.reel.image,Jt),I(6),ht("",e.commentNumbers," Comments"),I(2),Mo("",e.totalLikes," Likes, ",e.totalLoves," Loves and ",e.totalCelebrates," Celebrations")}}let hC=(()=>{class t{constructor(e,i){this.router=e,this.rService=i,this.commentNumbers=0,this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0}ngOnInit(){this.totalLikes=this.reel.likes?.length||0,this.totalLoves=this.reel.loves?.length||0,this.totalCelebrates=this.reel.celebrates?.length||0,this.rService.fetchReelComments(this.reel.id).subscribe(e=>{this.commentNumbers=e.length})}goToReelDetail(e){this.router.navigateByUrl("/reel/detail/"+e,{state:{example:this.storyId}})}static{this.\u0275fac=function(i){return new(i||t)(k(Kt),k(Nr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reel-item"]],inputs:{reel:"reel",index:"index",storyId:"storyId"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"row"],[1,"titlebox"],[1,"card-body","row"],[1,"col-md-6"],["alt","reel.caption",1,"img-thumbnail","rounded","mx-auto","d-block",2,"height","200px","border-radius","5px",3,"src"],[1,"col-md-6",2,"display","flex"],[1,"btn","btn-primary",2,"margin","auto auto",3,"click"],[1,"card-footer"],[1,"float-start","text-muted","mb-0"],[1,"float-end","text-muted","mb-0"]],template:function(i,r){1&i&&Z(0,ire,17,6,"div",0),2&i&&M("ngIf",!!r.reel)},dependencies:[Pt],styles:[".card[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;background:#d4f3fd;text-align:center;color:#000;float:none;margin:20px auto;padding:10px auto;max-height:600px;width:780px;display:flex}.card-body[_ngcontent-%COMP%]{align-content:center}a.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-height:40px}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-height:40px}.card-body[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%] > .card-title[_ngcontent-%COMP%]{vertical-align:middle;margin:10px auto}.card-footer.p[_ngcontent-%COMP%]{vertical-align:middle;margin:0!important}.titlebox[_ngcontent-%COMP%]{text-align:center;background-color:#a0c9d5;border-top-left-radius:10px;border-top-right-radius:10px;margin:0 auto;padding:10px;max-width:776px}"]})}}return t})(),$s=(()=>{class t{constructor(e){this.http=e,this.token=JSON.parse(localStorage.getItem("access")),this.httpOptions={headers:new lr({Authorization:"Bearer "+this.token,"Content-Type":"application/json"})}}fetchPrivateProfile(){return this.http.get("http://localhost:4500/profile/private/",{withCredentials:!0})}fetchPrivateProfileById(e){return this.http.get("http://localhost:4500/profile/private/"+e+"/",{withCredentials:!0})}addProfile(e){return this.http.post("http://localhost:4500/profile/private/",e,{withCredentials:!0})}addProfileImage(e,i){return new lr({Authorization:"Bearer "+this.token}),this.http.post("http://localhost:4500/profile/private/"+e+"/upload-avatar/",i,{withCredentials:!0})}updateProfile(e,i){return new lr({Authorization:"Bearer "+this.token}),this.http.patch("http://localhost:4500/profile/private/"+e+"/",i,{withCredentials:!0})}fetchPublicProfile(e){return this.http.get("http://localhost:4500/profile/"+e,{withCredentials:!0})}sendFriendRequest(e){return this.http.post("http://localhost:4500/profile/friends/add_friend/",e,{withCredentials:!0})}acceptFriendRequest(e){return this.http.post("http://localhost:4500/profile/friends/accept_request/",e,{withCredentials:!0})}rejectFriendRequest(e){return this.http.post("http://localhost:4500/profile/friends/reject_request/",e,{withCredentials:!0})}removeFriend(e){return this.http.post("http://localhost:4500/profile/friends/remove_friend/",e,{withCredentials:!0})}pendingReceivedFriendRequests(){return this.http.get("http://localhost:4500/profile/friends/requests/",{withCredentials:!0})}listFriends(){return this.http.get("http://localhost:4500/profile/friends/",{withCredentials:!0})}pendingSentFriendRequests(){return this.http.get("http://localhost:4500/profile/friends/sent_requests/",{withCredentials:!0})}rejectedSentFriendRequests(e){const i=(new br).append("user",e);return this.http.get("http://localhost:4500/profile/friends/rejected_received_requests/",{withCredentials:!0,params:i})}rejectedReceivedFriendRequests(){return this.http.get("http://localhost:4500/profile/friends/rejected_requests/",{withCredentials:!0})}fetchStoryReactionActivityFeed(){return this.http.get("http://localhost:4500/story/s_notifications",{withCredentials:!0})}fetchStoryCommentActivityFeed(){return this.http.get("http://localhost:4500/story/sc_notifications",{withCredentials:!0})}fetchReelReactionActivityFeed(){return this.http.get("http://localhost:4500/story/r_notifications",{withCredentials:!0})}fetchReelCommentActivityFeed(){return this.http.get("http://localhost:4500/story/rc_notifications",{withCredentials:!0})}fetchPhotos(){return this.http.get("http://localhost:4500/story/photos",{withCredentials:!0})}fetchWall(){return this.http.get("http://localhost:4500/profile/wall",{withCredentials:!0})}findisFollower(e){const i=(new br).append("requested_user_id",e);return this.http.get("http://localhost:4500/profile/follow/is_follower/",{withCredentials:!0,params:i})}findisFollowing(e){const i=(new br).append("requested_user_id",e);return this.http.get("http://localhost:4500/profile/follow/is_following/",{withCredentials:!0,params:i})}findisBlocked(e){const i=(new br).append("requested_user_id",e);return this.http.get("http://localhost:4500/profile/block/is_blocked/",{withCredentials:!0,params:i})}findisBlocking(e){const i=(new br).append("requested_user_id",e);return this.http.get("http://localhost:4500/profile/block/is_blocking/",{withCredentials:!0,params:i})}static{this.\u0275fac=function(i){return new(i||t)(ve(Fo))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const nre=t=>[t];function rre(t,n){if(1&t&&(x(0,"p",4),_e(1,"img",5),x(2,"a",6),F(3),T(),F(4),T()),2&t){const e=O(2);I(),M("src","http://localhost:4500"+e.profile.avatar,Jt),I(),M("routerLink",Ht(4,nre,"/profile/"+e.comment.commented_by)),I(),ht(" ",e.fullName," "),I(),ht(" says : ",e.comment.storycomment,"")}}function ore(t,n){if(1&t&&(x(0,"p",4),F(1),T()),2&t){const e=O(2);I(),oo("User ",e.comment.commented_by," says : ",e.comment.storycomment,"")}}function sre(t,n){if(1&t&&(x(0,"div",1)(1,"div",2),Z(2,rre,5,6,"p",3)(3,ore,2,2,"p",3),T()()),2&t){const e=O();I(2),M("ngIf",!!e.profile),I(),M("ngIf",!e.profile)}}let vN=(()=>{class t{constructor(e,i,r){this.authService=e,this.sService=i,this.pService=r,this.showEditButton=!1,this.storycomment="",this.fullName=""}ngOnInit(){this.loadData()}editComment(){let e={id:this.comment.id,storycomment:this.commentEditForm.value,story:this.comment.story,commented_by:this.comment.commented_by,approval:"app"};this.storycomment=this.commentEditForm.value,this.sService.updateComment(this.comment.story,e).subscribe(i=>{this.comment.storycomment=this.commentEditForm.value})}loadData(){var e=this;return le(function*(){const i=e.authService.user();e.user=yield Gt(i),e.loggedInUserId=e.user.id;try{const r=e.pService.fetchPublicProfile(e.comment.commented_by);e.profile=yield Gt(r);const o=e.authService.publicUser(e.comment.commented_by);e.publicUser=yield Gt(o),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name}catch{console.log("No Profile Data Found!!")}+e.loggedInUserId==+e.comment.commented_by&&(e.showEditButton=!0),e.storycomment=e.comment.storycomment,e.commentEditForm=new Pi(e.comment.storycomment)})()}static{this.\u0275fac=function(i){return new(i||t)(k(ii),k(yr),k($s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-comment-item"]],inputs:{comment:"comment",index:"index"},decls:1,vars:1,consts:[["class","container row",4,"ngIf"],[1,"container","row"],[1,"name","col-md-4","m-auto"],["class","float-start",4,"ngIf"],[1,"float-start"],["alt","Profile Image",1,"circular_image",2,"margin-right","10px",3,"src"],[3,"routerLink"]],template:function(i,r){1&i&&Z(0,sre,4,2,"div",0),2&i&&M("ngIf",!!r.comment)},dependencies:[Pt,Bs],styles:[".container[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;text-align:center;background:#e9ebdc;color:#000;margin:20px 0;height:100px;width:780px;display:flex}.circular_image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}"]})}}return t})();function are(t,n){if(1&t&&(x(0,"div")(1,"h5"),F(2),T()()),2&t){const e=n.$implicit;I(2),ht("TAG : ",e.name,"")}}function lre(t,n){if(1&t&&_e(0,"app-reel-item",16),2&t){const e=n.$implicit,i=n.index;M("storyId",O().ngIf.id)("reel",e)("index",i)}}function cre(t,n){if(1&t){const e=ye();x(0,"button",17),W("click",function(){return z(e),G(O(2).onEditStory())}),F(1,"Edit Story"),T()}}function dre(t,n){if(1&t){const e=ye();x(0,"button",11),W("click",function(){return z(e),G(O(2).goToChatRoom())}),F(1,"Goto Chat"),T()}}function ure(t,n){if(1&t&&(x(0,"p",18),F(1),T()),2&t){const e=O(2);I(),ht(" Comments : ",e.comments.length,"")}}function hre(t,n){if(1&t){const e=ye();x(0,"p",19),W("click",function(){return z(e),G(O(2).showReactionInfo())}),F(1),T()}if(2&t){const e=O(2);I(),Mo(" Likes : ",e.totalLikes," , Loves : ",e.totalLoves," & Celebrations : ",e.totalCelebrates,"")}}function fre(t,n){if(1&t&&_e(0,"app-story-comment-item",22),2&t){const i=n.index;M("comment",n.$implicit)("index",i)}}function pre(t,n){if(1&t&&(x(0,"div",20),Z(1,fre,1,2,"app-story-comment-item",21),T()),2&t){const e=O(2);I(),M("ngForOf",e.comments)}}function mre(t,n){if(1&t){const e=ye();x(0,"div",2)(1,"div",3)(2,"h3"),F(3),T(),x(4,"p"),F(5),T(),x(6,"p"),F(7),T(),_e(8,"img",4),Z(9,are,3,1,"div",5),T(),x(10,"div",6),Z(11,lre,1,3,"app-reel-item",7),T(),x(12,"div",0)(13,"div",2)(14,"div",8),Z(15,cre,2,0,"button",9)(16,dre,2,0,"button",10),x(17,"button",11),W("click",function(){return z(e),G(O().addComment())}),F(18,"Add Comment"),T()()(),_e(19,"div",12),x(20,"div",2)(21,"div",8),Z(22,ure,2,1,"p",13)(23,hre,2,3,"p",14),T()()(),Z(24,pre,2,1,"div",15),T()}if(2&t){const e=n.ngIf,i=O();I(3),tt(e.title),I(2),tt(e.description),I(2),tt(e.longDescription),I(),Os("alt",e.title),M("src",e.image,Jt),I(),M("ngForOf",e.tags),I(2),M("ngForOf",e.reels),I(4),M("ngIf",!!i.canShowButton),I(),M("ngIf",!!i.chatroomID),I(6),M("ngIf",i.comments.length>0),I(),M("ngIf",i.totalLikes>0||i.totalLoves>0||i.totalCelebrates>0),I(),M("ngIf",i.comments.length>0)}}let gre=(()=>{class t{constructor(e,i,r,o,s,a,l){this.router=e,this.route=i,this.sService=r,this.dialog=o,this.authService=s,this.fService=a,this.chatService=l,this.reels=[],this.comments=[],this.canShowButton=!1,this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0,this.likes=[],this.loves=[],this.celebrates=[],this.showLike=!0,this.showLove=!0,this.showCelebrate=!0,this.isFriend=!1}ngOnInit(){this.route.params.subscribe(e=>{this.storyId=e.id,this.friends$=this.fService.listFriends()}),this.loadData()}onEditStory(){this.router.navigate(["edit"],{relativeTo:this.route})}showReels(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.panelClass="custom-modalbox",e.disableClose=!0,e.data=this.reels,this.dialog.open(IA,e)}addComment(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.disableClose=!0,this.friends$.subscribe(i=>{i.forEach(r=>{r.id==this.loggedInUserId&&(this.isFriend=!0)})}),this.dialog.open(dN,e).afterClosed().subscribe(i=>{if(i){let r={};r=this.canShowButton?{id:bs(),storycomment:i.data,story:this.storyId,commented_by:this.loggedInUserId,approval:"app"}:{id:bs(),storycomment:i.data,story:this.storyId,commented_by:this.loggedInUserId,approval:"rej"},this.sService.addStoryComment(this.storyId,r).subscribe(()=>{this.comments.push({id:r.id,storycomment:r.storycomment,story:r.story,commented_by:r.commented_by,approval:"app"})})}})}showReactionInfo(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let i={};this.likes.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,i[s]=a})});let r={};this.loves.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,r[s]=a})});let o={};this.celebrates.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,o[s]=a})}),e.data={likes:i,loves:r,celebrates:o},this.dialog.open(Sg,e)}loadData(){var e=this;return le(function*(){const i=e.authService.user();e.user=yield Gt(i),e.loggedInUserId=e.user.id;const r=e.sService.fetchComments(e.storyId);e.comments=yield Gt(r),e.story$=e.sService.fetchStory(e.storyId),e.story=yield Gt(e.story$),e.story.owner==e.loggedInUserId&&(e.canShowButton=!0),e.story.reels.forEach(o=>{e.reels.push({image:o.image,thumbImage:o.image,title:o.caption})}),e.story.likes?.forEach(o=>{e.likes.push(o.id)}),e.story.loves?.forEach(o=>{e.loves.push(o.id)}),e.story.celebrates?.forEach(o=>{e.celebrates.push(o.id)}),e.totalLikes=e.likes.length,e.totalLoves=e.loves.length,e.totalCelebrates=e.celebrates.length,e.likes.forEach(o=>{o==+e.loggedInUserId&&(e.showLike=!1)}),e.loves.forEach(o=>{o==+e.loggedInUserId&&(e.showLove=!1)}),e.celebrates.forEach(o=>{o==+e.loggedInUserId&&(e.showCelebrate=!1)}),e.chatService.showChatRooms().subscribe(o=>{o&&o.forEach(s=>{s.story&&e.storyId==s.story&&e.story.owner==e.loggedInUserId&&(e.chatroom_owner=s.owner,s.participants.forEach(a=>{a.id===e.loggedInUserId&&(e.chatroomID=s.id,console.log("Has Chatroom"))}))})})})()}goToChatRoom(){this.router.navigate(["/chat/"+this.chatroomID],{state:{object_type:"story",object_id:this.storyId,chatroom_owner:this.chatroom_owner}})}static{this.\u0275fac=function(i){return new(i||t)(k(Kt),k(Zi),k(yr),k(uo),k(ii),k(fd),k(gl))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-detail"]],decls:3,vars:3,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow"],[1,"card-img-top","img-fluid",3,"src","alt"],[4,"ngFor","ngForOf"],[1,"reelrow"],[3,"storyId","reel","index",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","btn btn-primary float-start",3,"click",4,"ngIf"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"btn","btn-primary","float-end",3,"click"],[1,"row",2,"height","20px"],["class","float-start","style","color:#2292b7; vertical-align: middle; margin: 0 0 !important;",4,"ngIf"],["class","float-end","style","cursor: pointer;color:#2292b7;text-decoration: underline;  vertical-align: middle;\n            margin: 0 0 !important;",3,"click",4,"ngIf"],["class","commentrow",4,"ngIf"],[3,"storyId","reel","index"],[1,"btn","btn-primary","float-start",3,"click"],[1,"float-start",2,"color","#2292b7","vertical-align","middle","margin","0 0 !important"],[1,"float-end",2,"cursor","pointer","color","#2292b7","text-decoration","underline","vertical-align","middle","margin","0 0 !important",3,"click"],[1,"commentrow"],[3,"comment","index",4,"ngFor","ngForOf"],[3,"comment","index"]],template:function(i,r){1&i&&(x(0,"div",0),Z(1,mre,25,12,"div",1),Yi(2,"async"),T()),2&i&&(I(),M("ngIf",Rn(2,1,r.story$)))},dependencies:[Ri,Pt,hC,vN,ha],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.mainrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;margin:20px auto}.reelrow[_ngcontent-%COMP%], .commentrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}"]})}}return t})();function _re(t,n){if(1&t&&_e(0,"app-reel-item",4),2&t){const i=n.index;M("reel",n.$implicit)("index",i)}}function bre(t,n){if(1&t&&(x(0,"div",1)(1,"h3",2),F(2,"Reels for "),x(3,"strong"),F(4),T()(),Z(5,_re,1,2,"app-reel-item",3),T()),2&t){const e=O();I(4),tt(e.story.title),I(),M("ngForOf",e.reels)}}let vre=(()=>{class t{constructor(e,i){this.sService=e,this.route=i,this.reels=[]}ngOnInit(){this.route.params.subscribe(e=>{this.storyId=e.storyId}),this.sService.fetchStory(this.storyId).subscribe(e=>{this.story={...e},e.reels.forEach(i=>{this.reels.push(i)})})}static{this.\u0275fac=function(i){return new(i||t)(k(yr),k(Zi))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reel-list"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[2,"text-align","center","background-color","#a0c9d5","border-radius","5px","padding","10px","margin-top","20px","border","2px solid black"],[3,"reel","index",4,"ngFor","ngForOf"],[3,"reel","index"]],template:function(i,r){1&i&&Z(0,bre,6,2,"div",0),2&i&&M("ngIf",!!r.story)},dependencies:[Ri,Pt,hC],styles:[".container[_ngcontent-%COMP%]{margin:0 auto;float:none;justify-content:center;max-width:800px}"]})}}return t})();function yre(t,n){if(1&t&&(qn(0)(1,6),x(2,"div",7)(3,"div",8)(4,"div",9)(5,"label",10),F(6,"Comment"),T(),_e(7,"input",11),T()()(),Xn()()),2&t){const e=O();I(),M("formGroup",e.commentForm)}}let yN=(()=>{class t{constructor(e,i,r){this.fb=e,this.dialogRef=i,this.startIndex=0,this.commentForm=this.fb.group({reelcomment:["",mi.required]})}ngOnInit(){}onClose(){this.dialogRef.close()}onSave(){this.dialogRef.close({data:this.commentForm.get("reelcomment").value})}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(Ho),k(zs))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reel-comment-create"]],decls:12,vars:1,consts:[[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[4,"ngIf"],[1,"row",2,"margin","10px auto","padding","10px"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","reelcomment",2,"padding","10px"],["type","text","id","reelcomment","formControlName","reelcomment",1,"form-control",2,"padding","10px"]],template:function(i,r){1&i&&(x(0,"h2",0),F(1,"New Comment"),T(),x(2,"mat-dialog-content"),Z(3,yre,8,1,"ng-container",1),T(),x(4,"mat-dialog-actions")(5,"div",2)(6,"div",3)(7,"button",4),W("click",function(){return r.onClose()}),F(8," Cancel "),T()(),x(9,"div",3)(10,"button",5),W("click",function(){return r.onSave()}),F(11," Post Comment "),T()()()()),2&i&&(I(3),M("ngIf",r.commentForm))},dependencies:[Pt,jn,Un,Kn,Dn,wr,ad,sd],styles:[".btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;width:150px}"]})}}return t})();const Are=t=>[t];function Cre(t,n){if(1&t&&(x(0,"p",4),_e(1,"img",5),x(2,"a",6),F(3),T(),F(4),T()),2&t){const e=O(2);I(),M("src","http://localhost:4500"+e.profile.avatar,Jt),I(),M("routerLink",Ht(4,Are,"/profile/"+e.comment.commented_by)),I(),ht(" ",e.fullName," "),I(),ht(" says : ",e.comment.reelcomment,"")}}function wre(t,n){if(1&t&&(x(0,"p",4),F(1),T()),2&t){const e=O(2);I(),oo("User ",e.comment.commented_by," says : ",e.comment.reelcomment,"")}}function xre(t,n){if(1&t&&(x(0,"div",1)(1,"div",2),Z(2,Cre,5,6,"p",3)(3,wre,2,2,"p",3),T()()),2&t){const e=O();I(2),M("ngIf",!!e.profile),I(),M("ngIf",!e.profile)}}let AN=(()=>{class t{constructor(e,i,r){this.authService=e,this.pService=i,this.rService=r,this.showEditButton=!1,this.reelcomment="",this.fullName=""}ngOnInit(){this.loadData()}editComment(){let e={id:this.comment.id,reelcomment:this.commentEditForm.value,reel:this.comment.reel,commented_by:this.comment.commented_by,approval:"app"};this.reelcomment=this.commentEditForm.value,this.rService.updateReelComment(this.comment.reel,e).subscribe(i=>{this.comment.reelcomment=this.commentEditForm.value})}loadData(){var e=this;return le(function*(){const i=e.authService.user();e.user=yield Gt(i),e.loggedInUserId=e.user.id;try{const r=e.pService.fetchPublicProfile(e.comment.commented_by);e.profile=yield Gt(r);const o=e.authService.publicUser(e.comment.commented_by);e.publicUser=yield Gt(o),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name}catch{console.log("No Profile Data Found!!")}+e.loggedInUserId==+e.comment.commented_by&&(e.showEditButton=!0),e.reelcomment=e.comment.reelcomment,e.commentEditForm=new Pi(e.comment.reelcomment)})()}static{this.\u0275fac=function(i){return new(i||t)(k(ii),k($s),k(Nr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reel-comment-item"]],inputs:{comment:"comment",index:"index"},decls:1,vars:1,consts:[["class","container row",4,"ngIf"],[1,"container","row"],[1,"name","col-md-4","m-auto"],["class","float-start",4,"ngIf"],[1,"float-start"],["alt","Profile Image",1,"circular_image",2,"margin-right","10px",3,"src"],[3,"routerLink"]],template:function(i,r){1&i&&Z(0,xre,4,2,"div",0),2&i&&M("ngIf",!!r.comment)},dependencies:[Pt,Bs],styles:[".container[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;text-align:center;background:#e9ebdc;color:#000;margin:20px 0;height:100px;width:780px;display:flex}.circular_image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}"]})}}return t})();function Sre(t,n){if(1&t){const e=ye();x(0,"button",10),W("click",function(){return z(e),G(O(2).goToChatRoom())}),F(1,"Goto Chat"),T()}}function Tre(t,n){if(1&t&&(x(0,"p",15),F(1),T()),2&t){const e=O(2);I(),ht(" Comments : ",e.comments.length,"")}}function Dre(t,n){if(1&t){const e=ye();x(0,"p",16),W("click",function(){return z(e),G(O(2).showReactionInfo())}),F(1),T()}if(2&t){const e=O(2);I(),Mo(" Likes : ",e.totalLikes," , Loves : ",e.totalLoves," & Celebrations : ",e.totalCelebrates,"")}}function Ire(t,n){if(1&t&&_e(0,"app-reel-comment-item",19),2&t){const i=n.index;M("comment",n.$implicit)("index",i)}}function Ere(t,n){if(1&t&&(x(0,"div",17),Z(1,Ire,1,2,"app-reel-comment-item",18),T()),2&t){const e=O(2);I(),M("ngForOf",e.comments)}}function Mre(t,n){if(1&t){const e=ye();x(0,"div",2)(1,"div",3)(2,"h1",4),F(3),T(),_e(4,"img",5),T(),x(5,"div",0)(6,"div",2)(7,"div",6)(8,"button",7),W("click",function(){return z(e),G(O().editReel())}),F(9,"Edit Reel"),T(),x(10,"button",8),W("click",function(){return z(e),G(O().deleteReel())}),F(11,"Delete Reel"),T(),Z(12,Sre,2,0,"button",9),x(13,"button",10),W("click",function(){return z(e),G(O().addComment())}),F(14,"Add Comment"),T()()(),_e(15,"div",11),x(16,"div",2)(17,"div",6),Z(18,Tre,2,1,"p",12)(19,Dre,2,3,"p",13),T()()(),Z(20,Ere,2,1,"div",14),T()}if(2&t){const e=n.ngIf,i=O();I(3),ht("Caption : ",e.caption,""),I(),M("src",e.image,Jt),I(8),M("ngIf",!!i.chatroomID),I(6),M("ngIf",i.comments.length>0),I(),M("ngIf",i.totalLikes>0||i.totalLoves>0||i.totalCelebrates>0),I(),M("ngIf",i.comments.length>0)}}let kre=(()=>{class t{constructor(e,i,r,o,s,a,l,m){this.route=e,this.router=i,this.rService=r,this.dialog=o,this.authService=s,this.fService=a,this.cdr=l,this.chatService=m,this.comments=[],this.likes=[],this.loves=[],this.celebrates=[],this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0,this.showLike=!0,this.showLove=!0,this.showCelebrate=!0,this.isFriend=!1,this.canShowButton=!1,this.reelData={};const S=this.router.getCurrentNavigation().extras.state;this.storyId=S.example}ngOnInit(){this.route.params.subscribe(e=>{this.reelId=e.reelId}),console.log(this.storyId),this.loadData()}addComment(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.disableClose=!0,this.dialog.open(yN,e).afterClosed().subscribe(i=>{if(i){let r={};r=this.canShowButton?{id:bs(),reelcomment:i.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"app"}:{id:bs(),reelcomment:i.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"rej"},this.rService.addReelComment(this.reelId,r).subscribe(()=>{const o={id:bs(),reelcomment:i.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"app"};this.comments.push(o)})}})}showReactionInfo(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let i={};this.likes.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,i[s]=a})});let r={};this.loves.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,r[s]=a})});let o={};this.celebrates.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,o[s]=a})}),e.data={likes:i,loves:r,celebrates:o},this.dialog.open(Sg,e)}deleteReel(){this.rService.deleteReel(this.reelId).subscribe(()=>{this.router.navigate(["story/",this.storyId])})}editReel(){const e=new $i;e.autoFocus=!1,e.minWidth="1500px",e.disableClose=!0,this.reelData.image.split(":")[0]||(this.reelData.image="http://localhost:4500/"+this.reelData.image),e.data={id:this.reelData.id,image:this.reelData.image,caption:this.reelData.caption},this.dialog.open(sC,e).afterClosed().subscribe(i=>{i&&(console.log(i),this.ngOnInit())})}loadData(){var e=this;return le(function*(){const i=e.authService.user();e.user=yield Gt(i),e.loggedInUserId=e.user.id,e.reel$=e.rService.fetchReel(e.reelId),e.reel=yield Gt(e.reel$),e.reel.reel_owner==e.loggedInUserId&&(e.canShowButton=!0),e.reelData.id=e.reel.id,e.reelData.caption=e.reel.caption,e.reelData.image=e.reel.image,e.friends$=e.fService.listFriends();const r=e.rService.fetchReelComments(e.reelId);e.comments=yield Gt(r),e.reel.likes?.forEach(o=>{e.likes.push(o.id)}),e.reel.loves?.forEach(o=>{e.loves.push(o.id)}),e.reel.celebrates?.forEach(o=>{e.celebrates.push(o.id)}),e.totalLikes=e.likes.length,e.totalLoves=e.loves.length,e.totalCelebrates=e.celebrates.length,e.likes.forEach(o=>{o==+e.loggedInUserId?e.showLike=!1:console.log(o)}),e.loves.forEach(o=>{o==+e.loggedInUserId?e.showLove=!1:console.log(o)}),e.celebrates.forEach(o=>{o==+e.loggedInUserId?e.showCelebrate=!1:console.log(o)}),e.chatService.showChatRooms().subscribe(o=>{o&&o.forEach(s=>{s.reel&&e.reelId==s.reel&&e.reel.reel_owner==e.loggedInUserId&&(e.chatroom_owner=s.owner,s.participants.forEach(a=>{a.id===e.loggedInUserId&&(e.chatroomID=s.id,console.log("Has Chatroom"))}))})})})()}goToChatRoom(){this.router.navigate(["/chat/"+this.chatroomID],{state:{object_type:"story",object_id:this.storyId,chatroom_owner:this.chatroom_owner}})}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k(Kt),k(Nr),k(uo),k(ii),k(fd),k(Qt),k(gl))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reel-detail"]],decls:3,vars:3,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow"],[2,"text-align","center","background-color","#a0c9d5","border-radius","5px","padding","10px"],[1,"card-img-top","img-fluid",2,"max-width","800px",3,"src"],[1,"col-md-12"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary",3,"click"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"btn","btn-primary","float-end",3,"click"],[1,"row",2,"height","20px"],["class","float-start","style","color:#2292b7; vertical-align: middle; margin: 0 10px !important;",4,"ngIf"],["class","float-end","style","cursor: pointer;color:#2292b7;text-decoration: underline;  vertical-align: middle;\n            margin: 0 10px !important;",3,"click",4,"ngIf"],["class","commentrow",4,"ngIf"],[1,"float-start",2,"color","#2292b7","vertical-align","middle","margin","0 10px !important"],[1,"float-end",2,"cursor","pointer","color","#2292b7","text-decoration","underline","vertical-align","middle","margin","0 10px !important",3,"click"],[1,"commentrow"],[3,"comment","index",4,"ngFor","ngForOf"],[3,"comment","index"]],template:function(i,r){1&i&&(x(0,"div",0),Z(1,Mre,21,6,"div",1),Yi(2,"async"),T()),2&i&&(I(),M("ngIf",Rn(2,1,r.reel$)))},dependencies:[Ri,Pt,AN,ha],styles:[".container[_ngcontent-%COMP%]{margin:10px auto;padding:20px auto;justify-content:center;width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.mainrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;margin:20px auto}.commentrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}"]})}}return t})();var Ore=Ee(314);let Pre=(()=>{class t{constructor(e,i,r){this.formBuilder=e,this.router=i,this.authService=r,this.onLogin=new Fe}ngOnInit(){this.form=this.formBuilder.group({email:"",password:""})}submit(){this.authService.login(this.form.getRawValue().email,this.form.getRawValue().password).subscribe(()=>this.router.navigate(["/feed"])),this.form.reset()}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(Kt),k(ii))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-form"]],outputs:{onLogin:"onLogin"},decls:14,vars:1,consts:[[1,"form-signin"],[3,"submit","formGroup"],[1,"h3","mb-3","fw-normal"],[1,"form-floating","mb-3"],["formControlName","email","type","email","placeholder","name@example.com",1,"form-control"],["formControlName","password","type","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","float-end"]],template:function(i,r){1&i&&(x(0,"main",0)(1,"form",1),W("submit",function(){return r.submit()}),x(2,"h1",2),F(3,"Please enter login details"),T(),x(4,"div",3),_e(5,"input",4),x(6,"label"),F(7,"Email address"),T()(),x(8,"div",3),_e(9,"input",5),x(10,"label"),F(11,"Password"),T()(),x(12,"button",6),F(13,"Submit"),T()()()),2&i&&(I(),M("formGroup",r.form))},dependencies:[jo,jn,Un,Kn,Dn,wr],styles:[".form-signin[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:10px 0;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:10px 0;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}}return t})(),Rre=(()=>{class t{constructor(){this.loginData={id:0,img:""}}ngOnInit(){}onLogin(e){this.loginData=e,e.otpauth_url&&Ore.dY(e.otpauth_url,(i,r)=>{this.loginData.img=r})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["app-login"]],decls:1,vars:0,template:function(i,r){1&i&&_e(0,"app-form")},dependencies:[Pre]})}}return t})(),Nre=(()=>{class t{constructor(e,i,r){this.formBuilder=e,this.router=i,this.authService=r}ngOnInit(){this.form=this.formBuilder.group({first_name:"",last_name:"",email:"",password:"",password_confirm:""})}submit(){this.authService.signup(this.form.getRawValue().email,this.form.getRawValue().password,this.form.getRawValue().first_name,this.form.getRawValue().last_name,this.form.getRawValue().password_confirm).subscribe(()=>this.router.navigate(["/login"]))}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(Kt),k(ii))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-register"]],decls:26,vars:1,consts:[[1,"form-signin"],[3,"submit","formGroup"],[1,"h3","mb-3","fw-normal"],[1,"form-floating","mb-3"],["formControlName","first_name","placeholder","First Name",1,"form-control"],["formControlName","last_name","placeholder","Last Name",1,"form-control"],["formControlName","email","type","email","placeholder","name@example.com",1,"form-control"],["formControlName","password","type","password","placeholder","Password",1,"form-control"],["formControlName","password_confirm","type","password","placeholder","Password Confirm",1,"form-control"],["type","submit",1,"btn","btn-primary","float-end"]],template:function(i,r){1&i&&(x(0,"main",0)(1,"form",1),W("submit",function(){return r.submit()}),x(2,"h1",2),F(3,"Please enter registration details"),T(),x(4,"div",3),_e(5,"input",4),x(6,"label"),F(7,"First Name"),T()(),x(8,"div",3),_e(9,"input",5),x(10,"label"),F(11,"Last Name"),T()(),x(12,"div",3),_e(13,"input",6),x(14,"label"),F(15,"Email address"),T()(),x(16,"div",3),_e(17,"input",7),x(18,"label"),F(19,"Password"),T()(),x(20,"div",3),_e(21,"input",8),x(22,"label"),F(23,"Confirm Password"),T()(),x(24,"button",9),F(25,"Submit"),T()()()),2&i&&(I(),M("formGroup",r.form))},dependencies:[jo,jn,Un,Kn,Dn,wr],styles:[".form-signin[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}}return t})(),CN=(()=>{class t{constructor(e){this.http=e,this.apiUrl="http://localhost:4500/a"}forgot(e){return this.http.post(`${this.apiUrl}/forgot`,e)}reset(e){return this.http.post(`${this.apiUrl}/reset`,e)}static{this.\u0275fac=function(i){return new(i||t)(ve(Fo))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Fre(t,n){if(1&t&&(x(0,"div",7),F(1),T()),2&t){const e=O();qr("alert alert-",e.cls,""),I(),ht(" ",e.message," ")}}let Lre=(()=>{class t{constructor(e,i){this.formBuilder=e,this.forgotService=i,this.cls="",this.message=""}ngOnInit(){this.form=this.formBuilder.group({email:""})}submit(){this.forgotService.forgot(this.form.getRawValue()).subscribe({next:()=>{this.cls="success",this.message="Email was sent!"},error:()=>{this.cls="danger",this.message="Error occurred!"}})}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(CN))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-forgot"]],decls:11,vars:2,consts:[[1,"form-signin"],["role","alert",3,"class",4,"ngIf"],[3,"submit","formGroup"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["formControlName","email","type","email","placeholder","name@example.com",1,"form-control"],["type","submit",1,"w-100","btn","btn-lg","btn-primary","mt-3"],["role","alert"]],template:function(i,r){1&i&&(x(0,"main",0),Z(1,Fre,2,4,"div",1),x(2,"form",2),W("submit",function(){return r.submit()}),x(3,"h1",3),F(4,"Please insert your password"),T(),x(5,"div",4),_e(6,"input",5),x(7,"label"),F(8,"Email address"),T()(),x(9,"button",6),F(10,"Submit"),T()()()),2&i&&(I(),M("ngIf",r.cls),I(),M("formGroup",r.form))},dependencies:[Pt,jo,jn,Un,Kn,Dn,wr]})}}return t})(),Bre=(()=>{class t{constructor(e,i,r,o){this.formBuilder=e,this.forgotService=i,this.route=r,this.router=o}ngOnInit(){this.form=this.formBuilder.group({password:"",password_confirm:""})}submit(){const i={...this.form.getRawValue(),token:this.route.snapshot.params.token};this.forgotService.reset(i).subscribe(()=>this.router.navigate(["/login"]))}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(CN),k(Zi),k(Kt))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reset"]],decls:14,vars:1,consts:[[1,"form-signin"],[3,"submit","formGroup"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["formControlName","password","type","password","placeholder","Password",1,"form-control"],["formControlName","password_confirm","type","password","placeholder","Password Confirm",1,"form-control"],["type","submit",1,"w-100","btn","btn-lg","btn-primary"]],template:function(i,r){1&i&&(x(0,"main",0)(1,"form",1),W("submit",function(){return r.submit()}),x(2,"h1",2),F(3,"Please reset your password"),T(),x(4,"div",3),_e(5,"input",4),x(6,"label"),F(7,"Password"),T()(),x(8,"div",3),_e(9,"input",5),x(10,"label"),F(11,"Password Confirm"),T()(),x(12,"button",6),F(13,"Submit"),T()()()),2&i&&(I(),M("formGroup",r.form))},dependencies:[jo,jn,Un,Kn,Dn,wr]})}}return t})();function Vre(t,n){if(1&t&&_e(0,"app-reel-item",3),2&t){const i=n.index;M("reel",n.$implicit)("index",i)}}function Hre(t,n){if(1&t&&(x(0,"div",1),Z(1,Vre,1,2,"app-reel-item",2),T()),2&t){const e=O();I(),M("ngForOf",e.persReels)}}let jre=(()=>{class t{constructor(e,i){this.rService=e,this.route=i,this.persReels=[]}ngOnInit(){this.route.params.subscribe(e=>{this.userId=+e.userId}),this.rService.fetchReelPersonal(this.userId).subscribe(e=>{e.forEach(i=>{this.persReels.push(i)})})}static{this.\u0275fac=function(i){return new(i||t)(k(Nr),k(Zi))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-reel-personal"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[3,"reel","index",4,"ngFor","ngForOf"],[3,"reel","index"]],template:function(i,r){1&i&&Z(0,Hre,2,1,"div",0),2&i&&M("ngIf",r.persReels)},dependencies:[Ri,Pt,hC]})}}return t})();function Ure(t,n){if(1&t){const e=ye();x(0,"a",13),W("click",function(){return z(e),G(O(2).goToFeedReelList())}),F(1,"Show Reels"),T()}}function zre(t,n){if(1&t){const e=ye();x(0,"div",1),_e(1,"img",2),x(2,"div",3)(3,"h2",4),F(4),Yi(5,"slice"),T(),x(6,"p",5),F(7),Yi(8,"slice"),T()(),x(9,"div",6)(10,"div",7),Z(11,Ure,2,0,"a",8),T(),x(12,"div",7)(13,"a",9),W("click",function(){return z(e),G(O().goToStoryDetail())}),F(14,"Story Detail"),T()()(),x(15,"div",10)(16,"p",11),F(17),T(),x(18,"p",12),F(19),T()()()}if(2&t){const e=O();I(),M("src","http://localhost:4500"+e.story.image,Jt),I(3),tt(ku(5,8,e.story.title,0,50)),I(3),tt(ku(8,12,e.story.longDescription,0,100)),I(4),M("ngIf",e.reels.length>0),I(6),ht("",e.commentNumbers," Comments"),I(2),Mo("",e.likeNumbers," Likes, ",e.loveNumbers," Loves and ",e.celebrateNumbers," Celebrations")}}let Gre=(()=>{class t{constructor(e,i,r,o){this.route=e,this.sService=i,this.router=r,this.dialog=o,this.reels=[]}ngOnInit(){this.story.reels.forEach(e=>{this.reels.push({image:"http://localhost:4500"+e.image,thumbImage:"http://localhost:4500"+e.image,title:e.caption})}),setTimeout(()=>{this.story&&(this.likeNumbers=this.story.likes?.length,this.loveNumbers=this.story.loves?.length,this.celebrateNumbers=this.story.celebrates?.length,this.feed_stories_comments.forEach(e=>{e.story_id==this.story.id&&(this.commentNumbers=e.num_comments)}))},100)}goToFeedReelList(){const e=new $i;e.autoFocus=!1,e.data=this.reels,e.backdropClass="backdropBackground",this.dialog.open(IA,e)}goToStoryDetail(){console.log(this.story.id),this.router.navigate(["/feed/"+this.story.id])}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k(yr),k(Kt),k(uo))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-pushed-item"]],inputs:{story:"story",feed_stories_comments:"feed_stories_comments"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],["alt","story.title",1,"card-img-top","img-fluid",2,"max-height","600px","border-top-left-radius","5px","border-top-right-radius","5px",3,"src"],[1,"card-body","mb-0"],[1,"card-title"],[1,"card-text"],[1,"button-row"],[1,"col-md-6","mb-0"],["class","btn float-start",3,"click",4,"ngIf"],[1,"btn","float-end",3,"click"],[1,"card-footer"],[1,"float-start","text-muted","mb-0"],[1,"float-end","text-muted","mb-0"],[1,"btn","float-start",3,"click"]],template:function(i,r){1&i&&Z(0,zre,20,16,"div",0),2&i&&M("ngIf",!!r.story)},dependencies:[Pt,Ky],styles:[".card[_ngcontent-%COMP%]{background:#d4f3fd;color:#000;float:none;display:flex;margin:20px auto;padding:10px auto;max-width:800px;max-height:800px}a.btn[_ngcontent-%COMP%]{border:3px solid;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.button-row[_ngcontent-%COMP%]{display:flex;padding:10px}.card-footer.p[_ngcontent-%COMP%]{vertical-align:middle;margin:0!important}"]})}}return t})();function Wre(t,n){if(1&t&&_e(0,"app-pushed-item",3),2&t){const e=n.$implicit,i=O().ngIf;M("story",e)("feed_stories_comments",i.feed_stories_comments)}}function Yre(t,n){if(1&t&&(x(0,"div",1),Z(1,Wre,1,2,"app-pushed-item",2),T()),2&t){const e=n.ngIf;I(),M("ngForOf",e.feed_stories)}}let $re=(()=>{class t{constructor(e){this.sService=e}ngOnInit(){setTimeout(()=>{this.story_stories$=this.sService.fetchPushedStories(),this.reel_stories$=this.sService.fetchPushedReelStories(),this.stories$=Vo(this.story_stories$,this.reel_stories$)},100)}static{this.\u0275fac=function(i){return new(i||t)(k(yr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-story-pushed"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"story","feed_stories_comments",4,"ngFor","ngForOf"],[3,"story","feed_stories_comments"]],template:function(i,r){1&i&&(Z(0,Yre,2,1,"div",0),Yi(1,"async")),2&i&&M("ngIf",Rn(1,1,r.stories$))},dependencies:[Ri,Pt,Gre,ha],styles:[".container[_ngcontent-%COMP%]{margin:20px auto}"]})}}return t})(),_l=(()=>{class t{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.checkValidity()?(console.log("AuthGuard: Authenticated"),ii.authEmitter.emit(!0),!0):(console.log("AuthGuard: Unauthenticated \u2014 returning UrlTree to /login"),ii.authEmitter.emit(!1),this.router.createUrlTree(["/login"]))}static{this.\u0275fac=function(i){return new(i||t)(ve(ii),ve(Kt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qre(t,n){if(1&t&&(x(0,"p"),F(1),Yi(2,"titlecase"),T()),2&t){const e=O();I(),oo("Chatroom is related to story ",e.data.story.title," from your friend ",Rn(2,2,e.fullName),".")}}function Xre(t,n){if(1&t&&(x(0,"p"),F(1),Yi(2,"titlecase"),T()),2&t){const e=O();I(),oo("Chatroom is related to reel ",e.data.reel.caption," from your friend ",Rn(2,2,e.fullName),".")}}let Tg=(()=>{class t{constructor(e,i,r){this.data=e,this.dialogRef=i,this.authService=r,this.fullName=""}ngOnInit(){this.loadData()}onSave(){this.dialogRef.close({start:!0})}onClose(){this.dialogRef.close()}loadData(){var e=this;return le(function*(){if("creating"===e.data.status&&(e.activity="starting"),"adding"===e.data.status&&(e.activity="joining"),e.data.story){const r=e.authService.publicUser(e.data.story.owner);e.publicUser=yield Gt(r),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name}else{const r=e.authService.publicUser(e.data.reel.reel_owner);e.publicUser=yield Gt(r),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name}const i=e.authService.user();e.user=yield Gt(i),e.loggedInUserId=e.user.id})()}static{this.\u0275fac=function(i){return new(i||t)(k(zs),k(Ho),k(ii))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-chatroom-dialog"]],decls:21,vars:6,consts:[[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[1,"container"],[4,"ngIf"],[1,"buttonrow","row"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(i,r){1&i&&(x(0,"h2",0),F(1,"New Chatroom Creation"),T(),x(2,"mat-dialog-content")(3,"div",1)(4,"h2"),F(5),Yi(6,"titlecase"),T(),Z(7,qre,3,4,"p",2)(8,Xre,3,4,"p",2),x(9,"p"),F(10,"Please refrain from abusing this feature as this chatroom can be blocked by anyone seeing this if it seems inappropiate to them."),T(),x(11,"p"),F(12,"Press OK to Cotinue or Cancel to Go Back!"),T()()(),x(13,"mat-dialog-actions")(14,"div",3)(15,"div",4)(16,"button",5),W("click",function(){return r.onSave()}),F(17," Ok "),T()(),x(18,"div",4)(19,"button",6),W("click",function(){return r.onClose()}),F(20," Cancel "),T()()()()),2&i&&(I(5),oo("You are ",r.activity," a chatroom visible to all friends of ",Rn(6,4,r.fullName),"."),I(2),M("ngIf",!!r.data.story),I(),M("ngIf",!!r.data.reel))},dependencies:[Pt,ad,sd,qy]})}}return t})();function Qre(t,n){if(1&t){const e=ye();x(0,"div",1)(1,"div",2)(2,"p",3),F(3,"Caption : "),x(4,"strong"),F(5),T()()(),x(6,"div",4)(7,"div",5),_e(8,"img",6),T(),x(9,"div",7)(10,"a",8),W("click",function(){z(e);const r=O();return G(r.goToReelDetail(r.reel.id))}),F(11,"Reel Detail"),T()()(),x(12,"div",9)(13,"p",10),F(14),T(),x(15,"p",11),F(16),T()()()}if(2&t){const e=O();I(5),tt(e.reel.caption),I(3),M("src","http://localhost:4500"+e.reel.image,Jt),I(6),ht("",e.commentNumbers," Comments"),I(2),Mo("",e.totalLikes," Likes, ",e.totalLoves," Loves and ",e.totalCelebrates," Celebrations")}}let Kre=(()=>{class t{constructor(e,i){this.router=e,this.rService=i,this.commentNumbers=0,this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0}ngOnInit(){this.totalLikes=this.reel.likes?.length||0,this.totalLoves=this.reel.loves?.length||0,this.totalCelebrates=this.reel.celebrates?.length||0,this.rService.fetchReelComments(this.reel.id).subscribe(e=>{this.commentNumbers=e.length})}goToReelDetail(e){this.router.navigateByUrl("feed/reel/"+e)}static{this.\u0275fac=function(i){return new(i||t)(k(Kt),k(Nr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-pushed-reel-item"]],inputs:{reel:"reel",index:"index"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"row"],[1,"titlebox"],[1,"card-body","row"],[1,"col-md-6"],["alt","reel.caption",1,"img-thumbnail","rounded","mx-auto","d-block",2,"height","200px","border-radius","5px",3,"src"],[1,"col-md-6",2,"display","flex"],[1,"btn","btn-primary",2,"margin","auto auto",3,"click"],[1,"card-footer"],[1,"float-start","text-muted","mb-0"],[1,"float-end","text-muted","mb-0"]],template:function(i,r){1&i&&Z(0,Qre,17,6,"div",0),2&i&&M("ngIf",!!r.reel)},dependencies:[Pt],styles:[".card[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;background:#d4f3fd;text-align:center;color:#000;float:none;margin:20px auto;padding:10px auto;max-height:600px;width:780px;display:flex}.card-body[_ngcontent-%COMP%]{align-content:center}a.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-height:40px}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-height:40px}.card-body[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%] > .card-title[_ngcontent-%COMP%]{vertical-align:middle;margin:10px auto}.card-footer.p[_ngcontent-%COMP%]{vertical-align:middle;margin:0!important}.titlebox[_ngcontent-%COMP%]{text-align:center;background-color:#a0c9d5;border-top-left-radius:10px;border-top-right-radius:10px;margin:0 auto;padding:10px;max-width:776px}"]})}}return t})();const Zre=t=>[t];function Jre(t,n){if(1&t&&(x(0,"h4",19),F(1),T()),2&t){const e=O(3);I(),ht("You have been blocked by ",e.fullName,", hence cannot start or go to chatrooms.")}}function eoe(t,n){if(1&t&&(x(0,"div")(1,"h5"),F(2),T()()),2&t){const e=n.$implicit;I(2),ht("TAG : ",e.name,"")}}function toe(t,n){if(1&t&&(x(0,"p"),F(1,"Published by "),_e(2,"img",20),x(3,"a",21),F(4),T()()),2&t){const e=O().ngIf,i=O(2);I(2),M("src","http://localhost:4500"+i.profile.avatar,Jt),I(),M("routerLink",Ht(3,Zre,"/profile/"+e.owner)),I(),ht("",i.fullName," ")}}function ioe(t,n){if(1&t&&(x(0,"p",22),F(1,"Published by User : "),x(2,"span",23),F(3),T()()),2&t){const e=O(3);I(3),tt(e.storyOwner)}}function noe(t,n){if(1&t&&_e(0,"app-pushed-reel-item",24),2&t){const i=n.index;M("reel",n.$implicit)("index",i)}}function roe(t,n){if(1&t){const e=ye();x(0,"button",25),W("click",function(){return z(e),G(O(3).createStoryChatRoom())}),F(1,"Start Chat"),T()}}function ooe(t,n){if(1&t){const e=ye();x(0,"button",25),W("click",function(){return z(e),G(O(3).goToChatRoom())}),F(1,"Goto Chat"),T()}}function soe(t,n){if(1&t){const e=ye();x(0,"button",25),W("click",function(){return z(e),G(O(3).joinChatRoom())}),F(1,"Join Chat"),T()}}function aoe(t,n){if(1&t){const e=ye();x(0,"button",25),W("click",function(){return z(e),G(O(3).leaveChatRoom())}),F(1,"Leave Chat"),T()}}function loe(t,n){if(1&t){const e=ye();x(0,"button",25),W("click",function(){return z(e),G(O(3).deleteChatroom())}),F(1,"Delete Chat"),T()}}function coe(t,n){if(1&t){const e=ye();x(0,"button",25),W("click",function(){return z(e),G(O(3).addComment())}),F(1,"Add Comment"),T()}}function doe(t,n){if(1&t){const e=ye();x(0,"button",26),W("click",function(){return z(e),G(O(3).addLike())}),F(1,"Add Like"),T()}}function uoe(t,n){if(1&t){const e=ye();x(0,"button",26),W("click",function(){return z(e),G(O(3).deleteLike())}),F(1,"Remove Like"),T()}}function hoe(t,n){if(1&t){const e=ye();x(0,"button",26),W("click",function(){return z(e),G(O(3).addLove())}),F(1,"Add Love"),T()}}function foe(t,n){if(1&t){const e=ye();x(0,"button",26),W("click",function(){return z(e),G(O(3).deleteLove())}),F(1,"Remove Love"),T()}}function poe(t,n){if(1&t){const e=ye();x(0,"button",26),W("click",function(){return z(e),G(O(3).addCelebrate())}),F(1,"Add Celebration"),T()}}function moe(t,n){if(1&t){const e=ye();x(0,"button",26),W("click",function(){return z(e),G(O(3).deleteCelebrate())}),F(1,"Remove Celebration"),T()}}function goe(t,n){if(1&t&&(x(0,"p",27),F(1),T()),2&t){const e=O(3);I(),ht(" Comments : ",e.comments.length,"")}}function _oe(t,n){if(1&t){const e=ye();x(0,"p",28),W("click",function(){return z(e),G(O(3).showReactionInfo())}),F(1),T()}if(2&t){const e=O(3);I(),Mo(" Likes : ",e.totalLikes," , Loves : ",e.totalLoves," & Celebrations : ",e.totalCelebrates,"")}}function boe(t,n){if(1&t&&_e(0,"app-story-comment-item",31),2&t){const i=n.index;M("comment",n.$implicit)("index",i)}}function voe(t,n){if(1&t&&(x(0,"div",29),Z(1,boe,1,2,"app-story-comment-item",30),T()),2&t){const e=O(3);I(),M("ngForOf",e.comments)}}function yoe(t,n){if(1&t&&(x(0,"div",3),Z(1,Jre,2,1,"h4",4),x(2,"div",5)(3,"h3"),F(4),T(),x(5,"p"),F(6),T(),x(7,"p"),F(8),T(),_e(9,"img",6),Z(10,eoe,3,1,"div",7)(11,toe,5,5,"p",8)(12,ioe,4,1,"p",9),T(),x(13,"div",10),Z(14,noe,1,2,"app-pushed-reel-item",11),T(),x(15,"div",1)(16,"div",3)(17,"div",12),Z(18,roe,2,0,"button",13)(19,ooe,2,0,"button",13)(20,soe,2,0,"button",13)(21,aoe,2,0,"button",13)(22,loe,2,0,"button",13)(23,coe,2,0,"button",13)(24,doe,2,0,"button",14)(25,uoe,2,0,"button",14)(26,hoe,2,0,"button",14)(27,foe,2,0,"button",14)(28,poe,2,0,"button",14)(29,moe,2,0,"button",14),T()(),_e(30,"div",15),x(31,"div",3)(32,"div",12),Z(33,goe,2,1,"p",16)(34,_oe,2,3,"p",17),T()()(),Z(35,voe,2,1,"div",18),T()),2&t){const e=n.ngIf,i=O(2);I(),M("ngIf",!!i.isBlocking),I(3),tt(e.title),I(2),tt(e.description),I(2),tt(e.longDescription),I(),Os("alt",e.title),M("src","http://localhost:4500"+e.image,Jt),I(),M("ngForOf",e.tags),I(),M("ngIf",!!i.profile),I(),M("ngIf",!i.profile),I(2),M("ngForOf",e.reels),I(4),M("ngIf",!(!i.isFriend||i.chatroom_membership||!i.showINITChatroom||i.isBlocking)),I(),M("ngIf",!(!i.isFriend||!i.chatroom_membership||i.isBlocking&&!i.can_delete_charoom)),I(),M("ngIf",!(!i.isFriend||i.chatroom_membership||!i.canshowJoinChatroom||i.isBlocking)),I(),M("ngIf",!!i.isFriend&&!!i.chatroom_membership&&!!i.showLeaveChatroom),I(),M("ngIf",!!i.isFriend&&!!i.can_delete_charoom),I(),M("ngIf",1==i.isFriend),I(),M("ngIf",1==i.showLike),I(),M("ngIf",0==i.showLike),I(),M("ngIf",1==i.showLove),I(),M("ngIf",0==i.showLove),I(),M("ngIf",1==i.showCelebrate),I(),M("ngIf",0==i.showCelebrate),I(4),M("ngIf",i.comments.length>0),I(),M("ngIf",i.totalLikes>0||i.totalLoves>0||i.totalCelebrates>0),I(),M("ngIf",i.comments.length>0)}}function Aoe(t,n){if(1&t&&(x(0,"div",1),Z(1,yoe,36,25,"div",2),Yi(2,"async"),T()),2&t){const e=O();I(),M("ngIf",Rn(2,1,e.story$))}}let Coe=(()=>{class t{constructor(e,i,r,o,s,a,l,m){this.route=e,this.sService=i,this.router=r,this.dialog=o,this.authService=s,this.chatService=a,this.fService=l,this.pService=m,this.likes=[],this.loves=[],this.celebrates=[],this.comments=[],this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0,this.showLike=!0,this.showLove=!0,this.showCelebrate=!0,this.isFriend=!1,this.loggedInEmail="",this.fullName="",this.showINITChatroom=!0,this.canshowJoinChatroom=!1,this.showLeaveChatroom=!1,this.chatroom_membership=!1,this.can_delete_charoom=!1,this.isBlocking=!1}ngOnInit(){this.route.params.subscribe(e=>{this.storyId=e.storyId}),this.loadData()}addComment(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.disableClose=!0,this.dialog.open(dN,e).afterClosed().subscribe(i=>{if(i){let r={};r=this.isFriend?{id:bs(),storycomment:i.data,story:this.storyId,commented_by:this.loggedInUserId,approval:"app"}:{id:bs(),storycomment:i.data,story:this.storyId,commented_by:this.loggedInUserId,approval:"rej"},this.sService.addStoryComment(this.storyId,r).subscribe(()=>{this.comments.push({id:r.id,storycomment:r.storycomment,story:r.story,commented_by:r.commented_by,approval:"app"})})}})}showReactionInfo(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let i={};this.likes.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,i[s]=a})});let r={};this.loves.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,r[s]=a})});let o={};this.celebrates.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,o[s]=a})}),e.data={likes:i,loves:r,celebrates:o},this.dialog.open(Sg,e)}addLike(){this.sService.addStoryLike(this.storyId).subscribe(()=>{this.likes.includes(this.loggedInUserId)||(this.totalLikes+=1,this.likes.push(this.loggedInUserId)),this.showLike=!1})}addLove(){this.sService.addStoryLove(this.storyId).subscribe(()=>{this.loves.includes(this.loggedInUserId)||(this.totalLoves+=1,this.loves.push(this.loggedInUserId)),this.showLove=!1})}addCelebrate(){this.sService.addStoryCelebrate(this.storyId).subscribe(()=>{this.celebrates.includes(this.loggedInUserId)||(this.totalCelebrates+=1,this.celebrates.push(this.loggedInUserId))}),this.showCelebrate=!1}deleteLike(){this.sService.removeStoryLike(this.storyId).subscribe(()=>{this.likes.includes(this.loggedInUserId)&&(this.totalLikes-=1,this.likes.forEach((e,i)=>{this.loggedInUserId==e&&this.likes.splice(i,1)}))}),this.showLike=!0}deleteLove(){this.sService.removeStoryLove(this.storyId).subscribe(()=>{this.loves.includes(this.loggedInUserId)&&(this.totalLoves-=1,this.loves.forEach((e,i)=>{this.loggedInUserId==e&&this.loves.splice(i,1)}))}),this.showLove=!0}deleteCelebrate(){this.sService.removeStoryCelebrate(this.storyId).subscribe(()=>{this.celebrates.includes(this.loggedInUserId)&&(this.totalCelebrates-=1,this.celebrates.forEach((e,i)=>{this.loggedInUserId==e&&this.celebrates.splice(i,1)}))}),this.showCelebrate=!0}loadData(){var e=this;return le(function*(){const i=e.authService.user();e.user=yield Gt(i),e.loggedInUserId=e.user.id,e.loggedInEmail=e.user.email,e.story$=e.sService.fetchFeedStory(e.storyId),e.story=yield Gt(e.story$),e.storyOwner=e.story.owner;try{const o=e.authService.publicUser(e.storyOwner);e.publicUser=yield Gt(o),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name;const s=e.pService.fetchPublicProfile(e.storyOwner);e.profile=yield Gt(s)}catch{console.log("No Profile Data Found!!")}e.friends$=e.fService.listFriends(),e.friends=yield Gt(e.friends$),e.friends.forEach(o=>{o.id===e.storyOwner&&(e.isFriend=!0)});const r=e.sService.fetchComments(e.storyId);e.comments=yield Gt(r),e.story.likes?.forEach(o=>{e.likes.push(o.id)}),e.story.loves?.forEach(o=>{e.loves.push(o.id)}),e.story.celebrates?.forEach(o=>{e.celebrates.push(o.id)}),e.totalLikes=e.likes.length,e.totalLoves=e.loves.length,e.totalCelebrates=e.celebrates.length,e.likes.forEach(o=>{o==+e.loggedInUserId&&(e.showLike=!1)}),e.loves.forEach(o=>{o==+e.loggedInUserId&&(e.showLove=!1)}),e.celebrates.forEach(o=>{o==+e.loggedInUserId&&(e.showCelebrate=!1)}),e.loadChatRelatedData()})()}loadChatRelatedData(){var e=this;return le(function*(){e.chatService.showChatRooms().subscribe(i=>{i&&i.forEach(r=>{r.story&&e.storyId==r.story&&(e.chatroom_owner=r.owner,r.participants.forEach(o=>{o.id==e.loggedInUserId&&(e.showINITChatroom=!1,e.chatroomID=r.id)}),e.story.owner==+e.loggedInUserId?(e.chatroom_membership=!1,e.canshowJoinChatroom=!1,e.showLeaveChatroom=!1,e.showINITChatroom=!1):e.fService.isFriend(e.storyOwner).subscribe(o=>{o.is_friend&&(e.showINITChatroom=!1,e.canshowJoinChatroom=!0,e.chatroomID=r.id,console.log("Is Friend but not in chatroom!"))}),e.chatService.isMember(r.id).subscribe(o=>{e.chatroom_membership=o.is_member,e.chatroom_membership&&(e.showLeaveChatroom=!0)}),r.owner==e.loggedInUserId&&(e.can_delete_charoom=!0))})})})()}createStoryChatRoom(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let i={};i={...this.story},e.data={status:"creating",story:i},this.dialog.open(Tg,e).afterClosed().subscribe(r=>{if(r.start){let o={},s=[];s.push(this.loggedInUserId),s.push(this.story.owner),o={participants:s,story:this.story.id},this.chatService.startChatRoom(o).subscribe(a=>{a.id?this.router.navigate(["/chat/"+a.id],{state:{object_type:"story",object_id:this.storyId,chatroom_owner:this.loggedInUserId}}):console.log(a)})}})}goToChatRoom(){const e={state:{object_type:"story",object_id:this.storyId,chatroom_owner:this.chatroom_owner}};console.log(e),this.router.navigate(["/chat/"+this.chatroomID],e)}joinChatRoom(){this.chatService.joinserver(this.chatroomID).subscribe(e=>{if("User joined Chatroom successfully"===e.message){this.chatroom_membership=!0,this.showLeaveChatroom=!0,this.canshowJoinChatroom=!1;const i=new $i;i.autoFocus=!1,i.minWidth="800px",i.minHeight="600px",i.panelClass="custom-dialogbox";let r={};r={...this.story},i.data={status:"adding",story:r},this.dialog.open(Tg,i).afterClosed().subscribe(o=>{o.start&&this.goToChatRoom()})}else"User is already a member"===e.error?console.log(e.error):console.log(e)})}leaveChatRoom(){this.chatService.leaveserver(this.chatroomID).subscribe(e=>{"User removed from Chatroom..."===e.message?(this.chatroom_membership=!1,this.showLeaveChatroom=!1,this.canshowJoinChatroom=!0):"User is not a member"===e.error||"Owners cannot be removed as a member"===e.error?console.log(e.error):console.log(e)})}deleteChatroom(){this.chatService.removeChatRoom(this.chatroomID).subscribe(e=>{console.log(e),this.router.navigate(["/feed/"])})}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k(yr),k(Kt),k(uo),k(ii),k(gl),k(fd),k($s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-pushed-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],["style","background-color: pink;",4,"ngIf"],[1,"mainrow"],[1,"card-img-top","img-fluid",3,"src","alt"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","float-start m-auto",4,"ngIf"],[1,"reelrow"],[3,"reel","index",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","btn btn-primary float-start",3,"click",4,"ngIf"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"row",2,"height","20px"],["class","float-start","style","color:#2292b7; vertical-align: middle; margin: 0 10px !important;",4,"ngIf"],["class","float-end","style","cursor: pointer;color:#2292b7;text-decoration: underline;  vertical-align: middle;\n            margin: 0 10px !important;",3,"click",4,"ngIf"],["class","commentrow",4,"ngIf"],[2,"background-color","pink"],["alt","Profile Image",1,"circular_image",2,"margin-right","5px",3,"src"],[2,"color","#2292b7","vertical-align","middle","margin","0 10px !important",3,"routerLink"],[1,"float-start","m-auto"],[2,"margin-right","5px","color","#2292b7","vertical-align","middle","margin","0 10px !important"],[3,"reel","index"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[1,"float-start",2,"color","#2292b7","vertical-align","middle","margin","0 10px !important"],[1,"float-end",2,"cursor","pointer","color","#2292b7","text-decoration","underline","vertical-align","middle","margin","0 10px !important",3,"click"],[1,"commentrow"],[3,"comment","index",4,"ngFor","ngForOf"],[3,"comment","index"]],template:function(i,r){1&i&&Z(0,Aoe,3,3,"div",0),2&i&&M("ngIf",!!r.loggedInUserId)},dependencies:[Ri,Pt,Bs,vN,Kre,ha],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.mainrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;margin:20px auto!important}.reelrow[_ngcontent-%COMP%], .commentrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.circular_image[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}"]})}}return t})();function woe(t,n){if(1&t){const e=ye();x(0,"button",13),W("click",function(){return z(e),G(O(3).createReelChatRoom())}),F(1,"Init Chat"),T()}}function xoe(t,n){if(1&t){const e=ye();x(0,"button",13),W("click",function(){return z(e),G(O(3).goToChatRoom())}),F(1,"Goto Chat"),T()}}function Soe(t,n){if(1&t){const e=ye();x(0,"button",13),W("click",function(){return z(e),G(O(3).joinChatRoom())}),F(1,"Join Chat"),T()}}function Toe(t,n){if(1&t){const e=ye();x(0,"button",13),W("click",function(){return z(e),G(O(3).leaveChatRoom())}),F(1,"Leave Chat"),T()}}function Doe(t,n){if(1&t){const e=ye();x(0,"button",13),W("click",function(){return z(e),G(O(3).deleteChatroom())}),F(1,"Delete Chat"),T()}}function Ioe(t,n){if(1&t){const e=ye();x(0,"button",13),W("click",function(){return z(e),G(O(3).addComment())}),F(1,"Add Comment"),T()}}function Eoe(t,n){if(1&t){const e=ye();x(0,"button",14),W("click",function(){return z(e),G(O(3).addLike())}),F(1,"Add Like"),T()}}function Moe(t,n){if(1&t){const e=ye();x(0,"button",14),W("click",function(){return z(e),G(O(3).deleteLike())}),F(1,"Remove Like"),T()}}function koe(t,n){if(1&t){const e=ye();x(0,"button",14),W("click",function(){return z(e),G(O(3).addLove())}),F(1,"Add Love"),T()}}function Ooe(t,n){if(1&t){const e=ye();x(0,"button",14),W("click",function(){return z(e),G(O(3).deleteLove())}),F(1,"Remove Love"),T()}}function Poe(t,n){if(1&t){const e=ye();x(0,"button",14),W("click",function(){return z(e),G(O(3).addCelebrate())}),F(1,"Add Celebration"),T()}}function Roe(t,n){if(1&t){const e=ye();x(0,"button",14),W("click",function(){return z(e),G(O(3).deleteCelebrate())}),F(1,"Remove Celebration"),T()}}function Noe(t,n){if(1&t&&(x(0,"div",2)(1,"div",7),Z(2,woe,2,0,"button",11)(3,xoe,2,0,"button",11)(4,Soe,2,0,"button",11)(5,Toe,2,0,"button",11)(6,Doe,2,0,"button",11)(7,Ioe,2,0,"button",11)(8,Eoe,2,0,"button",12)(9,Moe,2,0,"button",12)(10,koe,2,0,"button",12)(11,Ooe,2,0,"button",12)(12,Poe,2,0,"button",12)(13,Roe,2,0,"button",12),T()()),2&t){const e=O(2);I(2),M("ngIf",!!e.isFriend&&!e.chatroom_membership&&!!e.showINITChatroom),I(),M("ngIf",!!e.isFriend&&!!e.chatroom_membership),I(),M("ngIf",!!e.isFriend&&!e.chatroom_membership&&!!e.canshowJoinChatroom),I(),M("ngIf",!!e.isFriend&&!!e.chatroom_membership&&!!e.showLeaveChatroom),I(),M("ngIf",!!e.isFriend&&!!e.can_delete_charoom),I(),M("ngIf",1==e.isFriend),I(),M("ngIf",1==e.showLike),I(),M("ngIf",0==e.showLike),I(),M("ngIf",1==e.showLove),I(),M("ngIf",0==e.showLove),I(),M("ngIf",1==e.showCelebrate),I(),M("ngIf",0==e.showCelebrate)}}function Foe(t,n){if(1&t&&(x(0,"p",15),F(1),T()),2&t){const e=O(2);I(),ht(" Comments : ",e.comments.length,"")}}function Loe(t,n){if(1&t){const e=ye();x(0,"p",16),W("click",function(){return z(e),G(O(2).showReactionInfo())}),F(1),T()}if(2&t){const e=O(2);I(),Mo(" Likes : ",e.totalLikes," , Loves : ",e.totalLoves," & Celebrations : ",e.totalCelebrates,"")}}function Boe(t,n){if(1&t&&_e(0,"app-reel-comment-item",19),2&t){const i=n.index;M("comment",n.$implicit)("index",i)}}function Voe(t,n){if(1&t&&(x(0,"div",17),Z(1,Boe,1,2,"app-reel-comment-item",18),T()),2&t){const e=O(2);I(),M("ngForOf",e.comments)}}function Hoe(t,n){if(1&t&&(x(0,"div",2)(1,"div",3)(2,"h1",4),F(3),T(),_e(4,"img",5),T(),x(5,"div",0),Z(6,Noe,14,12,"div",1),_e(7,"div",6),x(8,"div",2)(9,"div",7),Z(10,Foe,2,1,"p",8)(11,Loe,2,3,"p",9),T()()(),Z(12,Voe,2,1,"div",10),T()),2&t){const e=n.ngIf,i=O();I(3),ht("Caption : ",e.caption,""),I(),M("src","http://localhost:4500"+e.image,Jt),I(2),M("ngIf",!!i.showreactionAction),I(4),M("ngIf",i.comments.length>0),I(),M("ngIf",i.totalLikes>0||i.totalLoves>0||i.totalCelebrates>0),I(),M("ngIf",i.comments.length>0)}}let joe=(()=>{class t{constructor(e,i,r,o,s,a,l){this.route=e,this.rService=i,this.dialog=r,this.router=o,this.authService=s,this.fService=a,this.chatService=l,this.comments=[],this.likes=[],this.loves=[],this.celebrates=[],this.totalLikes=0,this.totalLoves=0,this.totalCelebrates=0,this.showLike=!0,this.showLove=!0,this.showCelebrate=!0,this.fullName="",this.isFriend=!1,this.showreactionAction=!0,this.can_delete_charoom=!1,this.showINITChatroom=!0,this.canshowJoinChatroom=!1,this.showLeaveChatroom=!1,this.chatroom_membership=!1}ngOnInit(){this.route.params.subscribe(e=>{this.reelId=e.reelId}),this.loadData()}addComment(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.disableClose=!0,this.friends$.subscribe(i=>{i.forEach(r=>{r.id==this.loggedInUserId&&(this.isFriend=!0)})}),this.dialog.open(yN,e).afterClosed().subscribe(i=>{if(i){let r={};r=this.isFriend?{id:bs(),reelcomment:i.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"app"}:{id:bs(),reelcomment:i.data,reel:this.reelId,commented_by:this.loggedInUserId,approval:"rej"},this.rService.addReelComment(this.reelId,r).subscribe(()=>{this.comments.push({id:r.id,reelcomment:r.reelcomment,reel:r.reel,commented_by:r.commented_by,approval:"app"})})}})}addLike(){this.rService.addReelLike(this.reelId).subscribe(()=>{this.likes.includes(this.loggedInUserId)||(this.totalLikes+=1,this.likes.push(this.loggedInUserId)),this.showLike=!1})}addLove(){this.rService.addReelLove(this.reelId).subscribe(()=>{this.loves.includes(this.loggedInUserId)||(this.totalLoves+=1,this.loves.push(this.loggedInUserId)),this.showLove=!1})}addCelebrate(){this.rService.addReelCelebrate(this.reelId).subscribe(()=>{this.celebrates.includes(this.loggedInUserId)||(this.totalCelebrates+=1,this.celebrates.push(this.loggedInUserId))}),this.showCelebrate=!1}deleteLike(){this.rService.removeReelLike(this.reelId).subscribe(()=>{this.likes.includes(this.loggedInUserId)&&(this.totalLikes-=1,this.likes.forEach((e,i)=>{this.loggedInUserId==e&&this.likes.splice(i,1)}))}),this.showLike=!0}deleteLove(){this.rService.removeReelLove(this.reelId).subscribe(()=>{this.loves.includes(this.loggedInUserId)&&(this.totalLoves-=1,this.loves.forEach((e,i)=>{this.loggedInUserId==e&&this.loves.splice(i,1)}))}),this.showLove=!0}deleteCelebrate(){this.rService.removeReelCelebrate(this.reelId).subscribe(()=>{this.celebrates.includes(this.loggedInUserId)&&(this.totalCelebrates-=1,this.celebrates.forEach((e,i)=>{this.loggedInUserId==e&&this.celebrates.splice(i,1)}))}),this.showCelebrate=!0}showReactionInfo(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let i={};this.likes.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,i[s]=a})});let r={};this.loves.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,r[s]=a})});let o={};this.celebrates.forEach(s=>{let a;this.authService.publicUser(s).subscribe(l=>{a=l.first_name+" "+l.last_name,o[s]=a})}),e.data={likes:i,loves:r,celebrates:o},this.dialog.open(Sg,e)}loadData(){var e=this;return le(function*(){const i=e.authService.user();e.user=yield Gt(i),e.loggedInUserId=e.user.id,e.reel$=e.rService.fetchReelforFeed(e.reelId),e.reel=yield Gt(e.reel$),e.reelOwner=e.reel.reel_owner,e.reelOwner===+e.loggedInUserId&&(e.showreactionAction=!1);const r=e.authService.publicUser(e.reelOwner);e.publicUser=yield Gt(r),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name,e.friends$=e.fService.listFriends(),e.friends=yield Gt(e.friends$),e.friends.forEach(s=>{s.id===e.reelOwner&&(e.isFriend=!0)});const o=e.rService.fetchReelComments(e.reelId);e.comments=yield Gt(o),e.reel.likes?.forEach(s=>{e.likes.push(s.id)}),e.reel.loves?.forEach(s=>{e.loves.push(s.id)}),e.reel.celebrates?.forEach(s=>{e.celebrates.push(s.id)}),e.totalLikes=e.likes.length,e.totalLoves=e.loves.length,e.totalCelebrates=e.celebrates.length,e.likes.forEach(s=>{s==+e.loggedInUserId?e.showLike=!1:console.log(s)}),e.loves.forEach(s=>{s==+e.loggedInUserId?e.showLove=!1:console.log(s)}),e.celebrates.forEach(s=>{s==+e.loggedInUserId?e.showCelebrate=!1:console.log(s)}),e.loadChatRelatedData()})()}loadChatRelatedData(){var e=this;return le(function*(){e.chatService.showChatRooms().subscribe(i=>{i&&i.forEach(r=>{r.reel&&e.reelId==r.reel&&(e.chatroom_owner=r.owner,console.log("Matched!"),r.participants.forEach(o=>{o.id==e.loggedInUserId&&(e.showINITChatroom=!1,e.chatroomID=r.id,console.log("Member: ",o.id))}),e.reel.reel_owner==+e.loggedInUserId?(e.chatroom_membership=!1,e.canshowJoinChatroom=!1,e.showLeaveChatroom=!1,e.showINITChatroom=!1):e.fService.isFriend(e.reelOwner).subscribe(o=>{console.log(o),o.is_friend&&(e.showINITChatroom=!1,e.canshowJoinChatroom=!0,e.chatroomID=r.id,console.log("Is Friend but not in chatroom!"))}),e.chatService.isMember(r.id).subscribe(o=>{e.chatroom_membership=o.is_member,e.chatroom_membership&&(e.showLeaveChatroom=!0)}),r.owner==e.loggedInUserId&&(e.can_delete_charoom=!0))})})})()}createReelChatRoom(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.minHeight="600px",e.panelClass="custom-dialogbox";let i={};i={...this.reel},e.data={status:"creating",reel:i},this.dialog.open(Tg,e).afterClosed().subscribe(r=>{if(r.start){let o={},s=[];s.push(this.loggedInUserId),s.push(this.reel.reel_owner),o={participants:s,reel:this.reel.id},this.chatService.startChatRoom(o).subscribe(a=>{a.id?this.router.navigate(["/chat/"+a.id],{state:{object_type:"reel",object_id:this.reelId,chatroom_owner:this.loggedInUserId}}):console.log(a)})}})}goToChatRoom(){const e={state:{object_type:"reel",object_id:this.reelId,chatroom_owner:this.chatroom_owner}};console.log(e),this.router.navigate(["/chat/"+this.chatroomID],e)}joinChatRoom(){this.chatService.joinserver(this.chatroomID).subscribe(e=>{if("User joined Chatroom successfully"===e.message){this.chatroom_membership=!0,this.showLeaveChatroom=!0,this.canshowJoinChatroom=!1;const i=new $i;i.autoFocus=!1,i.minWidth="800px",i.minHeight="600px",i.panelClass="custom-dialogbox";let r={};r={...this.reel},i.data={status:"adding",reel:r},this.dialog.open(Tg,i).afterClosed().subscribe(o=>{o.start&&this.goToChatRoom()})}})}leaveChatRoom(){this.chatService.leaveserver(this.chatroomID).subscribe(e=>{"User removed from Chatroom..."===e.message&&(this.chatroom_membership=!1,this.showLeaveChatroom=!1,this.canshowJoinChatroom=!0)})}deleteChatroom(){this.chatService.removeChatRoom(this.chatroomID).subscribe(e=>{console.log(e),this.router.navigate(["/feed/"])})}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k(Nr),k(uo),k(Kt),k(ii),k(fd),k(gl))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-pushed-reel-detail"]],decls:3,vars:3,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow"],[2,"text-align","center","background-color","#a0c9d5","border-radius","5px","padding","10px"],[1,"card-img-top","img-fluid",2,"max-width","800px",3,"src"],[1,"row",2,"height","20px"],[1,"col-md-12"],["class","float-start","style","color:#2292b7; vertical-align: middle; margin: 0 10px !important;",4,"ngIf"],["class","float-end","style","cursor: pointer;color:#2292b7;text-decoration: underline;  vertical-align: middle;\n            margin: 0 10px !important;",3,"click",4,"ngIf"],["class","commentrow",4,"ngIf"],["class","btn btn-primary float-start",3,"click",4,"ngIf"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[1,"float-start",2,"color","#2292b7","vertical-align","middle","margin","0 10px !important"],[1,"float-end",2,"cursor","pointer","color","#2292b7","text-decoration","underline","vertical-align","middle","margin","0 10px !important",3,"click"],[1,"commentrow"],[3,"comment","index",4,"ngFor","ngForOf"],[3,"comment","index"]],template:function(i,r){1&i&&(x(0,"div",0),Z(1,Hoe,13,6,"div",1),Yi(2,"async"),T()),2&i&&(I(),M("ngIf",Rn(2,1,r.reel$)))},dependencies:[Ri,Pt,AN,ha],styles:[".container[_ngcontent-%COMP%]{margin:10px auto;padding:20px auto;justify-content:center;width:800px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}.mainrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;margin:20px auto}.commentrow[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}"]})}}return t})(),fC=(()=>{class t{constructor(){this.avatar=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Uoe(t,n){if(1&t&&(x(0,"div",7)(1,"div",23),_e(2,"img",24),T()()),2&t){const e=O(2);I(2),M("src",e.imageUrl,Jt)}}function zoe(t,n){if(1&t){const e=ye();qn(0)(1,6),x(2,"div",7)(3,"div",8)(4,"div",9)(5,"label",10),F(6,"Status"),T(),_e(7,"input",11),T()()(),x(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",12),F(12,"Bio"),T(),_e(13,"input",13),T()()(),x(14,"div",7)(15,"div",8)(16,"div",9)(17,"label",14),F(18,"Gender"),T(),_e(19,"input",15),T()()(),Z(20,Uoe,3,1,"div",16),x(21,"div",7)(22,"div",17)(23,"div",9)(24,"input",18),W("change",function(r){return z(e),G(O().onFileSelected(r))}),T()()()(),x(25,"div",7)(26,"div",8)(27,"div",9)(28,"label",19),F(29,"City"),T(),_e(30,"input",20),T()()(),x(31,"div",7)(32,"div",8)(33,"div",9)(34,"label",21),F(35,"URL"),T(),_e(36,"input",22),T()()(),Xn()()}if(2&t){const e=O();I(),M("formGroup",e.profileForm),I(19),M("ngIf",!!e.imageUrl)}}let Goe=(()=>{class t{constructor(e,i,r,o){this.fb=e,this.dialogRef=i,this.pFileTransferService=o,this.profileForm=this.fb.group({status:["",mi.required],bio:["",mi.required],city:["",mi.required],url:["",mi.required],gender:["",mi.required],avatar:[null,mi.required]})}ngOnInit(){}onFileSelected(e){this.selectedFile=e.target.files[0],console.log(this.selectedFile),this.imageUrl=URL.createObjectURL(this.selectedFile),this.pFileTransferService.avatar=this.selectedFile}onClose(){this.dialogRef.close()}onSave(){this.dialogRef.close({data:this.profileForm.value})}static{this.\u0275fac=function(i){return new(i||t)(k(gs),k(Ho),k(zs),k(fC))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-private-profile-create"]],decls:12,vars:1,consts:[[2,"text-align","center","background-color","#a0c9d5","border-bottom-left-radius","5px","border-bottom-right-radius","5px","padding","10px"],[4,"ngIf"],[1,"buttonrow","row"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],["enctype","multipart/form-data",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","status"],["type","text","id","status","formControlName","status",1,"form-control"],["for","bio"],["type","text","id","bio","formControlName","bio",1,"form-control"],["for","gender"],["type","text","id","gender","formControlName","gender",1,"form-control"],["class","row",4,"ngIf"],[1,"col-xs-12"],["type","file","accept","image/*",3,"change"],["for","city"],["type","text","id","city","formControlName","city",1,"form-control"],["for","url"],["type","text","id","url","formControlName","url",1,"form-control"],[1,"col-xs-12","imagerow"],[2,"max-width","200px",3,"src"]],template:function(i,r){1&i&&(x(0,"h2",0),F(1,"New Profile Creation"),T(),x(2,"mat-dialog-content"),Z(3,zoe,37,2,"ng-container",1),T(),x(4,"mat-dialog-actions")(5,"div",2)(6,"div",3)(7,"button",4),W("click",function(){return r.onSave()}),F(8," Add Profile "),T()(),x(9,"div",3)(10,"button",5),W("click",function(){return r.onClose()}),F(11," Cancel "),T()()()()),2&i&&(I(3),M("ngIf",r.profileForm))},dependencies:[Pt,jn,Un,Kn,ad,sd,Dn,wr]})}}return t})();function Uo(t){t||(kd(),t=Q(xo));const n=new Zt(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(Dt(n))}const{isArray:qoe}=Array;function wN(t){return 1===t.length&&qoe(t[0])?t[0]:t}const SN=new Zt(rt);function Dg(...t){const n=sm(t),e=wN(t);return e.length?new Zt(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)xn(e[s]).subscribe(Ci(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(m=>m.shift());i.next(n?n(...l):l),r.some((m,A)=>!m.length&&o[A])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):vr}function pC(...t){const n=sm(t);return Gi((e,i)=>{const r=t.length,o=new Array(r);let s=t.map(()=>!1),a=!1;for(let l=0;l<r;l++)xn(t[l]).subscribe(Ci(i,m=>{o[l]=m,!a&&!s[l]&&(s[l]=!0,(a=s.every(Cs))&&(s=null))},rt));e.subscribe(Ci(i,l=>{if(a){const m=[l,...o];i.next(n?n(...m):m)}}))})}Math,Math,Math;const iae=["*"];function nae(t,n){if(1&t){const e=ye();x(0,"button",7),W("click",function(){const r=z(e).$implicit,o=O();return o.focus(),G(o.select(r.id,o.NgbSlideEventSource.INDICATOR))}),T()}if(2&t){const e=n.$implicit,i=O();Qe("active",e.id===i.activeId),pt("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function rae(t,n){}function oae(t,n){if(1&t&&(x(0,"div",6)(1,"span",8),ca(2,0),T(),Z(3,rae,0,0,"ng-template",9),T()),2&t){const e=n.$implicit,i=n.$index,r=n.$count;M("id","slide-"+e.id),I(2),ty(i+1)(r),function GD(t){!function WU(t,n,e){if(Tu>0){const i=t.data[e];MD(t,n,Array.isArray(i)?i:i.update,Ts()-Tu-1,Su)}Su=0,Tu=0}(Xt(),Ne(),t+Ft)}(2),I(),M("ngTemplateOutlet",e.templateRef)}}function sae(t,n){if(1&t){const e=ye();x(0,"button",10),W("click",function(){return z(e),G(O().arrowLeft())}),_e(1,"span",11),x(2,"span",12),ca(3,1),T()(),x(4,"button",13),W("click",function(){return z(e),G(O().arrowRight())}),_e(5,"span",14),x(6,"span",12),ca(7,2),T()()}if(2&t){const e=O();pt("aria-labelledby",e.id+"-previous"),I(2),M("id",e.id+"-previous"),I(2),pt("aria-labelledby",e.id+"-next"),I(2),M("id",e.id+"-next")}}const Nae=["dialog"],GN={animation:!0,transitionTimerDelayMs:5};let zh=(()=>{class t{constructor(){this.animation=GN.animation}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function bd(t){return"string"==typeof t}function yl(t){return null!=t}function vd(t){return(t||document.body).getBoundingClientRect()}const Ile=()=>{},{transitionTimerDelayMs:Ele}=GN,Gh=new Map,Br=(t,n,e,i)=>{let r=i.context||{};const o=Gh.get(n);if(o)switch(i.runningTransition){case"continue":return vr;case"stop":t.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Gh.delete(n)}const s=e(n,i.animation,r)||Ile;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>s()),ot(void 0).pipe(function Dle(t){return n=>new Zt(e=>n.subscribe({next:s=>t.run(()=>e.next(s)),error:s=>t.run(()=>e.error(s)),complete:()=>t.run(()=>e.complete())}))}(t));const a=new Ye,l=new Ye,m=a.pipe(function Qoe(...t){return n=>Bc(n,ot(...t))}(!0));Gh.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const A=function xle(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const S=Ji(n,"transitionend").pipe(Dt(m),pi(({target:N})=>N===n));(function xN(...t){return 1===(t=wN(t)).length?xn(t[0]):new Zt(function Xoe(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push(xn(t[i]).subscribe(Ci(n,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}n.next(r)})))}}(t))})(dh(A+Ele).pipe(Dt(m)),S,l).pipe(Dt(m)).subscribe(()=>{Gh.delete(n),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let KN=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),ZN=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),Ble=(()=>{class t{constructor(){this._ngbConfig=Q(zh),this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var yd=function(t){return t.START="start",t.END="end",t}(yd||{});const JN=({classList:t})=>t.contains("carousel-item-start")||t.contains("carousel-item-end"),Wh=t=>{t.remove("carousel-item-start"),t.remove("carousel-item-end")},Og=t=>{Wh(t),t.remove("carousel-item-prev"),t.remove("carousel-item-next")},Vle=(t,n,{direction:e})=>{const{classList:i}=t;return n?(JN(t)?Wh(i):(i.add("carousel-item-"+(e===yd.START?"next":"prev")),vd(t),i.add("carousel-item-"+e)),()=>{Og(i),i.add("active")}):(Wh(i),Og(i),void i.add("active"))},Hle=(t,n,{direction:e})=>{const{classList:i}=t;return n?(JN(t)?Wh(i):i.add("carousel-item-"+e),()=>{Og(i),i.remove("active")}):(Wh(i),Og(i),void i.remove("active"))};let jle=0,Ule=0,eF=(()=>{class t{constructor(){this.templateRef=Q(si),this.id="ngb-slide-"+jle++,this.slid=new Fe}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Be({type:t,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0})}}return t})(),zle=(()=>{class t{constructor(){this.NgbSlideEventSource=Yh,this._config=Q(Ble),this._platformId=Q(So),this._ngZone=Q(Je),this._cd=Q(Qt),this._container=Q(Xe),this._destroyRef=Q(xo),this._interval$=new gn(this._config.interval),this._mouseHover$=new gn(!1),this._focused$=new gn(!1),this._pauseOnHover$=new gn(this._config.pauseOnHover),this._pauseOnFocus$=new gn(this._config.pauseOnFocus),this._pause$=new gn(!1),this._wrap$=new gn(this._config.wrap),this.id="ngb-carousel-"+Ule++,this.animation=this._config.animation,this.keyboard=this._config.keyboard,this.showNavigationArrows=this._config.showNavigationArrows,this.showNavigationIndicators=this._config.showNavigationIndicators,this.slide=new Fe,this.slid=new Fe,this._transitionIds=null}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Yh.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Yh.ARROW_RIGHT)}ngAfterContentInit(){im(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=Fc([this.slide.pipe(bt(i=>i.current),cr(this.activeId)),this._wrap$,this.slides.changes.pipe(cr(null))]).pipe(bt(([i,r])=>{const o=this.slides.toArray(),s=this._getSlideIdxById(i);return r?o.length>1:s<o.length-1}),tl());Fc([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe(bt(([i,r,o,s,a,l,m])=>i||r&&o||s&&a||!m?0:l),tl(),dn(i=>i>0?dh(i,i):SN),Uo(this._destroyRef)).subscribe(()=>this._ngZone.run(()=>this.next(Yh.TIMER)))}),this.slides.changes.pipe(Uo(this._destroyRef)).subscribe(()=>{this._transitionIds?.forEach(e=>(t=>{Gh.get(t)?.complete()})(this._getSlideElement(e))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Ei(1)).subscribe(()=>{for(const{id:e}of this.slides){const i=this._getSlideElement(e);e===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),yd.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),yd.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,r){const o=this._transitionIds;if(o&&(o[0]!==e||o[1]!==this.activeId))return;let s=this._getSlideById(e);if(s&&s.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:s.id,direction:i,paused:this._pause$.value,source:r});const a={animation:this.animation,runningTransition:"stop",context:{direction:i}},l=[],m=this._getSlideById(this.activeId);if(m){const N=Br(this._ngZone,this._getSlideElement(m.id),Hle,a);N.subscribe(()=>{m.slid.emit({isShown:!1,direction:i,source:r})}),l.push(N)}const A=this.activeId;this.activeId=s.id;const S=this._getSlideById(this.activeId),P=Br(this._ngZone,this._getSlideElement(s.id),Vle,a);P.subscribe(()=>{S?.slid.emit({isShown:!0,direction:i,source:r})}),l.push(P),Dg(...l).pipe(Ei(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:A,current:s.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?yd.END:yd.START}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),r=this._getSlideIdxById(e);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(e){const i=this.slides.toArray(),r=this._getSlideIdxById(e);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["ngb-carousel"]],contentQueries:function(i,r,o){if(1&i&&Lt(o,eF,4),2&i){let s;Ge(s=We())&&(r.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(i,r){1&i&&W("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&i&&(pt("aria-activedescendant","slide-"+r.activeId),ti("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[Yt],decls:7,vars:3,consts:()=>{let e,i,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,i=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[e,i,r,["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active"],[1,"carousel-inner"],["role","tabpanel",1,"carousel-item",3,"id"],["type","button","data-bs-target","","role","tab",3,"click"],[1,"visually-hidden"],[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden",3,"id"],["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]]},template:function(i,r){1&i&&(x(0,"div",3),Fn(1,nae,1,5,"button",4,$n),T(),x(3,"div",5),Fn(4,oae,4,4,"div",6,$n),T(),Z(6,sae,8,4)),2&i&&(Qe("visually-hidden",!r.showNavigationIndicators),I(),Ln(r.slides),I(3),Ln(r.slides),I(2),vt(6,r.showNavigationArrows?6:-1))},dependencies:[ls],encapsulation:2,changeDetection:0})}}return t})();var Yh=function(t){return t.TIMER="timer",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.INDICATOR="indicator",t}(Yh||{});let tF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),iF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();var Ni=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Ni||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function dF(t){const n=Array.from(t.querySelectorAll(cF)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let TF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),IF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),Bce=(()=>{class t{constructor(){this._ngbConfig=Q(zh),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Sl{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let Vce=(()=>{class t{constructor(){this._document=Q(xt)}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hce=(()=>{class t{constructor(){this._nativeElement=Q(Xe).nativeElement,this._zone=Q(Je)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ei(1)).subscribe(()=>{Br(this._zone,this._nativeElement,(e,i)=>{i&&vd(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Br(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(vn("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Qe("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Yt],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return t})();class EF{update(n){}close(n){}dismiss(n){}}const jce=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Uce=["animation","backdropClass"];class zce{_applyWindowOptions(n,e){jce.forEach(i=>{yl(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){Uce.forEach(i=>{yl(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Dt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Dt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,r){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ye,this._dismissed=new Ye,this._hidden=new Ye,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function WN(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ot(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Dg(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var BC=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(BC||{});let Gce=(()=>{class t{constructor(){this._document=Q(xt),this._elRef=Q(Xe),this._zone=Q(Je),this._closed$=new Ye,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Fe,this.shown=new Ye,this.hidden=new Ye}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":bd(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ei(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=Dg(Br(this._zone,e,()=>e.classList.remove("show"),i),Br(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};Dg(Br(this._zone,this._elRef.nativeElement,(o,s)=>{s&&vd(o),o.classList.add("show")},e),Br(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ji(e,"keydown").pipe(Dt(this._closed$),pi(r=>r.which===Ni.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(BC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ji(this._dialogEl.nativeElement,"mousedown").pipe(Dt(this._closed$),Ki(()=>i=!1),dn(()=>Ji(e,"mouseup").pipe(Dt(this._closed$),Ei(1))),pi(({target:r})=>e===r)).subscribe(()=>{i=!0}),Ji(e,"click").pipe(Dt(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(BC.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=dF(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Br(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Tt(Nae,7),2&i){let o;Ge(o=We())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(pt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),vn("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Qe("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Yt],ngContentSelectors:iae,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){1&i&&(yn(),x(0,"div",1,0)(2,"div",2),di(3),T()()),2&i&&vn("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return t})(),Wce=(()=>{class t{constructor(){this._applicationRef=Q(ko),this._injector=Q(ci),this._environmentInjector=Q(Gn),this._document=Q(xt),this._scrollBar=Q(Vce),this._activeWindowCmptHasChanged=new Ye,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Fe;const e=Q(Je);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const r=Ji(n,"focusin").pipe(Dt(e),bt(o=>o.target));Ji(n,"keydown").pipe(Dt(e),pi(o=>o.which===Ni.Tab),pC(r)).subscribe(([o,s])=>{const[a,l]=dF(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Ji(n,"click").pipe(Dt(e),pC(r),bt(o=>o[1])).subscribe(o=>o.focus())})})(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:yl(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const s=new EF,a=(e=r.injector||e).get(Gn,null)||this._environmentInjector,l=this._getContentRef(e,a,i,s,r);let m=!1!==r.backdrop?this._attachBackdrop(o):void 0,A=this._attachWindowComponent(o,l.nodes),S=new zce(A,l,m,r.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(A),S.hidden.pipe(Ei(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=P=>{S.close(P)},s.dismiss=P=>{S.dismiss(P)},s.update=P=>{S.update(P)},S.update(r),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),m&&m.instance&&m.changeDetectorRef.detectChanges(),A.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=Oy(Hce,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=Oy(Gce,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof si?this._createFromTemplateRef(r,o):bd(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Sl([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Sl([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Sl([[i]])}_createFromComponent(e,i,r,o,s){const l=Oy(r,{environmentInjector:i,elementInjector:ci.create({providers:[{provide:EF,useValue:o}],parent:e})}),m=l.location.nativeElement;return s.scrollable&&m.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Sl([[m]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yce=(()=>{class t{constructor(){this._injector=Q(ci),this._modalStack=Q(Wce),this._config=Q(Bce)}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[Yce]})}}return t})(),PF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),jF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),UF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),zF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),GF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),WF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),YF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),$F=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),qF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();new Me("live announcer delay",{providedIn:"root",factory:()=>100});let XF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})(),QF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();const ade=[KN,ZN,tF,iF,TF,IF,MF,PF,QF,jF,UF,zF,GF,WF,YF,$F,qF,XF];let lde=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ade,KN,ZN,tF,iF,TF,IF,MF,PF,QF,jF,UF,zF,GF,WF,YF,$F,qF,XF]})}}return t})();const cde=["photoCarousel"];function dde(t,n){1&t&&(x(0,"h2",3),F(1,"Your Photos"),T())}function ude(t,n){1&t&&(x(0,"h2",3),F(1,"Wow No Photos..."),T())}function hde(t,n){if(1&t&&(x(0,"div",7),_e(1,"img",8),T(),x(2,"div",9)(3,"h3"),F(4),T(),x(5,"p"),F(6),T()(),x(7,"a",10),_e(8,"span",11),T(),x(9,"a",12),_e(10,"span",13),T()),2&t){const e=O().$implicit;I(),M("src",e.image,Jt),I(3),tt(e.title),I(2),oy("This photo has ",e.comments," Comments, ",e.likes," Likes, ",e.loves," Loves & ",e.celebrates," Celebrations ")}}function fde(t,n){1&t&&Z(0,hde,11,6,"ng-template",6)}function pde(t,n){if(1&t&&(x(0,"ngb-carousel",4,0),Z(2,fde,1,0,null,5),T()),2&t){const e=O();M("showNavigationArrows",!0)("showNavigationIndicators",!0),I(2),M("ngForOf",e.photo_activity)}}let mde=(()=>{class t{constructor(e,i,r){this.pService=e,this.sService=i,this.rService=r,this.photo_activity=[]}ngOnInit(){this.showPhotos(),setTimeout(()=>{console.log(this.photo_activity)},200)}showPhotos(){this.pService.fetchPhotos().subscribe(e=>{e.storyphotos.length>0&&e.storyphotos.forEach(i=>{this.photo_activity.push({image:i.story_image,title:i.story_title,likes:i.story_likes,loves:i.story_loves,celebrates:i.story_celebrates,comments:i.story_comments})}),e.reelphotos.length>0&&e.reelphotos.forEach(i=>{this.photo_activity.push({image:i.reel_image,title:i.reel_caption,likes:i.reel_likes,loves:i.reel_loves,celebrates:i.reel_celebrates,comments:i.reel_comments})})})}static{this.\u0275fac=function(i){return new(i||t)(k($s),k(yr),k(Nr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-photo-carousal"]],viewQuery:function(i,r){if(1&i&&Tt(cde,5),2&i){let o;Ge(o=We())&&(r.carousel=o.first)}},decls:3,vars:3,consts:[["photoCarousel","ngbCarousel"],["style","text-align: center;  margin-top: 8px !important; margin-bottom: 8px !important;",4,"ngIf"],["id","carousel_1","style","margin: 10px auto;",3,"showNavigationArrows","showNavigationIndicators",4,"ngIf"],[2,"text-align","center","margin-top","8px !important","margin-bottom","8px !important"],["id","carousel_1",2,"margin","10px auto",3,"showNavigationArrows","showNavigationIndicators"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"picsum-img-wrapper","d-flex","justify-content-center"],["alt","photo_item.title",2,"max-width","800px","height","600px",3,"src"],[1,"carousel-caption"],["href","#carousel_1","data-slide","prev",1,"carousel-control-prev"],[1,"carousel-control-prev-icon"],["href","#carousel_1","data-slide","next",1,"carousel-control-next"],[1,"carousel-control-next-icon"]],template:function(i,r){1&i&&Z(0,dde,2,0,"h2",1)(1,ude,2,0,"h2",1)(2,pde,3,3,"ngb-carousel",2),2&i&&(M("ngIf",!!r.photo_activity),I(),M("ngIf",!r.photo_activity),I(),M("ngIf",!!r.photo_activity))},dependencies:[Ri,Pt,zle,eF],styles:[".picsum-img-wrapper[_ngcontent-%COMP%]{background-color:#6c757d}.carousel-control-next-icon[_ngcontent-%COMP%], .carousel-control-prev-icon[_ngcontent-%COMP%]{filter:invert(100%)}"]})}}return t})();function gde(t,n){if(1&t){const e=ye();x(0,"button",11),W("click",function(){return z(e),G(O(2).yourPublicProfile())}),F(1," See Public Profile "),T()}}function _de(t,n){if(1&t){const e=ye();x(0,"button",12),W("click",function(){return z(e),G(O(2).addProfile())}),F(1," Add Your Profile "),T()}}function bde(t,n){if(1&t){const e=ye();x(0,"button",12),W("click",function(){return z(e),G(O(2).onEditProfile())}),F(1," Edit Your Profile "),T()}}function vde(t,n){1&t&&_e(0,"hr",4)}function yde(t,n){if(1&t){const e=ye();x(0,"div",26)(1,"h3",4),F(2),T(),x(3,"p",4),F(4),T(),x(5,"div",17)(6,"div",3)(7,"button",11),W("click",function(){const r=z(e).$implicit;return G(O(4).acceptRequest(r.id))}),F(8,"Accept Friend"),T()(),x(9,"div",3)(10,"button",12),W("click",function(){const r=z(e).$implicit;return G(O(4).rejectRequest(r.id))}),F(11,"Reject Request"),T()()()()}if(2&t){const e=n.$implicit;I(2),ht("Request From : ",e.from_user,""),I(2),ht("Request Message : ",e.message,"")}}function Ade(t,n){if(1&t&&(x(0,"div",24)(1,"h2",4),F(2,"Pending Friend Requests"),T(),_e(3,"hr",4),Z(4,yde,12,2,"div",25),T()),2&t){const e=O(3);I(4),M("ngForOf",e.pendingRequests)}}function Cde(t,n){if(1&t){const e=ye();x(0,"div",26)(1,"h3",29),F(2),T(),x(3,"div",17)(4,"div",3)(5,"button",11),W("click",function(){const r=z(e).$implicit;return G(O(4).goToFriendDetail(r.id))}),F(6,"View Friend"),T()(),x(7,"div",3)(8,"button",12),W("click",function(){const r=z(e).$implicit;return G(O(4).removeFriend(r.id))}),F(9,"Remove Friend"),T()()()()}if(2&t){const e=n.$implicit;I(2),oo("",e.first_name," ",e.last_name,"")}}function wde(t,n){1&t&&(x(0,"div",27)(1,"h3"),F(2,"You have not made any friends yet!"),T()())}function xde(t,n){if(1&t&&(x(0,"div",17)(1,"div",27)(2,"h2",4),F(3,"Friend List"),T(),_e(4,"hr",4),Z(5,Cde,10,2,"div",25),T(),Z(6,wde,3,0,"div",28),T()),2&t){const e=O(3);I(5),M("ngForOf",e.friends),I(),M("ngIf",!e.friends)}}function Sde(t,n){if(1&t){const e=ye();x(0,"div",32)(1,"p",33)(2,"a",34),W("click",function(){const r=z(e).$implicit;return G(O(4).goToPublicProfile(r.activityUserID))}),F(3),T(),F(4),x(5,"a",34),W("click",function(){const r=z(e).$implicit;return G(O(4).goToStoryDetail(r.story.id))}),F(6),T()()()}if(2&t){const e=n.$implicit;I(3),tt(e.activityUser),I(),ht(" has ",e.action," on your story "),I(2),tt(e.story.title)}}function Tde(t,n){if(1&t){const e=ye();x(0,"div",32)(1,"p",33)(2,"a",34),W("click",function(){const r=z(e).$implicit;return G(O(4).goToPublicProfile(r.activityUserID))}),F(3),T(),F(4),x(5,"a",34),W("click",function(){const r=z(e).$implicit;return G(O(4).goToReelDetail(r.reel.id))}),F(6),T()()()}if(2&t){const e=n.$implicit;I(3),tt(e.activityUser),I(),ht(" has ",e.action," on your reel "),I(2),tt(e.reel.caption)}}function Dde(t,n){if(1&t&&(x(0,"div",3)(1,"div",30)(2,"h2",4),F(3,"Activity on your stories"),T(),_e(4,"hr",4),Z(5,Sde,7,3,"div",31)(6,Tde,7,3,"div",31),T()()),2&t){const e=O(3);I(5),M("ngForOf",e.s_activity),I(),M("ngForOf",e.r_activity)}}function Ide(t,n){if(1&t&&(x(0,"div",13)(1,"div",14),_e(2,"img",15),T(),_e(3,"div",16),x(4,"div",3)(5,"div",17)(6,"p")(7,"strong"),F(8,"Status : "),T(),F(9),T()(),x(10,"div",17)(11,"h3"),F(12),T(),x(13,"p"),F(14),T(),x(15,"p"),F(16),T(),x(17,"p"),F(18),T(),x(19,"p"),F(20),T()()(),Z(21,vde,1,0,"hr",18),x(22,"div",19)(23,"div",20)(24,"div",17),Z(25,Ade,5,1,"div",21),T(),Z(26,xde,7,2,"div",22),T(),_e(27,"div",23),Z(28,Dde,7,2,"div",10),T()()),2&t){const e=O(2);I(2),Os("alt",e.fullname),M("src",e.profile.avatar,Jt),I(7),tt(e.profile.status),I(3),ht(" ",e.emailId,""),I(2),tt(e.profile.bio),I(2),tt(e.profile.url),I(2),tt(e.profile.gender),I(2),tt(e.profile.city),I(),M("ngIf",!!e.profileAvailable),I(4),M("ngIf",!!e.pendingRequests.length),I(),M("ngIf",!!e.friends.length),I(2),M("ngIf",!!e.s_activity.length||!!e.r_activity.length)}}function Ede(t,n){1&t&&(x(0,"div",35),_e(1,"app-photo-carousal"),T())}function Mde(t,n){if(1&t){const e=ye();x(0,"p"),F(1,"Chatroom on story "),x(2,"a",34),W("click",function(){z(e);const r=O().$implicit;return G(O(3).gotoStoryFeed(r.chatroom_object_id))}),F(3),Yi(4,"titlecase"),T()()}if(2&t){const e=O().$implicit;I(3),tt(Rn(4,1,e.chatroom_object_title))}}function kde(t,n){if(1&t){const e=ye();x(0,"p"),F(1,"Chatroom on reel "),x(2,"a",34),W("click",function(){z(e);const r=O().$implicit;return G(O(3).gotoReelFeed(r.chatroom_object_id))}),F(3),Yi(4,"titlecase"),T()()}if(2&t){const e=O().$implicit;I(3),tt(Rn(4,1,e.chatroom_object_title))}}function Ode(t,n){if(1&t){const e=ye();x(0,"div",38)(1,"h3"),F(2),T(),Z(3,Mde,5,3,"p",39)(4,kde,5,3,"p",39),x(5,"button",40),W("click",function(){const r=z(e).$implicit;return G(O(3).goToChatroom(r))}),F(6,"View Chatroom"),T()()}if(2&t){const e=n.$implicit;I(2),ht("Chatroom ",e.chatroom_id,""),I(),M("ngIf","story"==e.chatroom_type),I(),M("ngIf","reel"==e.chatroom_type)}}function Pde(t,n){if(1&t&&(x(0,"div",3)(1,"h2",36),F(2,"Chatrooms started by you"),T(),Z(3,Ode,7,3,"div",37),T()),2&t){const e=O(2);I(3),M("ngForOf",e.chatrooms)}}function Rde(t,n){if(1&t){const e=ye();x(0,"p"),F(1,"Chatroom on story "),x(2,"a",34),W("click",function(){z(e);const r=O().$implicit;return G(O(3).gotoStoryDetail(r.chatroom_object_id))}),F(3),Yi(4,"titlecase"),T()()}if(2&t){const e=O().$implicit;I(3),tt(Rn(4,1,e.chatroom_object_title))}}function Nde(t,n){if(1&t){const e=ye();x(0,"p"),F(1,"Chatroom on reel "),x(2,"a",34),W("click",function(){z(e);const r=O().$implicit;return G(O(3).gotoReelDetail(r.chatroom_object_id,r.chatroom_object_parent))}),F(3),Yi(4,"titlecase"),T()()}if(2&t){const e=O().$implicit;I(3),tt(Rn(4,1,e.chatroom_object_title))}}function Fde(t,n){if(1&t){const e=ye();x(0,"div",38)(1,"h3"),F(2),T(),Z(3,Rde,5,3,"p",39)(4,Nde,5,3,"p",39),x(5,"button",40),W("click",function(){const r=z(e).$implicit;return G(O(3).goToChatroom(r))}),F(6,"View Chatroom"),T()()}if(2&t){const e=n.$implicit;I(2),ht("Chatroom ",e.chatroom_id,""),I(),M("ngIf","story"==e.chatroom_type),I(),M("ngIf","reel"==e.chatroom_type)}}function Lde(t,n){if(1&t&&(x(0,"div",3)(1,"h2",36),F(2,"Chatrooms on your stories and reels"),T(),Z(3,Fde,7,3,"div",37),T()),2&t){const e=O(2);I(3),M("ngForOf",e.related_chatrooms)}}function Bde(t,n){if(1&t&&(x(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),F(4),Yi(5,"titlecase"),T()(),x(6,"div",3),Z(7,gde,2,0,"button",5)(8,_de,2,0,"button",6)(9,bde,2,0,"button",6),T()(),Z(10,Ide,29,12,"div",7),_e(11,"hr",4),Z(12,Ede,2,0,"div",8),_e(13,"hr",4),x(14,"div",9),Z(15,Pde,4,1,"div",10)(16,Lde,4,1,"div",10),T()()),2&t){const e=O();I(4),tt(Rn(5,8,e.fullname)),I(3),M("ngIf",!!e.showProfileEdit),I(),M("ngIf",!!e.showProfileAdd),I(),M("ngIf",!!e.showProfileEdit),I(),M("ngIf",!!e.profileAvailable),I(2),M("ngIf",!!e.profileAvailable),I(3),M("ngIf",!!e.chatrooms),I(),M("ngIf",!!e.related_chatrooms)}}let Vde=(()=>{class t{constructor(e,i,r,o,s,a,l,m){this.pService=e,this.dialog=i,this.authService=r,this.router=o,this.pFileTransferService=s,this.chatService=a,this.sService=l,this.rService=m,this.isAuth=!1,this.showProfileAdd=!1,this.showProfileEdit=!1,this.profileAvailable=!1,this.fullname="",this.pendingRequests=[],this.friends=[],this.emailId="",this.s_activity=[],this.r_activity=[],this.chatrooms=[],this.related_chatrooms=[]}ngOnInit(){this.authService.user().subscribe(e=>{this.loggedInUserId=+e.id,this.fullname=e.first_name+" "+e.last_name,this.emailId=e.email}),this.isAuth=!!ii.authEmitter,this.loadChatroomData(),this.loadPersonalStoryChatroom(),this.loadPersonalReelChatroom(),this.pService.fetchPrivateProfile().subscribe(e=>{e.length>0?(this.profile={...e[0]},this.profileAvailable=!0,this.showProfileEdit=!0):(this.profileAvailable=!1,this.showProfileAdd=!0)}),setTimeout(()=>{this.loadFriendStates(),this.loadFeedData()},100),setTimeout(()=>{this.s_activity.sort((e,i)=>{e.story.updated_at.localeCompare(i.story.updated_at)}),this.r_activity.sort((e,i)=>{e.reel.updated_at.localeCompare(i.reel.updated_at)})},300),this.visitedItem()}addProfile(){const e=new $i;e.autoFocus=!1,e.minWidth="800px",e.disableClose=!0,e.panelClass="custom-modalbox",this.dialog.open(Goe,e).afterClosed().subscribe(i=>{if(i){console.log(i.data);const r=new FormData;r.append("avatar",this.pFileTransferService.avatar);let o={id:bs(),gender:i.data.gender,status:i.data.status,city:i.data.city,bio:i.data.bio,url:i.data.url,user:this.loggedInUserId};console.log(o),this.pService.addProfile(o).subscribe(s=>{this.pService.addProfileImage(s.id,r).subscribe(a=>{console.log(a),this.pFileTransferService.avatar=null})})}})}onEditProfile(){this.router.navigate(["profile/personal",this.profile.id])}acceptRequest(e){this.pService.acceptFriendRequest({id:e}).subscribe(()=>this.ngOnInit())}rejectRequest(e){this.pService.rejectFriendRequest({id:e}).subscribe(()=>this.ngOnInit())}removeFriend(e){this.pService.removeFriend({to_user:e}).subscribe()}goToFriendDetail(e){this.router.navigateByUrl("/friends/"+e)}yourPublicProfile(){this.router.navigateByUrl("/profile/"+this.loggedInUserId)}goToStoryDetail(e){this.router.navigateByUrl("/story/"+e)}goToReelDetail(e){this.router.navigateByUrl("/feed/reel/"+e)}goToPublicProfile(e){this.router.navigateByUrl("/profile/"+e)}loadFriendStates(){var e=this;return le(function*(){const i=e.pService.pendingReceivedFriendRequests();e.pendingRequests=yield Gt(i);const r=e.pService.listFriends();e.friends=yield Gt(r)})()}loadFeedData(){var e=this;return le(function*(){const i=e.pService.fetchStoryReactionActivityFeed();try{e.storyfeeddata=yield Gt(i),e.storyfeeddata?e.storyfeeddata.forEach(s=>{let a={};a.activityUserID=s.doneByUser,a.activityUser=s.fullname,a.story=s.story,"Liked"===s.action||"Loved"===s.action||"Celebrated"===s.action?a.action=s.action:"Unliked"===s.action?a.action="Removed like":"Unloved"===s.action?a.action="Removed love":"Uncelebrated"===s.action?a.action="Removed celebration":console.log(a.action),e.s_activity.push(a)}):console.log("No Data for Story Activity Feed")}catch(s){console.log(s)}try{const s=e.pService.fetchStoryCommentActivityFeed();e.storycommentdata=yield Gt(s),e.storycommentdata?e.storycommentdata.forEach(a=>{let l={};l.activityUserID=a.commentByUser,l.activityUser=a.fullname,l.story=a.story,l.action=a.action,l.activityUser!==e.fullname&&e.s_activity.push(l)}):console.log("No Data for Story Comment Feed")}catch(s){console.log(s)}const r=e.pService.fetchReelReactionActivityFeed();try{e.reelfeeddata=yield Gt(r),e.reelfeeddata?e.reelfeeddata.forEach(s=>{let a={};a.activityUserID=s.doneByUser,a.activityUser=s.fullname,a.reel=s.reel,"Liked"===s.action||"Loved"===s.action||"Celebrated"===s.action?a.action=s.action:"Unliked"===s.action?a.action="Removed like":"Unloved"===s.action?a.action="Removed love":"Uncelebrated"===s.action?a.action="Removed celebration":console.log(a.action),e.r_activity.push(a)}):console.log("No Data for Reel Activity Feed")}catch(s){console.log(s)}const o=e.pService.fetchReelCommentActivityFeed();try{e.reelcommentdata=yield Gt(o),e.reelcommentdata?e.reelcommentdata.forEach(s=>{let a={};a.activityUserID=s.commentByUser,a.activityUser=s.fullname,a.reel=s.reel,a.action=s.action,a.activityUser!==e.fullname&&e.r_activity.push(a)}):console.log("No Data for Reel Comment Feed")}catch(s){console.log(s)}})()}loadChatroomData(){var e=this;return le(function*(){e.chatrooms=[],e.chatService.showChatRooms().subscribe(i=>{i&&i.forEach(r=>{let o={};r.owner===e.loggedInUserId&&(o.chatroom_id=r.id,o.chatroom_owner=r.owner,r.story&&(o.chatroom_type="story",o.chatroom_object_id=r.story,e.sService.fetchFeedStory(r.story).subscribe(a=>{o.chatroom_object_title=a.title})),r.reel&&(o.chatroom_type="reel",o.chatroom_object_id=r.reel,e.rService.fetchReelforFeed(r.reel).subscribe(a=>{console.log(a),o.chatroom_object_title=a.caption})),e.chatrooms.push(o))})})})()}goToChatroom(e){const i={state:{chatroom_owner:e.chatroom_owner,object_type:e.chatroom_type,object_id:e.chatroom_object_id}};console.log(i),this.router.navigate(["/chat/"+e.chatroom_id],i)}gotoStoryFeed(e){this.router.navigate(["/feed/"+e])}gotoStoryDetail(e){this.router.navigate(["/story/"+e])}gotoReelFeed(e){this.router.navigate(["/feed/reel/"+e])}gotoReelDetail(e,i){this.router.navigate(["/reel/detail/"+e],{state:{example:i}})}loadPersonalStoryChatroom(){var e=this;return le(function*(){e.sService.fetchStories().subscribe(i=>{i&&i.forEach(r=>{let o=r.story_conversation;o.length>0&&o.forEach(s=>{let a={};a.chatroom_id=s.chatroom_id,a.chatroom_object_id=r.id,a.chatroom_object_title=r.title,a.chatroom_type="story",a.chatroom_owner=s.chatroom_owner_id,e.related_chatrooms.push(a)})})})})()}loadPersonalReelChatroom(){var e=this;return le(function*(){e.rService.fetchReelPersonal(e.loggedInUserId).subscribe(i=>{i&&i.forEach(r=>{let o=r.reel_conversation;o.length>0&&o.forEach(s=>{let a={};e.sService.fetchStoryfromReel(r.id).subscribe(l=>{a.chatroom_object_parent=l.reels_story}),a.chatroom_id=s.chatroom_id,a.chatroom_object_id=r.id,a.chatroom_object_title=r.caption,a.chatroom_type="reel",a.chatroom_owner=s.chatroom_owner_id,e.related_chatrooms.push(a)})})})})()}visitedItem(){var e=this;return le(function*(){e.pService.fetchWall().subscribe(i=>{console.log(i),i&&i.forEach(r=>{console.log(r)})})})()}static{this.\u0275fac=function(i){return new(i||t)(k($s),k(uo),k(ii),k(Kt),k(fC),k(gl),k(yr),k(Nr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-private-profile"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","mainrow"],[1,"col-md-6"],[1,"heading"],["class","btn btn-primary float-start",3,"click",4,"ngIf"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],["class","row profile-body",4,"ngIf"],["class","photo-carousal",4,"ngIf"],[1,"row","photo-carousal"],["class","col-md-6",4,"ngIf"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],[1,"row","profile-body"],[1,"col-md-4"],[1,"avatar","card-img-top","img-fluid",3,"src","alt"],[1,"col-md-2"],[1,"row"],["class","heading",4,"ngIf"],[1,"row","feed-container"],[1,"col-md-5"],["class","col-md-12 friends",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-1"],[1,"col-md-12","friends"],["class","friend-card",4,"ngFor","ngForOf"],[1,"friend-card"],[1,"friends"],["class","friends",4,"ngIf"],[1,"heading",2,"text-align","center"],[1,"activities"],["class","feed-item",4,"ngFor","ngForOf"],[1,"feed-item"],[2,"margin","auto"],[2,"cursor","pointer","color","#6c757d",3,"click"],[1,"photo-carousal"],[2,"text-align","center"],["class","feed-item","style","text-align: center;",4,"ngFor","ngForOf"],[1,"feed-item",2,"text-align","center"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(i,r){1&i&&Z(0,Bde,17,10,"div",0),2&i&&M("ngIf",!!r.isAuth)},dependencies:[Ri,Pt,mde,qy],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#fff;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:-moz-fit-content;max-width:fit-content}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:-moz-fit-content;max-width:fit-content}.mainrow[_ngcontent-%COMP%]{text-align:left;background-color:#a0c9d5;padding:10px auto;margin:10px auto;border-radius:5px}.feed-container[_ngcontent-%COMP%]{padding:0px auto!important;margin:10px auto;text-align:center}.friends[_ngcontent-%COMP%], .activities[_ngcontent-%COMP%]{padding:10px 0!important;margin:10px auto!important;border-radius:5px;justify-content:center}.friend-card[_ngcontent-%COMP%]{border-radius:5px;color:#0c2b57;text-align:center;box-shadow:#0c2b57 1px 0 10px;background-color:#a0c9d5;margin:15px auto;padding:10px}.profile-body[_ngcontent-%COMP%], .feed-container[_ngcontent-%COMP%]{margin:10px auto;padding:10px auto;overflow:hidden}.profile-body[_ngcontent-%COMP%] > .col-md-4[_ngcontent-%COMP%], .profile-body[_ngcontent-%COMP%] > .col-md-2[_ngcontent-%COMP%], .profile-body[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%]{margin:10px auto;padding:10px 0}.avatar[_ngcontent-%COMP%]{border-radius:25px;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}.heading[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important}.feed-item[_ngcontent-%COMP%]{color:#0c2b57;text-align:left;box-shadow:#0c2b57 1px 0 10px;background-color:#a0c9d5;margin:15px auto;padding:5px;height:-moz-fit-content;height:fit-content;text-align:center}.photo-carousal[_ngcontent-%COMP%]{max-width:800px;border-radius:5px;padding:10px auto!important;margin:10px auto!important;justify-content:center}"]})}}return t})();const KF=ba({passive:!0});let Hde=(()=>{class t{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return vr;const i=Vs(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Ye,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,KF),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,KF)}}),o}stopMonitoring(e){const i=Vs(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||t)(ve(ki),ve(Je))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jde=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({})}}return t})();const Ude=new Me("MAT_INPUT_VALUE_ACCESSOR"),zde=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Gde=0,ZF=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=Zc(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(mi.required)??!1}set required(e){this._required=Zc(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&kO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Zc(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,o,s,a,l,m,A,S){this._elementRef=e,this._platform=i,this.ngControl=r,this._autofillMonitor=m,this._formField=S,this._uid="mat-input-"+Gde++,this.focused=!1,this.stateChanges=new Ye,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(L=>kO().has(L)),this._iOSKeyupListener=L=>{const V=L.target;!V.value&&0===V.selectionStart&&0===V.selectionEnd&&(V.setSelectionRange(1,1),V.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,N=P.nodeName.toLowerCase();this._inputValueAccessor=l||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new gA(a,r,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===N,this._isTextarea="textarea"===N,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){zde.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static{this.\u0275fac=function(i){return new(i||t)(k(Xe),k(ki),k(ms,10),k(cd,8),k(Dn,8),k(_h),k(Ude,10),k(Hde),k(Je),k(rC,8))}}static{this.\u0275dir=Be({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&W("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(an("id",r.id)("disabled",r.disabled)("required",r.required),pt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Qe("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[ke.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Bt([{provide:nC,useExisting:t}]),bi]})}}return t})(),JF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,Fh,Fh,jde,ni]})}}return t})();function Wde(t,n){if(1&t&&(x(0,"h3",7),F(1),T()),2&t){const e=O();I(),ht("",e.fullName,"'s Public Profile")}}function Yde(t,n){1&t&&(x(0,"h3",7),F(1,"Your Public Profile"),T())}function $de(t,n){if(1&t){const e=ye();x(0,"button",11),W("click",function(){return z(e),G(O(2).viewFriend())}),F(1,"View Friend"),T()}}function qde(t,n){if(1&t){const e=ye();x(0,"div",0)(1,"form",12)(2,"mat-form-field",13)(3,"mat-label",14),F(4,"Friend Request Message"),T(),_e(5,"input",15),T(),x(6,"button",16),W("click",function(){z(e);const r=O(2);return G(r.addFriend(r.form.value))}),F(7,"Add Friend"),T()()()}if(2&t){const e=O(2);I(),M("formGroup",e.form)}}function Xde(t,n){1&t&&(x(0,"p",20),F(1,"Request Pending"),T())}function Qde(t,n){if(1&t&&(x(0,"p",21),F(1),T()),2&t){const e=O(3);I(),ht("Sent Request Rejected on ",e.rejectedOnSent,"")}}function Kde(t,n){if(1&t&&(x(0,"p",21),F(1),T()),2&t){const e=O(3);I(),ht("Received Request Rejected on ",e.rejectedOnReceived,"")}}function Zde(t,n){if(1&t&&(x(0,"div",17),Z(1,Xde,2,0,"p",18)(2,Qde,2,1,"p",19)(3,Kde,2,1,"p",19),T()),2&t){const e=O(2);I(),M("ngIf",!!e.pendingAddFriendButton&&!e.rejectedOnSent&&!e.rejectedOnReceived),I(),M("ngIf",e.rejectedOnSent&&!e.rejectedOnReceived),I(),M("ngIf",e.rejectedOnReceived&&!e.rejectedOnSent)}}function Jde(t,n){if(1&t&&(x(0,"div",1)(1,"div",2),Z(2,$de,2,0,"button",8)(3,qde,8,1,"div",9),T(),Z(4,Zde,4,3,"div",10),T()),2&t){const e=O();I(2),M("ngIf",!e.showAddFriendButton),I(),M("ngIf",e.showAddFriendButton&&!(e.pendingAddFriendButton||e.rejectedOnSent||e.rejectedOnReceived)),I(),M("ngIf",!!e.pendingAddFriendButton||!!e.rejectedOnSent||!!e.rejectedOnReceived)}}function eue(t,n){1&t&&_e(0,"hr")}function tue(t,n){if(1&t&&(x(0,"div",1)(1,"div",22),_e(2,"img",23),T(),_e(3,"div",24),x(4,"div",25)(5,"div",1)(6,"p"),F(7),T(),x(8,"p"),F(9),T(),x(10,"p"),F(11),T(),x(12,"p"),F(13),T(),x(14,"p"),F(15),T(),x(16,"p"),F(17),T()()()()),2&t){const e=O();I(2),Os("alt",e.fullName),M("src","http://localhost:4500"+e.profile.avatar,Jt),I(5),ht("Name : ",e.fullName,""),I(2),ht("Status : ",e.profile.status,""),I(2),ht("Bio : ",e.profile.bio,""),I(2),ht("URL : ",e.profile.url,""),I(2),ht("Gender : ",e.profile.gender,""),I(2),ht("City : ",e.profile.city,"")}}function iue(t,n){1&t&&_e(0,"hr")}function nue(t,n){1&t&&(x(0,"div",1)(1,"h2"),F(2,"User has not filled in his profile!!"),T()())}let rue=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.route=i,this.pService=r,this.aService=o,this.datePipe=s,this.fullName="",this.loggedUserName="",this.profileUserEmail="",this.showAddFriendButton=!0,this.pendingAddFriendButton=!1,this.canShow=!1,this.receivedRequest=!1}ngOnInit(){this.route.params.subscribe(e=>{this.userId=+e.userId}),this.aService.user().subscribe(e=>{this.loggedInUserId=+e.id,this.loggedUserName=e.first_name+" "+e.last_name}),this.pService.fetchPublicProfile(this.userId).subscribe(e=>{this.profile={...e},this.canShow=!0},e=>{404==e.status&&(this.canShow=!1)}),this.aService.publicUser(this.userId).subscribe(e=>{this.fullName=e.first_name+" "+e.last_name,this.profileUserEmail=e.email}),this.loadButtonStates(),this.form=new Kr({message_field:new Pi})}addFriend(e){this.form.reset(),this.pService.sendFriendRequest({to_user:this.userId,message:e.message_field}).subscribe(()=>{this.pendingAddFriendButton=!0})}viewFriend(){this.router.navigateByUrl("/friends/"+this.userId)}loadButtonStates(){var e=this;return le(function*(){const i=e.pService.listFriends();e.friends=yield Gt(i),e.friends.forEach(a=>{console.log(e.profile),e.profile&&a.id==+e.profile.user&&(e.showAddFriendButton=!1)});const r=e.pService.pendingSentFriendRequests();e.pendingFriends=yield Gt(r),e.pendingFriends.forEach(a=>{console.log(a),a.to_user==e.fullName&&(console.log("Pending"),e.pendingAddFriendButton=!0)});const o=e.pService.rejectedSentFriendRequests(e.userId);e.rejSentFriends=yield Gt(o),e.rejSentFriends&&e.rejSentFriends.forEach(a=>{a.to_user==e.fullName&&a.from_user==e.loggedUserName&&(console.log("Sent Rejected"),e.rejectedOnSent=e.datePipe.transform(e.rejSentFriends[0].rejected,"yyyy-MM-dd"))});const s=e.pService.rejectedReceivedFriendRequests();e.rejRecievedFriends=yield Gt(s),e.rejRecievedFriends&&e.rejRecievedFriends.forEach(a=>{a.from_user==e.fullName&&a.to_user==e.loggedUserName&&(console.log("Received Rejected"),e.rejectedOnReceived=e.datePipe.transform(e.rejRecievedFriends[0].rejected,"yyyy-MM-dd"))})})()}static{this.\u0275fac=function(i){return new(i||t)(k(Kt),k(Zi),k($s),k(ii),k(tm))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-public-profile"]],features:[Bt([tm])],decls:11,vars:7,consts:[[1,"container"],[1,"row"],[1,"row",2,"margin","10px auto"],["style","text-align: center;margin: 10px auto;",4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"spacer"],[2,"text-align","center","margin","10px auto"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],["class","container",4,"ngIf"],["class","row","style","margin: -15px auto;",4,"ngIf"],[1,"btn","btn-primary","float-end",3,"click"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["for","message_field"],["matInput","","type","text","formControlName","message_field","value","Message"],["type","button",1,"btn","btn-primary","float-end",2,"margin","10px auto",3,"click"],[1,"row",2,"margin","-15px auto"],["class","text-messages-1",4,"ngIf"],["class","text-messages-2",4,"ngIf"],[1,"text-messages-1"],[1,"text-messages-2"],[1,"container2","col-md-4"],[1,"circular_image",3,"src","alt"],[1,"col-md-2"],[1,"container4","col-md-6"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"div",2),Z(3,Wde,2,1,"h3",3)(4,Yde,2,0,"h3",3),T(),Z(5,Jde,5,3,"div",4),T(),Z(6,eue,1,0,"hr",5),_e(7,"div",6),Z(8,tue,18,8,"div",4)(9,iue,1,0,"hr",5)(10,nue,3,0,"div",4),T()),2&i&&(I(3),M("ngIf",r.loggedInUserId!=r.userId),I(),M("ngIf",r.loggedInUserId==r.userId),I(),M("ngIf",r.loggedInUserId!=r.userId),I(),M("ngIf",!r.showAddFriendButton),I(2),M("ngIf",!!r.canShow),I(),M("ngIf",!r.showAddFriendButton),I(),M("ngIf",!r.canShow))},dependencies:[Pt,jo,jn,Un,Kn,Dn,wr,sN,yg,ZF],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;text-align:center;padding:20px auto;float:none;justify-content:center;max-width:800px;max-height:100%;align-content:center}.container[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-md-4[_ngcontent-%COMP%], .container[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-md-8[_ngcontent-%COMP%]{margin:10px auto}.container2[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;float:none;justify-content:center;max-width:800px}.container4[_ngcontent-%COMP%]{margin:20px auto;text-align:left;padding:20px auto;float:none;justify-content:center;max-width:800px}.container4[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:5px;padding:5px}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px auto;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;width:200px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px auto;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;width:200px}.circular_image[_ngcontent-%COMP%]{width:250px;height:250px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}.text-messages-1[_ngcontent-%COMP%]{width:300px;max-height:100%;margin:10px auto;padding:10px;text-align:center;border-radius:10px;background-color:#d4f3fd}.text-messages-2[_ngcontent-%COMP%]{width:300px;max-height:100%;margin:10px auto;padding:10px;text-align:center;border-radius:10px;background-color:red}.spacer[_ngcontent-%COMP%]{height:20px}"]})}}return t})();function oue(t,n){if(1&t&&(x(0,"div",21),_e(1,"img",22),T()),2&t){const e=O(2);I(),M("src",e.profileForm.get("avatar").value,Jt)}}function sue(t,n){if(1&t&&(x(0,"div",21),_e(1,"img",22),T()),2&t){const e=O(2);I(),M("src",e.imageUrl,Jt)}}function aue(t,n){if(1&t){const e=ye();x(0,"div",2)(1,"form",3),W("ngSubmit",function(){return z(e),G(O().onSubmit())}),x(2,"div",4)(3,"div",2)(4,"div",5)(5,"label",6),F(6,"Status"),T(),_e(7,"input",7),T()()(),x(8,"div",4)(9,"div",2)(10,"div",5)(11,"label",8),F(12,"Bio"),T(),_e(13,"input",9),T()()(),x(14,"div",4)(15,"div",2)(16,"div",4),Z(17,oue,2,1,"div",10)(18,sue,2,1,"div",10),T(),x(19,"div",5)(20,"input",11),W("change",function(r){return z(e),G(O().onFileSelected(r))}),T()()()(),x(21,"div",4)(22,"div",2)(23,"div",5)(24,"label",12),F(25,"City"),T(),_e(26,"input",13),T()()(),x(27,"div",4)(28,"div",2)(29,"div",5)(30,"label",14),F(31,"Gender"),T(),_e(32,"input",15),T()()(),x(33,"div",4)(34,"div",2)(35,"div",5)(36,"label",16),F(37,"URL"),T(),_e(38,"input",17),T()()(),x(39,"div",4)(40,"div",18)(41,"button",19),W("click",function(){return z(e),G(O().onCancel())}),F(42,"Cancel"),T()(),x(43,"div",18)(44,"button",20),F(45,"Save Profile"),T()()()()()}if(2&t){const e=O();I(),M("formGroup",e.profileForm),I(16),M("ngIf",!e.imageUrl),I(),M("ngIf",!!e.imageUrl)}}let lue=(()=>{class t{constructor(e,i,r,o,s){this.route=e,this.pService=i,this.router=r,this.authService=o,this.pFileTransferService=s}ngOnInit(){this.route.params.subscribe(e=>{this.profileId=+e.profileId}),this.authService.user().subscribe(e=>{this.user_id=e.id}),this.pService.fetchPrivateProfileById(this.profileId).subscribe(e=>{this.profile={...e}}),setTimeout(()=>{this.initForm()},250)}onFileSelected(e){this.selectedFile=e.target.files[0],this.imageUrl=URL.createObjectURL(this.selectedFile),this.pFileTransferService.avatar=this.selectedFile}onSubmit(){console.log(this.profileForm.value);const e=new FormData;this.pFileTransferService.avatar&&e.append("avatar",this.pFileTransferService.avatar);const i=new FormData;i.append("id",this.profile.id),i.append("status",this.profileForm.value.status),i.append("bio",this.profileForm.value.bio),i.append("city",this.profileForm.value.city),i.append("gender",this.profileForm.value.gender),i.append("url",this.profileForm.value.url),i.append("user",this.user_id.toString()),setTimeout(()=>{this.pService.updateProfile(this.profileId,i).subscribe(r=>{console.log(r),this.pFileTransferService.avatar&&this.pService.addProfileImage(r.id,e).subscribe(()=>{console.log("profile image updated"),this.pFileTransferService.avatar=null})})},100),this.router.navigateByUrl("/profile/personal")}onCancel(){this.router.navigateByUrl("/profile/personal").then(()=>{window.location.reload()})}initForm(){let e="",i="",r="",o=null,s="",a="",l=this.user_id;e=this.profile.status,i=this.profile.bio,r=this.profile.gender,o=this.profile.avatar,s=this.profile.url,a=this.profile.city,this.profileForm=new Kr({status:new Pi(e,mi.required),bio:new Pi(i,mi.required),avatar:new Pi(o,mi.required),url:new Pi(s,mi.required),city:new Pi(a,mi.required),gender:new Pi(r,mi.required),user:new Pi(l,mi.required)})}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k($s),k(Kt),k(ii),k(fC))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-private-profile-edit"]],decls:2,vars:1,consts:[[1,"container","row"],["class","col-xs-12",4,"ngIf"],[1,"col-xs-12"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],[1,"row"],[1,"form-group"],["for","status"],["type","text","id","status","formControlName","status",1,"form-control"],["for","bio"],["type","text","id","bio","formControlName","bio",1,"form-control"],["class","col-xs-12 imagerow",4,"ngIf"],["type","file","accept","image/*",3,"change"],["for","city"],["type","text","id","city","formControlName","city",1,"form-control"],["for","gender"],["type","text","id","gender","formControlName","gender",1,"form-control"],["for","url"],["type","text","id","url","formControlName","url",1,"form-control"],[1,"col-md-6"],["type","button",1,"btn","btn-primary","float-start",3,"click"],["type","submit",1,"btn","btn-primary","float-end"],[1,"col-xs-12","imagerow"],[2,"max-width","200px",3,"src"]],template:function(i,r){1&i&&(x(0,"div",0),Z(1,aue,46,3,"div",1),T()),2&i&&(I(),M("ngIf",!!r.profileForm))},dependencies:[Pt,jo,jn,Un,Kn,Dn,wr],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:800px}.row[_ngcontent-%COMP%]{margin:20px auto}.imagerow[_ngcontent-%COMP%]{margin:10px auto}.imagerow[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;background-color:#a0c9d5;display:block;margin:auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}}return t})(),cue=(()=>{class t{constructor(e){this.router=e}ngOnInit(){}goToFriendDetail(e){this.router.navigateByUrl("/friends/"+e)}static{this.\u0275fac=function(i){return new(i||t)(k(Kt))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-friend-item"]],inputs:{friend:"friend",index:"index"},decls:6,vars:3,consts:[[1,"card"],[1,"card-body",2,"cursor","pointer",3,"click"],[1,"card-title"],[1,"card-text"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1),W("click",function(){return r.goToFriendDetail(r.friend.id)}),x(2,"h3",2),F(3),T(),x(4,"p",3),F(5),T()()()),2&i&&(I(3),oo("",r.friend.first_name," ",r.friend.last_name,""),I(2),tt(r.friend.email))},styles:[".card[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;overflow-x:hidden!important;overflow-y:hidden!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;max-width:800px}.card-title[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{margin:5px auto;padding:5px auto}"]})}}return t})();function due(t,n){if(1&t&&_e(0,"app-friend-item",3),2&t){const i=n.index;M("friend",n.$implicit)("index",i)}}function uue(t,n){if(1&t&&(x(0,"div",1),Z(1,due,1,2,"app-friend-item",2),T()),2&t){const e=n.ngIf;I(),M("ngForOf",e)}}let eL=(()=>{class t{constructor(e){this.fService=e}ngOnInit(){this.friends$=this.fService.listFriends()}static{this.\u0275fac=function(i){return new(i||t)(k(fd))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-friend-list"]],decls:2,vars:3,consts:[["class","friend-list",4,"ngIf"],[1,"friend-list"],[3,"friend","index",4,"ngFor","ngForOf"],[3,"friend","index"]],template:function(i,r){1&i&&(Z(0,uue,2,1,"div",0),Yi(1,"async")),2&i&&M("ngIf",Rn(1,1,r.friends$))},dependencies:[Ri,Pt,cue,ha],styles:[".friend-list[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important}"]})}}return t})();function hue(t,n){if(1&t){const e=ye();x(0,"div",9)(1,"h3"),F(2),T(),x(3,"p"),F(4),T(),x(5,"div",10)(6,"div",11)(7,"button",12),W("click",function(){const r=z(e).$implicit;return G(O(2).acceptRequest(r.id))}),F(8,"Accept Friend"),T()(),x(9,"div",11)(10,"button",13),W("click",function(){const r=z(e).$implicit;return G(O(2).rejectRequest(r.id))}),F(11,"Reject Request"),T()()()()}if(2&t){const e=n.$implicit;I(2),ht("From User : ",e.from_user,""),I(2),ht("Message Received : ",e.message,"")}}function fue(t,n){if(1&t&&(x(0,"div",7),Z(1,hue,12,2,"div",8),T()),2&t){const e=O();I(),M("ngForOf",e.receivedRequests)}}function pue(t,n){if(1&t&&(x(0,"div",9)(1,"h3"),F(2),T(),x(3,"p"),F(4),T()()),2&t){const e=n.$implicit;I(2),ht("To User : ",e.to_user,""),I(2),ht("Message Sent : ",e.message,"")}}function mue(t,n){if(1&t&&(x(0,"div",7),Z(1,pue,5,2,"div",8),T()),2&t){const e=O();I(),M("ngForOf",e.sentRequests)}}function gue(t,n){if(1&t&&(x(0,"div",15)(1,"h3"),F(2),T(),x(3,"p"),F(4),T()()),2&t){const e=n.$implicit;I(2),ht("From User : ",e.from_user,""),I(2),ht("Message Received : ",e.message,"")}}function _ue(t,n){if(1&t&&(x(0,"div",7),Z(1,gue,5,2,"div",14),T()),2&t){const e=O();I(),M("ngForOf",e.rejectedRequests)}}let bue=(()=>{class t{constructor(e){this.pService=e,this.receivedRequests=[],this.sentRequests=[],this.rejectedRequests=[]}ngOnInit(){this.pService.pendingReceivedFriendRequests().subscribe(e=>{this.receivedRequests=e}),this.pService.pendingSentFriendRequests().subscribe(e=>{this.sentRequests=e}),this.pService.rejectedReceivedFriendRequests().subscribe(e=>{this.rejectedRequests=e})}acceptRequest(e){this.pService.acceptFriendRequest({id:e}).subscribe(()=>this.ngOnInit())}rejectRequest(e){this.pService.rejectFriendRequest({id:e}).subscribe(()=>this.ngOnInit())}static{this.\u0275fac=function(i){return new(i||t)(k($s))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-friends"]],decls:10,vars:4,consts:[[1,"custom-friendbox"],["dynamicHeight","","animationDuration","500ms",3,"color"],["label","Friends",1,"mat-tab"],["label","Pending Requests",1,"mat-tab"],["class","itemData",4,"ngIf"],["label","Sent Requests",1,"mat-tab"],["label","Rejected Requests",1,"mat-tab"],[1,"itemData"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"btn","btn-primary","float-start",3,"click"],[1,"btn","btn-primary","float-end",3,"click"],["class","container","style","border: 3px solid red !important",4,"ngFor","ngForOf"],[1,"container",2,"border","3px solid red !important"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2),_e(3,"app-friend-list"),T(),x(4,"mat-tab",3),Z(5,fue,2,1,"div",4),T(),x(6,"mat-tab",5),Z(7,mue,2,1,"div",4),T(),x(8,"mat-tab",6),Z(9,_ue,2,1,"div",4),T()()()),2&i&&(I(),M("color","accent"),I(4),M("ngIf",!!r.receivedRequests.length),I(2),M("ngIf",!!r.sentRequests.length),I(2),M("ngIf",!!r.rejectedRequests.length))},dependencies:[Ri,Pt,cC,_N,eL],styles:[".custom-friendbox[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important;text-align:center}.container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;overflow-x:hidden!important;overflow-y:hidden!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;max-width:800px}.item-data[_ngcontent-%COMP%] > container[_ngcontent-%COMP%]{padding:20px auto}.container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important}.itemData[_ngcontent-%COMP%]{margin:20px auto;overflow-x:hidden!important;overflow-y:hidden!important;vertical-align:middle}.itemData[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%], .itemData[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:5px auto;padding:5px auto}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;width:150px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;width:150px}"]})}}return t})();function vue(t,n){if(1&t&&(x(0,"h3"),F(1),T()),2&t){const e=O(4);I(),ht("",e.fullName," is Following You")}}function yue(t,n){if(1&t&&(x(0,"h3"),F(1),T()),2&t){const e=O(4);I(),ht("",e.fullName," is not Following You")}}function Aue(t,n){if(1&t&&(x(0,"h3"),F(1),T()),2&t){const e=O(4);I(),ht("You are follwing ",e.fullName,"")}}function Cue(t,n){if(1&t&&(x(0,"h3"),F(1),T()),2&t){const e=O(4);I(),ht("You are not follwing ",e.fullName,"")}}function wue(t,n){if(1&t&&(x(0,"div",3)(1,"div",12),Z(2,vue,2,1,"h3",13)(3,yue,2,1,"h3",13),T(),x(4,"div",12),Z(5,Aue,2,1,"h3",13)(6,Cue,2,1,"h3",13),T()()),2&t){const e=O(3);I(2),M("ngIf",!!e.isFollower),I(),M("ngIf",!e.isFollower),I(2),M("ngIf",!!e.isFollowing),I(),M("ngIf",!e.isFollowing)}}function xue(t,n){if(1&t&&(x(0,"h3"),F(1),T()),2&t){const e=O(4);I(),ht("You have blocked ",e.fullName,"")}}function Sue(t,n){if(1&t&&(x(0,"h3"),F(1),T()),2&t){const e=O(4);I(),ht("You have not blocked ",e.fullName,"")}}function Tue(t,n){if(1&t&&(x(0,"h3"),F(1),T()),2&t){const e=O(4);I(),ht("",e.fullName," has blocked you")}}function Due(t,n){if(1&t&&(x(0,"h3"),F(1),T()),2&t){const e=O(4);I(),ht("",e.fullName," has not blocked you")}}function Iue(t,n){if(1&t&&(x(0,"div",3)(1,"div",12),Z(2,xue,2,1,"h3",13)(3,Sue,2,1,"h3",13),T(),x(4,"div",12),Z(5,Tue,2,1,"h3",13)(6,Due,2,1,"h3",13),T()()),2&t){const e=O(3);I(2),M("ngIf",!!e.isBlocked),I(),M("ngIf",!e.isBlocked),I(2),M("ngIf",!!e.isBlocking),I(),M("ngIf",!e.isBlocking)}}function Eue(t,n){if(1&t){const e=ye();x(0,"div",18)(1,"p",19),F(2),x(3,"a",20),W("click",function(){const r=z(e).$implicit;return G(O(4).goToStoryDetail(r.story.id))}),F(4),T()()()}if(2&t){const e=n.$implicit,i=O(4);I(2),oo("",i.fullName," has ",e.action," "),I(2),tt(e.story.title)}}function Mue(t,n){if(1&t){const e=ye();x(0,"div",18)(1,"p",19),F(2),x(3,"a",20),W("click",function(){const r=z(e).$implicit;return G(O(4).goToReelDetail(r.reel.id))}),F(4),T()()()}if(2&t){const e=n.$implicit,i=O(4);I(2),oo("",i.fullName," has ",e.action," "),I(2),tt(e.reel.caption)}}function kue(t,n){if(1&t&&(x(0,"div",14)(1,"h3",15),F(2),T(),_e(3,"hr"),x(4,"div",16),Z(5,Eue,5,3,"div",17)(6,Mue,5,3,"div",17),T()()),2&t){const e=O(3);I(2),ht("Activity by your friend ",e.fullName,""),I(3),M("ngForOf",e.storyFeed),I(),M("ngForOf",e.reelFeed)}}function Oue(t,n){if(1&t){const e=ye();x(0,"div",3)(1,"div",4)(2,"div",5),_e(3,"img",6),T(),_e(4,"div",7),x(5,"div",8)(6,"div",3)(7,"button",9),W("click",function(){return z(e),G(O(2).removeFriend())}),F(8,"Remove Friend"),T()(),x(9,"div",3)(10,"p",10)(11,"strong"),F(12,"Status : "),T(),F(13),T()(),x(14,"div",3)(15,"h3"),F(16),T(),x(17,"p"),F(18),T(),x(19,"p"),F(20),T(),x(21,"p"),F(22),T(),x(23,"p"),F(24),T()(),x(25,"div",3),Z(26,wue,7,4,"div",2)(27,Iue,7,4,"div",2),T()()(),Z(28,kue,7,3,"div",11),T()}if(2&t){const e=O(2);I(3),Os("alt",e.fullName),M("src","http://localhost:4500"+e.profile.avatar,Jt),I(10),tt(e.profile.status),I(3),tt(e.fullName),I(2),tt(e.profile.bio),I(2),tt(e.profile.url),I(2),tt(e.profile.gender),I(2),tt(e.profile.city),I(2),M("ngIf",!!e.isFollower||!!e.isFollowing),I(),M("ngIf",!!e.isBlocked||!!e.isBlocking),I(),M("ngIf",!!e.storyFeed.length)}}function Pue(t,n){if(1&t&&(x(0,"div",1),Z(1,Oue,29,11,"div",2),T()),2&t){const e=O();I(),M("ngIf",!!e.profile)}}let Rue=(()=>{class t{constructor(e,i,r,o,s){this.route=e,this.pService=i,this.aService=r,this.fService=o,this.router=s,this.fullName="",this.isAuth=!1,this.storyFeed=[],this.reelFeed=[],this.isFollowing=!1,this.isFollower=!1,this.isBlocked=!1,this.isBlocking=!1}ngOnInit(){this.route.params.subscribe(e=>{this.friendId=+e.friendId,console.log(this.friendId)}),setTimeout(()=>{this.pService.fetchPublicProfile(this.friendId).subscribe(e=>{this.profile={...e}})},50),setTimeout(()=>{this.aService.publicUser(this.friendId).subscribe(e=>{this.fullName=e.first_name+" "+e.last_name})},50),this.isAuth=!!ii.authEmitter,setTimeout(()=>{this.fetchFriendStoryFeed(),this.fetchFriendReelFeed()},250),this.loadRelationState()}fetchFriendStoryFeed(){this.fService.friendstoryActivity(this.friendId).subscribe(e=>{e.forEach(i=>{let r={};r.story={...i.story},r.action=i.action,this.storyFeed.push(r)})})}fetchFriendReelFeed(){this.fService.friendreelActivity(this.friendId).subscribe(e=>{e.forEach(i=>{let r={};r.reel={...i.reel},r.action=i.action,this.reelFeed.push(r)})})}goToStoryDetail(e){this.router.navigateByUrl("/feed/"+e)}goToReelDetail(e){this.router.navigateByUrl("/feed/reel/"+e)}removeFriend(){this.pService.removeFriend({to_user:this.friendId}).subscribe(()=>this.router.navigateByUrl("/friends"))}loadRelationState(){return le(function*(){})()}static{this.\u0275fac=function(i){return new(i||t)(k(Zi),k($s),k(ii),k(fd),k(Kt))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-friend-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"mainrow",2,"padding","0px"],[1,"col-md-4","float-start"],[1,"avatar","card-img-top","img-fluid",3,"src","alt"],[1,"col-md-1"],[1,"col-md-7","float-end"],[1,"btn","btn-primary",2,"margin","10px auto",3,"click"],[1,"heading"],["class","activities",4,"ngIf"],[1,"col-md-6"],[4,"ngIf"],[1,"activities"],[2,"text-align","center","padding","10px auto","margin","10px auto"],[1,"col-md-12"],["class","row feed-item",4,"ngFor","ngForOf"],[1,"row","feed-item"],[2,"margin","auto"],[2,"cursor","pointer","color","#6c757d",3,"click"]],template:function(i,r){1&i&&Z(0,Pue,2,1,"div",0),2&i&&M("ngIf",!!r.isAuth)},dependencies:[Ri,Pt],styles:[".container[_ngcontent-%COMP%]{margin:20px auto;padding:20px auto;justify-content:center;max-width:1000px}.mainrow[_ngcontent-%COMP%]{text-align:left;margin:10px auto;border-radius:25px;border:1px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px}.heading[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important}.activities[_ngcontent-%COMP%]{padding:10px auto!important;margin:20px auto!important;border-radius:5px;justify-content:center;max-width:80%;text-align:center}.feed-item[_ngcontent-%COMP%]{color:#0c2b57;text-align:left;box-shadow:#0c2b57 1px 0 10px;background-color:#a0c9d5;margin:15px auto;padding:5px;height:50px;max-width:100%}.avatar[_ngcontent-%COMP%]{border-radius:25px;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}.btn[_ngcontent-%COMP%]{border:3px solid;margin:5px;border-image-slice:1;background-color:pink;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important;max-width:-moz-fit-content;max-width:fit-content}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:rgb(229,54,14)!important;margin:5px;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline;max-width:-moz-fit-content;max-width:fit-content}"]})}}return t})();function Nue(t,n){if(1&t&&(x(0,"div",1)(1,"div",2)(2,"p"),F(3),Yi(4,"date"),T(),x(5,"p"),F(6),T()()()),2&t){const e=n.$implicit;I(3),oo("",e.user," messaged on ",function xI(t,n,e,i){const r=t+Ft,o=Ne(),s=Xl(o,r);return Ou(o,r)?yI(o,mr(),n,s.transform,e,i,s):s.transform(e,i)}(4,3,e.timestamp,"medium"),""),I(3),tt(e.msg)}}let Fue=(()=>{class t{constructor(e,i,r,o){this.aService=e,this.chatroomService=i,this.wService=r,this.route=o,this.chat_history=[],this.channel_chats=[]}ngOnInit(){this.chatroom_deleted||(this.messageSubscription=this.wService.getMessageObservable().subscribe(e=>{this.handleNewMessages(e)})),this.loadData()}loadData(){var e=this;return le(function*(){e.chat_history=[],e.channel_chats=[];try{e.chat_history$=e.chatroomService.fetchChatData(e.chatroomId),e.chat_history=yield Gt(e.chat_history$),e.chat_history&&e.chat_history.forEach(i=>{let r;e.aService.publicUser(i.sender).subscribe(o=>{r=o.first_name+" "+o.last_name;let s={msg:JSON.parse(i.content).content,user:r,timestamp:i.timestamp};e.channel_chats.push(s)})})}catch(i){console.log(i)}e.channel_chats.sort((i,r)=>new Date(i.timestamp)<new Date(r.timestamp)?1:-1)})()}handleNewMessages(e){if(this.channel_chats.some(r=>r.timestamp===e.new_message.timestamp))console.log("Message already exists");else{let r={msg:JSON.parse(e.new_message.content).content,user:e.new_message.sender,timestamp:e.new_message.timestamp};this.channel_chats.push(r),this.channel_chats.sort((o,s)=>new Date(o.timestamp)<new Date(s.timestamp)?1:-1),console.log(this.channel_chats)}}ngOnDestroy(){console.log("Destroyed!"),this.messageSubscription&&this.messageSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(k(ii),k(gl),k(Mm),k(Zi))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-chat-history"]],inputs:{chatroomId:"chatroomId",chatroom_deleted:"chatroom_deleted",chatroom_object:"chatroom_object",chatroom_object_id:"chatroom_object_id"},decls:1,vars:1,consts:[["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row",2,"border","1px solid","margin","10px","padding","10px"]],template:function(i,r){1&i&&Z(0,Nue,7,6,"div",0),2&i&&M("ngForOf",r.channel_chats)},dependencies:[Ri,tm]})}}return t})(),Lue=(()=>{class t{constructor(e){this.wService=e}ngOnInit(){this.form=new Kr({message_field:new Pi})}submit(e){this.wService.sendMSG(e.message_field),this.form.reset()}static{this.\u0275fac=function(i){return new(i||t)(k(Mm))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-chat-form"]],decls:8,vars:1,consts:[[1,"container"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["for","message_field"],["matInput","","type","text","formControlName","message_field","value","Message"],["type","button",1,"btn","btn-primary","float-end",2,"margin","10px auto",3,"click"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"form",1)(2,"mat-form-field",2)(3,"mat-label",3),F(4,"Chat Now!"),T(),_e(5,"input",4),T(),x(6,"button",5),W("click",function(){return r.submit(r.form.value)}),F(7,"Send Message"),T()()()),2&i&&(I(),M("formGroup",r.form))},dependencies:[jo,jn,Un,Kn,Dn,wr,sN,yg,ZF]})}}return t})();const Gg=t=>[t];function Bue(t,n){if(1&t&&(x(0,"p",14)(1,"a",5),F(2),T()()),2&t){const e=O().$implicit;I(),M("routerLink",Ht(2,Gg,"/profile/"+e.id)),I(),tt(e.first_name)}}function Vue(t,n){if(1&t&&(x(0,"p",14)(1,"a",5),F(2),T()()),2&t){const e=O().$implicit;I(),M("routerLink",Ht(2,Gg,"/profile/"+e.id)),I(),tt(e.id)}}function Hue(t,n){if(1&t&&(x(0,"div",11)(1,"div",12),Z(2,Bue,3,4,"p",13)(3,Vue,3,4,"p",13),T()()),2&t){const e=n.$implicit;I(2),M("ngIf",!!e.first_name),I(),M("ngIf",!e.first_name)}}function jue(t,n){if(1&t&&(x(0,"div",1)(1,"h3",4),F(2,"This chatroom has been started by "),x(3,"a",5),F(4),T(),F(5,"."),T(),x(6,"div",6)(7,"h3"),F(8,"Chatroom Participants"),T(),Z(9,Hue,4,2,"div",7),T(),x(10,"div",8)(11,"div",9),_e(12,"app-chat-form"),T(),x(13,"div",9),_e(14,"app-chat-history",10),T()()()),2&t){const e=O();I(3),M("routerLink",Ht(7,Gg,"/profile/"+e.chatroom_owner)),I(),tt(e.chatroom_owner_name),I(5),M("ngForOf",e.chatroom_data.participants),I(5),M("chatroom_deleted",e.chatroom_deleted)("chatroom_object_id",e.chatroom_obj_id)("chatroom_object",e.chatroom_obj)("chatroomId",e.chatroomId)}}function Uue(t,n){if(1&t&&(x(0,"div",1)(1,"h2",15),F(2,"This chatroom has been deleted by "),x(3,"a",5),F(4),T(),F(5," who started it."),T(),_e(6,"app-chat-history",10),T()),2&t){const e=O();I(3),M("routerLink",Ht(6,Gg,"/profile/"+e.chatroom_owner)),I(),tt(e.chatroom_owner_name),I(2),M("chatroom_deleted",e.chatroom_deleted)("chatroom_object_id",e.chatroom_obj_id)("chatroom_object",e.chatroom_obj)("chatroomId",e.chatroomId)}}const zue=[{path:"login",component:Rre},{path:"register",component:Nre},{path:"forgot",component:Lre},{path:"reset/:token",component:Bre},{path:"feed",canActivate:[_l],children:[{path:"",component:$re},{path:":storyId",component:Coe},{path:"reel/:reelId",component:joe}]},{path:"story",component:Mq,canActivate:[_l],children:[{path:"",component:tZ},{path:"new",component:Kie},{path:":id",component:gre},{path:":id/edit",component:cne}]},{path:"reel",canActivate:[_l],children:[{path:"personal/:userId",component:jre},{path:"story/:storyId",component:vre},{path:"detail/:reelId",component:kre}]},{path:"profile",canActivate:[_l],children:[{path:"personal",component:Vde},{path:"personal/:profileId",component:lue},{path:":userId",component:rue}]},{path:"friends",component:bue,canActivate:[_l],children:[{path:"",component:eL}]},{path:"friends/:friendId",canActivate:[_l],component:Rue},{path:"chat/:chatroom_id",canActivate:[_l],component:(()=>{class t{constructor(e,i,r,o,s,a,l){this.wService=e,this.chatService=i,this.route=r,this.router=o,this.sService=s,this.authService=a,this.rService=l,this.fullName="",this.chatroom_deleted=!1,this.chatroom_data={},this.chatroom_owner_name="",this.count=0,this.navigation=this.router.getCurrentNavigation()}ngOnInit(){const e=this.navigation.extras.state;console.log(e),this.chatroom_obj=e.object_type,this.chatroom_obj_id=e.object_id,this.chatroom_owner=e.chatroom_owner,this.routeParamsSubscription=this.route.params.subscribe(i=>{this.chatroomRouteParams=i,0==this.count&&this.handleRouteParamsChanges()}),this.chatroomId=this.chatroomRouteParams.chatroom_id,console.log(this.chatroomId),this.chatService.showChatRooms().subscribe(i=>{i&&(console.log(i),i.forEach(r=>{r.id===+this.chatroomId&&(this.wService.startWebSocket(this.chatroomId),this.count=1,this.chatroom_data={...r},console.log(this.chatroom_data))}))}),"story"===this.chatroom_obj&&this.sService.fetchFeedStory(this.chatroom_obj_id).subscribe(i=>{console.log(i),i.story_conversation.length>0?i.story_conversation.forEach(r=>{this.chatroom_title=i.title,this.chatroom_obj_owner=i.owner,this.image=i.image,this.chatService.getConversationChatroomStatus(r.id).subscribe(o=>{o.chatroom_status||(this.chatroom_deleted=!0)}),this.loadData()}):console.log("No conversation for story"),console.log(this.chatroom_obj_owner),console.log(this.chatroom_owner)}),"reel"===this.chatroom_obj&&this.rService.fetchReelforFeed(this.chatroom_obj_id).subscribe(i=>{console.log(i),i.reel_conversation.length>0?i.reel_conversation.forEach(r=>{this.chatroom_title=i.caption,this.chatroom_obj_owner=i.reel_owner,this.image=i.image,this.chatService.getConversationChatroomStatus(r.id).subscribe(o=>{o.chatroom_status||(this.chatroom_deleted=!0)}),this.loadData()}):console.log("No conversation for reel"),console.log(this.chatroom_obj_owner),console.log(this.chatroom_owner)})}handleRouteParamsChanges(){this.wService.closeWebSocket(),this.chatroomId=this.chatroomRouteParams.chatroom_id,this.wService.startWebSocket(this.chatroomId),this.count=2}ngOnDestroy(){console.log("Destroyed!"),this.routeParamsSubscription.unsubscribe(),this.wService.closeWebSocket()}loadData(){var e=this;return le(function*(){const i=e.authService.publicUser(e.chatroom_obj_owner);e.publicUser=yield Gt(i),e.fullName=e.publicUser.first_name+" "+e.publicUser.last_name;const r=e.authService.publicUser(e.chatroom_owner);e.chatroom_publicUser=yield Gt(r),e.chatroom_owner_name=e.chatroom_publicUser.first_name+" "+e.chatroom_publicUser.last_name})()}static{this.\u0275fac=function(i){return new(i||t)(k(Mm),k(gl),k(Zi),k(Kt),k(yr),k(ii),k(Nr))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-webchat"]],decls:7,vars:7,consts:[[1,"container"],[1,"row","parent"],[1,"card-img-top","img-fluid",2,"max-width","400px","max-height","400px",3,"src","alt"],["class","row parent",4,"ngIf"],[2,"border-bottom","1px solid black"],[3,"routerLink"],[1,"col-md-4"],["class","participants_cont row",4,"ngFor","ngForOf"],[1,"col-md-8"],[1,"row"],[3,"chatroom_deleted","chatroom_object_id","chatroom_object","chatroomId"],[1,"participants_cont","row"],[1,"row",2,"text-align","center"],["class","float-start",4,"ngIf"],[1,"float-start"],[2,"border-bottom","1px solid black","max-width","fit-content","border-radius","5px","background-color","red"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"h2"),F(3),T(),_e(4,"img",2),T(),Z(5,jue,15,9,"div",3)(6,Uue,7,8,"div",3),T()),2&i&&(I(3),Mo("This Chatroom is about ",r.chatroom_obj,' "',r.chatroom_title,'" from user ',r.fullName,"."),I(),Os("alt",r.chatroom_title),M("src","http://localhost:4500"+r.image,Jt),I(),M("ngIf",!r.chatroom_deleted),I(),M("ngIf",!!r.chatroom_deleted))},dependencies:[Ri,Pt,Bs,Fue,Lue],styles:[".parent[_ngcontent-%COMP%]{align-items:center;display:flex;text-align:center;justify-content:center;margin-top:20px;margin-bottom:20px}.participants_cont[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;text-align:center;align-items:center;background:#e9ebdc;color:#000;margin:20px 0;padding:auto 10px;height:100px;max-width:100%;display:flex}.circular_image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden;background-color:#a0c9d5;display:inline-block;vertical-align:middle}"]})}}return t})()},{path:"**",redirectTo:"feed"}];let Gue=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[Im.forRoot(zue),Im]})}}return t})();function Wue(t,n){if(1&t){const e=ye();x(0,"ul",5)(1,"li")(2,"a",6),F(3,"Create Story"),T()(),x(4,"li")(5,"a",7),F(6,"Your Friendship"),T()(),x(7,"li")(8,"a",8),F(9,"Your Profile"),T()(),x(10,"li")(11,"a",9),F(12,"Feed"),T()(),x(13,"li")(14,"a",10),F(15,"Your Stories"),T()(),x(16,"li")(17,"a",11),W("click",function(){return z(e),G(O().logout())}),F(18,"Logout"),T()()()}}function Yue(t,n){1&t&&(x(0,"ul",5)(1,"li")(2,"a",12),F(3,"Login"),T()(),x(4,"li")(5,"a",13),F(6,"Register"),T()()())}let $ue=(()=>{class t{constructor(e){this.authService=e,this.authenticated=!1}ngOnInit(){ii.authEmitter.subscribe(e=>{this.authenticated=e}),console.log()}logout(){this.authService.logout()}static{this.\u0275fac=function(i){return new(i||t)(k(ii))}}static{this.\u0275cmp=ze({type:t,selectors:[["app-navigation"]],decls:7,vars:2,consts:[[1,"main"],[1,"row"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-end"],[1,"text-end"],["class","nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0",4,"ngIf"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/story/new",1,"btn","btn-outline-light","me-2"],["routerLink","/friends",1,"btn","btn-outline-light","me-2"],["routerLink","/profile/personal",1,"btn","btn-outline-light","me-2"],["routerLink","/feed",1,"btn","btn-outline-light","me-2"],["routerLink","/story",1,"btn","btn-outline-light","me-2"],["routerLink","/login",1,"btn","btn-outline-light","me-2",3,"click"],["routerLink","/login",1,"btn","btn-outline-light","me-2"],["routerLink","/register",1,"btn","btn-outline-light","me-2"]],template:function(i,r){1&i&&(x(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3),Z(4,Wue,19,0,"ul",4),T(),x(5,"div",3),Z(6,Yue,7,0,"ul",4),T()()()()),2&i&&(I(4),M("ngIf",!!r.authenticated),I(2),M("ngIf",!r.authenticated))},dependencies:[Pt,Bs],styles:[".main[_ngcontent-%COMP%]{background-color:#2292b7;border-bottom-left-radius:10px;border-bottom-right-radius:10px;padding:10px}a.btn[_ngcontent-%COMP%]{border:3px solid;border-image-slice:1;background-color:#a0c9d5;-webkit-text-fill-color:black!important;text-decoration:none;color:#000!important}a.btn[_ngcontent-%COMP%]:hover, a.btn[_ngcontent-%COMP%]:focus{-webkit-text-fill-color:black!important;border:3px solid #0c527b!important;box-shadow:#0c2b57 1px 0 10px;text-decoration:underline}"]})}}return t})(),que=(()=>{class t{constructor(){this.title="frontend-app"}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(i,r){1&i&&_e(0,"app-navigation")(1,"router-outlet")},dependencies:[Cm,$ue]})}}return t})(),Que=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni]})}}return t})(),bhe=(()=>{class t{constructor(){}isBase64(e){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)}base64FileExtension(e){return e.substring(11,e.indexOf(";base64"))}orderArray(e=[],i="ASC"){return e?.length&&i?e.sort((r,o)=>null!==r.order&&r.order?null!==o.order&&o.order?r.order>o.order?"DESC"===i?-1:1:r.order<o.order?"DESC"===i?1:-1:void 0:-1:1):e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),nL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=st({providers:[bhe],imports:[Pr]}),t})();const Che={provide:new Me("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const t=Q(Hn);return()=>t.scrollStrategies.reposition()}}),deps:[Hn],useFactory:function Ahe(t){return()=>t.scrollStrategies.reposition()}};let oL=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:[Che],imports:[Pr,od,ni,nd,ph,ni]})}}return t})(),sL=(()=>{class t{static forRoot(){return{ngModule:t}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[Pr,gg,X2,H2,Pr,gg,X2,H2]})}}return t})(),whe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[Pr,fk,sL,Im,gg,XA,bR,Fh,Que,JF,CA,Sh,nL,bN,tC,KA,Sh,tC,cN,N2,M2,oL,$K,bR,CA,Sh]})}}return t})();function aL(t){return new xe(3e3,!1)}function xa(t){switch(t.length){case 0:return new Ah;case 1:return t[0];default:return new RP(t)}}function lL(t,n,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(n.forEach(l=>{const m=l.get("offset"),A=m==s,S=A&&a||new Map;l.forEach((P,N)=>{let L=N,V=P;if("offset"!==N)switch(L=t.normalizePropertyName(L,r),V){case"!":V=e.get(N);break;case Us:V=i.get(N);break;default:V=t.normalizeStyleValue(N,L,V,r)}S.set(L,V)}),A||o.push(S),a=S,s=m}),r.length)throw function Yhe(t){return new xe(3502,!1)}();return o}function jC(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&UC(e,"start",t)));break;case"done":t.onDone(()=>i(e&&UC(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&UC(e,"destroy",t)))}}function UC(t,n,e){const o=zC(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(o._data=s),o}function zC(t,n,e,i,r="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function to(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function cL(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const rfe=typeof document>"u"?null:document.documentElement;function GC(t){const n=t.parentNode||t.host||null;return n===rfe?null:n}let Tl=null,dL=!1;function uL(t,n){for(;n;){if(n===t)return!0;n=GC(n)}return!1}function hL(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]}let WC=(()=>{class t{validateStyleProperty(e){return function sfe(t){Tl||(Tl=function afe(){return typeof document<"u"?document.body:null}()||{},dL=!!Tl.style&&"WebkitAppearance"in Tl.style);let n=!0;return Tl.style&&!function ofe(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Tl.style,!n&&dL&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Tl.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return uL(e,i)}getParentElement(e){return GC(e)}query(e,i,r){return hL(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Ah(r,o)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();class YC{static{this.NOOP=new WC}}class $C{}const cfe=1e3,qC="ng-enter",Yg="ng-leave",$g="ng-trigger",qg=".ng-trigger",pL="ng-animating",XC=".ng-animating";function Xs(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:QC(parseFloat(n[1]),n[2])}function QC(t,n){return"s"===n?t*cfe:t}function Xg(t,n,e){return t.hasOwnProperty("duration")?t:function ufe(t,n,e){let r,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(aL()),{duration:0,delay:0,easing:""};r=QC(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=QC(parseFloat(l),a[4]));const m=a[5];m&&(s=m)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(function xhe(){return new xe(3100,!1)}()),a=!0),o<0&&(n.push(function She(){return new xe(3101,!1)}()),a=!0),a&&n.splice(l,0,aL())}return{duration:r,delay:o,easing:s}}(t,n,e)}function As(t,n,e){n.forEach((i,r)=>{const o=ZC(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function Dl(t,n){n.forEach((e,i)=>{const r=ZC(i);t.style[r]=""})}function Xh(t){return Array.isArray(t)?1==t.length?t[0]:function ZQ(t,n=null){return{type:Ot.Sequence,steps:t,options:n}}(t):t}const KC=new RegExp("{{\\s*(.+?)\\s*}}","g");function gL(t){let n=[];if("string"==typeof t){let e;for(;e=KC.exec(t);)n.push(e[1]);KC.lastIndex=0}return n}function Qh(t,n,e){const i=`${t}`,r=i.replace(KC,(o,s)=>{let a=n[s];return null==a&&(e.push(function Dhe(t){return new xe(3003,!1)}()),a=""),a.toString()});return r==i?t:r}const pfe=/-+([a-z0-9])/g;function ZC(t){return t.replace(pfe,(...n)=>n[1].toUpperCase())}function io(t,n,e){switch(n.type){case Ot.Trigger:return t.visitTrigger(n,e);case Ot.State:return t.visitState(n,e);case Ot.Transition:return t.visitTransition(n,e);case Ot.Sequence:return t.visitSequence(n,e);case Ot.Group:return t.visitGroup(n,e);case Ot.Animate:return t.visitAnimate(n,e);case Ot.Keyframes:return t.visitKeyframes(n,e);case Ot.Style:return t.visitStyle(n,e);case Ot.Reference:return t.visitReference(n,e);case Ot.AnimateChild:return t.visitAnimateChild(n,e);case Ot.AnimateRef:return t.visitAnimateRef(n,e);case Ot.Query:return t.visitQuery(n,e);case Ot.Stagger:return t.visitStagger(n,e);default:throw function Ihe(t){return new xe(3004,!1)}()}}function JC(t,n){return window.getComputedStyle(t)[n]}const _fe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _L extends $C{normalizePropertyName(n,e){return ZC(n)}normalizeStyleValue(n,e,i,r){let o="";const s=i.toString().trim();if(_fe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Ehe(t,n){return new xe(3005,!1)}())}return s+o}}const Qg="*";const Kg=new Set(["true","1"]),Zg=new Set(["false","0"]);function bL(t,n){const e=Kg.has(t)||Zg.has(t),i=Kg.has(n)||Zg.has(n);return(r,o)=>{let s=t==Qg||t==r,a=n==Qg||n==o;return!s&&e&&"boolean"==typeof r&&(s=r?Kg.has(t):Zg.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?Kg.has(n):Zg.has(n)),s&&a}}const Afe=new RegExp("s*:selfs*,?","g");function e1(t,n,e,i){return new Cfe(t).build(n,e,i)}class Cfe{constructor(n){this._driver=n}build(n,e,i){const r=new Sfe(e);return this._resetContextStyleTimingState(r),io(this,Xh(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function Mhe(){return new xe(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Ot.State){const l=a,m=l.name;m.toString().split(/\s*,\s*/).forEach(A=>{l.name=A,o.push(this.visitState(l,e))}),l.name=m}else if(a.type==Ot.Transition){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function khe(){return new xe(3007,!1)}())}),{type:Ot.Trigger,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{gL(l).forEach(m=>{s.hasOwnProperty(m)||o.add(m)})})}),o.size&&e.errors.push(function Ohe(t,n){return new xe(3008,!1)}(0,o.values()))}return{type:Ot.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=io(this,Xh(n.animation),e),r=function bfe(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function vfe(t,n,e){if(":"==t[0]){const l=function yfe(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function Uhe(t){return new xe(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof l)return void n.push(l);t=l}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function jhe(t){return new xe(3015,!1)}()),n;const r=i[1],o=i[2],s=i[3];n.push(bL(r,s)),"<"==o[0]&&(r!=Qg||s!=Qg)&&n.push(bL(s,r))}(i,e,n)):e.push(t),e}(n.expr,e.errors);return{type:Ot.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Il(n.options)}}visitSequence(n,e){return{type:Ot.Sequence,steps:n.steps.map(i=>io(this,i,e)),options:Il(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const o=n.steps.map(s=>{e.currentTime=i;const a=io(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Ot.Group,steps:o,options:Il(n.options)}}visitAnimate(n,e){const i=function Dfe(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return t1(Xg(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=t1(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Xg(e,n);return t1(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:gt({});if(o.type==Ot.Keyframes)r=this.visitKeyframes(o,e);else{let s=n.styles,a=!1;if(!s){a=!0;const m={};i.easing&&(m.easing=i.easing),s=gt(m)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:Ot.Animate,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)"string"==typeof a?a===Us?i.push(a):e.errors.push(new xe(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:Ot.Style,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const m=e.collectedStyles.get(e.currentQuerySelector),A=m.get(l);let S=!0;A&&(o!=r&&o>=A.startTime&&r<=A.endTime&&(e.errors.push(function Rhe(t,n,e,i,r){return new xe(3010,!1)}()),S=!1),o=A.startTime),S&&m.set(l,{startTime:o,endTime:r}),e.options&&function ffe(t,n,e){const i=n.params||{},r=gL(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function The(t){return new xe(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:Ot.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Nhe(){return new xe(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,m=0;const A=n.steps.map(re=>{const ae=this._makeStyleAst(re,e);let He=null!=ae.offset?ae.offset:function Tfe(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(ae.styles),Ue=0;return null!=He&&(o++,Ue=ae.offset=He),l=l||Ue<0||Ue>1,a=a||Ue<m,m=Ue,s.push(Ue),ae});l&&e.errors.push(function Fhe(){return new xe(3012,!1)}()),a&&e.errors.push(function Lhe(){return new xe(3200,!1)}());const S=n.steps.length;let P=0;o>0&&o<S?e.errors.push(function Bhe(){return new xe(3202,!1)}()):0==o&&(P=1/(S-1));const N=S-1,L=e.currentTime,V=e.currentAnimateTimings,K=V.duration;return A.forEach((re,ae)=>{const He=P>0?ae==N?1:P*ae:s[ae],Ue=He*K;e.currentTime=L+V.delay+Ue,V.duration=Ue,this._validateStyleAst(re,e),re.offset=He,i.styles.push(re)}),i}visitReference(n,e){return{type:Ot.Reference,animation:io(this,Xh(n.animation),e),options:Il(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Ot.AnimateChild,options:Il(n.options)}}visitAnimateRef(n,e){return{type:Ot.AnimateRef,animation:this.visitReference(n.animation,e),options:Il(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[o,s]=function wfe(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Afe,"")),t=t.replace(/@\*/g,qg).replace(/@\w+/g,e=>qg+"-"+e.slice(1)).replace(/:animating/g,XC),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,to(e.collectedStyles,e.currentQuerySelector,new Map);const a=io(this,Xh(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Ot.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Il(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function Vhe(){return new xe(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Xg(n.timings,e.errors,!0);return{type:Ot.Stagger,animation:io(this,Xh(n.animation),e),timings:i,options:null}}}class Sfe{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Il(t){return t?(t={...t}).params&&(t.params=function xfe(t){return t?{...t}:null}(t.params)):t={},t}function t1(t,n,e){return{duration:t,delay:n,easing:e}}function n1(t,n,e,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Jg{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Mfe=new RegExp(":enter","g"),Ofe=new RegExp(":leave","g");function r1(t,n,e,i,r,o=new Map,s=new Map,a,l,m=[]){return(new Pfe).buildKeyframes(t,n,e,i,r,o,s,a,l,m)}class Pfe{buildKeyframes(n,e,i,r,o,s,a,l,m,A=[]){m=m||new Jg;const S=new o1(n,e,m,r,o,A,[]);S.options=l;const P=l.delay?Xs(l.delay):0;S.currentTimeline.delayNextStep(P),S.currentTimeline.setStyles([s],null,S.errors,l),io(this,i,S);const N=S.timelines.filter(L=>L.containsAnimation());if(N.length&&a.size){let L;for(let V=N.length-1;V>=0;V--){const K=N[V];if(K.element===e){L=K;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([a],null,S.errors,l)}return N.length?N.map(L=>L.buildKeyframes()):[n1(e,[],[],[],0,P,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const o=r?.delay;if(o){const s="number"==typeof o?o:Xs(Qh(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Xs(i.duration):null,a=null!=i.delay?Xs(i.delay):null;return 0!==s&&n.forEach(l=>{const m=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,m.duration+m.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),io(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Ot.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=e_);const s=Xs(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>io(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?Xs(n.options.delay):0;n.steps.forEach(s=>{const a=e.createSubContext(n.options);o&&a.delayNextStep(o),io(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Xg(e.params?Qh(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;o.type==Ot.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?Xs(r.delay):0;o&&(e.previousNode.type===Ot.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=e_);let s=i;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((m,A)=>{e.currentQueryIndex=A;const S=e.createSubContext(n.options,m);o&&S.delayNextStep(o),m===e.element&&(l=S.currentTimeline),io(this,n.animation,S),S.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const A=e.currentTimeline;l&&A.delayNextStep(l);const S=A.currentTime;io(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const e_={};class o1{constructor(n,e,i,r,o,s,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=e_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new t_(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Xs(i.duration)),null!=i.delay&&(r.delay=Xs(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Qh(o[a],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,o=new o1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=e_,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new Rfe(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,s){let a=[];if(r&&a.push(this.element),n.length>0){n=(n=n.replace(Mfe,"."+this._enterClassName)).replace(Ofe,"."+this._leaveClassName);let m=this._driver.query(this.element,n,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),a.push(...m)}return!o&&0==a.length&&s.push(function Hhe(t){return new xe(3014,!1)}()),a}}class t_{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t_(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Us),this._currentKeyframe.set(e,Us);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function Nfe(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i??=n.keys();for(let o of i)e.set(o,Us)}else for(let[o,s]of r)e.set(o,s)}),e}(n,this._globalTimelineStyles);for(let[a,l]of s){const m=Qh(l,o,i);this._pendingStyles.set(a,m),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Us),this._updateStyle(a,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const m=new Map([...this._backFill,...a]);m.forEach((A,S)=>{"!"===A?n.add(S):A===Us&&e.add(S)}),i||m.set("offset",l/this.duration),r.push(m)});const o=[...n.values()],s=[...e.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return n1(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Rfe extends t_{constructor(n,e,i,r,o,s,a=!1){super(n,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=new Map(n[0]);l.set("offset",0),o.push(l);const m=new Map(n[0]);m.set("offset",AL(a)),o.push(m);const A=n.length-1;for(let S=1;S<=A;S++){let P=new Map(n[S]);const N=P.get("offset");P.set("offset",AL((e+N*i)/s)),o.push(P)}i=s,e=0,r="",n=o}return n1(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function AL(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}function CL(t,n,e,i,r,o,s,a,l,m,A,S,P){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:m,postStyleProps:A,totalTime:S,errors:P}}const s1={};class wL{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function Ffe(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,s,a,l,m,A){const S=[],P=this.ast.options&&this.ast.options.params||s1,L=this.buildStyles(i,a&&a.params||s1,S),V=l&&l.params||s1,K=this.buildStyles(r,V,S),re=new Set,ae=new Map,He=new Map,Ue="void"===r,Ke={params:xL(V,P),delay:this.ast.options?.delay},et=A?[]:r1(n,e,this.ast.animation,o,s,L,K,Ke,m,S);let ft=0;return et.forEach(yt=>{ft=Math.max(yt.duration+yt.delay,ft)}),S.length?CL(e,this._triggerName,i,r,Ue,L,K,[],[],ae,He,ft,S):(et.forEach(yt=>{const gi=yt.element,yi=to(ae,gi,new Set);yt.preStyleProps.forEach(hn=>yi.add(hn));const un=to(He,gi,new Set);yt.postStyleProps.forEach(hn=>un.add(hn)),gi!==e&&re.add(gi)}),CL(e,this._triggerName,i,r,Ue,L,K,et,[...re.values()],ae,He,ft))}}function xL(t,n){const e={...n};return Object.entries(t).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Lfe{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=xL(n,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Qh(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class Vfe{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Lfe(r.style,r.options&&r.options.params||{},i))}),SL(this.states,"true","1"),SL(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new wL(n,r,this.states))}),this.fallbackTransition=function Hfe(t,n,e){return new wL(t,{type:Ot.Transition,animation:{type:Ot.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(s=>s.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function SL(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const jfe=new Jg;class Ufe{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],o=e1(this._driver,e,i,[]);if(i.length)throw function $he(t){return new xe(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,i){const r=n.element,o=lL(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],o=this._animations.get(n);let s;const a=new Map;if(o?(s=r1(this._driver,e,o,qC,Yg,new Map,new Map,i,jfe,r),s.forEach(A=>{const S=to(a,A.element,new Map);A.postStyleProps.forEach(P=>S.set(P,null))})):(r.push(function qhe(){return new xe(3300,!1)}()),s=[]),r.length)throw function Xhe(t){return new xe(3504,!1)}();a.forEach((A,S)=>{A.forEach((P,N)=>{A.set(N,this._driver.computeStyle(S,N,Us))})});const m=xa(s.map(A=>{const S=a.get(A.element);return this._buildPlayer(A,new Map,S)}));return this._playersById.set(n,m),m.onDestroy(()=>this.destroy(n)),this.players.push(m),m}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function Qhe(t){return new xe(3301,!1)}();return e}listen(n,e,i,r){const o=zC(e,"","","");return jC(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const TL="ng-animate-queued",a1="ng-animate-disabled",$fe=[],DL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yo="__ng_removed";class l1{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function Zfe(t){return t??null}(i?n.value:n),i){const{value:o,...s}=n;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Kh="void",c1=new l1(Kh);class Xfe{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,po(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function Khe(t,n){return new xe(3302,!1)}();if(null==i||0==i.length)throw function Zhe(t){return new xe(3303,!1)}();if(!function Jfe(t){return"start"==t||"done"==t}(i))throw function Jhe(t,n){return new xe(3400,!1)}();const o=to(this._elementListeners,n,[]),s={name:e,phase:i,callback:r};o.push(s);const a=to(this._engine.statesByElement,n,new Map);return a.has(e)||(po(n,$g),po(n,$g+"-"+e),a.set(e,c1)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function efe(t){return new xe(3401,!1)}();return e}trigger(n,e,i,r=!0){const o=this._getTrigger(e),s=new d1(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(po(n,$g),po(n,$g+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e);const m=new l1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&m.absorbOptions(l.options),a.set(e,m),l||(l=c1),m.value!==Kh&&l.value===m.value){if(!function ipe(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(l.params,m.params)){const V=[],K=o.matchStyles(l.value,l.params,V),re=o.matchStyles(m.value,m.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{Dl(n,K),As(n,re)})}return}const P=to(this._engine.playersByElement,n,[]);P.forEach(V=>{V.namespaceId==this.id&&V.triggerName==e&&V.queued&&V.destroy()});let N=o.matchTransition(l.value,m.value,n,m.params),L=!1;if(!N){if(!r)return;N=o.fallbackTransition,L=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:N,fromState:l,toState:m,player:s,isFallbackTransition:L}),L||(po(n,TL),s.onStart(()=>{wd(n,TL)})),s.onDone(()=>{let V=this.players.indexOf(s);V>=0&&this.players.splice(V,1);const K=this._engine.playersByElement.get(n);if(K){let re=K.indexOf(s);re>=0&&K.splice(re,1)}}),this.players.push(s),P.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,qg,!0);i.forEach(r=>{if(r[Yo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const a=[];if(o.forEach((l,m)=>{if(s.set(m,l.value),this._triggers.has(m)){const A=this.trigger(n,m,Kh,r);A&&a.push(A)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),i&&xa(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,m=i.get(s)||c1,A=new l1(Kh),S=new d1(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:m,toState:A,player:S,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Yo];(!o||o===DL)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){po(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=zC(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,jC(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class Qfe{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i,r){this.bodyNode=n,this.driver=e,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new Xfe(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const m=i.indexOf(l);i.splice(m+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(n,e,i,r){if(i_(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!i_(e))return;const o=e[Yo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),po(n,a1)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),wd(n,a1))}removeNode(n,e,i){if(i_(e)){this.scheduler?.notify();const r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Yo]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return i_(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,qg,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,XC,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return xa(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Yo];if(e&&e.setForRemoval){if(n[Yo]=DL,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(a1)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)po(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?xa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function tfe(t){return new xe(3402,!1)}()}_flushAnimations(n,e){const i=new Jg,r=[],o=new Map,s=[],a=new Map,l=new Map,m=new Map,A=new Set;this.disabledNodes.forEach(Ze=>{A.add(Ze);const at=this.driver.query(Ze,".ng-animate-queued",!0);for(let _t=0;_t<at.length;_t++)A.add(at[_t])});const S=this.bodyNode,P=Array.from(this.statesByElement.keys()),N=ML(P,this.collectedEnterElements),L=new Map;let V=0;N.forEach((Ze,at)=>{const _t=qC+V++;L.set(at,_t),Ze.forEach(jt=>po(jt,_t))});const K=[],re=new Set,ae=new Set;for(let Ze=0;Ze<this.collectedLeaveElements.length;Ze++){const at=this.collectedLeaveElements[Ze],_t=at[Yo];_t&&_t.setForRemoval&&(K.push(at),re.add(at),_t.hasAnimation?this.driver.query(at,".ng-star-inserted",!0).forEach(jt=>re.add(jt)):ae.add(at))}const He=new Map,Ue=ML(P,Array.from(re));Ue.forEach((Ze,at)=>{const _t=Yg+V++;He.set(at,_t),Ze.forEach(jt=>po(jt,_t))}),n.push(()=>{N.forEach((Ze,at)=>{const _t=L.get(at);Ze.forEach(jt=>wd(jt,_t))}),Ue.forEach((Ze,at)=>{const _t=He.get(at);Ze.forEach(jt=>wd(jt,_t))}),K.forEach(Ze=>{this.processLeaveNode(Ze)})});const Ke=[],et=[];for(let Ze=this._namespaceList.length-1;Ze>=0;Ze--)this._namespaceList[Ze].drainQueuedTransitions(e).forEach(_t=>{const jt=_t.player,zi=_t.element;if(Ke.push(jt),this.collectedEnterElements.length){const mn=zi[Yo];if(mn&&mn.setForMove){if(mn.previousTriggersValues&&mn.previousTriggersValues.has(_t.triggerName)){const Tr=mn.previousTriggersValues.get(_t.triggerName),hr=this.statesByElement.get(_t.element);if(hr&&hr.has(_t.triggerName)){const xd=hr.get(_t.triggerName);xd.value=Tr,hr.set(_t.triggerName,xd)}}return void jt.destroy()}}const ur=!S||!this.driver.containsElement(S,zi),pn=He.get(zi),Sr=L.get(zi),Ai=this._buildInstruction(_t,i,Sr,pn,ur);if(Ai.errors&&Ai.errors.length)return void et.push(Ai);if(ur)return jt.onStart(()=>Dl(zi,Ai.fromStyles)),jt.onDestroy(()=>As(zi,Ai.toStyles)),void r.push(jt);if(_t.isFallbackTransition)return jt.onStart(()=>Dl(zi,Ai.fromStyles)),jt.onDestroy(()=>As(zi,Ai.toStyles)),void r.push(jt);const $o=[];Ai.timelines.forEach(mn=>{mn.stretchStartingKeyframe=!0,this.disabledNodes.has(mn.element)||$o.push(mn)}),Ai.timelines=$o,i.append(zi,Ai.timelines),s.push({instruction:Ai,player:jt,element:zi}),Ai.queriedElements.forEach(mn=>to(a,mn,[]).push(jt)),Ai.preStyleProps.forEach((mn,Tr)=>{if(mn.size){let hr=l.get(Tr);hr||l.set(Tr,hr=new Set),mn.forEach((xd,Ml)=>hr.add(Ml))}}),Ai.postStyleProps.forEach((mn,Tr)=>{let hr=m.get(Tr);hr||m.set(Tr,hr=new Set),mn.forEach((xd,Ml)=>hr.add(Ml))})});if(et.length){const Ze=[];et.forEach(at=>{Ze.push(function ife(t,n){return new xe(3505,!1)}())}),Ke.forEach(at=>at.destroy()),this.reportError(Ze)}const ft=new Map,yt=new Map;s.forEach(Ze=>{const at=Ze.element;i.has(at)&&(yt.set(at,at),this._beforeAnimationBuild(Ze.player.namespaceId,Ze.instruction,ft))}),r.forEach(Ze=>{const at=Ze.element;this._getPreviousPlayers(at,!1,Ze.namespaceId,Ze.triggerName,null).forEach(jt=>{to(ft,at,[]).push(jt),jt.destroy()})});const gi=K.filter(Ze=>OL(Ze,l,m)),yi=new Map;EL(yi,this.driver,ae,m,Us).forEach(Ze=>{OL(Ze,l,m)&&gi.push(Ze)});const hn=new Map;N.forEach((Ze,at)=>{EL(hn,this.driver,new Set(Ze),l,"!")}),gi.forEach(Ze=>{const at=yi.get(Ze),_t=hn.get(Ze);yi.set(Ze,new Map([...at?.entries()??[],..._t?.entries()??[]]))});const fn=[],mo=[],go={};s.forEach(Ze=>{const{element:at,player:_t,instruction:jt}=Ze;if(i.has(at)){if(A.has(at))return _t.onDestroy(()=>As(at,jt.toStyles)),_t.disabled=!0,_t.overrideTotalTime(jt.totalTime),void r.push(_t);let zi=go;if(yt.size>1){let pn=at;const Sr=[];for(;pn=pn.parentNode;){const Ai=yt.get(pn);if(Ai){zi=Ai;break}Sr.push(pn)}Sr.forEach(Ai=>yt.set(Ai,zi))}const ur=this._buildAnimation(_t.namespaceId,jt,ft,o,hn,yi);if(_t.setRealPlayer(ur),zi===go)fn.push(_t);else{const pn=this.playersByElement.get(zi);pn&&pn.length&&(_t.parentPlayer=xa(pn)),r.push(_t)}}else Dl(at,jt.fromStyles),_t.onDestroy(()=>As(at,jt.toStyles)),mo.push(_t),A.has(at)&&r.push(_t)}),mo.forEach(Ze=>{const at=o.get(Ze.element);if(at&&at.length){const _t=xa(at);Ze.setRealPlayer(_t)}}),r.forEach(Ze=>{Ze.parentPlayer?Ze.syncPlayerEvents(Ze.parentPlayer):Ze.destroy()});for(let Ze=0;Ze<K.length;Ze++){const at=K[Ze],_t=at[Yo];if(wd(at,Yg),_t&&_t.hasAnimation)continue;let jt=[];if(a.size){let ur=a.get(at);ur&&ur.length&&jt.push(...ur);let pn=this.driver.query(at,XC,!0);for(let Sr=0;Sr<pn.length;Sr++){let Ai=a.get(pn[Sr]);Ai&&Ai.length&&jt.push(...Ai)}}const zi=jt.filter(ur=>!ur.destroyed);zi.length?epe(this,at,zi):this.processLeaveNode(at)}return K.length=0,fn.forEach(Ze=>{this.players.push(Ze),Ze.onDone(()=>{Ze.destroy();const at=this.players.indexOf(Ze);this.players.splice(at,1)}),Ze.play()}),fn}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(s=a)}else{const a=this.playersByElement.get(n);if(a){const l=!o||o==Kh;a.forEach(m=>{m.queued||!l&&m.triggerName!=r||s.push(m)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(n,e,i){const o=e.element,s=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const m=l.element,A=m!==o,S=to(i,m,[]);this._getPreviousPlayers(m,A,s,a,e.toState).forEach(N=>{const L=N.getRealPlayer();L.beforeDestroy&&L.beforeDestroy(),N.destroy(),S.push(N)})}Dl(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,s){const a=e.triggerName,l=e.element,m=[],A=new Set,S=new Set,P=e.timelines.map(L=>{const V=L.element;A.add(V);const K=V[Yo];if(K&&K.removedBeforeQueried)return new Ah(L.duration,L.delay);const re=V!==l,ae=function tpe(t){const n=[];return kL(t,n),n}((i.get(V)||$fe).map(ft=>ft.getRealPlayer())).filter(ft=>!!ft.element&&ft.element===V),He=o.get(V),Ue=s.get(V),Ke=lL(this._normalizer,L.keyframes,He,Ue),et=this._buildPlayer(L,Ke,ae);if(L.subTimeline&&r&&S.add(V),re){const ft=new d1(n,a,V);ft.setRealPlayer(et),m.push(ft)}return et});m.forEach(L=>{to(this.playersByQueriedElement,L.element,[]).push(L),L.onDone(()=>function Kfe(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,L.element,L))}),A.forEach(L=>po(L,pL));const N=xa(P);return N.onDestroy(()=>{A.forEach(L=>wd(L,pL)),As(l,e.toStyles)}),S.forEach(L=>{to(r,L,[]).push(N)}),N}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Ah(n.duration,n.delay)}}class d1{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Ah,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>jC(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){to(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function i_(t){return t&&1===t.nodeType}function IL(t,n){const e=t.style.display;return t.style.display=n??"none",e}function EL(t,n,e,i,r){const o=[];e.forEach(l=>o.push(IL(l)));const s=[];i.forEach((l,m)=>{const A=new Map;l.forEach(S=>{const P=n.computeStyle(m,S,r);A.set(S,P),(!P||0==P.length)&&(m[Yo]=qfe,s.push(m))}),t.set(m,A)});let a=0;return e.forEach(l=>IL(l,o[a++])),s}function ML(t,n){const e=new Map;if(t.forEach(a=>e.set(a,[])),0==n.length)return e;const r=new Set(n),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const m=a.parentNode;return l=e.has(m)?m:r.has(m)?1:s(m),o.set(a,l),l}return n.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function po(t,n){t.classList?.add(n)}function wd(t,n){t.classList?.remove(n)}function epe(t,n,e){xa(e).onDone(()=>t.processLeaveNode(n))}function kL(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof RP?kL(i.players,n):n.push(i)}}function OL(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}class Zh{constructor(n,e,i,r){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Qfe(n.body,e,i,r),this._timelineEngine=new Ufe(n.body,e,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,i,r,o){const s=n+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],A=e1(this._driver,o,l,[]);if(l.length)throw function Whe(t,n){return new xe(3404,!1)}();a=function Bfe(t,n,e){return new Vfe(t,n,e)}(r,A,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[o,s]=cL(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=cL(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class Jh{static{this.initialStylesByElement=new WeakMap}constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=Jh.initialStylesByElement.get(n);r||Jh.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&As(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(As(this._element,this._initialStyles),this._endStyles&&(As(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Jh.initialStylesByElement.delete(this._element),this._startStyles&&(Dl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dl(this._element,this._endStyles),this._endStyles=null),As(this._element,this._initialStyles),this._state=3)}}function u1(t){let n=null;return t.forEach((e,i)=>{(function rpe(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class PL{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:JC(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class RL{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return uL(n,e)}getParentElement(n){return GC(n)}query(n,e,i){return hL(n,e,i)}computeStyle(n,e,i){return JC(n,e)}animate(n,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const m=new Map,A=s.filter(N=>N instanceof PL);(function mfe(t,n){return 0===t||0===n})(i,r)&&A.forEach(N=>{N.currentSnapshot.forEach((L,V)=>m.set(V,L))});let S=function hfe(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}(e).map(N=>new Map(N));S=function gfe(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(a=>s.set(a,JC(t,a)))}}return n}(n,S,m);const P=function npe(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=u1(n[0]),n.length>1&&(i=u1(n[n.length-1]))):n instanceof Map&&(e=u1(n)),e||i?new Jh(t,e,i):null}(n,S);return new PL(n,S,l,P)}}const NL="@.disabled";class FL{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==NL?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class ope extends FL{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==NL?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function spe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function ape(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(n,e,i)}}class lpe{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(n,e){const r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){const m=this._rendererCache;let A=m.get(r);return A||(A=new FL("",r,this.engine,()=>m.delete(r)),m.set(r,A)),A}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);const a=m=>{Array.isArray(m)?m.forEach(a):this.engine.registerTrigger(o,s,n,m.name,m)};return e.data.animation.forEach(a),new ope(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const LL=[{provide:$C,useFactory:function dpe(){return new _L}},{provide:Zh,useClass:(()=>{class t extends Zh{constructor(e,i,r){super(e,i,r,Q(lp,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||t)(ve(xt),ve(YC),ve($C))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})()},{provide:hv,useFactory:function upe(t,n,e){return new lpe(t,n,e)},deps:[o0,Zh,Je]}],h1=[{provide:YC,useFactory:()=>new RL},{provide:Wn,useValue:"BrowserAnimations"},...LL],BL=[{provide:YC,useClass:WC},{provide:Wn,useValue:"NoopAnimations"},...LL];let hpe=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?BL:h1}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({providers:h1,imports:[MM]})}}return t})(),fpe=(()=>{class t{constructor(e,i){this.authService=e,this.router=i,this.refresh=!1}intercept(e,i){const r=e.clone({withCredentials:!0});return i.handle(r).pipe(Lo(o=>401!==o.status||this.refresh?(this.refresh=!1,Vc(()=>o)):(this.refresh=!0,this.authService.refresh().pipe(dn(s=>(console.log("Calling Interceptor for refresh!!"),i.handle(e.clone({withCredentials:!0}))))))))}static{this.\u0275fac=function(i){return new(i||t)(ve(ii),ve(Kt))}}static{this.\u0275prov=Te({token:t,factory:t.\u0275fac})}}return t})();const ppe=["input"],mpe=["formField"],gpe=["*"];let VL=0;class HL{constructor(n,e){this.source=n,this.value=e}}const jL=new Me("MatRadioGroup"),bpe=new Me("mat-radio-default-options",{providedIn:"root",factory:function vpe(){return{color:"accent"}}});let UL=(()=>{class t{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,s,a,l,m){this._elementRef=i,this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=l,this._uniqueId="mat-radio-"+ ++VL,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Fe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===a,m&&(this.tabIndex=ar(m,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new HL(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static{this.\u0275fac=function(i){return new(i||t)(k(jL,8),k(Xe),k(Qt),k(nl),k(bie),k(Wn,8),k(bpe,8),wo("tabindex"))}}static{this.\u0275cmp=ze({type:t,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&(Tt(ppe,5),Tt(mpe,7,Xe)),2&i){let o;Ge(o=We())&&(r._inputElement=o.first),Ge(o=We())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&W("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(pt("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Qe("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[ke.None,"aria-label","ariaLabel"],ariaLabelledby:[ke.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[ke.None,"aria-describedby","ariaDescribedby"],disableRipple:[ke.HasDecoratorInputTransform,"disableRipple","disableRipple",wt],tabIndex:[ke.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>null==e?0:ar(e)],checked:[ke.HasDecoratorInputTransform,"checked","checked",wt],value:"value",labelPosition:"labelPosition",disabled:[ke.HasDecoratorInputTransform,"disabled","disabled",wt],required:[ke.HasDecoratorInputTransform,"required","required",wt],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[bn,Yt],ngContentSelectors:gpe,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=ye();yn(),x(0,"div",2,0)(2,"div",3)(3,"div",4),W("click",function(a){return z(o),G(r._onTouchTargetClick(a))}),T(),x(4,"input",5,1),W("change",function(a){return z(o),G(r._onInputInteraction(a))}),T(),x(6,"div",6),_e(7,"div",7)(8,"div",8),T(),x(9,"div",9),_e(10,"div",10),T()(),x(11,"label",11),di(12),T()()}2&i&&(M("labelPosition",r.labelPosition),I(2),Qe("mdc-radio--disabled",r.disabled),I(2),M("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),pt("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),I(5),M("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),I(2),M("for",r.inputId))},dependencies:[va,KQ],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}}return t})(),Ape=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=st({imports:[ni,Pr,od,UL,ni]})}}return t})(),Cpe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=lt({type:t,bootstrap:[que]})}static{this.\u0275inj=st({providers:[{provide:nk,useClass:fpe,multi:!0},_s],imports:[MM,Pr,Gue,fk,sL,whe,Im,gg,XA,hpe,CA,nL,bN,lde,KA,Sh,tC,cN,N2,M2,oL,Ape,Fh,JF,XA]})}}return t})();xY().bootstrapModule(Cpe).catch(t=>console.error(t))},243:Rt=>{"use strict";var ce={single_source_shortest_paths:function(Ee,w,le){var oe={},pe={};pe[w]=0;var Ae,y,h,_,b,u,be=ce.PriorityQueue.make();for(be.push(w,0);!be.empty();)for(h in _=(Ae=be.pop()).cost,b=Ee[y=Ae.value]||{})b.hasOwnProperty(h)&&(u=_+b[h],(typeof pe[h]>"u"||pe[h]>u)&&(pe[h]=u,be.push(h,u),oe[h]=y));if(typeof le<"u"&&typeof pe[le]>"u"){var g=["Could not find a path from ",w," to ",le,"."].join("");throw new Error(g)}return oe},extract_shortest_path_from_predecessor_list:function(Ee,w){for(var le=[],oe=w;oe;)le.push(oe),oe=Ee[oe];return le.reverse(),le},find_path:function(Ee,w,le){var oe=ce.single_source_shortest_paths(Ee,w,le);return ce.extract_shortest_path_from_predecessor_list(oe,le)},PriorityQueue:{make:function(Ee){var oe,w=ce.PriorityQueue,le={};for(oe in Ee=Ee||{},w)w.hasOwnProperty(oe)&&(le[oe]=w[oe]);return le.queue=[],le.sorter=Ee.sorter||w.default_sorter,le},default_sorter:function(Ee,w){return Ee.cost-w.cost},push:function(Ee,w){this.queue.push({value:Ee,cost:w}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Rt.exports=ce},669:(Rt,ce,Ee)=>{var y,h,_,b,d,u,w=w||{version:"5.4.2"};if(ce.fabric=w,typeof document<"u"&&typeof window<"u")w.document=document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),w.window=window;else{var oe=new(Ee(574).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;w.document=oe.document,w.jsdomImplForWrapper=Ee(748).implForWrapper,w.nodeCanvas=Ee(246).Canvas,w.window=oe,DOMParser=w.window.DOMParser}function be(y,h){var _=y.canvas,b=h.targetCanvas,d=b.getContext("2d");d.translate(0,b.height),d.scale(1,-1),d.drawImage(_,0,_.height-b.height,b.width,b.height,0,0,b.width,b.height)}function Ae(y,h){var b=h.targetCanvas.getContext("2d"),d=h.destinationWidth,u=h.destinationHeight,c=d*u*4,p=new Uint8Array(this.imageBuffer,0,c),g=new Uint8ClampedArray(this.imageBuffer,0,c);y.readPixels(0,0,d,u,y.RGBA,y.UNSIGNED_BYTE,p);var f=new ImageData(g,d,u);b.putImageData(f,0,0)}w.isTouchSupported="ontouchstart"in w.window||"ontouchstart"in w.document||w.window&&w.window.navigator&&w.window.navigator.maxTouchPoints>0,w.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",w.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],w.DPI=96,w.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",w.commaWsp="(?:\\s+,?\\s*|,\\s*)",w.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,w.reNonWord=/[ \n\.,;!\?\-]/,w.fontPaths={},w.iMatrix=[1,0,0,1,0,0],w.svgNS="http://www.w3.org/2000/svg",w.perfLimitSizeTotal=2097152,w.maxCacheSideLimit=4096,w.minCacheSideLimit=256,w.charWidthsCache={},w.textureSize=2048,w.disableStyleCopyPaste=!1,w.enableGLFiltering=!0,w.devicePixelRatio=w.window.devicePixelRatio||w.window.webkitDevicePixelRatio||w.window.mozDevicePixelRatio||1,w.browserShadowBlurConstant=1,w.arcToSegmentsCache={},w.boundsOfCurveCache={},w.cachesBoundsOfCurve=!0,w.forceGLPutImageData=!1,w.initFilterBackend=function(){return w.enableGLFiltering&&w.isWebglSupported&&w.isWebglSupported(w.textureSize)?(console.log("max texture size: "+w.maxTextureSize),new w.WebglFilterBackend({tileSize:w.textureSize})):w.Canvas2dFilterBackend?new w.Canvas2dFilterBackend:void 0},typeof document<"u"&&typeof window<"u"&&(window.fabric=w),function(){function y(c,p){if(this.__eventListeners[c]){var g=this.__eventListeners[c];p?g[g.indexOf(p)]=!1:w.util.array.fill(g,!1)}}function _(c,p){var g=function(){p.apply(this,arguments),this.off(c,g)}.bind(this);this.on(c,g)}w.Observable={fire:function u(c,p){if(!this.__eventListeners)return this;var g=this.__eventListeners[c];if(!g)return this;for(var f=0,v=g.length;f<v;f++)g[f]&&g[f].call(this,p||{});return this.__eventListeners[c]=g.filter(function(C){return!1!==C}),this},on:function h(c,p){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var g in c)this.on(g,c[g]);else this.__eventListeners[c]||(this.__eventListeners[c]=[]),this.__eventListeners[c].push(p);return this},once:function b(c,p){if(1===arguments.length)for(var g in c)_.call(this,g,c[g]);else _.call(this,c,p);return this},off:function d(c,p){if(!this.__eventListeners)return this;if(0===arguments.length)for(c in this.__eventListeners)y.call(this,c);else if(1===arguments.length&&"object"==typeof arguments[0])for(var g in c)y.call(this,g,c[g]);else y.call(this,c,p);return this}}}(),w.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var y=0,h=arguments.length;y<h;y++)this._onObjectAdded(arguments[y]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(y,h,_){var b=this._objects;return _?b[h]=y:b.splice(h,0,y),this._onObjectAdded&&this._onObjectAdded(y),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var h,y=this._objects,_=!1,b=0,d=arguments.length;b<d;b++)-1!==(h=y.indexOf(arguments[b]))&&(_=!0,y.splice(h,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[b]));return this.renderOnAddRemove&&_&&this.requestRenderAll(),this},forEachObject:function(y,h){for(var _=this.getObjects(),b=0,d=_.length;b<d;b++)y.call(h,_[b],b,_);return this},getObjects:function(y){return typeof y>"u"?this._objects.concat():this._objects.filter(function(h){return h.type===y})},item:function(y){return this._objects[y]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(y,h){return this._objects.indexOf(y)>-1||!!h&&this._objects.some(function(_){return"function"==typeof _.contains&&_.contains(y,!0)})},complexity:function(){return this._objects.reduce(function(y,h){return y+(h.complexity?h.complexity():0)},0)}},w.CommonMethods={_setOptions:function(y){for(var h in y)this.set(h,y[h])},_initGradient:function(y,h){y&&y.colorStops&&!(y instanceof w.Gradient)&&this.set(h,new w.Gradient(y))},_initPattern:function(y,h,_){!y||!y.source||y instanceof w.Pattern?_&&_():this.set(h,new w.Pattern(y,_))},_setObject:function(y){for(var h in y)this._set(h,y[h])},set:function(y,h){return"object"==typeof y?this._setObject(y):this._set(y,h),this},_set:function(y,h){this[y]=h},toggle:function(y){var h=this.get(y);return"boolean"==typeof h&&this.set(y,!h),this},get:function(y){return this[y]}},y=ce,h=Math.sqrt,_=Math.atan2,b=Math.pow,d=Math.PI/180,u=Math.PI/2,w.util={cos:function(c){if(0===c)return 1;switch(c<0&&(c=-c),c/u){case 1:case 3:return 0;case 2:return-1}return Math.cos(c)},sin:function(c){if(0===c)return 0;var g=1;switch(c<0&&(g=-1),c/u){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(c)},removeFromArray:function(c,p){var g=c.indexOf(p);return-1!==g&&c.splice(g,1),c},getRandomInt:function(c,p){return Math.floor(Math.random()*(p-c+1))+c},degreesToRadians:function(c){return c*d},radiansToDegrees:function(c){return c/d},rotatePoint:function(c,p,g){var f=new w.Point(c.x-p.x,c.y-p.y),v=w.util.rotateVector(f,g);return new w.Point(v.x,v.y).addEquals(p)},rotateVector:function(c,p){var g=w.util.sin(p),f=w.util.cos(p);return{x:c.x*f-c.y*g,y:c.x*g+c.y*f}},createVector:function(c,p){return new w.Point(p.x-c.x,p.y-c.y)},calcAngleBetweenVectors:function(c,p){return Math.acos((c.x*p.x+c.y*p.y)/(Math.hypot(c.x,c.y)*Math.hypot(p.x,p.y)))},getHatVector:function(c){return new w.Point(c.x,c.y).multiply(1/Math.hypot(c.x,c.y))},getBisector:function(c,p,g){var f=w.util.createVector(c,p),v=w.util.createVector(c,g),C=w.util.calcAngleBetweenVectors(f,v),D=w.util.calcAngleBetweenVectors(w.util.rotateVector(f,C),v);return{vector:w.util.getHatVector(w.util.rotateVector(f,C*(0===D?1:-1)/2)),angle:C}},projectStrokeOnPoints:function(c,p,g){var f=[],v=p.strokeWidth/2,C=p.strokeUniform?new w.Point(1/p.scaleX,1/p.scaleY):new w.Point(1,1),D=function(E){var R=v/Math.hypot(E.x,E.y);return new w.Point(E.x*R*C.x,E.y*R*C.y)};return c.length<=1||c.forEach(function(E,R){var H,q,B=new w.Point(E.x,E.y);0===R?(q=c[R+1],H=g?D(w.util.createVector(q,B)).addEquals(B):c[c.length-1]):R===c.length-1?(H=c[R-1],q=g?D(w.util.createVector(H,B)).addEquals(B):c[0]):(H=c[R-1],q=c[R+1]);var Pe,Re,se=w.util.getBisector(B,H,q),he=se.vector;if("miter"===p.strokeLineJoin&&(Pe=-v/Math.sin(se.angle/2),Re=new w.Point(he.x*Pe*C.x,he.y*Pe*C.y),Math.hypot(Re.x,Re.y)/v<=p.strokeMiterLimit))return f.push(B.add(Re)),void f.push(B.subtract(Re));Pe=-v*Math.SQRT2,Re=new w.Point(he.x*Pe*C.x,he.y*Pe*C.y),f.push(B.add(Re)),f.push(B.subtract(Re))}),f},transformPoint:function(c,p,g){return g?new w.Point(p[0]*c.x+p[2]*c.y,p[1]*c.x+p[3]*c.y):new w.Point(p[0]*c.x+p[2]*c.y+p[4],p[1]*c.x+p[3]*c.y+p[5])},makeBoundingBoxFromPoints:function(c,p){if(p)for(var g=0;g<c.length;g++)c[g]=w.util.transformPoint(c[g],p);var f=[c[0].x,c[1].x,c[2].x,c[3].x],v=w.util.array.min(f),D=w.util.array.max(f)-v,E=[c[0].y,c[1].y,c[2].y,c[3].y],R=w.util.array.min(E);return{left:v,top:R,width:D,height:w.util.array.max(E)-R}},invertTransform:function(c){var p=1/(c[0]*c[3]-c[1]*c[2]),g=[p*c[3],-p*c[1],-p*c[2],p*c[0]],f=w.util.transformPoint({x:c[4],y:c[5]},g,!0);return g[4]=-f.x,g[5]=-f.y,g},toFixed:function(c,p){return parseFloat(Number(c).toFixed(p))},parseUnit:function(c,p){var g=/\D{0,2}$/.exec(c),f=parseFloat(c);switch(p||(p=w.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return f*w.DPI/25.4;case"cm":return f*w.DPI/2.54;case"in":return f*w.DPI;case"pt":return f*w.DPI/72;case"pc":return f*w.DPI/72*12;case"em":return f*p;default:return f}},falseFunction:function(){return!1},getKlass:function(c,p){return c=w.util.string.camelize(c.charAt(0).toUpperCase()+c.slice(1)),w.util.resolveNamespace(p)[c]},getSvgAttributes:function(c){var p=["instantiated_by_use","style","id","class"];switch(c){case"linearGradient":p=p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":p=p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":p=p.concat(["offset","stop-color","stop-opacity"])}return p},resolveNamespace:function(c){if(!c)return w;var f,p=c.split("."),g=p.length,v=y||w.window;for(f=0;f<g;++f)v=v[p[f]];return v},loadImage:function(c,p,g,f){if(c){var v=w.util.createImage(),C=function(){p&&p.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=C,v.onerror=function(){w.log("Error loading "+v.src),p&&p.call(g,null,!0),v=v.onload=v.onerror=null},0!==c.indexOf("data")&&null!=f&&(v.crossOrigin=f),"data:image/svg"===c.substring(0,14)&&(v.onload=null,w.util.loadImageInDom(v,C)),v.src=c}else p&&p.call(g,c)},loadImageInDom:function(c,p){var g=w.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(c),w.document.querySelector("body").appendChild(g),c.onload=function(){p(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(c,p,g,f){var v=[],C=0,D=(c=c||[]).length;function E(){++C===D&&p&&p(v.filter(function(R){return R}))}D?c.forEach(function(R,B){R&&R.type?w.util.getKlass(R.type,g).fromObject(R,function(q,se){se||(v[B]=q),f&&f(R,q,se),E()}):E()}):p&&p(v)},enlivenObjectEnlivables:function(c,p,g){var f=w.Object.ENLIVEN_PROPS.filter(function(v){return!!c[v]});w.util.enlivenObjects(f.map(function(v){return c[v]}),function(v){var C={};f.forEach(function(D,E){C[D]=v[E],p&&(p[D]=v[E])}),g&&g(C)})},enlivenPatterns:function(c,p){function g(){++v===C&&p&&p(f)}var f=[],v=0,C=(c=c||[]).length;C?c.forEach(function(D,E){D&&D.source?new w.Pattern(D,function(R){f[E]=R,g()}):(f[E]=D,g())}):p&&p(f)},groupSVGElements:function(c,p,g){var f;return c&&1===c.length?(typeof g<"u"&&(c[0].sourcePath=g),c[0]):(p&&(p.width&&p.height?p.centerPoint={x:p.width/2,y:p.height/2}:(delete p.width,delete p.height)),f=new w.Group(c,p),typeof g<"u"&&(f.sourcePath=g),f)},populateWithProperties:function(c,p,g){if(g&&Array.isArray(g))for(var f=0,v=g.length;f<v;f++)g[f]in c&&(p[g[f]]=c[g[f]])},createCanvasElement:function(){return w.document.createElement("canvas")},copyCanvasElement:function(c){var p=w.util.createCanvasElement();return p.width=c.width,p.height=c.height,p.getContext("2d").drawImage(c,0,0),p},toDataURL:function(c,p,g){return c.toDataURL("image/"+p,g)},createImage:function(){return w.document.createElement("img")},multiplyTransformMatrices:function(c,p,g){return[c[0]*p[0]+c[2]*p[1],c[1]*p[0]+c[3]*p[1],c[0]*p[2]+c[2]*p[3],c[1]*p[2]+c[3]*p[3],g?0:c[0]*p[4]+c[2]*p[5]+c[4],g?0:c[1]*p[4]+c[3]*p[5]+c[5]]},qrDecompose:function(c){var p=_(c[1],c[0]),g=b(c[0],2)+b(c[1],2),f=h(g),v=(c[0]*c[3]-c[2]*c[1])/f,C=_(c[0]*c[2]+c[1]*c[3],g);return{angle:p/d,scaleX:f,scaleY:v,skewX:C/d,skewY:0,translateX:c[4],translateY:c[5]}},calcRotateMatrix:function(c){if(!c.angle)return w.iMatrix.concat();var p=w.util.degreesToRadians(c.angle),g=w.util.cos(p),f=w.util.sin(p);return[g,f,-f,g,0,0]},calcDimensionsMatrix:function(c){var p=typeof c.scaleX>"u"?1:c.scaleX,g=typeof c.scaleY>"u"?1:c.scaleY,f=[c.flipX?-p:p,0,0,c.flipY?-g:g,0,0],v=w.util.multiplyTransformMatrices,C=w.util.degreesToRadians;return c.skewX&&(f=v(f,[1,0,Math.tan(C(c.skewX)),1],!0)),c.skewY&&(f=v(f,[1,Math.tan(C(c.skewY)),0,1],!0)),f},composeMatrix:function(c){var p=[1,0,0,1,c.translateX||0,c.translateY||0],g=w.util.multiplyTransformMatrices;return c.angle&&(p=g(p,w.util.calcRotateMatrix(c))),(1!==c.scaleX||1!==c.scaleY||c.skewX||c.skewY||c.flipX||c.flipY)&&(p=g(p,w.util.calcDimensionsMatrix(c))),p},resetObjectTransform:function(c){c.scaleX=1,c.scaleY=1,c.skewX=0,c.skewY=0,c.flipX=!1,c.flipY=!1,c.rotate(0)},saveObjectTransform:function(c){return{scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,angle:c.angle,left:c.left,flipX:c.flipX,flipY:c.flipY,top:c.top}},isTransparent:function(c,p,g,f){f>0&&(p>f?p-=f:p=0,g>f?g-=f:g=0);var C,v=!0,E=c.getImageData(p,g,2*f||1,2*f||1),R=E.data.length;for(C=3;C<R&&0!=(v=E.data[C]<=0);C+=4);return E=null,v},parsePreserveAspectRatioAttribute:function(c){var C,p="meet",v=c.split(" ");return v&&v.length&&("meet"!==(p=v.pop())&&"slice"!==p?(C=p,p="meet"):v.length&&(C=v.pop())),{meetOrSlice:p,alignX:"none"!==C?C.slice(1,4):"none",alignY:"none"!==C?C.slice(5,8):"none"}},clearFabricFontCache:function(c){(c=(c||"").toLowerCase())?w.charWidthsCache[c]&&delete w.charWidthsCache[c]:w.charWidthsCache={}},limitDimsByArea:function(c,p){var g=Math.sqrt(p*c),f=Math.floor(p/g);return{x:Math.floor(g),y:f}},capValue:function(c,p,g){return Math.max(c,Math.min(p,g))},findScaleToFit:function(c,p){return Math.min(p.width/c.width,p.height/c.height)},findScaleToCover:function(c,p){return Math.max(p.width/c.width,p.height/c.height)},matrixToSVG:function(c){return"matrix("+c.map(function(p){return w.util.toFixed(p,w.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(c,p){var g=w.util.invertTransform(p),f=w.util.multiplyTransformMatrices(g,c.calcOwnMatrix());w.util.applyTransformToObject(c,f)},addTransformToObject:function(c,p){w.util.applyTransformToObject(c,w.util.multiplyTransformMatrices(p,c.calcOwnMatrix()))},applyTransformToObject:function(c,p){var g=w.util.qrDecompose(p),f=new w.Point(g.translateX,g.translateY);c.flipX=!1,c.flipY=!1,c.set("scaleX",g.scaleX),c.set("scaleY",g.scaleY),c.skewX=g.skewX,c.skewY=g.skewY,c.angle=g.angle,c.setPositionByOrigin(f,"center","center")},sizeAfterTransform:function(c,p,g){var f=c/2,v=p/2,C=[{x:-f,y:-v},{x:f,y:-v},{x:-f,y:v},{x:f,y:v}],D=w.util.calcDimensionsMatrix(g),E=w.util.makeBoundingBoxFromPoints(C,D);return{x:E.width,y:E.height}},mergeClipPaths:function(c,p){var g=c,f=p;g.inverted&&!f.inverted&&(g=p,f=c),w.util.applyTransformToObject(f,w.util.multiplyTransformMatrices(w.util.invertTransform(g.calcTransformMatrix()),f.calcTransformMatrix()));var v=g.inverted&&f.inverted;return v&&(g.inverted=f.inverted=!1),new w.Group([g],{clipPath:f,inverted:v})},hasStyleChanged:function(c,p,g){return g=g||!1,c.fill!==p.fill||c.stroke!==p.stroke||c.strokeWidth!==p.strokeWidth||c.fontSize!==p.fontSize||c.fontFamily!==p.fontFamily||c.fontWeight!==p.fontWeight||c.fontStyle!==p.fontStyle||c.textBackgroundColor!==p.textBackgroundColor||c.deltaY!==p.deltaY||g&&(c.overline!==p.overline||c.underline!==p.underline||c.linethrough!==p.linethrough)},stylesToArray:function(g,p){g=w.util.object.clone(g,!0);for(var f=p.split("\n"),v=-1,C={},D=[],E=0;E<f.length;E++)if(g[E])for(var R=0;R<f[E].length;R++){v++;var B=g[E][R];B&&Object.keys(B).length>0&&(w.util.hasStyleChanged(C,B,!0)?D.push({start:v,end:v+1,style:B}):D[D.length-1].end++),C=B||{}}else v+=f[E].length;return D},stylesFromArray:function(c,p){if(!Array.isArray(c))return c;for(var g=p.split("\n"),f=-1,v=0,C={},D=0;D<g.length;D++)for(var E=0;E<g[D].length;E++)f++,c[v]&&c[v].start<=f&&f<c[v].end&&(C[D]=C[D]||{},C[D][E]=Object.assign({},c[v].style),f===c[v].end-1&&v++);return C}},function(){var y=Array.prototype.join,h={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},_={m:"l",M:"L"};function b(j,te,ee,J,Se,X,U,de,ge,$,Y){var ie=w.util.cos(j),ue=w.util.sin(j),Ie=w.util.cos(te),ne=w.util.sin(te),fe=ee*Se*Ie-J*X*ne+U,Ce=J*Se*Ie+ee*X*ne+de;return["C",$+ge*(-ee*Se*ue-J*X*ie),Y+ge*(-J*Se*ue+ee*X*ie),fe+ge*(ee*Se*ne+J*X*Ie),Ce+ge*(J*Se*ne-ee*X*Ie),fe,Ce]}function u(j,te,ee,J){var Se=Math.atan2(te,j),X=Math.atan2(J,ee);return X>=Se?X-Se:2*Math.PI-(Se-X)}function p(j,te,ee){for(var Y=function d(j,te,ee,J,Se,X,U){var de=Math.PI,ge=U*de/180,$=w.util.sin(ge),Y=w.util.cos(ge),ie=0,ue=0,Ie=-Y*j*.5-$*te*.5,ne=-Y*te*.5+$*j*.5,fe=(ee=Math.abs(ee))*ee,Ce=(J=Math.abs(J))*J,we=ne*ne,me=Ie*Ie,je=fe*Ce-fe*we-Ce*me,qe=0;if(je<0){var At=Math.sqrt(1-je/(fe*Ce));ee*=At,J*=At}else qe=(Se===X?-1:1)*Math.sqrt(je/(fe*we+Ce*me));var nt=qe*ee*ne/J,Oe=-qe*J*Ie/ee,ut=Y*nt-$*Oe+.5*j,rt=$*nt+Y*Oe+.5*te,Ut=u(1,0,(Ie-nt)/ee,(ne-Oe)/J),Ti=u((Ie-nt)/ee,(ne-Oe)/J,(-Ie-nt)/ee,(-ne-Oe)/J);0===X&&Ti>0?Ti-=2*de:1===X&&Ti<0&&(Ti+=2*de);for(var ri=Math.ceil(Math.abs(Ti/de*2)),en=[],Di=Ti/ri,no=8/3*Math.sin(Di/4)*Math.sin(Di/4)/Math.sin(Di/2),Sa=Ut+Di,fr=0;fr<ri;fr++)en[fr]=b(Ut,Sa,Y,$,ee,J,ut,rt,no,ie,ue),ie=en[fr][5],ue=en[fr][6],Ut=Sa,Sa+=Di;return en}(ee[6]-j,ee[7]-te,ee[1],ee[2],ee[4],ee[5],ee[3]),ie=0,ue=Y.length;ie<ue;ie++)Y[ie][1]+=j,Y[ie][2]+=te,Y[ie][3]+=j,Y[ie][4]+=te,Y[ie][5]+=j,Y[ie][6]+=te;return Y}function f(j,te,ee,J){return Math.sqrt((ee-j)*(ee-j)+(J-te)*(J-te))}function R(j,te,ee,J,Se,X,U,de){return function(ge){var $=function v(j){return j*j*j}(ge),Y=function C(j){return 3*j*j*(1-j)}(ge),ie=function D(j){return 3*j*(1-j)*(1-j)}(ge),ue=function E(j){return(1-j)*(1-j)*(1-j)}(ge);return{x:U*$+Se*Y+ee*ie+j*ue,y:de*$+X*Y+J*ie+te*ue}}}function B(j,te,ee,J,Se,X,U,de){return function(ge){var $=1-ge;return Math.atan2(3*$*$*(J-te)+6*$*ge*(X-J)+3*ge*ge*(de-X),3*$*$*(ee-j)+6*$*ge*(Se-ee)+3*ge*ge*(U-Se))}}function he(j,te,ee,J,Se,X){return function(U){var de=function H(j){return j*j}(U),ge=function q(j){return 2*j*(1-j)}(U),$=function se(j){return(1-j)*(1-j)}(U);return{x:Se*de+ee*ge+j*$,y:X*de+J*ge+te*$}}}function De(j,te,ee,J,Se,X){return function(U){var de=1-U;return Math.atan2(2*de*(J-te)+2*U*(X-J),2*de*(ee-j)+2*U*(Se-ee))}}function Pe(j,te,ee){var Se,U,J={x:te,y:ee},X=0;for(U=1;U<=100;U+=1)Se=j(U/100),X+=f(J.x,J.y,Se.x,Se.y),J=Se;return X}function Le(j){for(var J,$,Y,ie,te=0,ee=j.length,Se=0,X=0,U=0,de=0,ge=[],ue=0;ue<ee;ue++){switch(Y={x:Se,y:X,command:(J=j[ue])[0]},J[0]){case"M":Y.length=0,U=Se=J[1],de=X=J[2];break;case"L":Y.length=f(Se,X,J[1],J[2]),Se=J[1],X=J[2];break;case"C":$=R(Se,X,J[1],J[2],J[3],J[4],J[5],J[6]),ie=B(Se,X,J[1],J[2],J[3],J[4],J[5],J[6]),Y.iterator=$,Y.angleFinder=ie,Y.length=Pe($,Se,X),Se=J[5],X=J[6];break;case"Q":$=he(Se,X,J[1],J[2],J[3],J[4]),ie=De(Se,X,J[1],J[2],J[3],J[4]),Y.iterator=$,Y.angleFinder=ie,Y.length=Pe($,Se,X),Se=J[3],X=J[4];break;case"Z":case"z":Y.destX=U,Y.destY=de,Y.length=f(Se,X,U,de),Se=U,X=de}te+=Y.length,ge.push(Y)}return ge.push({length:te,x:Se,y:X}),ge}w.util.joinPath=function(j){return j.map(function(te){return te.join(" ")}).join(" ")},w.util.parsePath=function it(j){var J,Se,ie,ue,Ie,te=[],ee=[],X=w.rePathCommand,U="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",de="("+U+")"+w.commaWsp,ge="([01])"+w.commaWsp+"?",Y=new RegExp(de+"?"+de+"?"+de+ge+ge+de+"?("+U+")","g");if(!j||!j.match)return te;for(var fe,ne=0,Ce=(Ie=j.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;ne<Ce;ne++){ue=(J=Ie[ne]).slice(1).trim(),ee.length=0;var we=J.charAt(0);if(fe=[we],"a"===we.toLowerCase())for(var me;me=Y.exec(ue);)for(var je=1;je<me.length;je++)ee.push(me[je]);else for(;ie=X.exec(ue);)ee.push(ie[0]);je=0;for(var qe=ee.length;je<qe;je++)Se=parseFloat(ee[je]),isNaN(Se)||fe.push(Se);var At=h[we.toLowerCase()],nt=_[we]||we;if(fe.length-1>At)for(var Oe=1,ut=fe.length;Oe<ut;Oe+=At)te.push([we].concat(fe.slice(Oe,Oe+At))),we=nt;else te.push(fe)}return te},w.util.makePathSimpler=function g(j){var U,de,ge,Y,ie,ue,te=0,ee=0,J=j.length,Se=0,X=0,$=[];for(de=0;de<J;++de){switch(ge=!1,(U=j[de].slice(0))[0]){case"l":U[0]="L",U[1]+=te,U[2]+=ee;case"L":te=U[1],ee=U[2];break;case"h":U[1]+=te;case"H":U[0]="L",U[2]=ee,te=U[1];break;case"v":U[1]+=ee;case"V":U[0]="L",ee=U[1],U[1]=te,U[2]=ee;break;case"m":U[0]="M",U[1]+=te,U[2]+=ee;case"M":te=U[1],ee=U[2],Se=U[1],X=U[2];break;case"c":U[0]="C",U[1]+=te,U[2]+=ee,U[3]+=te,U[4]+=ee,U[5]+=te,U[6]+=ee;case"C":ie=U[3],ue=U[4],te=U[5],ee=U[6];break;case"s":U[0]="S",U[1]+=te,U[2]+=ee,U[3]+=te,U[4]+=ee;case"S":"C"===Y?(ie=2*te-ie,ue=2*ee-ue):(ie=te,ue=ee),te=U[3],ee=U[4],U[0]="C",U[5]=U[3],U[6]=U[4],U[3]=U[1],U[4]=U[2],U[1]=ie,U[2]=ue,ie=U[3],ue=U[4];break;case"q":U[0]="Q",U[1]+=te,U[2]+=ee,U[3]+=te,U[4]+=ee;case"Q":ie=U[1],ue=U[2],te=U[3],ee=U[4];break;case"t":U[0]="T",U[1]+=te,U[2]+=ee;case"T":"Q"===Y?(ie=2*te-ie,ue=2*ee-ue):(ie=te,ue=ee),U[0]="Q",te=U[1],ee=U[2],U[1]=ie,U[2]=ue,U[3]=te,U[4]=ee;break;case"a":U[0]="A",U[6]+=te,U[7]+=ee;case"A":ge=!0,$=$.concat(p(te,ee,U)),te=U[6],ee=U[7];break;case"z":case"Z":te=Se,ee=X}ge||$.push(U),Y=U[0]}return $},w.util.getSmoothPathFromPoints=function dt(j,te){var J,ee=[],Se=new w.Point(j[0].x,j[0].y),X=new w.Point(j[1].x,j[1].y),U=j.length,de=1,ge=0,$=U>2;for($&&(de=j[2].x<X.x?-1:j[2].x===X.x?0:1,ge=j[2].y<X.y?-1:j[2].y===X.y?0:1),ee.push(["M",Se.x-de*(te=te||0),Se.y-ge*te]),J=1;J<U;J++){if(!Se.eq(X)){var Y=Se.midPointFrom(X);ee.push(["Q",Se.x,Se.y,Y.x,Y.y])}Se=j[J],J+1<j.length&&(X=j[J+1])}return $&&(de=Se.x>j[J-2].x?1:Se.x===j[J-2].x?0:-1,ge=Se.y>j[J-2].y?1:Se.y===j[J-2].y?0:-1),ee.push(["L",Se.x+de*te,Se.y+ge*te]),ee},w.util.getPathSegmentsInfo=Le,w.util.getBoundsOfCurve=function c(j,te,ee,J,Se,X,U,de){var ge;if(w.cachesBoundsOfCurve&&(ge=y.call(arguments),w.boundsOfCurveCache[ge]))return w.boundsOfCurveCache[ge];var fe,Ce,we,me,je,qe,At,nt,$=Math.sqrt,Y=Math.min,ie=Math.max,ue=Math.abs,Ie=[],ne=[[],[]];Ce=6*j-12*ee+6*Se,fe=-3*j+9*ee-9*Se+3*U,we=3*ee-3*j;for(var Oe=0;Oe<2;++Oe)if(Oe>0&&(Ce=6*te-12*J+6*X,fe=-3*te+9*J-9*X+3*de,we=3*J-3*te),ue(fe)<1e-12){if(ue(Ce)<1e-12)continue;0<(me=-we/Ce)&&me<1&&Ie.push(me)}else!((At=Ce*Ce-4*we*fe)<0)&&(0<(je=(-Ce+(nt=$(At)))/(2*fe))&&je<1&&Ie.push(je),0<(qe=(-Ce-nt)/(2*fe))&&qe<1&&Ie.push(qe));for(var ri,Ut=Ie.length,Ti=Ut;Ut--;)ne[0][Ut]=(ri=1-(me=Ie[Ut]))*ri*ri*j+3*ri*ri*me*ee+3*ri*me*me*Se+me*me*me*U,ne[1][Ut]=ri*ri*ri*te+3*ri*ri*me*J+3*ri*me*me*X+me*me*me*de;ne[0][Ti]=j,ne[1][Ti]=te,ne[0][Ti+1]=U,ne[1][Ti+1]=de;var en=[{x:Y.apply(null,ne[0]),y:Y.apply(null,ne[1])},{x:ie.apply(null,ne[0]),y:ie.apply(null,ne[1])}];return w.cachesBoundsOfCurve&&(w.boundsOfCurveCache[ge]=en),en},w.util.getPointOnPath=function Ve(j,te,ee){ee||(ee=Le(j));for(var J=0;te-ee[J].length>0&&J<ee.length-2;)te-=ee[J].length,J++;var ge,Se=ee[J],X=te/Se.length,de=j[J];switch(Se.command){case"M":return{x:Se.x,y:Se.y,angle:0};case"Z":case"z":return(ge=new w.Point(Se.x,Se.y).lerp(new w.Point(Se.destX,Se.destY),X)).angle=Math.atan2(Se.destY-Se.y,Se.destX-Se.x),ge;case"L":return(ge=new w.Point(Se.x,Se.y).lerp(new w.Point(de[1],de[2]),X)).angle=Math.atan2(de[2]-Se.y,de[1]-Se.x),ge;case"C":case"Q":return function Re(j,te){for(var U,de,Y,ee=0,J=0,Se=j.iterator,X={x:j.x,y:j.y},ge=.01,$=j.angleFinder;J<te&&ge>1e-4;)U=Se(ee),Y=ee,(de=f(X.x,X.y,U.x,U.y))+J>te?(ee-=ge,ge/=2):(X=U,ee+=ge,J+=de);return U.angle=$(Y),U}(Se,te)}},w.util.transformPath=function ct(j,te,ee){return ee&&(te=w.util.multiplyTransformMatrices(te,[1,0,0,1,-ee.x,-ee.y])),j.map(function(J){for(var Se=J.slice(0),X={},U=1;U<J.length-1;U+=2)X.x=J[U],X.y=J[U+1],X=w.util.transformPoint(X,te),Se[U]=X.x,Se[U+1]=X.y;return Se})}}(),function(){var y=Array.prototype.slice;function u(c,p,g){if(c&&0!==c.length){var f=c.length-1,v=p?c[f][p]:c[f];if(p)for(;f--;)g(c[f][p],v)&&(v=c[f][p]);else for(;f--;)g(c[f],v)&&(v=c[f]);return v}}w.util.array={fill:function d(c,p){for(var g=c.length;g--;)c[g]=p;return c},invoke:function h(c,p){for(var g=y.call(arguments,2),f=[],v=0,C=c.length;v<C;v++)f[v]=g.length?c[v][p].apply(c[v],g):c[v][p].call(c[v]);return f},min:function b(c,p){return u(c,p,function(g,f){return g<f})},max:function _(c,p){return u(c,p,function(g,f){return g>=f})}}}(),function(){function y(_,b,d){if(d)if(!w.isLikelyNode&&b instanceof Element)_=b;else if(b instanceof Array){_=[];for(var u=0,c=b.length;u<c;u++)_[u]=y({},b[u],d)}else if(b&&"object"==typeof b)for(var p in b)"canvas"===p||"group"===p?_[p]=null:b.hasOwnProperty(p)&&(_[p]=y({},b[p],d));else _=b;else for(var p in b)_[p]=b[p];return _}w.util.object={extend:y,clone:function h(_,b){return y({},_,b)}},w.util.object.extend(w.util,w.Observable)}(),function(){function d(u,c){var p=u.charCodeAt(c);if(isNaN(p))return"";if(p<55296||p>57343)return u.charAt(c);if(55296<=p&&p<=56319){if(u.length<=c+1)throw"High surrogate without following low surrogate";var g=u.charCodeAt(c+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return u.charAt(c)+u.charAt(c+1)}if(0===c)throw"Low surrogate without preceding high surrogate";var f=u.charCodeAt(c-1);if(55296>f||f>56319)throw"Low surrogate without preceding high surrogate";return!1}w.util.string={camelize:function y(u){return u.replace(/-+(.)?/g,function(c,p){return p?p.toUpperCase():""})},capitalize:function h(u,c){return u.charAt(0).toUpperCase()+(c?u.slice(1):u.slice(1).toLowerCase())},escapeXml:function _(u){return u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function b(u){var p,c=0,g=[];for(c=0;c<u.length;c++)!1!==(p=d(u,c))&&g.push(p);return g}}}(),function(){var y=Array.prototype.slice,h=function(){},_=function(){for(var p in{toString:1})if("toString"===p)return!1;return!0}(),b=function(p,g,f){for(var v in g)p.prototype[v]=v in p.prototype&&"function"==typeof p.prototype[v]&&(g[v]+"").indexOf("callSuper")>-1?function(C){return function(){var D=this.constructor.superclass;this.constructor.superclass=f;var E=g[C].apply(this,arguments);if(this.constructor.superclass=D,"initialize"!==C)return E}}(v):g[v],_&&(g.toString!==Object.prototype.toString&&(p.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(p.prototype.valueOf=g.valueOf))};function d(){}function u(p){for(var g=null,f=this;f.constructor.superclass;){var v=f.constructor.superclass.prototype[p];if(f[p]!==v){g=v;break}f=f.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,y.call(arguments,1)):g.call(this):console.log("tried to callSuper "+p+", method not found in prototype chain",this)}w.util.createClass=function c(){var p=null,g=y.call(arguments,0);function f(){this.initialize.apply(this,arguments)}"function"==typeof g[0]&&(p=g.shift()),f.superclass=p,f.subclasses=[],p&&(d.prototype=p.prototype,f.prototype=new d,p.subclasses.push(f));for(var v=0,C=g.length;v<C;v++)b(f,g[v],p);return f.prototype.initialize||(f.prototype.initialize=h),f.prototype.constructor=f,f.prototype.callSuper=u,f}}(),function(){var y=!!w.document.createElement("div").attachEvent,h=["touchstart","touchmove","touchend"];w.util.addListener=function(b,d,u,c){b&&b.addEventListener(d,u,!y&&c)},w.util.removeListener=function(b,d,u,c){b&&b.removeEventListener(d,u,!y&&c)},w.util.getPointer=function(b){var u=w.util.getScrollLeftTop(b.target),c=function _(b){var d=b.changedTouches;return d&&d[0]?d[0]:b}(b);return{x:c.clientX+u.left,y:c.clientY+u.top}},w.util.isTouchEvent=function(b){return h.indexOf(b.type)>-1||"touch"===b.pointerType}}(),function(){var h=w.document.createElement("div"),d=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,u=function(c){return c};"string"==typeof h.style.opacity?u=function(c,p){return c.style.opacity=p,c}:"string"==typeof h.style.filter&&(u=function(c,p){var g=c.style;return c.currentStyle&&!c.currentStyle.hasLayout&&(g.zoom=1),d.test(g.filter)?g.filter=g.filter.replace(d,p=p>=.9999?"":"alpha(opacity="+100*p+")"):g.filter+=" alpha(opacity="+100*p+")",c}),w.util.setStyle=function y(c,p){var g=c.style;if(!g)return c;if("string"==typeof p)return c.style.cssText+=";"+p,p.indexOf("opacity")>-1?u(c,p.match(/opacity:\s*(\d?\.?\d*)/)[1]):c;for(var f in p)"opacity"===f?u(c,p[f]):g.setProperty("float"===f||"cssFloat"===f?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":f,p[f]);return c}}(),function(){var _,f,E,R,y=Array.prototype.slice,b=function(E){return y.call(E,0)};try{_=b(w.document.childNodes)instanceof Array}catch{}function d(E,R){var B=w.document.createElement(E);for(var H in R)"class"===H?B.className=R[H]:"for"===H?B.htmlFor=R[H]:B.setAttribute(H,R[H]);return B}function p(E){for(var R=0,B=0,H=w.document.documentElement,q=w.document.body||{scrollLeft:0,scrollTop:0};E&&(E.parentNode||E.host)&&((E=E.parentNode||E.host)===w.document?(R=q.scrollLeft||H.scrollLeft||0,B=q.scrollTop||H.scrollTop||0):(R+=E.scrollLeft||0,B+=E.scrollTop||0),1!==E.nodeType||"fixed"!==E.style.position););return{left:R,top:B}}_||(b=function(E){for(var R=new Array(E.length),B=E.length;B--;)R[B]=E[B];return R}),f=w.document.defaultView&&w.document.defaultView.getComputedStyle?function(E,R){var B=w.document.defaultView.getComputedStyle(E,null);return B?B[R]:void 0}:function(E,R){var B=E.style[R];return!B&&E.currentStyle&&(B=E.currentStyle[R]),B},R="userSelect"in(E=w.document.documentElement.style)?"userSelect":"MozUserSelect"in E?"MozUserSelect":"WebkitUserSelect"in E?"WebkitUserSelect":"KhtmlUserSelect"in E?"KhtmlUserSelect":"",w.util.makeElementUnselectable=function B(q){return typeof q.onselectstart<"u"&&(q.onselectstart=w.util.falseFunction),R?q.style[R]="none":"string"==typeof q.unselectable&&(q.unselectable="on"),q},w.util.makeElementSelectable=function H(q){return typeof q.onselectstart<"u"&&(q.onselectstart=null),R?q.style[R]="":"string"==typeof q.unselectable&&(q.unselectable=""),q},w.util.setImageSmoothing=function D(E,R){E.imageSmoothingEnabled=E.imageSmoothingEnabled||E.webkitImageSmoothingEnabled||E.mozImageSmoothingEnabled||E.msImageSmoothingEnabled||E.oImageSmoothingEnabled,E.imageSmoothingEnabled=R},w.util.getById=function h(E){return"string"==typeof E?w.document.getElementById(E):E},w.util.toArray=b,w.util.addClass=function u(E,R){E&&-1===(" "+E.className+" ").indexOf(" "+R+" ")&&(E.className+=(E.className?" ":"")+R)},w.util.makeElement=d,w.util.wrapElement=function c(E,R,B){return"string"==typeof R&&(R=d(R,B)),E.parentNode&&E.parentNode.replaceChild(R,E),R.appendChild(E),R},w.util.getScrollLeftTop=p,w.util.getElementOffset=function g(E){var R,se,B=E&&E.ownerDocument,H={left:0,top:0},q={left:0,top:0},he={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!B)return q;for(var De in he)q[he[De]]+=parseInt(f(E,De),10)||0;return R=B.documentElement,typeof E.getBoundingClientRect<"u"&&(H=E.getBoundingClientRect()),se=p(E),{left:H.left+se.left-(R.clientLeft||0)+q.left,top:H.top+se.top-(R.clientTop||0)+q.top}},w.util.getNodeCanvas=function v(E){var R=w.jsdomImplForWrapper(E);return R._canvas||R._image},w.util.cleanUpJsdomNode=function C(E){if(w.isLikelyNode){var R=w.jsdomImplForWrapper(E);R&&(R._image=null,R._canvas=null,R._currentSrc=null,R._attributes=null,R._classList=null)}}}(),function(){function h(){}w.util.request=function _(b,d){d||(d={});var u=d.method?d.method.toUpperCase():"GET",c=d.onComplete||function(){},p=new w.window.XMLHttpRequest,g=d.body||d.parameters;return p.onreadystatechange=function(){4===p.readyState&&(c(p),p.onreadystatechange=h)},"GET"===u&&(g=null,"string"==typeof d.parameters&&(b=function y(b,d){return b+(/\?/.test(b)?"&":"?")+d}(b,d.parameters))),p.open(u,b,!0),("POST"===u||"PUT"===u)&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(g),p}}(),w.log=console.log,w.warn=console.warn,function(){var y=w.util.object.extend,h=w.util.object.clone,_=[];function b(){return!1}function d(v,C,D,E){return-D*Math.cos(v/E*(Math.PI/2))+D+C}w.util.object.extend(_,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(C){C.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var C=this.filter(function(D){return"object"==typeof D.target&&D.target.canvas===v});return C.forEach(function(D){D.cancel()}),C},cancelByTarget:function(v){var C=this.findAnimationsByTarget(v);return C.forEach(function(D){D.cancel()}),C},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(C){return C.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(C){return C.target===v}):[]}});var c=w.window.requestAnimationFrame||w.window.webkitRequestAnimationFrame||w.window.mozRequestAnimationFrame||w.window.oRequestAnimationFrame||w.window.msRequestAnimationFrame||function(v){return w.window.setTimeout(v,1e3/60)},p=w.window.cancelAnimationFrame||w.window.clearTimeout;function g(){return c.apply(w.window,arguments)}w.util.animate=function u(v){v||(v={});var D,C=!1,E=function(){var R=w.runningAnimations.indexOf(D);return R>-1&&w.runningAnimations.splice(R,1)[0]};return D=y(h(v),{cancel:function(){return C=!0,E()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),w.runningAnimations.push(D),g(function(R){var se,B=R||+new Date,H=v.duration||500,q=B+H,he=v.onChange||b,De=v.abort||b,Pe=v.onComplete||b,Re=v.easing||d,Le="startValue"in v&&v.startValue.length>0,Ve="startValue"in v?v.startValue:0,it="endValue"in v?v.endValue:100,dt=v.byValue||(Le?Ve.map(function(ct,j){return it[j]-Ve[j]}):it-Ve);v.onStart&&v.onStart(),function ct(j){var te=(se=j||+new Date)>q?H:se-B,ee=te/H,J=Le?Ve.map(function(X,U){return Re(te,Ve[U],dt[U],H)}):Re(te,Ve,dt,H),Se=Math.abs(Le?(J[0]-Ve[0])/dt[0]:(J-Ve)/dt);if(D.currentValue=Le?J.slice():J,D.completionRate=Se,D.durationRate=ee,!C){if(De(J,Se,ee))return void E();if(se>q)return D.currentValue=Le?it.slice():it,D.completionRate=1,D.durationRate=1,he(Le?it.slice():it,1,1),Pe(it,1,1),void E();he(J,Se,ee),g(ct)}}(B)}),D.cancel},w.util.requestAnimFrame=g,w.util.cancelAnimFrame=function f(){return p.apply(w.window,arguments)},w.runningAnimations=_}(),function(){function y(_,b,d){var u="rgba("+parseInt(_[0]+d*(b[0]-_[0]),10)+","+parseInt(_[1]+d*(b[1]-_[1]),10)+","+parseInt(_[2]+d*(b[2]-_[2]),10);return(u+=","+(_&&b?parseFloat(_[3]+d*(b[3]-_[3])):1))+")"}w.util.animateColor=function h(_,b,d,u){var c=new w.Color(_).getSource(),p=new w.Color(b).getSource(),g=u.onComplete,f=u.onChange;return w.util.animate(w.util.object.extend(u=u||{},{duration:d||500,startValue:c,endValue:p,byValue:p,easing:function(v,C,D,E){return y(C,D,u.colorEasing?u.colorEasing(v,E):1-Math.cos(v/E*(Math.PI/2)))},onComplete:function(v,C,D){if(g)return g(y(p,p,0),C,D)},onChange:function(v,C,D){if(f){if(Array.isArray(v))return f(y(v,v,0),C,D);f(v,C,D)}}}))}}(),function(){function y(j,te,ee,J){return j<Math.abs(te)?(j=te,J=ee/4):J=0===te&&0===j?ee/(2*Math.PI)*Math.asin(1):ee/(2*Math.PI)*Math.asin(te/j),{a:j,c:te,p:ee,s:J}}function h(j,te,ee){return j.a*Math.pow(2,10*(te-=1))*Math.sin((te*ee-j.s)*(2*Math.PI)/j.p)}function it(j,te,ee,J){return ee-dt(J-j,0,ee,J)+te}function dt(j,te,ee,J){return(j/=J)<1/2.75?ee*(7.5625*j*j)+te:j<2/2.75?ee*(7.5625*(j-=1.5/2.75)*j+.75)+te:j<2.5/2.75?ee*(7.5625*(j-=2.25/2.75)*j+.9375)+te:ee*(7.5625*(j-=2.625/2.75)*j+.984375)+te}w.util.ease={easeInQuad:function(j,te,ee,J){return ee*(j/=J)*j+te},easeOutQuad:function(j,te,ee,J){return-ee*(j/=J)*(j-2)+te},easeInOutQuad:function(j,te,ee,J){return(j/=J/2)<1?ee/2*j*j+te:-ee/2*(--j*(j-2)-1)+te},easeInCubic:function(j,te,ee,J){return ee*(j/=J)*j*j+te},easeOutCubic:function _(j,te,ee,J){return ee*((j=j/J-1)*j*j+1)+te},easeInOutCubic:function b(j,te,ee,J){return(j/=J/2)<1?ee/2*j*j*j+te:ee/2*((j-=2)*j*j+2)+te},easeInQuart:function d(j,te,ee,J){return ee*(j/=J)*j*j*j+te},easeOutQuart:function u(j,te,ee,J){return-ee*((j=j/J-1)*j*j*j-1)+te},easeInOutQuart:function c(j,te,ee,J){return(j/=J/2)<1?ee/2*j*j*j*j+te:-ee/2*((j-=2)*j*j*j-2)+te},easeInQuint:function p(j,te,ee,J){return ee*(j/=J)*j*j*j*j+te},easeOutQuint:function g(j,te,ee,J){return ee*((j=j/J-1)*j*j*j*j+1)+te},easeInOutQuint:function f(j,te,ee,J){return(j/=J/2)<1?ee/2*j*j*j*j*j+te:ee/2*((j-=2)*j*j*j*j+2)+te},easeInSine:function v(j,te,ee,J){return-ee*Math.cos(j/J*(Math.PI/2))+ee+te},easeOutSine:function C(j,te,ee,J){return ee*Math.sin(j/J*(Math.PI/2))+te},easeInOutSine:function D(j,te,ee,J){return-ee/2*(Math.cos(Math.PI*j/J)-1)+te},easeInExpo:function E(j,te,ee,J){return 0===j?te:ee*Math.pow(2,10*(j/J-1))+te},easeOutExpo:function R(j,te,ee,J){return j===J?te+ee:ee*(1-Math.pow(2,-10*j/J))+te},easeInOutExpo:function B(j,te,ee,J){return 0===j?te:j===J?te+ee:(j/=J/2)<1?ee/2*Math.pow(2,10*(j-1))+te:ee/2*(2-Math.pow(2,-10*--j))+te},easeInCirc:function H(j,te,ee,J){return-ee*(Math.sqrt(1-(j/=J)*j)-1)+te},easeOutCirc:function q(j,te,ee,J){return ee*Math.sqrt(1-(j=j/J-1)*j)+te},easeInOutCirc:function se(j,te,ee,J){return(j/=J/2)<1?-ee/2*(Math.sqrt(1-j*j)-1)+te:ee/2*(Math.sqrt(1-(j-=2)*j)+1)+te},easeInElastic:function he(j,te,ee,J){var X=0;return 0===j?te:1==(j/=J)?te+ee:(X||(X=.3*J),-h(y(ee,ee,X,1.70158),j,J)+te)},easeOutElastic:function De(j,te,ee,J){var X=0;if(0===j)return te;if(1==(j/=J))return te+ee;X||(X=.3*J);var de=y(ee,ee,X,1.70158);return de.a*Math.pow(2,-10*j)*Math.sin((j*J-de.s)*(2*Math.PI)/de.p)+de.c+te},easeInOutElastic:function Pe(j,te,ee,J){var X=0;if(0===j)return te;if(2==(j/=J/2))return te+ee;X||(X=J*(.3*1.5));var de=y(ee,ee,X,1.70158);return j<1?-.5*h(de,j,J)+te:de.a*Math.pow(2,-10*(j-=1))*Math.sin((j*J-de.s)*(2*Math.PI)/de.p)*.5+de.c+te},easeInBack:function Re(j,te,ee,J,Se){return void 0===Se&&(Se=1.70158),ee*(j/=J)*j*((Se+1)*j-Se)+te},easeOutBack:function Le(j,te,ee,J,Se){return void 0===Se&&(Se=1.70158),ee*((j=j/J-1)*j*((Se+1)*j+Se)+1)+te},easeInOutBack:function Ve(j,te,ee,J,Se){return void 0===Se&&(Se=1.70158),(j/=J/2)<1?ee/2*(j*j*((1+(Se*=1.525))*j-Se))+te:ee/2*((j-=2)*j*((1+(Se*=1.525))*j+Se)+2)+te},easeInBounce:it,easeOutBounce:dt,easeInOutBounce:function ct(j,te,ee,J){return j<J/2?.5*it(2*j,0,ee,J)+te:.5*dt(2*j-J,0,ee,J)+.5*ee+te}}}(),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.extend,b=h.util.object.clone,d=h.util.toFixed,u=h.util.parseUnit,c=h.util.multiplyTransformMatrices,C={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},D={stroke:"strokeOpacity",fill:"fillOpacity"},E="font-size",R="clip-path";function B(X){return X in C?C[X]:X}function H(X,U,de,ge){var Y,$=Array.isArray(U);if("fill"!==X&&"stroke"!==X||"none"!==U){if("strokeUniform"===X)return"non-scaling-stroke"===U;if("strokeDashArray"===X)U="none"===U?null:U.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===X)U=de&&de.transformMatrix?c(de.transformMatrix,h.parseTransformAttribute(U)):h.parseTransformAttribute(U);else if("visible"===X)U="none"!==U&&"hidden"!==U,de&&!1===de.visible&&(U=!1);else if("opacity"===X)U=parseFloat(U),de&&typeof de.opacity<"u"&&(U*=de.opacity);else if("textAnchor"===X)U="start"===U?"left":"end"===U?"right":"center";else if("charSpacing"===X)Y=u(U,ge)/ge*1e3;else if("paintFirst"===X){var ie=U.indexOf("fill"),ue=U.indexOf("stroke");U="fill",(ie>-1&&ue>-1&&ue<ie||-1===ie&&ue>-1)&&(U="stroke")}else{if("href"===X||"xlink:href"===X||"font"===X)return U;if("imageSmoothing"===X)return"optimizeQuality"===U;Y=$?U.map(u):u(U,ge)}}else U="";return!$&&isNaN(Y)?U:Y}function q(X){return new RegExp("^("+X.join("|")+")\\b","i")}function he(X,U){var $,Y,ie,ge=[];for(Y=0,ie=U.length;Y<ie;Y++)$=X.getElementsByTagName(U[Y]),ge=ge.concat(Array.prototype.slice.call($));return ge}function Le(X,U){var de,ge=!0;return(de=it(X,U.pop()))&&U.length&&(ge=function Ve(X,U){for(var de,ge=!0;X.parentNode&&1===X.parentNode.nodeType&&U.length;)ge&&(de=U.pop()),ge=it(X=X.parentNode,de);return 0===U.length}(X,U)),de&&ge&&0===U.length}function it(X,U){var Y,ie,de=X.nodeName,ge=X.getAttribute("class"),$=X.getAttribute("id");if(Y=new RegExp("^"+de,"i"),U=U.replace(Y,""),$&&U.length&&(Y=new RegExp("#"+$+"(?![a-zA-Z\\-]+)","i"),U=U.replace(Y,"")),ge&&U.length)for(ie=(ge=ge.split(" ")).length;ie--;)Y=new RegExp("\\."+ge[ie]+"(?![a-zA-Z\\-]+)","i"),U=U.replace(Y,"");return 0===U.length}function dt(X,U){var de;if(X.getElementById&&(de=X.getElementById(U)),de)return de;var ge,$,Y,ie=X.getElementsByTagName("*");for($=0,Y=ie.length;$<Y;$++)if(U===(ge=ie[$]).getAttribute("id"))return ge}h.svgValidTagNamesRegEx=q(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),h.svgViewBoxElementsRegEx=q(["symbol","image","marker","pattern","view","svg"]),h.svgInvalidAncestorsRegEx=q(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),h.svgValidParentsRegEx=q(["symbol","g","a","svg","clipPath","defs"]),h.cssRules={},h.gradientDefs={},h.clipPaths={},h.parseTransformAttribute=function(){function de(Oe,ut,rt){Oe[rt]=Math.tan(h.util.degreesToRadians(ut[0]))}var $=h.iMatrix,Y=h.reNum,ie=h.commaWsp,me="(?:(?:(matrix)\\s*\\(\\s*("+Y+")"+ie+"("+Y+")"+ie+"("+Y+")"+ie+"("+Y+")"+ie+"("+Y+")"+ie+"("+Y+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+Y+")(?:"+ie+"("+Y+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+Y+")(?:"+ie+"("+Y+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+Y+")(?:"+ie+"("+Y+")"+ie+"("+Y+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+Y+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+Y+")\\s*\\)))",At=new RegExp("^\\s*(?:(?:"+me+"(?:"+ie+"*"+me+")*)?)\\s*$"),nt=new RegExp(me,"g");return function(Oe){var ut=$.concat(),rt=[];if(!Oe||Oe&&!At.test(Oe))return ut;Oe.replace(nt,function(Ti){var ri=new RegExp(me).exec(Ti).filter(function(no){return!!no}),en=ri[1],Di=ri.slice(2).map(parseFloat);switch(en){case"translate":!function ge(Oe,ut){Oe[4]=ut[0],2===ut.length&&(Oe[5]=ut[1])}(ut,Di);break;case"rotate":Di[0]=h.util.degreesToRadians(Di[0]),function X(Oe,ut){var rt=h.util.cos(ut[0]),Ut=h.util.sin(ut[0]),Ti=0,ri=0;3===ut.length&&(Ti=ut[1],ri=ut[2]),Oe[0]=rt,Oe[1]=Ut,Oe[2]=-Ut,Oe[3]=rt,Oe[4]=Ti-(rt*Ti-Ut*ri),Oe[5]=ri-(Ut*Ti+rt*ri)}(ut,Di);break;case"scale":!function U(Oe,ut){var Ut=2===ut.length?ut[1]:ut[0];Oe[0]=ut[0],Oe[3]=Ut}(ut,Di);break;case"skewX":de(ut,Di,2);break;case"skewY":de(ut,Di,1);break;case"matrix":ut=Di}rt.push(ut.concat()),ut=$.concat()});for(var Ut=rt[0];rt.length>1;)rt.shift(),Ut=h.util.multiplyTransformMatrices(Ut,rt[0]);return Ut}}();var j=new RegExp("^\\s*("+h.reNum+"+)\\s*,?\\s*("+h.reNum+"+)\\s*,?\\s*("+h.reNum+"+)\\s*,?\\s*("+h.reNum+"+)\\s*$");function te(X){if(!h.svgViewBoxElementsRegEx.test(X.nodeName))return{};var $,Y,ie,ue,Ie,ne,U=X.getAttribute("viewBox"),de=1,ge=1,fe=X.getAttribute("width"),Ce=X.getAttribute("height"),we=X.getAttribute("x")||0,me=X.getAttribute("y")||0,je=X.getAttribute("preserveAspectRatio")||"",qe=!U||!(U=U.match(j)),At=!fe||!Ce||"100%"===fe||"100%"===Ce,nt=qe&&At,Oe={},ut="",rt=0,Ut=0;if(Oe.width=0,Oe.height=0,Oe.toBeParsed=nt,qe&&(we||me)&&X.parentNode&&"#document"!==X.parentNode.nodeName&&(ut=" translate("+u(we)+" "+u(me)+") ",Ie=(X.getAttribute("transform")||"")+ut,X.setAttribute("transform",Ie),X.removeAttribute("x"),X.removeAttribute("y")),nt)return Oe;if(qe)return Oe.width=u(fe),Oe.height=u(Ce),Oe;if($=-parseFloat(U[1]),Y=-parseFloat(U[2]),ie=parseFloat(U[3]),ue=parseFloat(U[4]),Oe.minX=$,Oe.minY=Y,Oe.viewBoxWidth=ie,Oe.viewBoxHeight=ue,At?(Oe.width=ie,Oe.height=ue):(Oe.width=u(fe),Oe.height=u(Ce),de=Oe.width/ie,ge=Oe.height/ue),"none"!==(je=h.util.parsePreserveAspectRatioAttribute(je)).alignX&&("meet"===je.meetOrSlice&&(ge=de=de>ge?ge:de),"slice"===je.meetOrSlice&&(ge=de=de>ge?de:ge),rt=Oe.width-ie*de,Ut=Oe.height-ue*de,"Mid"===je.alignX&&(rt/=2),"Mid"===je.alignY&&(Ut/=2),"Min"===je.alignX&&(rt=0),"Min"===je.alignY&&(Ut=0)),1===de&&1===ge&&0===$&&0===Y&&0===we&&0===me)return Oe;if((we||me)&&"#document"!==X.parentNode.nodeName&&(ut=" translate("+u(we)+" "+u(me)+") "),Ie=ut+" matrix("+de+" 0 0 "+ge+" "+($*de+rt)+" "+(Y*ge+Ut)+") ","svg"===X.nodeName){for(ne=X.ownerDocument.createElementNS(h.svgNS,"g");X.firstChild;)ne.appendChild(X.firstChild);X.appendChild(ne)}else(ne=X).removeAttribute("x"),ne.removeAttribute("y"),Ie=ne.getAttribute("transform")+Ie;return ne.setAttribute("transform",Ie),Oe}function J(X,U){var ge="xlink:href",Y=dt(X,U.getAttribute(ge).slice(1));if(Y&&Y.getAttribute(ge)&&J(X,Y),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(ue){Y&&!U.hasAttribute(ue)&&Y.hasAttribute(ue)&&U.setAttribute(ue,Y.getAttribute(ue))}),!U.children.length)for(var ie=Y.cloneNode(!0);ie.firstChild;)U.appendChild(ie.firstChild);U.removeAttribute(ge)}h.parseSVGDocument=function(X,U,de,ge){if(X){!function ct(X){for(var U=he(X,["use","svg:use"]),de=0;U.length&&de<U.length;){var ge=U[de],$=ge.getAttribute("xlink:href")||ge.getAttribute("href");if(null===$)return;var we,me,je,qe,Y=$.slice(1),ie=ge.getAttribute("x")||0,ue=ge.getAttribute("y")||0,Ie=dt(X,Y).cloneNode(!0),ne=(Ie.getAttribute("transform")||"")+" translate("+ie+", "+ue+")",Ce=U.length,At=h.svgNS;if(te(Ie),/^svg$/i.test(Ie.nodeName)){var nt=Ie.ownerDocument.createElementNS(At,"g");for(me=0,qe=(je=Ie.attributes).length;me<qe;me++)we=je.item(me),nt.setAttributeNS(At,we.nodeName,we.nodeValue);for(;Ie.firstChild;)nt.appendChild(Ie.firstChild);Ie=nt}for(me=0,qe=(je=ge.attributes).length;me<qe;me++)"x"!==(we=je.item(me)).nodeName&&"y"!==we.nodeName&&"xlink:href"!==we.nodeName&&"href"!==we.nodeName&&("transform"===we.nodeName?ne=we.nodeValue+" "+ne:Ie.setAttribute(we.nodeName,we.nodeValue));Ie.setAttribute("transform",ne),Ie.setAttribute("instantiated_by_use","1"),Ie.removeAttribute("id"),ge.parentNode.replaceChild(Ie,ge),U.length===Ce&&de++}}(X);var Y,ie,$=h.Object.__uid++,ue=te(X),Ie=h.util.toArray(X.getElementsByTagName("*"));if(ue.crossOrigin=ge&&ge.crossOrigin,ue.svgUid=$,0===Ie.length&&h.isLikelyNode){var ne=[];for(Y=0,ie=(Ie=X.selectNodes('//*[name(.)!="svg"]')).length;Y<ie;Y++)ne[Y]=Ie[Y];Ie=ne}var fe=Ie.filter(function(we){return te(we),h.svgValidTagNamesRegEx.test(we.nodeName.replace("svg:",""))&&!function ee(X,U){for(;X&&(X=X.parentNode);)if(X.nodeName&&U.test(X.nodeName.replace("svg:",""))&&!X.getAttribute("instantiated_by_use"))return!0;return!1}(we,h.svgInvalidAncestorsRegEx)});if(!fe||fe&&!fe.length)return void(U&&U([],{}));var Ce={};Ie.filter(function(we){return"clipPath"===we.nodeName.replace("svg:","")}).forEach(function(we){var me=we.getAttribute("id");Ce[me]=h.util.toArray(we.getElementsByTagName("*")).filter(function(je){return h.svgValidTagNamesRegEx.test(je.nodeName.replace("svg:",""))})}),h.gradientDefs[$]=h.getGradientDefs(X),h.cssRules[$]=h.getCSSRules(X),h.clipPaths[$]=Ce,h.parseElements(fe,function(we,me){U&&(U(we,ue,me,Ie),delete h.gradientDefs[$],delete h.cssRules[$],delete h.clipPaths[$])},b(ue),de,ge)}};var Se=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+h.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+h.reNum+"))?\\s+(.*)");_(h,{parseFontDeclaration:function(X,U){var de=X.match(Se);if(de){var ge=de[1],$=de[3],Y=de[4],ie=de[5],ue=de[6];ge&&(U.fontStyle=ge),$&&(U.fontWeight=isNaN(parseFloat($))?$:parseFloat($)),Y&&(U.fontSize=u(Y)),ue&&(U.fontFamily=ue),ie&&(U.lineHeight="normal"===ie?1:ie)}},getGradientDefs:function(X){var ge,de=he(X,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),$=0,Y={};for($=de.length;$--;)(ge=de[$]).getAttribute("xlink:href")&&J(X,ge),Y[ge.getAttribute("id")]=ge;return Y},parseAttributes:function(X,U,de){if(X){var ge,Y,ie,$={};typeof de>"u"&&(de=X.getAttribute("svgUid")),X.parentNode&&h.svgValidParentsRegEx.test(X.parentNode.nodeName)&&($=h.parseAttributes(X.parentNode,U,de));var ue=U.reduce(function(je,qe){return(ge=X.getAttribute(qe))&&(je[qe]=ge),je},{}),Ie=_(function Re(X,U){var de={};for(var ge in h.cssRules[U])if(Le(X,ge.split(" ")))for(var $ in h.cssRules[U][ge])de[$]=h.cssRules[U][ge][$];return de}(X,de),h.parseStyleAttribute(X));ue=_(ue,Ie),Ie[R]&&X.setAttribute(R,Ie[R]),Y=ie=$.fontSize||h.Text.DEFAULT_SVG_FONT_SIZE,ue[E]&&(ue[E]=Y=u(ue[E],ie));var ne,fe,Ce={};for(var we in ue)fe=H(ne=B(we),ue[we],$,Y),Ce[ne]=fe;Ce&&Ce.font&&h.parseFontDeclaration(Ce.font,Ce);var me=_($,Ce);return h.svgValidParentsRegEx.test(X.nodeName)?me:function se(X){for(var U in D)if(!(typeof X[D[U]]>"u"||""===X[U])){if(typeof X[U]>"u"){if(!h.Object.prototype[U])continue;X[U]=h.Object.prototype[U]}if(0!==X[U].indexOf("url(")){var de=new h.Color(X[U]);X[U]=de.setAlpha(d(de.getAlpha()*X[D[U]],2)).toRgba()}}return X}(me)}},parseElements:function(X,U,de,ge,$){new h.ElementsParser(X,U,de,ge,$).parse()},parseStyleAttribute:function(X){var U={},de=X.getAttribute("style");return de&&("string"==typeof de?function De(X,U){var de,ge;X.replace(/;\s*$/,"").split(";").forEach(function($){var Y=$.split(":");de=Y[0].trim().toLowerCase(),ge=Y[1].trim(),U[de]=ge})}(de,U):function Pe(X,U){for(var $ in X)typeof X[$]>"u"||(U[$.toLowerCase()]=X[$])}(de,U)),U},parsePointsAttribute:function(X){if(!X)return null;var de,ge,U=[];for(de=0,ge=(X=(X=X.replace(/,/g," ").trim()).split(/\s+/)).length;de<ge;de+=2)U.push({x:parseFloat(X[de]),y:parseFloat(X[de+1])});return U},getCSSRules:function(X){var de,ge,U=X.getElementsByTagName("style"),$={};for(de=0,ge=U.length;de<ge;de++){var ie=U[de].textContent;""!==(ie=ie.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&ie.split("}").filter(function(ue){return ue.trim()}).forEach(function(ue){var Ie=ue.split("{"),ne={},Ce=Ie[1].trim().split(";").filter(function(qe){return qe.trim()});for(de=0,ge=Ce.length;de<ge;de++){var we=Ce[de].split(":"),me=we[0].trim(),je=we[1].trim();ne[me]=je}(ue=Ie[0].trim()).split(",").forEach(function(qe){""!==(qe=qe.replace(/^svg/i,"").trim())&&($[qe]?h.util.object.extend($[qe],ne):$[qe]=h.util.object.clone(ne))})})}return $},loadSVGFromURL:function(X,U,de,ge){X=X.replace(/^\n\s*/,"").trim(),new h.util.request(X,{method:"get",onComplete:function $(Y){var ie=Y.responseXML;if(!ie||!ie.documentElement)return U&&U(null),!1;h.parseSVGDocument(ie.documentElement,function(ue,Ie,ne,fe){U&&U(ue,Ie,ne,fe)},de,ge)}})},loadSVGFromString:function(X,U,de,ge){var Y=(new h.window.DOMParser).parseFromString(X.trim(),"text/xml");h.parseSVGDocument(Y.documentElement,function(ie,ue,Ie,ne){U(ie,ue,Ie,ne)},de,ge)}})}(ce),w.ElementsParser=function(y,h,_,b,d,u){this.elements=y,this.callback=h,this.options=_,this.reviver=b,this.svgUid=_&&_.svgUid||0,this.parsingOptions=d,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=u},function(y){y.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},y.createObjects=function(){var h=this;this.elements.forEach(function(_,b){_.setAttribute("svgUid",h.svgUid),h.createObject(_,b)})},y.findTag=function(h){return w[w.util.string.capitalize(h.tagName.replace("svg:",""))]},y.createObject=function(h,_){var b=this.findTag(h);if(b&&b.fromElement)try{b.fromElement(h,this.createCallback(_,h),this.options)}catch(d){w.log(d)}else this.checkIfDone()},y.createCallback=function(h,_){var b=this;return function(d){var u;b.resolveGradient(d,_,"fill"),b.resolveGradient(d,_,"stroke"),d instanceof w.Image&&d._originalElement&&(u=d.parsePreserveAspectRatioAttribute(_)),d._removeTransformMatrix(u),b.resolveClipPath(d,_),b.reviver&&b.reviver(_,d),b.instances[h]=d,b.checkIfDone()}},y.extractPropertyDefinition=function(h,_,b){var d=h[_],u=this.regexUrl;if(u.test(d)){u.lastIndex=0;var c=u.exec(d)[1];return u.lastIndex=0,w[b][this.svgUid][c]}},y.resolveGradient=function(h,_,b){var d=this.extractPropertyDefinition(h,b,"gradientDefs");if(d){var u=_.getAttribute(b+"-opacity"),c=w.Gradient.fromElement(d,h,u,this.options);h.set(b,c)}},y.createClipPathCallback=function(h,_){return function(b){b._removeTransformMatrix(),b.fillRule=b.clipRule,_.push(b)}},y.resolveClipPath=function(h,_){var d,c,p,g,b=this.extractPropertyDefinition(h,"clipPath","clipPaths");if(b){p=[],c=w.util.invertTransform(h.calcTransformMatrix());for(var v=b[0].parentNode,C=_;C.parentNode&&C.getAttribute("clip-path")!==h.clipPath;)C=C.parentNode;C.parentNode.appendChild(v);for(var D=0;D<b.length;D++)this.findTag(d=b[D]).fromElement(d,this.createClipPathCallback(h,p),this.options);b=1===p.length?p[0]:new w.Group(p),g=w.util.multiplyTransformMatrices(c,b.calcTransformMatrix()),b.clipPath&&this.resolveClipPath(b,C);var f=w.util.qrDecompose(g);b.flipX=!1,b.flipY=!1,b.set("scaleX",f.scaleX),b.set("scaleY",f.scaleY),b.angle=f.angle,b.skewX=f.skewX,b.skewY=0,b.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),h.clipPath=b}else delete h.clipPath},y.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(h){return null!=h}),this.callback(this.instances,this.elements))}}(w.ElementsParser.prototype),function(y){"use strict";var h=y.fabric||(y.fabric={});function _(b,d){this.x=b,this.y=d}h.Point?h.warn("fabric.Point is already defined"):(h.Point=_,_.prototype={type:"point",constructor:_,add:function(b){return new _(this.x+b.x,this.y+b.y)},addEquals:function(b){return this.x+=b.x,this.y+=b.y,this},scalarAdd:function(b){return new _(this.x+b,this.y+b)},scalarAddEquals:function(b){return this.x+=b,this.y+=b,this},subtract:function(b){return new _(this.x-b.x,this.y-b.y)},subtractEquals:function(b){return this.x-=b.x,this.y-=b.y,this},scalarSubtract:function(b){return new _(this.x-b,this.y-b)},scalarSubtractEquals:function(b){return this.x-=b,this.y-=b,this},multiply:function(b){return new _(this.x*b,this.y*b)},multiplyEquals:function(b){return this.x*=b,this.y*=b,this},divide:function(b){return new _(this.x/b,this.y/b)},divideEquals:function(b){return this.x/=b,this.y/=b,this},eq:function(b){return this.x===b.x&&this.y===b.y},lt:function(b){return this.x<b.x&&this.y<b.y},lte:function(b){return this.x<=b.x&&this.y<=b.y},gt:function(b){return this.x>b.x&&this.y>b.y},gte:function(b){return this.x>=b.x&&this.y>=b.y},lerp:function(b,d){return typeof d>"u"&&(d=.5),d=Math.max(Math.min(1,d),0),new _(this.x+(b.x-this.x)*d,this.y+(b.y-this.y)*d)},distanceFrom:function(b){var d=this.x-b.x,u=this.y-b.y;return Math.sqrt(d*d+u*u)},midPointFrom:function(b){return this.lerp(b)},min:function(b){return new _(Math.min(this.x,b.x),Math.min(this.y,b.y))},max:function(b){return new _(Math.max(this.x,b.x),Math.max(this.y,b.y))},toString:function(){return this.x+","+this.y},setXY:function(b,d){return this.x=b,this.y=d,this},setX:function(b){return this.x=b,this},setY:function(b){return this.y=b,this},setFromPoint:function(b){return this.x=b.x,this.y=b.y,this},swap:function(b){var d=this.x,u=this.y;this.x=b.x,this.y=b.y,b.x=d,b.y=u},clone:function(){return new _(this.x,this.y)}})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={});function _(b){this.status=b,this.points=[]}h.Intersection?h.warn("fabric.Intersection is already defined"):(h.Intersection=_,h.Intersection.prototype={constructor:_,appendPoint:function(b){return this.points.push(b),this},appendPoints:function(b){return this.points=this.points.concat(b),this}},h.Intersection.intersectLineLine=function(b,d,u,c){var p,g=(c.x-u.x)*(b.y-u.y)-(c.y-u.y)*(b.x-u.x),f=(d.x-b.x)*(b.y-u.y)-(d.y-b.y)*(b.x-u.x),v=(c.y-u.y)*(d.x-b.x)-(c.x-u.x)*(d.y-b.y);if(0!==v){var C=g/v,D=f/v;0<=C&&C<=1&&0<=D&&D<=1?(p=new _("Intersection")).appendPoint(new h.Point(b.x+C*(d.x-b.x),b.y+C*(d.y-b.y))):p=new _}else p=new _(0===g||0===f?"Coincident":"Parallel");return p},h.Intersection.intersectLinePolygon=function(b,d,u){var v,C,c=new _,p=u.length;for(C=0;C<p;C++)v=_.intersectLineLine(b,d,u[C],u[(C+1)%p]),c.appendPoints(v.points);return c.points.length>0&&(c.status="Intersection"),c},h.Intersection.intersectPolygonPolygon=function(b,d){var p,u=new _,c=b.length;for(p=0;p<c;p++){var v=_.intersectLinePolygon(b[p],b[(p+1)%c],d);u.appendPoints(v.points)}return u.points.length>0&&(u.status="Intersection"),u},h.Intersection.intersectPolygonRectangle=function(b,d,u){var c=d.min(u),p=d.max(u),g=new h.Point(p.x,c.y),f=new h.Point(c.x,p.y),v=_.intersectLinePolygon(c,g,b),C=_.intersectLinePolygon(g,p,b),D=_.intersectLinePolygon(p,f,b),E=_.intersectLinePolygon(f,c,b),R=new _;return R.appendPoints(v.points),R.appendPoints(C.points),R.appendPoints(D.points),R.appendPoints(E.points),R.points.length>0&&(R.status="Intersection"),R})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={});function _(d){d?this._tryParsingColor(d):this.setSource([0,0,0,1])}function b(d,u,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?d+6*(u-d)*c:c<.5?u:c<2/3?d+(u-d)*(2/3-c)*6:d}h.Color?h.warn("fabric.Color is already defined."):(h.Color=_,h.Color.prototype={_tryParsingColor:function(d){var u;d in _.colorNameMap&&(d=_.colorNameMap[d]),"transparent"===d&&(u=[255,255,255,0]),u||(u=_.sourceFromHex(d)),u||(u=_.sourceFromRgb(d)),u||(u=_.sourceFromHsl(d)),u||(u=[0,0,0,1]),u&&this.setSource(u)},_rgbToHsl:function(d,u,c){var p,g,f,v=h.util.array.max([d/=255,u/=255,c/=255]),C=h.util.array.min([d,u,c]);if(f=(v+C)/2,v===C)p=g=0;else{var D=v-C;switch(g=f>.5?D/(2-v-C):D/(v+C),v){case d:p=(u-c)/D+(u<c?6:0);break;case u:p=(c-d)/D+2;break;case c:p=(d-u)/D+4}p/=6}return[Math.round(360*p),Math.round(100*g),Math.round(100*f)]},getSource:function(){return this._source},setSource:function(d){this._source=d},toRgb:function(){var d=this.getSource();return"rgb("+d[0]+","+d[1]+","+d[2]+")"},toRgba:function(){var d=this.getSource();return"rgba("+d[0]+","+d[1]+","+d[2]+","+d[3]+")"},toHsl:function(){var d=this.getSource(),u=this._rgbToHsl(d[0],d[1],d[2]);return"hsl("+u[0]+","+u[1]+"%,"+u[2]+"%)"},toHsla:function(){var d=this.getSource(),u=this._rgbToHsl(d[0],d[1],d[2]);return"hsla("+u[0]+","+u[1]+"%,"+u[2]+"%,"+d[3]+")"},toHex:function(){var u,c,p,d=this.getSource();return u=1===(u=d[0].toString(16)).length?"0"+u:u,c=1===(c=d[1].toString(16)).length?"0"+c:c,p=1===(p=d[2].toString(16)).length?"0"+p:p,u.toUpperCase()+c.toUpperCase()+p.toUpperCase()},toHexa:function(){var u,d=this.getSource();return u=1===(u=(u=Math.round(255*d[3])).toString(16)).length?"0"+u:u,this.toHex()+u.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(d){var u=this.getSource();return u[3]=d,this.setSource(u),this},toGrayscale:function(){var d=this.getSource(),u=parseInt((.3*d[0]+.59*d[1]+.11*d[2]).toFixed(0),10);return this.setSource([u,u,u,d[3]]),this},toBlackWhite:function(d){var u=this.getSource(),c=(.3*u[0]+.59*u[1]+.11*u[2]).toFixed(0),p=u[3];return d=d||127,c=Number(c)<Number(d)?0:255,this.setSource([c,c,c,p]),this},overlayWith:function(d){d instanceof _||(d=new _(d));var v,u=[],c=this.getAlpha(),g=this.getSource(),f=d.getSource();for(v=0;v<3;v++)u.push(Math.round(.5*g[v]+.5*f[v]));return u[3]=c,this.setSource(u),this}},h.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,h.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,h.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,h.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},h.Color.fromRgb=function(d){return _.fromSource(_.sourceFromRgb(d))},h.Color.sourceFromRgb=function(d){var u=d.match(_.reRGBa);if(u){var c=parseInt(u[1],10)/(/%$/.test(u[1])?100:1)*(/%$/.test(u[1])?255:1),p=parseInt(u[2],10)/(/%$/.test(u[2])?100:1)*(/%$/.test(u[2])?255:1),g=parseInt(u[3],10)/(/%$/.test(u[3])?100:1)*(/%$/.test(u[3])?255:1);return[parseInt(c,10),parseInt(p,10),parseInt(g,10),u[4]?parseFloat(u[4]):1]}},h.Color.fromRgba=_.fromRgb,h.Color.fromHsl=function(d){return _.fromSource(_.sourceFromHsl(d))},h.Color.sourceFromHsl=function(d){var u=d.match(_.reHSLa);if(u){var f,v,C,c=(parseFloat(u[1])%360+360)%360/360,p=parseFloat(u[2])/(/%$/.test(u[2])?100:1),g=parseFloat(u[3])/(/%$/.test(u[3])?100:1);if(0===p)f=v=C=g;else{var D=g<=.5?g*(p+1):g+p-g*p,E=2*g-D;f=b(E,D,c+1/3),v=b(E,D,c),C=b(E,D,c-1/3)}return[Math.round(255*f),Math.round(255*v),Math.round(255*C),u[4]?parseFloat(u[4]):1]}},h.Color.fromHsla=_.fromHsl,h.Color.fromHex=function(d){return _.fromSource(_.sourceFromHex(d))},h.Color.sourceFromHex=function(d){if(d.match(_.reHex)){var u=d.slice(d.indexOf("#")+1),c=3===u.length||4===u.length,p=8===u.length||4===u.length,g=c?u.charAt(0)+u.charAt(0):u.substring(0,2),f=c?u.charAt(1)+u.charAt(1):u.substring(2,4),v=c?u.charAt(2)+u.charAt(2):u.substring(4,6),C=p?c?u.charAt(3)+u.charAt(3):u.substring(6,8):"FF";return[parseInt(g,16),parseInt(f,16),parseInt(v,16),parseFloat((parseInt(C,16)/255).toFixed(2))]}},h.Color.fromSource=function(d){var u=new _;return u.setSource(d),u})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=["e","se","s","sw","w","nw","n","ne","e"],b=["ns","nesw","ew","nwse"],d={},u="left",c="top",p="right",g="bottom",f="center",v={top:g,bottom:c,left:p,right:u,center:f},C=h.util.radiansToDegrees,D=Math.sign||function(ne){return(ne>0)-(ne<0)||+ne};function E(ne,fe){var Ce=ne.angle+C(Math.atan2(fe.y,fe.x))+360;return Math.round(Ce%360/45)}function R(ne,fe){var Ce=fe.transform.target,we=Ce.canvas,me=h.util.object.clone(fe);me.target=Ce,we&&we.fire("object:"+ne,me),Ce.fire(ne,fe)}function B(ne,fe){var Ce=fe.canvas,me=ne[Ce.uniScaleKey];return Ce.uniformScaling&&!me||!Ce.uniformScaling&&me}function H(ne){return ne.originX===f&&ne.originY===f}function q(ne,fe,Ce){var we=ne.lockScalingX,me=ne.lockScalingY;return!!(we&&me||!fe&&(we||me)&&Ce||we&&"x"===fe||me&&"y"===fe)}function Le(ne,fe,Ce,we){return{e:ne,transform:fe,pointer:{x:Ce,y:we}}}function Ve(ne){return function(fe,Ce,we,me){var je=Ce.target,qe=je.getCenterPoint(),At=je.translateToOriginPoint(qe,Ce.originX,Ce.originY),nt=ne(fe,Ce,we,me);return je.setPositionByOrigin(At,Ce.originX,Ce.originY),nt}}function it(ne,fe){return function(Ce,we,me,je){var qe=fe(Ce,we,me,je);return qe&&R(ne,Le(Ce,we,me,je)),qe}}function dt(ne,fe,Ce,we,me){var je=ne.target,qe=je.controls[ne.corner],At=je.canvas.getZoom(),nt=je.padding/At,Oe=je.toLocalPoint(new h.Point(we,me),fe,Ce);return Oe.x>=nt&&(Oe.x-=nt),Oe.x<=-nt&&(Oe.x+=nt),Oe.y>=nt&&(Oe.y-=nt),Oe.y<=nt&&(Oe.y+=nt),Oe.x-=qe.offsetX,Oe.y-=qe.offsetY,Oe}function ct(ne){return ne.flipX!==ne.flipY}function j(ne,fe,Ce,we,me){if(0!==ne[fe]){var je=ne._getTransformedDimensions()[we];ne.set(Ce,me/je*ne[Ce])}}function te(ne,fe,Ce,we){var Oe,me=fe.target,je=me._getTransformedDimensions(0,me.skewY),qe=dt(fe,fe.originX,fe.originY,Ce,we),At=Math.abs(2*qe.x)-je.x,nt=me.skewX;At<2?Oe=0:(Oe=C(Math.atan2(At/me.scaleX,je.y/me.scaleY)),fe.originX===u&&fe.originY===g&&(Oe=-Oe),fe.originX===p&&fe.originY===c&&(Oe=-Oe),ct(me)&&(Oe=-Oe));var ut=nt!==Oe;if(ut){var rt=me._getTransformedDimensions().y;me.set("skewX",Oe),j(me,"skewY","scaleY","y",rt)}return ut}function ee(ne,fe,Ce,we){var Oe,me=fe.target,je=me._getTransformedDimensions(me.skewX,0),qe=dt(fe,fe.originX,fe.originY,Ce,we),At=Math.abs(2*qe.y)-je.y,nt=me.skewY;At<2?Oe=0:(Oe=C(Math.atan2(At/me.scaleY,je.x/me.scaleX)),fe.originX===u&&fe.originY===g&&(Oe=-Oe),fe.originX===p&&fe.originY===c&&(Oe=-Oe),ct(me)&&(Oe=-Oe));var ut=nt!==Oe;if(ut){var rt=me._getTransformedDimensions().x;me.set("skewY",Oe),j(me,"skewX","scaleX","x",rt)}return ut}function U(ne,fe,Ce,we,me){var Oe,ut,rt,Ut,en,Di,je=fe.target,qe=je.lockScalingX,At=je.lockScalingY,nt=(me=me||{}).by,Ti=B(ne,je),ri=q(je,nt,Ti),no=fe.gestureScale;if(ri)return!1;if(no)ut=fe.scaleX*no,rt=fe.scaleY*no;else{if(Oe=dt(fe,fe.originX,fe.originY,Ce,we),en="y"!==nt?D(Oe.x):1,Di="x"!==nt?D(Oe.y):1,fe.signX||(fe.signX=en),fe.signY||(fe.signY=Di),je.lockScalingFlip&&(fe.signX!==en||fe.signY!==Di))return!1;if(Ut=je._getTransformedDimensions(),Ti&&!nt){var Sa=Math.abs(Oe.x)+Math.abs(Oe.y),fr=fe.original,Ol=Sa/(Math.abs(Ut.x*fr.scaleX/je.scaleX)+Math.abs(Ut.y*fr.scaleY/je.scaleY));ut=fr.scaleX*Ol,rt=fr.scaleY*Ol}else ut=Math.abs(Oe.x*je.scaleX/Ut.x),rt=Math.abs(Oe.y*je.scaleY/Ut.y);H(fe)&&(ut*=2,rt*=2),fe.signX!==en&&"y"!==nt&&(fe.originX=v[fe.originX],ut*=-1,fe.signX=en),fe.signY!==Di&&"x"!==nt&&(fe.originY=v[fe.originY],rt*=-1,fe.signY=Di)}var s_=je.scaleX,Ta=je.scaleY;return nt?("x"===nt&&je.set("scaleX",ut),"y"===nt&&je.set("scaleY",rt)):(!qe&&je.set("scaleX",ut),!At&&je.set("scaleY",rt)),s_!==je.scaleX||Ta!==je.scaleY}d.scaleCursorStyleHandler=function se(ne,fe,Ce){var me=B(ne,Ce),je="";if(0!==fe.x&&0===fe.y?je="x":0===fe.x&&0!==fe.y&&(je="y"),q(Ce,je,me))return"not-allowed";var qe=E(Ce,fe);return _[qe]+"-resize"},d.skewCursorStyleHandler=function he(ne,fe,Ce){if(0!==fe.x&&Ce.lockSkewingY||0!==fe.y&&Ce.lockSkewingX)return"not-allowed";var me=E(Ce,fe)%4;return b[me]+"-resize"},d.scaleSkewCursorStyleHandler=function De(ne,fe,Ce){return ne[Ce.canvas.altActionKey]?d.skewCursorStyleHandler(ne,fe,Ce):d.scaleCursorStyleHandler(ne,fe,Ce)},d.rotationWithSnapping=it("rotating",Ve(function X(ne,fe,Ce,we){var me=fe,je=me.target,qe=je.translateToOriginPoint(je.getCenterPoint(),me.originX,me.originY);if(je.lockRotation)return!1;var ut,At=Math.atan2(me.ey-qe.y,me.ex-qe.x),nt=Math.atan2(we-qe.y,Ce-qe.x),Oe=C(nt-At+me.theta);if(je.snapAngle>0){var rt=je.snapAngle,Ut=je.snapThreshold||rt,Ti=Math.ceil(Oe/rt)*rt,ri=Math.floor(Oe/rt)*rt;Math.abs(Oe-ri)<Ut?Oe=ri:Math.abs(Oe-Ti)<Ut&&(Oe=Ti)}return Oe<0&&(Oe=360+Oe),ut=je.angle!==(Oe%=360),je.angle=Oe,ut})),d.scalingEqually=it("scaling",Ve(function de(ne,fe,Ce,we){return U(ne,fe,Ce,we)})),d.scalingX=it("scaling",Ve(function ge(ne,fe,Ce,we){return U(ne,fe,Ce,we,{by:"x"})})),d.scalingY=it("scaling",Ve(function $(ne,fe,Ce,we){return U(ne,fe,Ce,we,{by:"y"})})),d.scalingYOrSkewingX=function Y(ne,fe,Ce,we){return ne[fe.target.canvas.altActionKey]?d.skewHandlerX(ne,fe,Ce,we):d.scalingY(ne,fe,Ce,we)},d.scalingXOrSkewingY=function ie(ne,fe,Ce,we){return ne[fe.target.canvas.altActionKey]?d.skewHandlerY(ne,fe,Ce,we):d.scalingX(ne,fe,Ce,we)},d.changeWidth=it("resizing",Ve(function ue(ne,fe,Ce,we){var me=fe.target,je=dt(fe,fe.originX,fe.originY,Ce,we),qe=me.strokeWidth/(me.strokeUniform?me.scaleX:1),At=H(fe)?2:1,nt=me.width,Oe=Math.abs(je.x*At/me.scaleX)-qe;return me.set("width",Math.max(Oe,0)),nt!==Oe})),d.skewHandlerX=function J(ne,fe,Ce,we){var qe,me=fe.target,je=me.skewX,At=fe.originY;return!me.lockSkewingX&&(0===je?qe=dt(fe,f,f,Ce,we).x>0?u:p:(je>0&&(qe=At===c?u:p),je<0&&(qe=At===c?p:u),ct(me)&&(qe=qe===u?p:u)),fe.originX=qe,it("skewing",Ve(te))(ne,fe,Ce,we))},d.skewHandlerY=function Se(ne,fe,Ce,we){var qe,me=fe.target,je=me.skewY,At=fe.originX;return!me.lockSkewingY&&(0===je?qe=dt(fe,f,f,Ce,we).y>0?c:g:(je>0&&(qe=At===u?c:g),je<0&&(qe=At===u?g:c),ct(me)&&(qe=qe===c?g:c)),fe.originY=qe,it("skewing",Ve(ee))(ne,fe,Ce,we))},d.dragHandler=function Ie(ne,fe,Ce,we){var me=fe.target,je=Ce-fe.offsetX,qe=we-fe.offsetY,At=!me.get("lockMovementX")&&me.left!==je,nt=!me.get("lockMovementY")&&me.top!==qe;return At&&me.set("left",je),nt&&me.set("top",qe),(At||nt)&&R("moving",Le(ne,fe,Ce,we)),At||nt},d.scaleOrSkewActionName=function Pe(ne,fe,Ce){var we=ne[Ce.canvas.altActionKey];return 0===fe.x?we?"skewX":"scaleY":0===fe.y?we?"skewY":"scaleX":void 0},d.rotationStyleHandler=function Re(ne,fe,Ce){return Ce.lockRotation?"not-allowed":fe.cursorStyle},d.fireEvent=R,d.wrapWithFixedAnchor=Ve,d.wrapWithFireEvent=it,d.getLocalPoint=dt,h.controlsUtils=d}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.degreesToRadians,b=h.controlsUtils;b.renderCircleControl=function d(c,p,g,f,v){f=f||{};var se,C=this.sizeX||f.cornerSize||v.cornerSize,D=this.sizeY||f.cornerSize||v.cornerSize,E=typeof f.transparentCorners<"u"?f.transparentCorners:v.transparentCorners,R=E?"stroke":"fill",B=!E&&(f.cornerStrokeColor||v.cornerStrokeColor),H=p,q=g;c.save(),c.fillStyle=f.cornerColor||v.cornerColor,c.strokeStyle=f.cornerStrokeColor||v.cornerStrokeColor,C>D?(se=C,c.scale(1,D/C),q=g*C/D):D>C?(se=D,c.scale(C/D,1),H=p*D/C):se=C,c.lineWidth=1,c.beginPath(),c.arc(H,q,se/2,0,2*Math.PI,!1),c[R](),B&&c.stroke(),c.restore()},b.renderSquareControl=function u(c,p,g,f,v){f=f||{};var C=this.sizeX||f.cornerSize||v.cornerSize,D=this.sizeY||f.cornerSize||v.cornerSize,E=typeof f.transparentCorners<"u"?f.transparentCorners:v.transparentCorners,R=E?"stroke":"fill",B=!E&&(f.cornerStrokeColor||v.cornerStrokeColor),H=C/2,q=D/2;c.save(),c.fillStyle=f.cornerColor||v.cornerColor,c.strokeStyle=f.cornerStrokeColor||v.cornerStrokeColor,c.lineWidth=1,c.translate(p,g),c.rotate(_(v.angle)),c[R+"Rect"](-H,-q,C,D),B&&c.strokeRect(-H,-q,C,D),c.restore()}}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={});h.Control=function _(b){for(var d in b)this[d]=b[d]},h.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(b,d){return d.cursorStyle},getActionName:function(b,d){return d.actionName},getVisibility:function(b,d){var u=b._controlsVisibility;return u&&typeof u[d]<"u"?u[d]:this.visible},setVisibility:function(b){this.visible=b},positionHandler:function(b,d){return h.util.transformPoint({x:this.x*b.x+this.offsetX,y:this.y*b.y+this.offsetY},d)},calcCornerCoords:function(b,d,u,c,p){var g,f,v,C,D=p?this.touchSizeX:this.sizeX,E=p?this.touchSizeY:this.sizeY;if(D&&E&&D!==E){var R=Math.atan2(E,D),B=Math.sqrt(D*D+E*E)/2,H=R-h.util.degreesToRadians(b),q=Math.PI/2-R-h.util.degreesToRadians(b);g=B*h.util.cos(H),f=B*h.util.sin(H),v=B*h.util.cos(q),C=B*h.util.sin(q)}else B=.7071067812*(D&&E?D:d),H=h.util.degreesToRadians(45-b),g=v=B*h.util.cos(H),f=C=B*h.util.sin(H);return{tl:{x:u-C,y:c-v},tr:{x:u+g,y:c-f},bl:{x:u-g,y:c+f},br:{x:u+C,y:c+v}}},render:function(b,d,u,c,p){"circle"===((c=c||{}).cornerStyle||p.cornerStyle)?h.controlsUtils.renderCircleControl.call(this,b,d,u,c,p):h.controlsUtils.renderSquareControl.call(this,b,d,u,c,p)}}}(ce),function(){function y(u,c){var f,v,C,D,p=u.getAttribute("style"),g=u.getAttribute("offset")||0;if(g=(g=parseFloat(g)/(/%$/.test(g)?100:1))<0?0:g>1?1:g,p){var E=p.split(/\s*;\s*/);for(""===E[E.length-1]&&E.pop(),D=E.length;D--;){var R=E[D].split(/\s*:\s*/),B=R[0].trim(),H=R[1].trim();"stop-color"===B?f=H:"stop-opacity"===B&&(C=H)}}return f||(f=u.getAttribute("stop-color")||"rgb(0,0,0)"),C||(C=u.getAttribute("stop-opacity")),v=(f=new w.Color(f)).getAlpha(),C=isNaN(parseFloat(C))?1:parseFloat(C),C*=v*c,{offset:g,color:f.toRgb(),opacity:C}}var b=w.util.object.clone;w.Gradient=w.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(u){u||(u={}),u.coords||(u.coords={});var c,p=this;Object.keys(u).forEach(function(g){p[g]=u[g]}),this.id?this.id+="_"+w.Object.__uid++:this.id=w.Object.__uid++,c={x1:u.coords.x1||0,y1:u.coords.y1||0,x2:u.coords.x2||0,y2:u.coords.y2||0},"radial"===this.type&&(c.r1=u.coords.r1||0,c.r2=u.coords.r2||0),this.coords=c,this.colorStops=u.colorStops.slice()},addColorStop:function(u){for(var c in u){var p=new w.Color(u[c]);this.colorStops.push({offset:parseFloat(c),color:p.toRgb(),opacity:p.getAlpha()})}return this},toObject:function(u){var c={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return w.util.populateWithProperties(this,c,u),c},toSVG:function(u,v){var g,f,C,D,p=b(this.coords,!0),E=(v=v||{},b(this.colorStops,!0)),R=p.r1>p.r2,B=this.gradientTransform?this.gradientTransform.concat():w.iMatrix.concat(),H=-this.offsetX,q=-this.offsetY,se=!!v.additionalTransform,he="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(E.sort(function(Ve,it){return Ve.offset-it.offset}),"objectBoundingBox"===he?(H/=u.width,q/=u.height):(H+=u.width/2,q+=u.height/2),"path"===u.type&&"percentage"!==this.gradientUnits&&(H-=u.pathOffset.x,q-=u.pathOffset.y),B[4]-=H,B[5]-=q,D='id="SVGID_'+this.id+'" gradientUnits="'+he+'"',D+=' gradientTransform="'+(se?v.additionalTransform+" ":"")+w.util.matrixToSVG(B)+'" ',"linear"===this.type?C=["<linearGradient ",D,' x1="',p.x1,'" y1="',p.y1,'" x2="',p.x2,'" y2="',p.y2,'">\n']:"radial"===this.type&&(C=["<radialGradient ",D,' cx="',R?p.x1:p.x2,'" cy="',R?p.y1:p.y2,'" r="',R?p.r1:p.r2,'" fx="',R?p.x2:p.x1,'" fy="',R?p.y2:p.y1,'">\n']),"radial"===this.type){if(R)for((E=E.concat()).reverse(),g=0,f=E.length;g<f;g++)E[g].offset=1-E[g].offset;var De=Math.min(p.r1,p.r2);if(De>0){var Re=De/Math.max(p.r1,p.r2);for(g=0,f=E.length;g<f;g++)E[g].offset+=Re*(1-E[g].offset)}}for(g=0,f=E.length;g<f;g++){var Le=E[g];C.push("<stop ",'offset="',100*Le.offset+"%",'" style="stop-color:',Le.color,typeof Le.opacity<"u"?";stop-opacity: "+Le.opacity:";",'"/>\n')}return C.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),C.join("")},toLive:function(u){var c,g,f,p=w.util.object.clone(this.coords);if(this.type){for("linear"===this.type?c=u.createLinearGradient(p.x1,p.y1,p.x2,p.y2):"radial"===this.type&&(c=u.createRadialGradient(p.x1,p.y1,p.r1,p.x2,p.y2,p.r2)),g=0,f=this.colorStops.length;g<f;g++){var v=this.colorStops[g].color,C=this.colorStops[g].opacity,D=this.colorStops[g].offset;typeof C<"u"&&(v=new w.Color(v).setAlpha(C).toRgba()),c.addColorStop(D,v)}return c}}}),w.util.object.extend(w.Gradient,{fromElement:function(u,c,p,g){var f=parseFloat(p)/(/%$/.test(p)?100:1);f=f<0?0:f>1?1:f,isNaN(f)&&(f=1);var C,B,H,he,v=u.getElementsByTagName("stop"),D="userSpaceOnUse"===u.getAttribute("gradientUnits")?"pixels":"percentage",E=u.getAttribute("gradientTransform")||"",R=[],q=0,se=0;for("linearGradient"===u.nodeName||"LINEARGRADIENT"===u.nodeName?(C="linear",B=function h(u){return{x1:u.getAttribute("x1")||0,y1:u.getAttribute("y1")||0,x2:u.getAttribute("x2")||"100%",y2:u.getAttribute("y2")||0}}(u)):(C="radial",B=function _(u){return{x1:u.getAttribute("fx")||u.getAttribute("cx")||"50%",y1:u.getAttribute("fy")||u.getAttribute("cy")||"50%",r1:0,x2:u.getAttribute("cx")||"50%",y2:u.getAttribute("cy")||"50%",r2:u.getAttribute("r")||"50%"}}(u)),H=v.length;H--;)R.push(y(v[H],f));return he=w.parseTransformAttribute(E),function d(u,c,p,g){var f,v;Object.keys(c).forEach(function(C){"Infinity"===(f=c[C])?v=1:"-Infinity"===f?v=0:(v=parseFloat(c[C],10),"string"==typeof f&&/^(\d+\.\d+)%|(\d+)%$/.test(f)&&(v*=.01,"pixels"===g&&(("x1"===C||"x2"===C||"r2"===C)&&(v*=p.viewBoxWidth||p.width),("y1"===C||"y2"===C)&&(v*=p.viewBoxHeight||p.height)))),c[C]=v})}(0,B,g,D),"pixels"===D&&(q=-c.left,se=-c.top),new w.Gradient({id:u.getAttribute("id"),type:C,coords:B,colorStops:R,gradientUnits:D,gradientTransform:he,offsetX:q,offsetY:se})}})}(),function(){"use strict";var y=w.util.toFixed;w.Pattern=w.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(h,_){if(h||(h={}),this.id=w.Object.__uid++,this.setOptions(h),!h.source||h.source&&"string"!=typeof h.source)_&&_(this);else{var b=this;this.source=w.util.createImage(),w.util.loadImage(h.source,function(d,u){b.source=d,_&&_(b,u)},null,this.crossOrigin)}},toObject:function(h){var b,d,_=w.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?b=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(b=this.source.toDataURL()),d={type:"pattern",source:b,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:y(this.offsetX,_),offsetY:y(this.offsetY,_),patternTransform:this.patternTransform?this.patternTransform.concat():null},w.util.populateWithProperties(this,d,h),d},toSVG:function(h){var _="function"==typeof this.source?this.source():this.source,b=_.width/h.width,d=_.height/h.height,u=this.offsetX/h.width,c=this.offsetY/h.height,p="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(d=1,c&&(d+=Math.abs(c))),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(b=1,u&&(b+=Math.abs(u))),_.src?p=_.src:_.toDataURL&&(p=_.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+u+'" y="'+c+'" width="'+b+'" height="'+d+'">\n<image x="0" y="0" width="'+_.width+'" height="'+_.height+'" xlink:href="'+p+'"></image>\n</pattern>\n'},setOptions:function(h){for(var _ in h)this[_]=h[_]},toLive:function(h){var _=this.source;return!_||typeof _.src<"u"&&(!_.complete||0===_.naturalWidth||0===_.naturalHeight)?"":h.createPattern(_,this.repeat)}})}(),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.toFixed;h.Shadow?h.warn("fabric.Shadow is already defined."):(h.Shadow=h.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(b){for(var d in"string"==typeof b&&(b=this._parseShadow(b)),b)this[d]=b[d];this.id=h.Object.__uid++},_parseShadow:function(b){var d=b.trim(),u=h.Shadow.reOffsetsAndBlur.exec(d)||[];return{color:(d.replace(h.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(u[1],10)||0,offsetY:parseFloat(u[2],10)||0,blur:parseFloat(u[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(b){var d=40,u=40,c=h.Object.NUM_FRACTION_DIGITS,p=h.util.rotateVector({x:this.offsetX,y:this.offsetY},h.util.degreesToRadians(-b.angle)),f=new h.Color(this.color);return b.width&&b.height&&(d=100*_((Math.abs(p.x)+this.blur)/b.width,c)+20,u=100*_((Math.abs(p.y)+this.blur)/b.height,c)+20),b.flipX&&(p.x*=-1),b.flipY&&(p.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+u+'%" height="'+(100+2*u)+'%" x="-'+d+'%" width="'+(100+2*d)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+_(this.blur?this.blur/2:0,c)+'"></feGaussianBlur>\n\t<feOffset dx="'+_(p.x,c)+'" dy="'+_(p.y,c)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+f.toRgb()+'" flood-opacity="'+f.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var b={},d=h.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(u){this[u]!==d[u]&&(b[u]=this[u])},this),b}}),h.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(ce),function(){"use strict";if(w.StaticCanvas)w.warn("fabric.StaticCanvas is already defined.");else{var y=w.util.object.extend,h=w.util.getElementOffset,_=w.util.removeFromArray,b=w.util.toFixed,d=w.util.transformPoint,u=w.util.invertTransform,c=w.util.getNodeCanvas,p=w.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");w.StaticCanvas=w.util.createClass(w.CommonMethods,{initialize:function(f,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:w.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(f,v){var C=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(f),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,C),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,C),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,C),v.overlayColor&&this.setOverlayColor(v.overlayColor,C),this.calcOffset()},_isRetinaScaling:function(){return w.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,w.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var f=w.devicePixelRatio;this.__initRetinaScaling(f,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(f,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(f,v,C){v.setAttribute("width",this.width*f),v.setAttribute("height",this.height*f),C.scale(f,f)},calcOffset:function(){return this._offset=h(this.lowerCanvasEl),this},setOverlayImage:function(f,v,C){return this.__setBgOverlayImage("overlayImage",f,v,C)},setBackgroundImage:function(f,v,C){return this.__setBgOverlayImage("backgroundImage",f,v,C)},setOverlayColor:function(f,v){return this.__setBgOverlayColor("overlayColor",f,v)},setBackgroundColor:function(f,v){return this.__setBgOverlayColor("backgroundColor",f,v)},__setBgOverlayImage:function(f,v,C,D){return"string"==typeof v?w.util.loadImage(v,function(E,R){if(E){var B=new w.Image(E,D);this[f]=B,B.canvas=this}C&&C(E,R)},this,D&&D.crossOrigin):(D&&v.setOptions(D),this[f]=v,v&&(v.canvas=this),C&&C(v,!1)),this},__setBgOverlayColor:function(f,v,C){return this[f]=v,this._initGradient(v,f),this._initPattern(v,f,C),this},_createCanvasElement:function(){var f=p();if(!f||(f.style||(f.style={}),typeof f.getContext>"u"))throw g;return f},_initOptions:function(f){var v=this.lowerCanvasEl;this._setOptions(f),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(f){this.lowerCanvasEl=f&&f.getContext?f:w.util.getById(f)||this._createCanvasElement(),w.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(f,v){return this.setDimensions({width:f},v)},setHeight:function(f,v){return this.setDimensions({height:f},v)},setDimensions:function(f,v){var C;for(var D in v=v||{},f)C=f[D],v.cssOnly||(this._setBackstoreDimension(D,f[D]),C+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(D,C);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(f,v){return this.lowerCanvasEl[f]=v,this.upperCanvasEl&&(this.upperCanvasEl[f]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[f]=v),this[f]=v,this},_setCssDimension:function(f,v){return this.lowerCanvasEl.style[f]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[f]=v),this.wrapperEl&&(this.wrapperEl.style[f]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(f){var E,R,B,v=this._activeObject,C=this.backgroundImage,D=this.overlayImage;for(this.viewportTransform=f,R=0,B=this._objects.length;R<B;R++)(E=this._objects[R]).group||E.setCoords(!0);return v&&v.setCoords(),C&&C.setCoords(!0),D&&D.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(f,v){var C=f,D=this.viewportTransform.slice(0);f=d(f,u(this.viewportTransform)),D[0]=v,D[3]=v;var E=d(f,D);return D[4]+=C.x-E.x,D[5]+=C.y-E.y,this.setViewportTransform(D)},setZoom:function(f){return this.zoomToPoint(new w.Point(0,0),f),this},absolutePan:function(f){var v=this.viewportTransform.slice(0);return v[4]=-f.x,v[5]=-f.y,this.setViewportTransform(v)},relativePan:function(f){return this.absolutePan(new w.Point(-f.x-this.viewportTransform[4],-f.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(f){this.stateful&&f.setupState(),f._set("canvas",this),f.setCoords(),this.fire("object:added",{target:f}),f.fire("added")},_onObjectRemoved:function(f){this.fire("object:removed",{target:f}),f.fire("removed"),delete f.canvas},clearContext:function(f){return f.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=w.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var f={},v=this.width,C=this.height,D=u(this.viewportTransform);return f.tl=d({x:0,y:0},D),f.br=d({x:v,y:C},D),f.tr=new w.Point(f.br.x,f.tl.y),f.bl=new w.Point(f.tl.x,f.br.y),this.vptCoords=f,f},cancelRequestedRender:function(){this.isRendering&&(w.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(f,v){var C=this.viewportTransform,D=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(f),w.util.setImageSmoothing(f,this.imageSmoothingEnabled),this.fire("before:render",{ctx:f}),this._renderBackground(f),f.save(),f.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._renderObjects(f,v),f.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),D&&(D.canvas=this,D.shouldCache(),D._transformDone=!0,D.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(f)),this._renderOverlay(f),this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),this.fire("after:render",{ctx:f})},drawClipPathOnCanvas:function(f){var v=this.viewportTransform,C=this.clipPath;f.save(),f.transform(v[0],v[1],v[2],v[3],v[4],v[5]),f.globalCompositeOperation="destination-in",C.transform(f),f.scale(1/C.zoomX,1/C.zoomY),f.drawImage(C._cacheCanvas,-C.cacheTranslationX,-C.cacheTranslationY),f.restore()},_renderObjects:function(f,v){var C,D;for(C=0,D=v.length;C<D;++C)v[C]&&v[C].render(f)},_renderBackgroundOrOverlay:function(f,v){var C=this[v+"Color"],D=this[v+"Image"],E=this.viewportTransform,R=this[v+"Vpt"];if(C||D){if(C){f.save(),f.beginPath(),f.moveTo(0,0),f.lineTo(this.width,0),f.lineTo(this.width,this.height),f.lineTo(0,this.height),f.closePath(),f.fillStyle=C.toLive?C.toLive(f,this):C,R&&f.transform(E[0],E[1],E[2],E[3],E[4],E[5]),f.transform(1,0,0,1,C.offsetX||0,C.offsetY||0);var B=C.gradientTransform||C.patternTransform;B&&f.transform(B[0],B[1],B[2],B[3],B[4],B[5]),f.fill(),f.restore()}if(D){f.save();var H=this.skipOffscreen;this.skipOffscreen=R,R&&f.transform(E[0],E[1],E[2],E[3],E[4],E[5]),D.render(f),this.skipOffscreen=H,f.restore()}}},_renderBackground:function(f){this._renderBackgroundOrOverlay(f,"background")},_renderOverlay:function(f){this._renderBackgroundOrOverlay(f,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new w.Point(this.width/2,this.height/2)},centerObjectH:function(f){return this._centerObject(f,new w.Point(this.getCenterPoint().x,f.getCenterPoint().y))},centerObjectV:function(f){return this._centerObject(f,new w.Point(f.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(f){var v=this.getCenterPoint();return this._centerObject(f,v)},viewportCenterObject:function(f){var v=this.getVpCenter();return this._centerObject(f,v)},viewportCenterObjectH:function(f){var v=this.getVpCenter();return this._centerObject(f,new w.Point(v.x,f.getCenterPoint().y)),this},viewportCenterObjectV:function(f){var v=this.getVpCenter();return this._centerObject(f,new w.Point(f.getCenterPoint().x,v.y))},getVpCenter:function(){var f=this.getCenterPoint(),v=u(this.viewportTransform);return d(f,v)},_centerObject:function(f,v){return f.setPositionByOrigin(v,"center","center"),f.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(f){return this.toDatalessObject(f)},toObject:function(f){return this._toObjectMethod("toObject",f)},toDatalessObject:function(f){return this._toObjectMethod("toDatalessObject",f)},_toObjectMethod:function(f,v){var C=this.clipPath,D={version:w.version,objects:this._toObjects(f,v)};return C&&!C.excludeFromExport&&(D.clipPath=this._toObject(this.clipPath,f,v)),y(D,this.__serializeBgOverlay(f,v)),w.util.populateWithProperties(this,D,v),D},_toObjects:function(f,v){return this._objects.filter(function(C){return!C.excludeFromExport}).map(function(C){return this._toObject(C,f,v)},this)},_toObject:function(f,v,C){var D;this.includeDefaultValues||(D=f.includeDefaultValues,f.includeDefaultValues=!1);var E=f[v](C);return this.includeDefaultValues||(f.includeDefaultValues=D),E},__serializeBgOverlay:function(f,v){var C={},D=this.backgroundImage,E=this.overlayImage,R=this.backgroundColor,B=this.overlayColor;return R&&R.toObject?R.excludeFromExport||(C.background=R.toObject(v)):R&&(C.background=R),B&&B.toObject?B.excludeFromExport||(C.overlay=B.toObject(v)):B&&(C.overlay=B),D&&!D.excludeFromExport&&(C.backgroundImage=this._toObject(D,f,v)),E&&!E.excludeFromExport&&(C.overlayImage=this._toObject(E,f,v)),C},svgViewportTransformation:!0,toSVG:function(f,v){f||(f={}),f.reviver=v;var C=[];return this._setSVGPreamble(C,f),this._setSVGHeader(C,f),this.clipPath&&C.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(C,"background"),this._setSVGBgOverlayImage(C,"backgroundImage",v),this._setSVGObjects(C,v),this.clipPath&&C.push("</g>\n"),this._setSVGBgOverlayColor(C,"overlay"),this._setSVGBgOverlayImage(C,"overlayImage",v),C.push("</svg>"),C.join("")},_setSVGPreamble:function(f,v){v.suppressPreamble||f.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(f,v){var E,C=v.width||this.width,D=v.height||this.height,R='viewBox="0 0 '+this.width+" "+this.height+'" ',B=w.Object.NUM_FRACTION_DIGITS;v.viewBox?R='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(R='viewBox="'+b(-(E=this.viewportTransform)[4]/E[0],B)+" "+b(-E[5]/E[3],B)+" "+b(this.width/E[0],B)+" "+b(this.height/E[3],B)+'" '),f.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',C,'" ','height="',D,'" ',R,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",w.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),"</defs>\n")},createSVGClipPathMarkup:function(f){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+w.Object.__uid++,'<clipPath id="'+v.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(f.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var f=this;return["background","overlay"].map(function(C){var D=f[C+"Color"];if(D&&D.toLive){var E=f[C+"Vpt"],R=f.viewportTransform;return D.toSVG({width:f.width/(E?R[0]:1),height:f.height/(E?R[3]:1)},{additionalTransform:E?w.util.matrixToSVG(R):""})}}).join("")},createSVGFontFacesMarkup:function(){var C,D,E,R,B,q,se,he,f="",v={},De=w.fontPaths,Pe=[];for(this._objects.forEach(function Le(Ve){Pe.push(Ve),Ve._objects&&Ve._objects.forEach(Le)}),se=0,he=Pe.length;se<he;se++)if(D=(C=Pe[se]).fontFamily,-1!==C.type.indexOf("text")&&!v[D]&&De[D]&&(v[D]=!0,C.styles))for(B in E=C.styles)for(q in R=E[B])!v[D=R[q].fontFamily]&&De[D]&&(v[D]=!0);for(var Re in v)f+=["\t\t@font-face {\n","\t\t\tfont-family: '",Re,"';\n","\t\t\tsrc: url('",De[Re],"');\n","\t\t}\n"].join("");return f&&(f=['\t<style type="text/css">',"<![CDATA[\n",f,"]]>","</style>\n"].join("")),f},_setSVGObjects:function(f,v){var C,D,E,R=this._objects;for(D=0,E=R.length;D<E;D++)!(C=R[D]).excludeFromExport&&this._setSVGObject(f,C,v)},_setSVGObject:function(f,v,C){f.push(v.toSVG(C))},_setSVGBgOverlayImage:function(f,v,C){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&f.push(this[v].toSVG(C))},_setSVGBgOverlayColor:function(f,v){var C=this[v+"Color"],E=this.width,R=this.height;if(C)if(C.toLive){var B=C.repeat,H=w.util.invertTransform(this.viewportTransform),se=this[v+"Vpt"]?w.util.matrixToSVG(H):"";f.push('<rect transform="'+se+" translate(",E/2,",",R/2,')"',' x="',C.offsetX-E/2,'" y="',C.offsetY-R/2,'" ','width="',"repeat-y"===B||"no-repeat"===B?C.source.width:E,'" height="',"repeat-x"===B||"no-repeat"===B?C.source.height:R,'" fill="url(#SVGID_'+C.id+')"',"></rect>\n")}else f.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',C,'"',"></rect>\n")},sendToBack:function(f){if(!f)return this;var C,D,E,v=this._activeObject;if(f===v&&"activeSelection"===f.type)for(C=(E=v._objects).length;C--;)_(this._objects,D=E[C]),this._objects.unshift(D);else _(this._objects,f),this._objects.unshift(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(f){if(!f)return this;var C,D,E,v=this._activeObject;if(f===v&&"activeSelection"===f.type)for(E=v._objects,C=0;C<E.length;C++)_(this._objects,D=E[C]),this._objects.push(D);else _(this._objects,f),this._objects.push(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(f,v){if(!f)return this;var D,E,R,B,H,C=this._activeObject,q=0;if(f===C&&"activeSelection"===f.type)for(H=C._objects,D=0;D<H.length;D++)(R=this._objects.indexOf(E=H[D]))>0+q&&(B=R-1,_(this._objects,E),this._objects.splice(B,0,E)),q++;else 0!==(R=this._objects.indexOf(f))&&(B=this._findNewLowerIndex(f,R,v),_(this._objects,f),this._objects.splice(B,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(f,v,C){var D,E;if(C){for(D=v,E=v-1;E>=0;--E)if(f.intersectsWithObject(this._objects[E])||f.isContainedWithinObject(this._objects[E])||this._objects[E].isContainedWithinObject(f)){D=E;break}}else D=v-1;return D},bringForward:function(f,v){if(!f)return this;var D,E,R,B,H,C=this._activeObject,q=0;if(f===C&&"activeSelection"===f.type)for(D=(H=C._objects).length;D--;)(R=this._objects.indexOf(E=H[D]))<this._objects.length-1-q&&(B=R+1,_(this._objects,E),this._objects.splice(B,0,E)),q++;else(R=this._objects.indexOf(f))!==this._objects.length-1&&(B=this._findNewUpperIndex(f,R,v),_(this._objects,f),this._objects.splice(B,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(f,v,C){var D,E,R;if(C){for(D=v,E=v+1,R=this._objects.length;E<R;++E)if(f.intersectsWithObject(this._objects[E])||f.isContainedWithinObject(this._objects[E])||this._objects[E].isContainedWithinObject(f)){D=E;break}}else D=v+1;return D},moveTo:function(f,v){return _(this._objects,f),this._objects.splice(v,0,f),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(w.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),w.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),w.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),y(w.StaticCanvas.prototype,w.Observable),y(w.StaticCanvas.prototype,w.Collection),y(w.StaticCanvas.prototype,w.DataURLExporter),y(w.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(f){var v=p();if(!v||!v.getContext)return null;var C=v.getContext("2d");return C&&"setLineDash"===f?typeof C.setLineDash<"u":null}}),w.StaticCanvas.prototype.toJSON=w.StaticCanvas.prototype.toObject,w.isLikelyNode&&(w.StaticCanvas.prototype.createPNGStream=function(){var f=c(this.lowerCanvasEl);return f&&f.createPNGStream()},w.StaticCanvas.prototype.createJPEGStream=function(f){var v=c(this.lowerCanvasEl);return v&&v.createJPEGStream(f)})}}(),w.BaseBrush=w.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(y){y.strokeStyle=this.color,y.lineWidth=this.width,y.lineCap=this.strokeLineCap,y.miterLimit=this.strokeMiterLimit,y.lineJoin=this.strokeLineJoin,y.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(y){var h=this.canvas.viewportTransform;y.save(),y.transform(h[0],h[1],h[2],h[3],h[4],h[5])},_setShadow:function(){if(this.shadow){var y=this.canvas,h=this.shadow,_=y.contextTop,b=y.getZoom();y&&y._isRetinaScaling()&&(b*=w.devicePixelRatio),_.shadowColor=h.color,_.shadowBlur=h.blur*b,_.shadowOffsetX=h.offsetX*b,_.shadowOffsetY=h.offsetY*b}},needsFullRender:function(){return new w.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var y=this.canvas.contextTop;y.shadowColor="",y.shadowBlur=y.shadowOffsetX=y.shadowOffsetY=0},_isOutSideCanvas:function(y){return y.x<0||y.x>this.canvas.getWidth()||y.y<0||y.y>this.canvas.getHeight()}}),w.PencilBrush=w.util.createClass(w.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(y){this.canvas=y,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(y,h,_){var b=h.midPointFrom(_);return y.quadraticCurveTo(h.x,h.y,b.x,b.y),b},onMouseDown:function(y,h){this.canvas._isMainEvent(h.e)&&(this.drawStraightLine=h.e[this.straightLineKey],this._prepareForDrawing(y),this._captureDrawingPath(y),this._render())},onMouseMove:function(y,h){if(this.canvas._isMainEvent(h.e)&&(this.drawStraightLine=h.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(y))&&this._captureDrawingPath(y)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var _=this._points,b=_.length,d=this.canvas.contextTop;this._saveAndTransform(d),this.oldEnd&&(d.beginPath(),d.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(d,_[b-2],_[b-1],!0),d.stroke(),d.restore()}},onMouseUp:function(y){return!this.canvas._isMainEvent(y.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(y){var h=new w.Point(y.x,y.y);this._reset(),this._addPoint(h),this.canvas.contextTop.moveTo(h.x,h.y)},_addPoint:function(y){return!(this._points.length>1&&y.eq(this._points[this._points.length-1])||(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(y),0))},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(y){var h=new w.Point(y.x,y.y);return this._addPoint(h)},_render:function(y){var h,_,b=this._points[0],d=this._points[1];if(this._saveAndTransform(y=y||this.canvas.contextTop),y.beginPath(),2===this._points.length&&b.x===d.x&&b.y===d.y){var u=this.width/1e3;b=new w.Point(b.x,b.y),d=new w.Point(d.x,d.y),b.x-=u,d.x+=u}for(y.moveTo(b.x,b.y),h=1,_=this._points.length;h<_;h++)this._drawSegment(y,b,d),b=this._points[h],d=this._points[h+1];y.lineTo(b.x,b.y),y.stroke(),y.restore()},convertPointsToSVGPath:function(y){return w.util.getSmoothPathFromPoints(y,this.width/1e3)},_isEmptySVGPath:function(y){return"M 0 0 Q 0 0 0 0 L 0 0"===w.util.joinPath(y)},createPath:function(y){var h=new w.Path(y,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,h.shadow=new w.Shadow(this.shadow)),h},decimatePoints:function(y,h){if(y.length<=2)return y;var d,_=this.canvas.getZoom(),b=Math.pow(h/_,2),u=y.length-1,c=y[0],p=[c];for(d=1;d<u-1;d++)Math.pow(c.x-y[d].x,2)+Math.pow(c.y-y[d].y,2)>=b&&p.push(c=y[d]);return p.push(y[u]),p},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var h=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(h))this.canvas.requestRenderAll();else{var _=this.createPath(h);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:_}),this.canvas.add(_),this.canvas.requestRenderAll(),_.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:_})}}}),w.CircleBrush=w.util.createClass(w.BaseBrush,{width:10,initialize:function(y){this.canvas=y,this.points=[]},drawDot:function(y){var h=this.addPoint(y),_=this.canvas.contextTop;this._saveAndTransform(_),this.dot(_,h),_.restore()},dot:function(y,h){y.fillStyle=h.fill,y.beginPath(),y.arc(h.x,h.y,h.radius,0,2*Math.PI,!1),y.closePath(),y.fill()},onMouseDown:function(y){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(y)},_render:function(){var h,_,y=this.canvas.contextTop,b=this.points;for(this._saveAndTransform(y),h=0,_=b.length;h<_;h++)this.dot(y,b[h]);y.restore()},onMouseMove:function(y){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(y)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(y),this._render()):this.drawDot(y))},onMouseUp:function(){var h,_,y=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var b=[];for(h=0,_=this.points.length;h<_;h++){var d=this.points[h],u=new w.Circle({radius:d.radius,left:d.x,top:d.y,originX:"center",originY:"center",fill:d.fill});this.shadow&&(u.shadow=new w.Shadow(this.shadow)),b.push(u)}var c=new w.Group(b);c.canvas=this.canvas,this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=y,this.canvas.requestRenderAll()},addPoint:function(y){var h=new w.Point(y.x,y.y),_=w.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,b=new w.Color(this.color).setAlpha(w.util.getRandomInt(0,100)/100).toRgba();return h.radius=_,h.fill=b,this.points.push(h),h}}),w.SprayBrush=w.util.createClass(w.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(y){this.canvas=y,this.sprayChunks=[]},onMouseDown:function(y){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(y),this.render(this.sprayChunkPoints)},onMouseMove:function(y){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(y)||(this.addSprayChunk(y),this.render(this.sprayChunkPoints))},onMouseUp:function(){var y=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var h=[],_=0,b=this.sprayChunks.length;_<b;_++)for(var d=this.sprayChunks[_],u=0,c=d.length;u<c;u++){var p=new w.Rect({width:d[u].width,height:d[u].width,left:d[u].x+1,top:d[u].y+1,originX:"center",originY:"center",fill:this.color});h.push(p)}this.optimizeOverlapping&&(h=this._getOptimizedRects(h));var g=new w.Group(h);this.shadow&&g.set("shadow",new w.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=y,this.canvas.requestRenderAll()},_getOptimizedRects:function(y){var _,b,d,h={};for(b=0,d=y.length;b<d;b++)h[_=y[b].left+""+y[b].top]||(h[_]=y[b]);var u=[];for(_ in h)u.push(h[_]);return u},render:function(y){var _,b,h=this.canvas.contextTop;for(h.fillStyle=this.color,this._saveAndTransform(h),_=0,b=y.length;_<b;_++){var d=y[_];typeof d.opacity<"u"&&(h.globalAlpha=d.opacity),h.fillRect(d.x,d.y,d.width,d.width)}h.restore()},_render:function(){var h,_,y=this.canvas.contextTop;for(y.fillStyle=this.color,this._saveAndTransform(y),h=0,_=this.sprayChunks.length;h<_;h++)this.render(this.sprayChunks[h]);y.restore()},addSprayChunk:function(y){this.sprayChunkPoints=[];var h,_,b,u,d=this.width/2;for(u=0;u<this.density;u++){h=w.util.getRandomInt(y.x-d,y.x+d),_=w.util.getRandomInt(y.y-d,y.y+d),b=this.dotWidthVariance?w.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var c=new w.Point(h,_);c.width=b,this.randomOpacity&&(c.opacity=w.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(c)}this.sprayChunks.push(this.sprayChunkPoints)}}),w.PatternBrush=w.util.createClass(w.PencilBrush,{getPatternSrc:function(){var _=w.util.createCanvasElement(),b=_.getContext("2d");return _.width=_.height=25,b.fillStyle=this.color,b.beginPath(),b.arc(10,10,10,0,2*Math.PI,!1),b.closePath(),b.fill(),_},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(y){return y.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(y){this.callSuper("_setBrushStyles",y),y.strokeStyle=this.getPattern(y)},createPath:function(y){var h=this.callSuper("createPath",y),_=h._getLeftTopCoords().scalarAdd(h.strokeWidth/2);return h.stroke=new w.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-_.x,offsetY:-_.y}),h}}),function(){var y=w.util.getPointer,h=w.util.degreesToRadians,_=w.util.isTouchEvent;for(var b in w.Canvas=w.util.createClass(w.StaticCanvas,{initialize:function(d,u){u||(u={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(d,u),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=w.PencilBrush&&new w.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var u,c,p,d=this.getActiveObjects();if(d.length>0&&!this.preserveObjectStacking){c=[],p=[];for(var g=0,f=this._objects.length;g<f;g++)-1===d.indexOf(u=this._objects[g])?c.push(u):p.push(u);d.length>1&&(this._activeObject._objects=p),c.push.apply(c,p)}else c=this._objects;return c},renderAll:function(){return this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(d){d.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(d),this.contextTopDirty=!0),d.restore()},renderTop:function(){var d=this.contextTop;return this.clearContext(d),this.renderTopLayer(d),this.fire("after:render"),this},_normalizePointer:function(d,u){var c=d.calcTransformMatrix(),p=w.util.invertTransform(c),g=this.restorePointerVpt(u);return w.util.transformPoint(g,p)},isTargetTransparent:function(d,u,c){if(d.shouldCache()&&d._cacheCanvas&&d!==this._activeObject){var p=this._normalizePointer(d,{x:u,y:c}),g=Math.max(d.cacheTranslationX+p.x*d.zoomX,0),f=Math.max(d.cacheTranslationY+p.y*d.zoomY,0);return w.util.isTransparent(d._cacheContext,Math.round(g),Math.round(f),this.targetFindTolerance)}var v=this.contextCache,C=d.selectionBackgroundColor,D=this.viewportTransform;return d.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(D[0],D[1],D[2],D[3],D[4],D[5]),d.render(v),v.restore(),d.selectionBackgroundColor=C,w.util.isTransparent(v,u,c,this.targetFindTolerance)},_isSelectionKeyPressed:function(d){return Array.isArray(this.selectionKey)?!!this.selectionKey.find(function(c){return!0===d[c]}):d[this.selectionKey]},_shouldClearSelection:function(d,u){var c=this.getActiveObjects(),p=this._activeObject;return!u||u&&p&&c.length>1&&-1===c.indexOf(u)&&p!==u&&!this._isSelectionKeyPressed(d)||u&&!u.evented||u&&!u.selectable&&p&&p!==u},_shouldCenterTransform:function(d,u,c){var p;if(d)return"scale"===u||"scaleX"===u||"scaleY"===u||"resizing"===u?p=this.centeredScaling||d.centeredScaling:"rotate"===u&&(p=this.centeredRotation||d.centeredRotation),p?!c:c},_getOriginFromCorner:function(d,u){var c={x:d.originX,y:d.originY};return"ml"===u||"tl"===u||"bl"===u?c.x="right":("mr"===u||"tr"===u||"br"===u)&&(c.x="left"),"tl"===u||"mt"===u||"tr"===u?c.y="bottom":("bl"===u||"mb"===u||"br"===u)&&(c.y="top"),c},_getActionFromCorner:function(d,u,c,p){if(!u||!d)return"drag";var g=p.controls[u];return g.getActionName(c,g,p)},_setupCurrentTransform:function(d,u,c){if(u){var p=this.getPointer(d),g=u.__corner,f=u.controls[g],v=c&&g?f.getActionHandler(d,u,f):w.controlsUtils.dragHandler,C=this._getActionFromCorner(c,g,d,u),D=this._getOriginFromCorner(u,g),E=d[this.centeredKey],R={target:u,action:C,actionHandler:v,corner:g,scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,offsetX:p.x-u.left,offsetY:p.y-u.top,originX:D.x,originY:D.y,ex:p.x,ey:p.y,lastX:p.x,lastY:p.y,theta:h(u.angle),width:u.width*u.scaleX,shiftKey:d.shiftKey,altKey:E,original:w.util.saveObjectTransform(u)};this._shouldCenterTransform(u,C,E)&&(R.originX="center",R.originY="center"),R.original.originX=D.x,R.original.originY=D.y,this._currentTransform=R,this._beforeTransform(d)}},setCursor:function(d){this.upperCanvasEl.style.cursor=d},_drawSelection:function(d){var u=this._groupSelector,c=new w.Point(u.ex,u.ey),p=w.util.transformPoint(c,this.viewportTransform),g=new w.Point(u.ex+u.left,u.ey+u.top),f=w.util.transformPoint(g,this.viewportTransform),v=Math.min(p.x,f.x),C=Math.min(p.y,f.y),D=Math.max(p.x,f.x),E=Math.max(p.y,f.y),R=this.selectionLineWidth/2;this.selectionColor&&(d.fillStyle=this.selectionColor,d.fillRect(v,C,D-v,E-C)),this.selectionLineWidth&&this.selectionBorderColor&&(d.lineWidth=this.selectionLineWidth,d.strokeStyle=this.selectionBorderColor,v+=R,C+=R,D-=R,E-=R,w.Object.prototype._setLineDash.call(this,d,this.selectionDashArray),d.strokeRect(v,C,D-v,E-C))},findTarget:function(d,u){if(!this.skipTargetFind){var v,C,p=this.getPointer(d,!0),g=this._activeObject,f=this.getActiveObjects(),D=_(d),E=f.length>1&&!u||1===f.length;if(this.targets=[],E&&g._findTargetCorner(p,D)||f.length>1&&!u&&g===this._searchPossibleTargets([g],p))return g;if(1===f.length&&g===this._searchPossibleTargets([g],p)){if(!this.preserveObjectStacking)return g;v=g,C=this.targets,this.targets=[]}var R=this._searchPossibleTargets(this._objects,p);return d[this.altSelectionKey]&&R&&v&&R!==v&&(R=v,this.targets=C),R}},_checkTarget:function(d,u,c){if(u&&u.visible&&u.evented&&u.containsPoint(d)){if(!this.perPixelTargetFind&&!u.perPixelTargetFind||u.isEditing)return!0;if(!this.isTargetTransparent(u,c.x,c.y))return!0}},_searchPossibleTargets:function(d,u){for(var c,g,p=d.length;p--;){var f=d[p],v=f.group?this._normalizePointer(f.group,u):u;if(this._checkTarget(v,f,u)){(c=d[p]).subTargetCheck&&c instanceof w.Group&&(g=this._searchPossibleTargets(c._objects,u))&&this.targets.push(g);break}}return c},restorePointerVpt:function(d){return w.util.transformPoint(d,w.util.invertTransform(this.viewportTransform))},getPointer:function(d,u){if(this._absolutePointer&&!u)return this._absolutePointer;if(this._pointer&&u)return this._pointer;var C,c=y(d),p=this.upperCanvasEl,g=p.getBoundingClientRect(),f=g.width||0,v=g.height||0;(!f||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(f=Math.abs(g.right-g.left))),this.calcOffset(),c.x=c.x-this._offset.left,c.y=c.y-this._offset.top,u||(c=this.restorePointerVpt(c));var D=this.getRetinaScaling();return 1!==D&&(c.x/=D,c.y/=D),{x:c.x*(C=0===f||0===v?{width:1,height:1}:{width:p.width/f,height:p.height/v}).width,y:c.y*C.height}},_createUpperCanvas:function(){var d=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),u=this.lowerCanvasEl,c=this.upperCanvasEl;c?c.className="":(c=this._createCanvasElement(),this.upperCanvasEl=c),w.util.addClass(c,"upper-canvas "+d),this.wrapperEl.appendChild(c),this._copyCanvasStyle(u,c),this._applyCanvasStyle(c),this.contextTop=c.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=w.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),w.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),w.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(d){var u=this.width||d.width,c=this.height||d.height;w.util.setStyle(d,{position:"absolute",width:u+"px",height:c+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),d.width=u,d.height=c,w.util.makeElementUnselectable(d)},_copyCanvasStyle:function(d,u){u.style.cssText=d.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var d=this._activeObject;return d?"activeSelection"===d.type&&d._objects?d._objects.slice(0):[d]:[]},_onObjectRemoved:function(d){d===this._activeObject&&(this.fire("before:selection:cleared",{target:d}),this._discardActiveObject(),this.fire("selection:cleared",{target:d}),d.fire("deselected")),d===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",d)},_fireSelectionEvents:function(d,u){var c=!1,p=this.getActiveObjects(),g=[],f=[];d.forEach(function(v){-1===p.indexOf(v)&&(c=!0,v.fire("deselected",{e:u,target:v}),f.push(v))}),p.forEach(function(v){-1===d.indexOf(v)&&(c=!0,v.fire("selected",{e:u,target:v}),g.push(v))}),d.length>0&&p.length>0?c&&this.fire("selection:updated",{e:u,selected:g,deselected:f}):p.length>0?this.fire("selection:created",{e:u,selected:g}):d.length>0&&this.fire("selection:cleared",{e:u,deselected:f})},setActiveObject:function(d,u){var c=this.getActiveObjects();return this._setActiveObject(d,u),this._fireSelectionEvents(c,u),this},_setActiveObject:function(d,u){return!(this._activeObject===d||!this._discardActiveObject(u,d)||d.onSelect({e:u})||(this._activeObject=d,0))},_discardActiveObject:function(d,u){var c=this._activeObject;if(c){if(c.onDeselect({e:d,object:u}))return!1;this._activeObject=null}return!0},discardActiveObject:function(d){var u=this.getActiveObjects(),c=this.getActiveObject();return u.length&&this.fire("before:selection:cleared",{target:c,e:d}),this._discardActiveObject(d),this._fireSelectionEvents(u,d),this},dispose:function(){var d=this.wrapperEl;return this.removeListeners(),d.removeChild(this.upperCanvasEl),d.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(u){w.util.cleanUpJsdomNode(this[u]),this[u]=void 0}.bind(this)),d.parentNode&&d.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,w.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(d){var u=this._activeObject;u&&u._renderControls(d)},_toObject:function(d,u,c){var p=this._realizeGroupTransformOnObject(d),g=this.callSuper("_toObject",d,u,c);return this._unwindGroupTransformOnObject(d,p),g},_realizeGroupTransformOnObject:function(d){if(d.group&&"activeSelection"===d.group.type&&this._activeObject===d.group){var c={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(p){c[p]=d[p]}),w.util.addTransformToObject(d,this._activeObject.calcOwnMatrix()),c}return null},_unwindGroupTransformOnObject:function(d,u){u&&d.set(u)},_setSVGObject:function(d,u,c){var p=this._realizeGroupTransformOnObject(u);this.callSuper("_setSVGObject",d,u,c),this._unwindGroupTransformOnObject(u,p)},setViewportTransform:function(d){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),w.StaticCanvas.prototype.setViewportTransform.call(this,d)}}),w.StaticCanvas)"prototype"!==b&&(w.Canvas[b]=w.StaticCanvas[b])}(),function(){var y=w.util.addListener,h=w.util.removeListener,u={passive:!1};function c(p,g){return p.button&&p.button===g-1}w.util.object.extend(w.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(y,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(p,g){var f=this.upperCanvasEl,v=this._getEventPrefix();p(w.window,"resize",this._onResize),p(f,v+"down",this._onMouseDown),p(f,v+"move",this._onMouseMove,u),p(f,v+"out",this._onMouseOut),p(f,v+"enter",this._onMouseEnter),p(f,"wheel",this._onMouseWheel),p(f,"contextmenu",this._onContextMenu),p(f,"dblclick",this._onDoubleClick),p(f,"dragover",this._onDragOver),p(f,"dragenter",this._onDragEnter),p(f,"dragleave",this._onDragLeave),p(f,"drop",this._onDrop),this.enablePointerEvents||p(f,"touchstart",this._onTouchStart,u),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](f,"gesture",this._onGesture),eventjs[g](f,"drag",this._onDrag),eventjs[g](f,"orientation",this._onOrientationChange),eventjs[g](f,"shake",this._onShake),eventjs[g](f,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(h,"remove");var p=this._getEventPrefix();h(w.document,p+"up",this._onMouseUp),h(w.document,"touchend",this._onTouchEnd,u),h(w.document,p+"move",this._onMouseMove,u),h(w.document,"touchmove",this._onMouseMove,u)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(p,g){this.__onTransformGesture&&this.__onTransformGesture(p,g)},_onDrag:function(p,g){this.__onDrag&&this.__onDrag(p,g)},_onMouseWheel:function(p){this.__onMouseWheel(p)},_onMouseOut:function(p){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:p}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:p});var f=this;this._hoveredTargets.forEach(function(v){f.fire("mouse:out",{target:v,e:p}),v&&v.fire("mouseout",{e:p})}),this._hoveredTargets=[]},_onMouseEnter:function(p){!this._currentTransform&&!this.findTarget(p)&&(this.fire("mouse:over",{target:null,e:p}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(p,g){this.__onOrientationChange&&this.__onOrientationChange(p,g)},_onShake:function(p,g){this.__onShake&&this.__onShake(p,g)},_onLongPress:function(p,g){this.__onLongPress&&this.__onLongPress(p,g)},_onDragOver:function(p){p.preventDefault();var g=this._simpleEventHandler("dragover",p);this._fireEnterLeaveEvents(g,p)},_onDrop:function(p){return this._simpleEventHandler("drop:before",p),this._simpleEventHandler("drop",p)},_onContextMenu:function(p){return this.stopContextMenu&&(p.stopPropagation(),p.preventDefault()),!1},_onDoubleClick:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"dblclick"),this._resetTransformEventData(p)},getPointerId:function(p){var g=p.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?p.pointerId:-1},_isMainEvent:function(p){return!0===p.isPrimary||!1!==p.isPrimary&&("touchend"===p.type&&0===p.touches.length||!p.changedTouches||p.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(p){p.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(p)),this.__onMouseDown(p),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();y(w.document,"touchend",this._onTouchEnd,u),y(w.document,"touchmove",this._onMouseMove,u),h(g,f+"down",this._onMouseDown)},_onMouseDown:function(p){this.__onMouseDown(p),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();h(g,f+"move",this._onMouseMove,u),y(w.document,f+"up",this._onMouseUp),y(w.document,f+"move",this._onMouseMove,u)},_onTouchEnd:function(p){if(!(p.touches.length>0)){this.__onMouseUp(p),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();h(w.document,"touchend",this._onTouchEnd,u),h(w.document,"touchmove",this._onMouseMove,u);var f=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){y(f.upperCanvasEl,g+"down",f._onMouseDown),f._willAddMouseDown=0},400)}},_onMouseUp:function(p){this.__onMouseUp(p),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();this._isMainEvent(p)&&(h(w.document,f+"up",this._onMouseUp),h(w.document,f+"move",this._onMouseMove,u),y(g,f+"move",this._onMouseMove,u))},_onMouseMove:function(p){!this.allowTouchScrolling&&p.preventDefault&&p.preventDefault(),this.__onMouseMove(p)},_onResize:function(){this.calcOffset()},_shouldRender:function(p){var g=this._activeObject;return!!(!!g!=!!p||g&&p&&g!==p)},__onMouseUp:function(p){var g,f=this._currentTransform,v=this._groupSelector,C=!1,D=!v||0===v.left&&0===v.top;if(this._cacheTransformEventData(p),g=this._target,this._handleEvent(p,"up:before"),c(p,3))this.fireRightClick&&this._handleEvent(p,"up",3,D);else{if(c(p,2))return this.fireMiddleClick&&this._handleEvent(p,"up",2,D),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(p);else if(this._isMainEvent(p)){if(f&&(this._finalizeCurrentTransform(p),C=f.actionPerformed),!D){var E=g===this._activeObject;this._maybeGroupObjects(p),C||(C=this._shouldRender(g)||!E&&g===this._activeObject)}var R,B;if(g){if(R=g._findTargetCorner(this.getPointer(p,!0),w.util.isTouchEvent(p)),g.selectable&&g!==this._activeObject&&"up"===g.activeOn)this.setActiveObject(g,p),C=!0;else{var H=g.controls[R],q=H&&H.getMouseUpHandler(p,g,H);q&&q(p,f,(B=this.getPointer(p)).x,B.y)}g.isMoving=!1}if(f&&(f.target!==g||f.corner!==R)){var se=f.target&&f.target.controls[f.corner],he=se&&se.getMouseUpHandler(p,g,H);B=B||this.getPointer(p),he&&he(p,f,B.x,B.y)}this._setCursorFromEvent(p,g),this._handleEvent(p,"up",1,D),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),C?this.requestRenderAll():D||this.renderTop()}}},_simpleEventHandler:function(p,g){var f=this.findTarget(g),v=this.targets,C={e:g,target:f,subTargets:v};if(this.fire(p,C),f&&f.fire(p,C),!v)return f;for(var D=0;D<v.length;D++)v[D].fire(p,C);return f},_handleEvent:function(p,g,f,v){var C=this._target,D=this.targets||[],E={e:p,target:C,subTargets:D,button:f||1,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===g&&(E.currentTarget=this.findTarget(p),E.currentSubTargets=this.targets),this.fire("mouse:"+g,E),C&&C.fire("mouse"+g,E);for(var R=0;R<D.length;R++)D[R].fire("mouse"+g,E)},_finalizeCurrentTransform:function(p){var g=this._currentTransform,f=g.target,v={e:p,target:f,transform:g,action:g.action};f._scaling&&(f._scaling=!1),f.setCoords(),(g.actionPerformed||this.stateful&&f.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(p){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(p).requestRenderAll();var g=this.getPointer(p);this.freeDrawingBrush.onMouseDown(g,{e:p,pointer:g}),this._handleEvent(p,"down")},_onMouseMoveInDrawingMode:function(p){if(this._isCurrentlyDrawing){var g=this.getPointer(p);this.freeDrawingBrush.onMouseMove(g,{e:p,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(p,"move")},_onMouseUpInDrawingMode:function(p){var g=this.getPointer(p);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:p,pointer:g}),this._handleEvent(p,"up")},__onMouseDown:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"down:before");var g=this._target;if(c(p,3))this.fireRightClick&&this._handleEvent(p,"down",3);else if(c(p,2))this.fireMiddleClick&&this._handleEvent(p,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(p);else if(this._isMainEvent(p)&&!this._currentTransform){this._previousPointer=f=this._pointer;var v=this._shouldRender(g),C=this._shouldGroup(p,g);if(this._shouldClearSelection(p,g)?this.discardActiveObject(p):C&&(this._handleGrouping(p,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var D=g===this._activeObject;g.selectable&&"down"===g.activeOn&&this.setActiveObject(g,p);var E=g._findTargetCorner(this.getPointer(p,!0),w.util.isTouchEvent(p));if(g.__corner=E,g===this._activeObject&&(E||!C)){this._setupCurrentTransform(p,g,D);var R=g.controls[E],f=this.getPointer(p),B=R&&R.getMouseDownHandler(p,g,R);B&&B(p,this._currentTransform,f.x,f.y)}}this._handleEvent(p,"down"),(v||C)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(p){this._resetTransformEventData(),this._pointer=this.getPointer(p,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(p)||null},_beforeTransform:function(p){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:p,transform:g})},__onMouseMove:function(p){var g,f;if(this._handleEvent(p,"move:before"),this._cacheTransformEventData(p),this.isDrawingMode)this._onMouseMoveInDrawingMode(p);else if(this._isMainEvent(p)){var v=this._groupSelector;v?(v.left=(f=this._absolutePointer).x-v.ex,v.top=f.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(p):(g=this.findTarget(p)||null,this._setCursorFromEvent(p,g),this._fireOverOutEvents(g,p)),this._handleEvent(p,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(p,g){var f=this._hoveredTarget,v=this._hoveredTargets,C=this.targets,D=Math.max(v.length,C.length);this.fireSyntheticInOutEvents(p,g,{oldTarget:f,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var E=0;E<D;E++)this.fireSyntheticInOutEvents(C[E],g,{oldTarget:v[E],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(p,g){var f=this._draggedoverTarget,v=this._hoveredTargets,C=this.targets,D=Math.max(v.length,C.length);this.fireSyntheticInOutEvents(p,g,{oldTarget:f,evtOut:"dragleave",evtIn:"dragenter"});for(var E=0;E<D;E++)this.fireSyntheticInOutEvents(C[E],g,{oldTarget:v[E],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=p},fireSyntheticInOutEvents:function(p,g,f){var v,C,R,D=f.oldTarget,B=D!==p,H=f.canvasEvtIn,q=f.canvasEvtOut;B&&(v={e:g,target:p,previousTarget:D},C={e:g,target:D,nextTarget:p}),R=p&&B,D&&B&&(q&&this.fire(q,C),D.fire(f.evtOut,C)),R&&(H&&this.fire(H,v),p.fire(f.evtIn,v))},__onMouseWheel:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"wheel"),this._resetTransformEventData()},_transformObject:function(p){var g=this.getPointer(p),f=this._currentTransform;f.reset=!1,f.shiftKey=p.shiftKey,f.altKey=p[this.centeredKey],this._performTransformAction(p,f,g),f.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(p,g,f){var D=g.action,E=!1,R=g.actionHandler;R&&(E=R(p,g,f.x,f.y)),"drag"===D&&E&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||E},_fire:w.controlsUtils.fireEvent,_setCursorFromEvent:function(p,g){if(!g)return this.setCursor(this.defaultCursor),!1;var f=g.hoverCursor||this.hoverCursor,v=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,C=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(p,!0));C?this.setCursor(this.getCornerCursor(C,g,p)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(D){f=D.hoverCursor||f}),this.setCursor(f))},getCornerCursor:function(p,g,f){var v=g.controls[p];return v.cursorStyleHandler(f,v,g)}})}(),function(){var y=Math.min,h=Math.max;w.util.object.extend(w.Canvas.prototype,{_shouldGroup:function(_,b){var d=this._activeObject;return d&&this._isSelectionKeyPressed(_)&&b&&b.selectable&&this.selection&&(d!==b||"activeSelection"===d.type)&&!b.onSelect({e:_})},_handleGrouping:function(_,b){var d=this._activeObject;d.__corner||b===d&&(!(b=this.findTarget(_,!0))||!b.selectable)||(d&&"activeSelection"===d.type?this._updateActiveSelection(b,_):this._createActiveSelection(b,_))},_updateActiveSelection:function(_,b){var d=this._activeObject,u=d._objects.slice(0);d.contains(_)?(d.removeWithUpdate(_),this._hoveredTarget=_,this._hoveredTargets=this.targets.concat(),1===d.size()&&this._setActiveObject(d.item(0),b)):(d.addWithUpdate(_),this._hoveredTarget=d,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(u,b)},_createActiveSelection:function(_,b){var d=this.getActiveObjects(),u=this._createGroup(_);this._hoveredTarget=u,this._setActiveObject(u,b),this._fireSelectionEvents(d,b)},_createGroup:function(_){var b=this._objects,u=b.indexOf(this._activeObject)<b.indexOf(_)?[this._activeObject,_]:[_,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new w.ActiveSelection(u,{canvas:this})},_groupSelectedObjects:function(_){var d,b=this._collectObjects(_);1===b.length?this.setActiveObject(b[0],_):b.length>1&&(d=new w.ActiveSelection(b.reverse(),{canvas:this}),this.setActiveObject(d,_))},_collectObjects:function(_){for(var d,b=[],u=this._groupSelector.ex,c=this._groupSelector.ey,p=u+this._groupSelector.left,g=c+this._groupSelector.top,f=new w.Point(y(u,p),y(c,g)),v=new w.Point(h(u,p),h(c,g)),C=!this.selectionFullyContained,D=u===p&&c===g,E=this._objects.length;E--&&!((d=this._objects[E])&&d.selectable&&d.visible&&(C&&d.intersectsWithRect(f,v,!0)||d.isContainedWithinRect(f,v,!0)||C&&d.containsPoint(f,null,!0)||C&&d.containsPoint(v,null,!0))&&(b.push(d),D)););return b.length>1&&(b=b.filter(function(R){return!R.onSelect({e:_})})),b},_maybeGroupObjects:function(_){this.selection&&this._groupSelector&&this._groupSelectedObjects(_),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),w.util.object.extend(w.StaticCanvas.prototype,{toDataURL:function(y){y||(y={});var h=y.format||"png",_=y.quality||1,b=(y.multiplier||1)*(y.enableRetinaScaling?this.getRetinaScaling():1),d=this.toCanvasElement(b,y);return w.util.toDataURL(d,h,_)},toCanvasElement:function(y,h){var _=((h=h||{}).width||this.width)*(y=y||1),b=(h.height||this.height)*y,d=this.getZoom(),u=this.width,c=this.height,p=d*y,g=this.viewportTransform,C=this.interactive,D=[p,0,0,p,(g[4]-(h.left||0))*y,(g[5]-(h.top||0))*y],E=this.enableRetinaScaling,R=w.util.createCanvasElement(),B=this.contextTop;return R.width=_,R.height=b,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=D,this.width=_,this.height=b,this.calcViewportBoundaries(),this.renderCanvas(R.getContext("2d"),this._objects),this.viewportTransform=g,this.width=u,this.height=c,this.calcViewportBoundaries(),this.interactive=C,this.enableRetinaScaling=E,this.contextTop=B,R}}),w.util.object.extend(w.StaticCanvas.prototype,{loadFromJSON:function(y,h,_){if(y){var b="string"==typeof y?JSON.parse(y):w.util.object.clone(y),d=this,u=b.clipPath,c=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete b.clipPath,this._enlivenObjects(b.objects,function(p){d.clear(),d._setBgOverlay(b,function(){u?d._enlivenObjects([u],function(g){d.clipPath=g[0],d.__setupCanvas.call(d,b,p,c,h)}):d.__setupCanvas.call(d,b,p,c,h)})},_),this}},__setupCanvas:function(y,h,_,b){var d=this;h.forEach(function(u,c){d.insertAt(u,c)}),this.renderOnAddRemove=_,delete y.objects,delete y.backgroundImage,delete y.overlayImage,delete y.background,delete y.overlay,this._setOptions(y),this.renderAll(),b&&b()},_setBgOverlay:function(y,h){var _={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(y.backgroundImage||y.overlayImage||y.background||y.overlay){var b=function(){_.backgroundImage&&_.overlayImage&&_.backgroundColor&&_.overlayColor&&h&&h()};this.__setBgOverlay("backgroundImage",y.backgroundImage,_,b),this.__setBgOverlay("overlayImage",y.overlayImage,_,b),this.__setBgOverlay("backgroundColor",y.background,_,b),this.__setBgOverlay("overlayColor",y.overlay,_,b)}else h&&h()},__setBgOverlay:function(y,h,_,b){var d=this;if(!h)return _[y]=!0,void(b&&b());"backgroundImage"===y||"overlayImage"===y?w.util.enlivenObjects([h],function(u){d[y]=u[0],_[y]=!0,b&&b()}):this["set"+w.util.string.capitalize(y,!0)](h,function(){_[y]=!0,b&&b()})},_enlivenObjects:function(y,h,_){y&&0!==y.length?w.util.enlivenObjects(y,function(b){h&&h(b)},null,_):h&&h([])},_toDataURL:function(y,h){this.clone(function(_){h(_.toDataURL(y))})},_toDataURLWithMultiplier:function(y,h,_){this.clone(function(b){_(b.toDataURLWithMultiplier(y,h))})},clone:function(y,h){var _=JSON.stringify(this.toJSON(h));this.cloneWithoutData(function(b){b.loadFromJSON(_,function(){y&&y(b)})})},cloneWithoutData:function(y){var h=w.util.createCanvasElement();h.width=this.width,h.height=this.height;var _=new w.Canvas(h);this.backgroundImage?(_.setBackgroundImage(this.backgroundImage.src,function(){_.renderAll(),y&&y(_)}),_.backgroundImageOpacity=this.backgroundImageOpacity,_.backgroundImageStretch=this.backgroundImageStretch):y&&y(_)}}),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.extend,b=h.util.object.clone,d=h.util.toFixed,u=h.util.string.capitalize,c=h.util.degreesToRadians;h.Object||(h.Object=h.util.createClass(h.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!h.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(f){f&&this.setOptions(f)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=h.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(f){var v=h.perfLimitSizeTotal,C=f.width,D=f.height,E=h.maxCacheSideLimit,R=h.minCacheSideLimit;if(C<=E&&D<=E&&C*D<=v)return C<R&&(f.width=R),D<R&&(f.height=R),f;var H=h.util.limitDimsByArea(C/D,v),q=h.util.capValue,se=q(R,H.x,E),he=q(R,H.y,E);return C>se&&(f.zoomX/=C/se,f.width=se,f.capped=!0),D>he&&(f.zoomY/=D/he,f.height=he,f.capped=!0),f},_getCacheCanvasDimensions:function(){var f=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),C=v.x*f.scaleX/this.scaleX,D=v.y*f.scaleY/this.scaleY;return{width:Math.ceil(C+2),height:Math.ceil(D+2),zoomX:f.scaleX,zoomY:f.scaleY,x:C,y:D}},_updateCacheCanvas:function(){var f=this.canvas;if(this.noScaleCache&&f&&f._currentTransform){var C=f._currentTransform.action;if(this===f._currentTransform.target&&C.slice&&"scale"===C.slice(0,5))return!1}var H,q,D=this._cacheCanvas,E=this._limitCacheSize(this._getCacheCanvasDimensions()),R=E.width,B=E.height,se=E.zoomX,he=E.zoomY,De=R!==this.cacheWidth||B!==this.cacheHeight;return!(!De&&this.zoomX===se&&this.zoomY===he||(De?(D.width=R,D.height=B):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,D.width,D.height)),H=E.x/2,q=E.y/2,this.cacheTranslationX=Math.round(D.width/2-H)+H,this.cacheTranslationY=Math.round(D.height/2-q)+q,this.cacheWidth=R,this.cacheHeight=B,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(se,he),this.zoomX=se,this.zoomY=he,0))},setOptions:function(f){this._setOptions(f),this._initGradient(f.fill,"fill"),this._initGradient(f.stroke,"stroke"),this._initPattern(f.fill,"fill"),this._initPattern(f.stroke,"stroke")},transform:function(f){var C=this.calcTransformMatrix(!(this.group&&!this.group._transformDone||this.group&&this.canvas&&f===this.canvas.contextTop));f.transform(C[0],C[1],C[2],C[3],C[4],C[5])},toObject:function(f){var v=h.Object.NUM_FRACTION_DIGITS,C={type:this.type,version:h.version,originX:this.originX,originY:this.originY,left:d(this.left,v),top:d(this.top,v),width:d(this.width,v),height:d(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:d(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:d(this.strokeMiterLimit,v),scaleX:d(this.scaleX,v),scaleY:d(this.scaleY,v),angle:d(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:d(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:d(this.skewX,v),skewY:d(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(C.clipPath=this.clipPath.toObject(f),C.clipPath.inverted=this.clipPath.inverted,C.clipPath.absolutePositioned=this.clipPath.absolutePositioned),h.util.populateWithProperties(this,C,f),this.includeDefaultValues||(C=this._removeDefaultValues(C)),C},toDatalessObject:function(f){return this.toObject(f)},_removeDefaultValues:function(f){var v=h.util.getKlass(f.type).prototype;return v.stateProperties.forEach(function(D){"left"===D||"top"===D||(f[D]===v[D]&&delete f[D],Array.isArray(f[D])&&Array.isArray(v[D])&&0===f[D].length&&0===v[D].length&&delete f[D])}),f},toString:function(){return"#<fabric."+u(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var f=h.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(f.scaleX),scaleY:Math.abs(f.scaleY)}},getTotalObjectScaling:function(){var f=this.getObjectScaling(),v=f.scaleX,C=f.scaleY;if(this.canvas){var D=this.canvas.getZoom(),E=this.canvas.getRetinaScaling();v*=D*E,C*=D*E}return{scaleX:v,scaleY:C}},getObjectOpacity:function(){var f=this.opacity;return this.group&&(f*=this.group.getObjectOpacity()),f},_set:function(f,v){var D=this[f]!==v,E=!1;return("scaleX"===f||"scaleY"===f)&&(v=this._constrainScale(v)),"scaleX"===f&&v<0?(this.flipX=!this.flipX,v*=-1):"scaleY"===f&&v<0?(this.flipY=!this.flipY,v*=-1):"shadow"!==f||!v||v instanceof h.Shadow?"dirty"===f&&this.group&&this.group.set("dirty",v):v=new h.Shadow(v),this[f]=v,D&&(E=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(f)>-1?(this.dirty=!0,E&&this.group.set("dirty",!0)):E&&this.stateProperties.indexOf(f)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:h.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(f){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(f.save(),this._setupCompositeOperation(f),this.drawSelectionBackground(f),this.transform(f),this._setOpacity(f),this._setShadow(f,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(f)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(f),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),f.restore())},renderCache:function(f){f=f||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,f.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!!("stroke"===this.paintFirst&&this.hasFill()&&this.hasStroke()&&"object"==typeof this.shadow||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(f,v){if(f.save(),f.globalCompositeOperation=v.inverted?"destination-out":"destination-in",v.absolutePositioned){var C=h.util.invertTransform(this.calcTransformMatrix());f.transform(C[0],C[1],C[2],C[3],C[4],C[5])}v.transform(f),f.scale(1/v.zoomX,1/v.zoomY),f.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),f.restore()},drawObject:function(f,v){var C=this.fill,D=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(f)):this._renderBackground(f),this._render(f),this._drawClipPath(f,this.clipPath),this.fill=C,this.stroke=D},_drawClipPath:function(f,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(f,v))},drawCacheOnCanvas:function(f){f.scale(1/this.zoomX,1/this.zoomY),f.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(f){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!f&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!f){var v=this.cacheWidth/this.zoomX,C=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-C/2,v,C)}return!0}return!1},_renderBackground:function(f){if(this.backgroundColor){var v=this._getNonTransformedDimensions();f.fillStyle=this.backgroundColor,f.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(f)}},_setOpacity:function(f){this.group&&!this.group._transformDone?f.globalAlpha=this.getObjectOpacity():f.globalAlpha*=this.opacity},_setStrokeStyles:function(f,v){var C=v.stroke;C&&(f.lineWidth=v.strokeWidth,f.lineCap=v.strokeLineCap,f.lineDashOffset=v.strokeDashOffset,f.lineJoin=v.strokeLineJoin,f.miterLimit=v.strokeMiterLimit,C.toLive?"percentage"===C.gradientUnits||C.gradientTransform||C.patternTransform?this._applyPatternForTransformedGradient(f,C):(f.strokeStyle=C.toLive(f,this),this._applyPatternGradientTransform(f,C)):f.strokeStyle=v.stroke)},_setFillStyles:function(f,v){var C=v.fill;C&&(C.toLive?(f.fillStyle=C.toLive(f,this),this._applyPatternGradientTransform(f,v.fill)):f.fillStyle=C)},_setClippingProperties:function(f){f.globalAlpha=1,f.strokeStyle="transparent",f.fillStyle="#000000"},_setLineDash:function(f,v){!v||0===v.length||(1&v.length&&v.push.apply(v,v),f.setLineDash(v))},_renderControls:function(f,v){var E,R,B,C=this.getViewportTransform(),D=this.calcTransformMatrix();R=typeof(v=v||{}).hasBorders<"u"?v.hasBorders:this.hasBorders,B=typeof v.hasControls<"u"?v.hasControls:this.hasControls,D=h.util.multiplyTransformMatrices(C,D),E=h.util.qrDecompose(D),f.save(),f.translate(E.translateX,E.translateY),f.lineWidth=1*this.borderScaleFactor,this.group||(f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(E.angle-=180),f.rotate(c(this.group?E.angle:this.angle)),v.forActiveSelection||this.group?R&&this.drawBordersInGroup(f,E,v):R&&this.drawBorders(f,v),B&&this.drawControls(f,v),f.restore()},_setShadow:function(f){if(this.shadow){var D,v=this.shadow,C=this.canvas,E=C&&C.viewportTransform[0]||1,R=C&&C.viewportTransform[3]||1;D=v.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),C&&C._isRetinaScaling()&&(E*=h.devicePixelRatio,R*=h.devicePixelRatio),f.shadowColor=v.color,f.shadowBlur=v.blur*h.browserShadowBlurConstant*(E+R)*(D.scaleX+D.scaleY)/4,f.shadowOffsetX=v.offsetX*E*D.scaleX,f.shadowOffsetY=v.offsetY*R*D.scaleY}},_removeShadow:function(f){this.shadow&&(f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0)},_applyPatternGradientTransform:function(f,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var C=v.gradientTransform||v.patternTransform,D=-this.width/2+v.offsetX||0,E=-this.height/2+v.offsetY||0;return"percentage"===v.gradientUnits?f.transform(this.width,0,0,this.height,D,E):f.transform(1,0,0,1,D,E),C&&f.transform(C[0],C[1],C[2],C[3],C[4],C[5]),{offsetX:D,offsetY:E}},_renderPaintInOrder:function(f){"stroke"===this.paintFirst?(this._renderStroke(f),this._renderFill(f)):(this._renderFill(f),this._renderStroke(f))},_render:function(){},_renderFill:function(f){this.fill&&(f.save(),this._setFillStyles(f,this),"evenodd"===this.fillRule?f.fill("evenodd"):f.fill(),f.restore())},_renderStroke:function(f){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();f.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&f.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(f,this.strokeDashArray),this._setStrokeStyles(f,this),f.stroke(),f.restore()}},_applyPatternForTransformedGradient:function(f,v){var E,C=this._limitCacheSize(this._getCacheCanvasDimensions()),D=h.util.createCanvasElement(),R=this.canvas.getRetinaScaling(),B=C.x/this.scaleX/R,H=C.y/this.scaleY/R;D.width=Math.ceil(B),D.height=Math.ceil(H),(E=D.getContext("2d")).beginPath(),E.moveTo(0,0),E.lineTo(B,0),E.lineTo(B,H),E.lineTo(0,H),E.closePath(),E.translate(B/2,H/2),E.scale(C.zoomX/this.scaleX/R,C.zoomY/this.scaleY/R),this._applyPatternGradientTransform(E,v),E.fillStyle=v.toLive(f),E.fill(),f.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),f.scale(R*this.scaleX/C.zoomX,R*this.scaleY/C.zoomY),f.strokeStyle=E.createPattern(D,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var f=h.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",f.scaleX),this.set("scaleY",f.scaleY),this.angle=f.angle,this.skewX=f.skewX,this.skewY=0}},_removeTransformMatrix:function(f){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=h.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,f&&(this.scaleX*=f.scaleX,this.scaleY*=f.scaleY,this.cropX=f.cropX,this.cropY=f.cropY,v.x+=f.offsetLeft,v.y+=f.offsetTop,this.width=f.width,this.height=f.height),this.setPositionByOrigin(v,"center","center")},clone:function(f,v){var C=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(C,f):h.Object._fromObject("Object",C,f)},cloneAsImage:function(f,v){var C=this.toCanvasElement(v);return f&&f(new h.Image(C)),this},toCanvasElement:function(f){f||(f={});var v=h.util,C=v.saveObjectTransform(this),D=this.group,E=this.shadow,R=Math.abs,B=(f.multiplier||1)*(f.enableRetinaScaling?h.devicePixelRatio:1);delete this.group,f.withoutTransform&&v.resetObjectTransform(this),f.withoutShadow&&(this.shadow=null);var he,Pe,Le,H=h.util.createCanvasElement(),q=this.getBoundingRect(!0,!0),se=this.shadow,De={x:0,y:0};se&&(Pe=se.blur,he=se.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),De.x=2*Math.round(R(se.offsetX)+Pe)*R(he.scaleX),De.y=2*Math.round(R(se.offsetY)+Pe)*R(he.scaleY)),Le=q.height+De.y,H.width=Math.ceil(q.width+De.x),H.height=Math.ceil(Le);var Ve=new h.StaticCanvas(H,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===f.format&&(Ve.backgroundColor="#fff"),this.setPositionByOrigin(new h.Point(Ve.width/2,Ve.height/2),"center","center");var it=this.canvas;Ve.add(this);var dt=Ve.toCanvasElement(B||1,f);return this.shadow=E,this.set("canvas",it),D&&(this.group=D),this.set(C).setCoords(),Ve._objects=[],Ve.dispose(),Ve=null,dt},toDataURL:function(f){return f||(f={}),h.util.toDataURL(this.toCanvasElement(f),f.format||"png",f.quality||1)},isType:function(f){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===f},complexity:function(){return 1},toJSON:function(f){return this.toObject(f)},rotate:function(f){var v=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",f),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(f,v){v=v||this.canvas.getPointer(f);var C=new h.Point(v.x,v.y),D=this._getLeftTopCoords();return this.angle&&(C=h.util.rotatePoint(C,D,c(-this.angle))),{x:C.x-D.x,y:C.y-D.y}},_setupCompositeOperation:function(f){this.globalCompositeOperation&&(f.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){h.runningAnimations&&h.runningAnimations.cancelByTarget(this)}}),h.util.createAccessors&&h.util.createAccessors(h.Object),_(h.Object.prototype,h.Observable),h.Object.NUM_FRACTION_DIGITS=2,h.Object.ENLIVEN_PROPS=["clipPath"],h.Object._fromObject=function(f,v,C,D){var E=h[f];v=b(v,!0),h.util.enlivenPatterns([v.fill,v.stroke],function(R){typeof R[0]<"u"&&(v.fill=R[0]),typeof R[1]<"u"&&(v.stroke=R[1]),h.util.enlivenObjectEnlivables(v,v,function(){var B=D?new E(v[D],v):new E(v);C&&C(B)})})},h.Object.__uid=0)}(ce),function(){var y=w.util.degreesToRadians,h={left:-.5,center:0,right:.5},_={top:-.5,center:0,bottom:.5};w.util.object.extend(w.Object.prototype,{translateToGivenOrigin:function(b,d,u,c,p){var v,C,D,g=b.x,f=b.y;return"string"==typeof d?d=h[d]:d-=.5,"string"==typeof c?c=h[c]:c-=.5,"string"==typeof u?u=_[u]:u-=.5,"string"==typeof p?p=_[p]:p-=.5,C=p-u,((v=c-d)||C)&&(D=this._getTransformedDimensions(),g=b.x+v*D.x,f=b.y+C*D.y),new w.Point(g,f)},translateToCenterPoint:function(b,d,u){var c=this.translateToGivenOrigin(b,d,u,"center","center");return this.angle?w.util.rotatePoint(c,b,y(this.angle)):c},translateToOriginPoint:function(b,d,u){var c=this.translateToGivenOrigin(b,"center","center",d,u);return this.angle?w.util.rotatePoint(c,b,y(this.angle)):c},getCenterPoint:function(){var b=new w.Point(this.left,this.top);return this.translateToCenterPoint(b,this.originX,this.originY)},getPointByOrigin:function(b,d){var u=this.getCenterPoint();return this.translateToOriginPoint(u,b,d)},toLocalPoint:function(b,d,u){var p,g,c=this.getCenterPoint();return p=typeof d<"u"&&typeof u<"u"?this.translateToGivenOrigin(c,"center","center",d,u):new w.Point(this.left,this.top),g=new w.Point(b.x,b.y),this.angle&&(g=w.util.rotatePoint(g,c,-y(this.angle))),g.subtractEquals(p)},setPositionByOrigin:function(b,d,u){var c=this.translateToCenterPoint(b,d,u),p=this.translateToOriginPoint(c,this.originX,this.originY);this.set("left",p.x),this.set("top",p.y)},adjustPosition:function(b){var g,f,d=y(this.angle),u=this.getScaledWidth(),c=w.util.cos(d)*u,p=w.util.sin(d)*u;this.left+=c*((f="string"==typeof b?h[b]:b-.5)-(g="string"==typeof this.originX?h[this.originX]:this.originX-.5)),this.top+=p*(f-g),this.setCoords(),this.originX=b},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var b=this.getCenterPoint();this.originX="center",this.originY="center",this.left=b.x,this.top=b.y},_resetOrigin:function(){var b=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=b.x,this.top=b.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var h=w.util,_=h.degreesToRadians,b=h.multiplyTransformMatrices,d=h.transformPoint;h.object.extend(w.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(u,c){return c?u?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),u?this.aCoords:this.lineCoords)},getCoords:function(u,c){return function y(u){return[new w.Point(u.tl.x,u.tl.y),new w.Point(u.tr.x,u.tr.y),new w.Point(u.br.x,u.br.y),new w.Point(u.bl.x,u.bl.y)]}(this._getCoords(u,c))},intersectsWithRect:function(u,c,p,g){var f=this.getCoords(p,g);return"Intersection"===w.Intersection.intersectPolygonRectangle(f,u,c).status},intersectsWithObject:function(u,c,p){return"Intersection"===w.Intersection.intersectPolygonPolygon(this.getCoords(c,p),u.getCoords(c,p)).status||u.isContainedWithinObject(this,c,p)||this.isContainedWithinObject(u,c,p)},isContainedWithinObject:function(u,c,p){for(var g=this.getCoords(c,p),v=0,C=u._getImageLines(c?u.aCoords:u.lineCoords);v<4;v++)if(!u.containsPoint(g[v],C))return!1;return!0},isContainedWithinRect:function(u,c,p,g){var f=this.getBoundingRect(p,g);return f.left>=u.x&&f.left+f.width<=c.x&&f.top>=u.y&&f.top+f.height<=c.y},containsPoint:function(u,v,p,g){var f=this._getCoords(p,g),C=(v=v||this._getImageLines(f),this._findCrossPoints(u,v));return 0!==C&&C%2==1},isOnScreen:function(u){if(!this.canvas)return!1;var c=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br;return!(!this.getCoords(!0,u).some(function(f){return f.x<=p.x&&f.x>=c.x&&f.y<=p.y&&f.y>=c.y})&&!this.intersectsWithRect(c,p,!0,u))||this._containsCenterOfCanvas(c,p,u)},_containsCenterOfCanvas:function(u,c,p){return!!this.containsPoint({x:(u.x+c.x)/2,y:(u.y+c.y)/2},null,!0,p)},isPartiallyOnScreen:function(u){if(!this.canvas)return!1;var c=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br;return!!this.intersectsWithRect(c,p,!0,u)||this.getCoords(!0,u).every(function(f){return(f.x>=p.x||f.x<=c.x)&&(f.y>=p.y||f.y<=c.y)})&&this._containsCenterOfCanvas(c,p,u)},_getImageLines:function(u){return{topline:{o:u.tl,d:u.tr},rightline:{o:u.tr,d:u.br},bottomline:{o:u.br,d:u.bl},leftline:{o:u.bl,d:u.tl}}},_findCrossPoints:function(u,c){var g,f,v,C,E,D=0;for(var R in c)if(!((E=c[R]).o.y<u.y&&E.d.y<u.y||E.o.y>=u.y&&E.d.y>=u.y||(E.o.x===E.d.x&&E.o.x>=u.x?C=E.o.x:(g=(E.d.y-E.o.y)/(E.d.x-E.o.x),f=u.y-0*u.x,v=E.o.y-g*E.o.x,C=-(f-v)/(0-g)),C>=u.x&&(D+=1),2!==D)))break;return D},getBoundingRect:function(u,c){var p=this.getCoords(u,c);return h.makeBoundingBoxFromPoints(p)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(u){return Math.abs(u)<this.minScaleLimit?u<0?-this.minScaleLimit:this.minScaleLimit:0===u?1e-4:u},scale:function(u){return this._set("scaleX",u),this._set("scaleY",u),this.setCoords()},scaleToWidth:function(u,c){var p=this.getBoundingRect(c).width/this.getScaledWidth();return this.scale(u/this.width/p)},scaleToHeight:function(u,c){var p=this.getBoundingRect(c).height/this.getScaledHeight();return this.scale(u/this.height/p)},calcLineCoords:function(){var u=this.getViewportTransform(),c=this.padding,p=_(this.angle),v=h.cos(p)*c,C=h.sin(p)*c,D=v+C,E=v-C,R=this.calcACoords(),B={tl:d(R.tl,u),tr:d(R.tr,u),bl:d(R.bl,u),br:d(R.br,u)};return c&&(B.tl.x-=E,B.tl.y-=D,B.tr.x+=D,B.tr.y-=E,B.bl.x-=D,B.bl.y+=E,B.br.x+=E,B.br.y+=D),B},calcOCoords:function(){var u=this._calcRotateMatrix(),c=this._calcTranslateMatrix(),p=this.getViewportTransform(),g=b(p,c),f=b(g,u),v=(f=b(f,[1/p[0],0,0,1/p[3],0,0]),this._calculateCurrentDimensions()),C={};return this.forEachControl(function(D,E,R){C[E]=D.positionHandler(v,f,R)}),C},calcACoords:function(){var u=this._calcRotateMatrix(),c=this._calcTranslateMatrix(),p=b(c,u),g=this._getTransformedDimensions(),f=g.x/2,v=g.y/2;return{tl:d({x:-f,y:-v},p),tr:d({x:f,y:-v},p),bl:d({x:-f,y:v},p),br:d({x:f,y:v},p)}},setCoords:function(u){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),u||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return h.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var u=this.getCenterPoint();return[1,0,0,1,u.x,u.y]},transformMatrixKey:function(u){var c="_",p="";return!u&&this.group&&(p=this.group.transformMatrixKey(u)+c),p+this.top+c+this.left+c+this.scaleX+c+this.scaleY+c+this.skewX+c+this.skewY+c+this.angle+c+this.originX+c+this.originY+c+this.width+c+this.height+c+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(u){var c=this.calcOwnMatrix();if(u||!this.group)return c;var p=this.transformMatrixKey(u),g=this.matrixCache||(this.matrixCache={});return g.key===p?g.value:(this.group&&(c=b(this.group.calcTransformMatrix(!1),c)),g.key=p,g.value=c,c)},calcOwnMatrix:function(){var u=this.transformMatrixKey(!0),c=this.ownMatrixCache||(this.ownMatrixCache={});if(c.key===u)return c.value;var p=this._calcTranslateMatrix(),g={angle:this.angle,translateX:p[4],translateY:p[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return c.key=u,c.value=h.composeMatrix(g),c.value},_getNonTransformedDimensions:function(){var u=this.strokeWidth;return{x:this.width+u,y:this.height+u}},_getTransformedDimensions:function(u,c){typeof u>"u"&&(u=this.skewX),typeof c>"u"&&(c=this.skewY);var p,g,f,v=0===u&&0===c;if(this.strokeUniform?(g=this.width,f=this.height):(g=(p=this._getNonTransformedDimensions()).x,f=p.y),v)return this._finalizeDimensions(g*this.scaleX,f*this.scaleY);var C=h.sizeAfterTransform(g,f,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:u,skewY:c});return this._finalizeDimensions(C.x,C.y)},_finalizeDimensions:function(u,c){return this.strokeUniform?{x:u+this.strokeWidth,y:c+this.strokeWidth}:{x:u,y:c}},_calculateCurrentDimensions:function(){var u=this.getViewportTransform(),c=this._getTransformedDimensions();return d(c,u,!0).scalarAdd(2*this.padding)}})}(),w.util.object.extend(w.Object.prototype,{sendToBack:function(){return this.group?w.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?w.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(y){return this.group?w.StaticCanvas.prototype.sendBackwards.call(this.group,this,y):this.canvas&&this.canvas.sendBackwards(this,y),this},bringForward:function(y){return this.group?w.StaticCanvas.prototype.bringForward.call(this.group,this,y):this.canvas&&this.canvas.bringForward(this,y),this},moveTo:function(y){return this.group&&"activeSelection"!==this.group.type?w.StaticCanvas.prototype.moveTo.call(this.group,this,y):this.canvas&&this.canvas.moveTo(this,y),this}}),function(){function y(_,b){if(b){if(b.toLive)return _+": url(#SVGID_"+b.id+"); ";var d=new w.Color(b),u=_+": "+d.toRgb()+"; ",c=d.getAlpha();return 1!==c&&(u+=_+"-opacity: "+c.toString()+"; "),u}return _+": none; "}var h=w.util.toFixed;w.util.object.extend(w.Object.prototype,{getSvgStyles:function(_){var b=this.fillRule?this.fillRule:"nonzero",d=this.strokeWidth?this.strokeWidth:"0",u=this.strokeDashArray?this.strokeDashArray.join(" "):"none",c=this.strokeDashOffset?this.strokeDashOffset:"0",p=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",C=this.visible?"":" visibility: hidden;",D=_?"":this.getSvgFilter(),E=y("fill",this.fill);return[y("stroke",this.stroke),"stroke-width: ",d,"; ","stroke-dasharray: ",u,"; ","stroke-linecap: ",p,"; ","stroke-dashoffset: ",c,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",f,"; ",E,"fill-rule: ",b,"; ","opacity: ",v,";",D,C].join("")},getSvgSpanStyles:function(_,b){var d="; ",c=_.fontFamily?"font-family: "+(-1===_.fontFamily.indexOf("'")&&-1===_.fontFamily.indexOf('"')?"'"+_.fontFamily+"'":_.fontFamily)+d:"",u=_.strokeWidth?"stroke-width: "+_.strokeWidth+d:"",p=_.fontSize?"font-size: "+_.fontSize+"px"+d:"",g=_.fontStyle?"font-style: "+_.fontStyle+d:"",f=_.fontWeight?"font-weight: "+_.fontWeight+d:"",v=_.fill?y("fill",_.fill):"",C=_.stroke?y("stroke",_.stroke):"",D=this.getSvgTextDecoration(_);return D&&(D="text-decoration: "+D+d),[C,u,c,p,g,f,D,v,_.deltaY?"baseline-shift: "+-_.deltaY+"; ":"",b?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(_){return["overline","underline","line-through"].filter(function(b){return _[b.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(_,b){var d=_?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+w.util.matrixToSVG(d)+(b||"")+'" '},_setSVGBg:function(_){if(this.backgroundColor){var b=w.Object.NUM_FRACTION_DIGITS;_.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',h(-this.width/2,b),'" y="',h(-this.height/2,b),'" width="',h(this.width,b),'" height="',h(this.height,b),'"></rect>\n')}},toSVG:function(_){return this._createBaseSVGMarkup(this._toSVG(_),{reviver:_})},toClipPathSVG:function(_){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(_),{reviver:_})},_createBaseClipPathSVGMarkup:function(_,b){var d=(b=b||{}).reviver,c=[this.getSvgTransform(!0,b.additionalTransform||""),this.getSvgCommons()].join(""),p=_.indexOf("COMMON_PARTS");return _[p]=c,d?d(_.join("")):_.join("")},_createBaseSVGMarkup:function(_,b){var R,H,d=(b=b||{}).noStyle,u=b.reviver,c=d?"":'style="'+this.getSvgStyles()+'" ',p=b.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,f=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,C=this.stroke,D=this.fill,E=this.shadow,B=[],q=_.indexOf("COMMON_PARTS"),se=b.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+w.Object.__uid++,H='<clipPath id="'+g.clipPathId+'" >\n'+g.toClipPathSVG(u)+"</clipPath>\n"),v&&B.push("<g ",p,this.getSvgCommons()," >\n"),B.push("<g ",this.getSvgTransform(!1),v?"":p+this.getSvgCommons()," >\n"),R=[c,f,d?"":this.addPaintOrder()," ",se?'transform="'+se+'" ':""].join(""),_[q]=R,D&&D.toLive&&B.push(D.toSVG(this)),C&&C.toLive&&B.push(C.toSVG(this)),E&&B.push(E.toSVG(this)),g&&B.push(H),B.push(_.join("")),B.push("</g>\n"),v&&B.push("</g>\n"),u?u(B.join("")):B.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var y=w.util.object.extend,h="stateProperties";function _(d,u,c){var p={};c.forEach(function(f){p[f]=d[f]}),y(d[u],p,!0)}function b(d,u,c){if(d===u)return!0;if(Array.isArray(d)){if(!Array.isArray(u)||d.length!==u.length)return!1;for(var p=0,g=d.length;p<g;p++)if(!b(d[p],u[p]))return!1;return!0}if(d&&"object"==typeof d){var v,f=Object.keys(d);if(!u||"object"!=typeof u||!c&&f.length!==Object.keys(u).length)return!1;for(p=0,g=f.length;p<g;p++)if("canvas"!==(v=f[p])&&"group"!==v&&!b(d[v],u[v]))return!1;return!0}}w.util.object.extend(w.Object.prototype,{hasStateChanged:function(d){var u="_"+(d=d||h);return Object.keys(this[u]).length<this[d].length||!b(this[u],this,!0)},saveState:function(d){var u=d&&d.propertySet||h,c="_"+u;return this[c]?(_(this,c,this[u]),d&&d.stateProperties&&_(this,c,d.stateProperties),this):this.setupState(d)},setupState:function(d){var u=(d=d||{}).propertySet||h;return d.propertySet=u,this["_"+u]={},this.saveState(d),this}})}(),function(){var y=w.util.degreesToRadians;w.util.object.extend(w.Object.prototype,{_findTargetCorner:function(h,_){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var u,c,f,b=h.x,d=h.y,p=Object.keys(this.oCoords),g=p.length-1;for(this.__corner=0;g>=0;g--)if(this.isControlVisible(f=p[g])&&(c=this._getImageLines(_?this.oCoords[f].touchCorner:this.oCoords[f].corner),0!==(u=this._findCrossPoints({x:b,y:d},c))&&u%2==1))return this.__corner=f,f;return!1},forEachControl:function(h){for(var _ in this.controls)h(this.controls[_],_,this)},_setCornerCoords:function(){var h=this.oCoords;for(var _ in h){var b=this.controls[_];h[_].corner=b.calcCornerCoords(this.angle,this.cornerSize,h[_].x,h[_].y,!1),h[_].touchCorner=b.calcCornerCoords(this.angle,this.touchCornerSize,h[_].x,h[_].y,!0)}},drawSelectionBackground:function(h){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;h.save();var _=this.getCenterPoint(),b=this._calculateCurrentDimensions(),d=this.canvas.viewportTransform;return h.translate(_.x,_.y),h.scale(1/d[0],1/d[3]),h.rotate(y(this.angle)),h.fillStyle=this.selectionBackgroundColor,h.fillRect(-b.x/2,-b.y/2,b.x,b.y),h.restore(),this},drawBorders:function(h,_){_=_||{};var b=this._calculateCurrentDimensions(),d=this.borderScaleFactor,u=b.x+d,c=b.y+d,p=typeof _.hasControls<"u"?_.hasControls:this.hasControls,g=!1;return h.save(),h.strokeStyle=_.borderColor||this.borderColor,this._setLineDash(h,_.borderDashArray||this.borderDashArray),h.strokeRect(-u/2,-c/2,u,c),p&&(h.beginPath(),this.forEachControl(function(f,v,C){f.withConnection&&f.getVisibility(C,v)&&(g=!0,h.moveTo(f.x*u,f.y*c),h.lineTo(f.x*u+f.offsetX,f.y*c+f.offsetY))}),g&&h.stroke()),h.restore(),this},drawBordersInGroup:function(h,_,b){b=b||{};var d=w.util.sizeAfterTransform(this.width,this.height,_),u=this.strokeWidth,c=this.strokeUniform,p=this.borderScaleFactor,g=d.x+u*(c?this.canvas.getZoom():_.scaleX)+p,f=d.y+u*(c?this.canvas.getZoom():_.scaleY)+p;return h.save(),this._setLineDash(h,b.borderDashArray||this.borderDashArray),h.strokeStyle=b.borderColor||this.borderColor,h.strokeRect(-g/2,-f/2,g,f),h.restore(),this},drawControls:function(h,_){_=_||{},h.save();var d,u,b=1;return this.canvas&&(b=this.canvas.getRetinaScaling()),h.setTransform(b,0,0,b,0,0),h.strokeStyle=h.fillStyle=_.cornerColor||this.cornerColor,this.transparentCorners||(h.strokeStyle=_.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(h,_.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(d=this.group.calcTransformMatrix()),this.forEachControl(function(c,p,g){u=g.oCoords[p],c.getVisibility(g,p)&&(d&&(u=w.util.transformPoint(u,d)),c.render(h,u.x,u.y,_,g))}),h.restore(),this},isControlVisible:function(h){return this.controls[h]&&this.controls[h].getVisibility(this,h)},setControlVisible:function(h,_){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[h]=_,this},setControlsVisibility:function(h){for(var _ in h||(h={}),h)this.setControlVisible(_,h[_]);return this},onDeselect:function(){},onSelect:function(){}})}(),w.util.object.extend(w.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(y,h){var _=function(){},b=(h=h||{}).onComplete||_,d=h.onChange||_,u=this;return w.util.animate({target:this,startValue:y.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(c){y.set("left",c),u.requestRenderAll(),d()},onComplete:function(){y.setCoords(),b()}})},fxCenterObjectV:function(y,h){var _=function(){},b=(h=h||{}).onComplete||_,d=h.onChange||_,u=this;return w.util.animate({target:this,startValue:y.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(c){y.set("top",c),u.requestRenderAll(),d()},onComplete:function(){y.setCoords(),b()}})},fxRemove:function(y,h){var _=function(){},b=(h=h||{}).onComplete||_,d=h.onChange||_,u=this;return w.util.animate({target:this,startValue:y.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(c){y.set("opacity",c),u.requestRenderAll(),d()},onComplete:function(){u.remove(y),b()}})}}),w.util.object.extend(w.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var h,y=[],b=[];for(h in arguments[0])y.push(h);for(var d=0,u=y.length;d<u;d++)b.push(this._animate(h=y[d],arguments[0][h],arguments[1],d!==u-1));return b}return this._animate.apply(this,arguments)},_animate:function(y,h,_,b){var u,d=this;h=h.toString(),_=_?w.util.object.clone(_):{},~y.indexOf(".")&&(u=y.split("."));var c=d.colorProperties.indexOf(y)>-1||u&&d.colorProperties.indexOf(u[1])>-1,p=u?this.get(u[0])[u[1]]:this.get(y);"from"in _||(_.from=p),c||(h=~h.indexOf("=")?p+parseFloat(h.replace("=","")):parseFloat(h));var g={target:this,startValue:_.from,endValue:h,byValue:_.by,easing:_.easing,duration:_.duration,abort:_.abort&&function(f,v,C){return _.abort.call(d,f,v,C)},onChange:function(f,v,C){u?d[u[0]][u[1]]=f:d.set(y,f),!b&&_.onChange&&_.onChange(f,v,C)},onComplete:function(f,v,C){b||(d.setCoords(),_.onComplete&&_.onComplete(f,v,C))}};return c?w.util.animateColor(g.startValue,g.endValue,g.duration,g):w.util.animate(g)}}),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.extend,b=h.util.object.clone,d={x1:1,x2:1,y1:1,y2:1};function u(c,p){var g=c.origin,f=c.axis1,v=c.axis2,C=c.dimension,D=p.nearest,E=p.center,R=p.farthest;return function(){switch(this.get(g)){case D:return Math.min(this.get(f),this.get(v));case E:return Math.min(this.get(f),this.get(v))+.5*this.get(C);case R:return Math.max(this.get(f),this.get(v))}}}h.Line?h.warn("fabric.Line is already defined"):(h.Line=h.util.createClass(h.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:h.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(c,p){c||(c=[0,0,0,0]),this.callSuper("initialize",p),this.set("x1",c[0]),this.set("y1",c[1]),this.set("x2",c[2]),this.set("y2",c[3]),this._setWidthHeight(p)},_setWidthHeight:function(c){c||(c={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in c?c.left:this._getLeftToOriginX(),this.top="top"in c?c.top:this._getTopToOriginY()},_set:function(c,p){return this.callSuper("_set",c,p),typeof d[c]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:u({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:u({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(c){c.beginPath();var p=this.calcLinePoints();c.moveTo(p.x1,p.y1),c.lineTo(p.x2,p.y2),c.lineWidth=this.strokeWidth;var g=c.strokeStyle;c.strokeStyle=this.stroke||c.fillStyle,this.stroke&&this._renderStroke(c),c.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(c){return _(this.callSuper("toObject",c),this.calcLinePoints())},_getNonTransformedDimensions:function(){var c=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(c.y-=this.strokeWidth),0===this.height&&(c.x-=this.strokeWidth)),c},calcLinePoints:function(){var c=this.x1<=this.x2?-1:1,p=this.y1<=this.y2?-1:1;return{x1:c*this.width*.5,x2:c*this.width*-.5,y1:p*this.height*.5,y2:p*this.height*-.5}},_toSVG:function(){var c=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,'" />\n']}}),h.Line.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),h.Line.fromElement=function(c,p,g){g=g||{};var f=h.parseAttributes(c,h.Line.ATTRIBUTE_NAMES);p(new h.Line([f.x1||0,f.y1||0,f.x2||0,f.y2||0],_(f,g)))},h.Line.fromObject=function(c,p){var f=b(c,!0);f.points=[c.x1,c.y1,c.x2,c.y2],h.Object._fromObject("Line",f,function g(v){delete v.points,p&&p(v)},"points")})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.degreesToRadians;h.Circle?h.warn("fabric.Circle is already defined."):(h.Circle=h.util.createClass(h.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:h.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(d,u){return this.callSuper("_set",d,u),"radius"===d&&this.setRadius(u),this},toObject:function(d){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(d))},_toSVG:function(){var d,p=(this.endAngle-this.startAngle)%360;if(0===p)d=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var g=_(this.startAngle),f=_(this.endAngle),v=this.radius;d=['<path d="M '+h.util.cos(g)*v+" "+h.util.sin(g)*v," A "+v+" "+v," 0 ",+(p>180?"1":"0")+" 1"," "+h.util.cos(f)*v+" "+h.util.sin(f)*v,'" ',"COMMON_PARTS"," />\n"]}return d},_render:function(d){d.beginPath(),d.arc(0,0,this.radius,_(this.startAngle),_(this.endAngle),!1),this._renderPaintInOrder(d)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(d){return this.radius=d,this.set("width",2*d).set("height",2*d)}}),h.Circle.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),h.Circle.fromElement=function(d,u){var c=h.parseAttributes(d,h.Circle.ATTRIBUTE_NAMES);if(!function b(d){return"radius"in d&&d.radius>=0}(c))throw new Error("value of `r` attribute is required and can not be negative");c.left=(c.left||0)-c.radius,c.top=(c.top||0)-c.radius,u(new h.Circle(c))},h.Circle.fromObject=function(d,u){h.Object._fromObject("Circle",d,u)})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={});h.Triangle?h.warn("fabric.Triangle is already defined"):(h.Triangle=h.util.createClass(h.Object,{type:"triangle",width:100,height:100,_render:function(_){var b=this.width/2,d=this.height/2;_.beginPath(),_.moveTo(-b,d),_.lineTo(0,-d),_.lineTo(b,d),_.closePath(),this._renderPaintInOrder(_)},_toSVG:function(){var _=this.width/2,b=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-_+" "+b,"0 "+-b,_+" "+b].join(","),'" />']}}),h.Triangle.fromObject=function(_,b){return h.Object._fromObject("Triangle",_,b)})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=2*Math.PI;h.Ellipse?h.warn("fabric.Ellipse is already defined."):(h.Ellipse=h.util.createClass(h.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:h.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(b){this.callSuper("initialize",b),this.set("rx",b&&b.rx||0),this.set("ry",b&&b.ry||0)},_set:function(b,d){switch(this.callSuper("_set",b,d),b){case"rx":this.rx=d,this.set("width",2*d);break;case"ry":this.ry=d,this.set("height",2*d)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(b){return this.callSuper("toObject",["rx","ry"].concat(b))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(b){b.beginPath(),b.save(),b.transform(1,0,0,this.ry/this.rx,0,0),b.arc(0,0,this.rx,0,_,!1),b.restore(),this._renderPaintInOrder(b)}}),h.Ellipse.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),h.Ellipse.fromElement=function(b,d){var u=h.parseAttributes(b,h.Ellipse.ATTRIBUTE_NAMES);u.left=(u.left||0)-u.rx,u.top=(u.top||0)-u.ry,d(new h.Ellipse(u))},h.Ellipse.fromObject=function(b,d){h.Object._fromObject("Ellipse",b,d)})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.extend;h.Rect?h.warn("fabric.Rect is already defined"):(h.Rect=h.util.createClass(h.Object,{stateProperties:h.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:h.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(b){this.callSuper("initialize",b),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(b){var d=this.rx?Math.min(this.rx,this.width/2):0,u=this.ry?Math.min(this.ry,this.height/2):0,c=this.width,p=this.height,g=-this.width/2,f=-this.height/2,v=0!==d||0!==u,C=.4477152502;b.beginPath(),b.moveTo(g+d,f),b.lineTo(g+c-d,f),v&&b.bezierCurveTo(g+c-C*d,f,g+c,f+C*u,g+c,f+u),b.lineTo(g+c,f+p-u),v&&b.bezierCurveTo(g+c,f+p-C*u,g+c-C*d,f+p,g+c-d,f+p),b.lineTo(g+d,f+p),v&&b.bezierCurveTo(g+C*d,f+p,g,f+p-C*u,g,f+p-u),b.lineTo(g,f+u),v&&b.bezierCurveTo(g,f+C*u,g+C*d,f,g+d,f),b.closePath(),this._renderPaintInOrder(b)},toObject:function(b){return this.callSuper("toObject",["rx","ry"].concat(b))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),h.Rect.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),h.Rect.fromElement=function(b,d,u){if(!b)return d(null);u=u||{};var c=h.parseAttributes(b,h.Rect.ATTRIBUTE_NAMES);c.left=c.left||0,c.top=c.top||0,c.height=c.height||0,c.width=c.width||0;var p=new h.Rect(_(u?h.util.object.clone(u):{},c));p.visible=p.visible&&p.width>0&&p.height>0,d(p)},h.Rect.fromObject=function(b,d){return h.Object._fromObject("Rect",b,d)})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.extend,b=h.util.array.min,d=h.util.array.max,u=h.util.toFixed,c=h.util.projectStrokeOnPoints;h.Polyline?h.warn("fabric.Polyline is already defined"):(h.Polyline=h.util.createClass(h.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:h.Object.prototype.cacheProperties.concat("points"),initialize:function(p,g){g=g||{},this.points=p||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return c(this.points,this,!0)},_setPositionDimensions:function(p){var f,g=this._calcDimensions(p),v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,p.fromSVG||(f=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof p.left>"u"&&(this.left=p.fromSVG?g.left:f.x),typeof p.top>"u"&&(this.top=p.fromSVG?g.top:f.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var p=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=b(p,"x")||0,f=b(p,"y")||0;return{left:g,top:f,width:(d(p,"x")||0)-g,height:(d(p,"y")||0)-f}},toObject:function(p){return _(this.callSuper("toObject",p),{points:this.points.concat()})},_toSVG:function(){for(var p=[],g=this.pathOffset.x,f=this.pathOffset.y,v=h.Object.NUM_FRACTION_DIGITS,C=0,D=this.points.length;C<D;C++)p.push(u(this.points[C].x-g,v),",",u(this.points[C].y-f,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',p.join(""),'" />\n']},commonRender:function(p){var g,f=this.points.length,v=this.pathOffset.x,C=this.pathOffset.y;if(!f||isNaN(this.points[f-1].y))return!1;p.beginPath(),p.moveTo(this.points[0].x-v,this.points[0].y-C);for(var D=0;D<f;D++)p.lineTo((g=this.points[D]).x-v,g.y-C);return!0},_render:function(p){this.commonRender(p)&&this._renderPaintInOrder(p)},complexity:function(){return this.get("points").length}}),h.Polyline.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat(),h.Polyline.fromElementGenerator=function(p){return function(g,f,v){if(!g)return f(null);v||(v={});var C=h.parsePointsAttribute(g.getAttribute("points")),D=h.parseAttributes(g,h[p].ATTRIBUTE_NAMES);D.fromSVG=!0,f(new h[p](C,_(D,v)))}},h.Polyline.fromElement=h.Polyline.fromElementGenerator("Polyline"),h.Polyline.fromObject=function(p,g){return h.Object._fromObject("Polyline",p,g,"points")})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.projectStrokeOnPoints;h.Polygon?h.warn("fabric.Polygon is already defined"):(h.Polygon=h.util.createClass(h.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return _(this.points,this)},_render:function(b){this.commonRender(b)&&(b.closePath(),this._renderPaintInOrder(b))}}),h.Polygon.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat(),h.Polygon.fromElement=h.Polyline.fromElementGenerator("Polygon"),h.Polygon.fromObject=function(b,d){h.Object._fromObject("Polygon",b,d,"points")})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.array.min,b=h.util.array.max,d=h.util.object.extend,u=h.util.object.clone,c=h.util.toFixed;h.Path?h.warn("fabric.Path is already defined"):(h.Path=h.util.createClass(h.Object,{type:"path",path:null,cacheProperties:h.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:h.Object.prototype.stateProperties.concat("path"),initialize:function(p,g){delete(g=u(g||{})).path,this.callSuper("initialize",g),this._setPath(p||[],g)},_setPath:function(p,g){this.path=h.util.makePathSimpler(Array.isArray(p)?p:h.util.parsePath(p)),h.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(p){var g,f=0,v=0,C=0,D=0,B=-this.pathOffset.x,H=-this.pathOffset.y;p.beginPath();for(var q=0,se=this.path.length;q<se;++q)switch(g=this.path[q],g[0]){case"L":p.lineTo((C=g[1])+B,(D=g[2])+H);break;case"M":f=C=g[1],v=D=g[2],p.moveTo(C+B,D+H);break;case"C":p.bezierCurveTo(g[1]+B,g[2]+H,g[3]+B,g[4]+H,(C=g[5])+B,(D=g[6])+H);break;case"Q":p.quadraticCurveTo(g[1]+B,g[2]+H,g[3]+B,g[4]+H),C=g[3],D=g[4];break;case"z":case"Z":C=f,D=v,p.closePath()}},_render:function(p){this._renderPathCommands(p),this._renderPaintInOrder(p)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(p){return d(this.callSuper("toObject",p),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(p){var g=this.toObject(["sourcePath"].concat(p));return g.sourcePath&&delete g.path,g},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',h.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var p=h.Object.NUM_FRACTION_DIGITS;return" translate("+c(-this.pathOffset.x,p)+", "+c(-this.pathOffset.y,p)+")"},toClipPathSVG:function(p){var g=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:g})},toSVG:function(p){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var f,R,p=[],g=[],v=0,C=0,D=0,E=0,B=0,H=this.path.length;B<H;++B){switch((f=this.path[B])[0]){case"L":D=f[1],E=f[2],R=[];break;case"M":v=D=f[1],C=E=f[2],R=[];break;case"C":R=h.util.getBoundsOfCurve(D,E,f[1],f[2],f[3],f[4],f[5],f[6]),D=f[5],E=f[6];break;case"Q":R=h.util.getBoundsOfCurve(D,E,f[1],f[2],f[1],f[2],f[3],f[4]),D=f[3],E=f[4];break;case"z":case"Z":D=v,E=C}R.forEach(function(Le){p.push(Le.x),g.push(Le.y)}),p.push(D),g.push(E)}var q=_(p)||0,se=_(g)||0;return{left:q,top:se,width:(b(p)||0)-q,height:(b(g)||0)-se}}}),h.Path.fromObject=function(p,g){"string"==typeof p.sourcePath?h.loadSVGFromURL(p.sourcePath,function(v){var C=v[0];C.setOptions(p),p.clipPath?h.util.enlivenObjects([p.clipPath],function(D){C.clipPath=D[0],g&&g(C)}):g&&g(C)}):h.Object._fromObject("Path",p,g,"path")},h.Path.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat(["d"]),h.Path.fromElement=function(p,g,f){var v=h.parseAttributes(p,h.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new h.Path(v.d,d(v,f)))})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.array.min,b=h.util.array.max;h.Group||(h.Group=h.util.createClass(h.Object,h.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(d,u,c){u=u||{},this._objects=[],c&&this.callSuper("initialize",u),this._objects=d||[];for(var p=this._objects.length;p--;)this._objects[p].group=this;if(c)this._updateObjectsACoords();else{var g=u&&u.centerPoint;void 0!==u.originX&&(this.originX=u.originX),void 0!==u.originY&&(this.originY=u.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete u.centerPoint,this.callSuper("initialize",u)}this.setCoords()},_updateObjectsACoords:function(){for(var u=this._objects.length;u--;)this._objects[u].setCoords(!0)},_updateObjectsCoords:function(u){u=u||this.getCenterPoint();for(var c=this._objects.length;c--;)this._updateObjectCoords(this._objects[c],u)},_updateObjectCoords:function(d,u){d.set({left:d.left-u.x,top:d.top-u.y}),d.group=this,d.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(d){var u=!!this.group;return this._restoreObjectsState(),h.util.resetObjectTransform(this),d&&(u&&h.util.removeTransformFromObject(d,this.group.calcTransformMatrix()),this._objects.push(d),d.group=this,d._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,u?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(d){return this._restoreObjectsState(),h.util.resetObjectTransform(this),this.remove(d),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(d){this.dirty=!0,d.group=this,d._set("canvas",this.canvas)},_onObjectRemoved:function(d){this.dirty=!0,delete d.group},_set:function(d,u){var c=this._objects.length;if(this.useSetOnGroup)for(;c--;)this._objects[c].setOnGroup(d,u);if("canvas"===d)for(;c--;)this._objects[c]._set(d,u);h.Object.prototype._set.call(this,d,u)},toObject:function(d){var u=this.includeDefaultValues,c=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var f=g.includeDefaultValues;g.includeDefaultValues=u;var v=g.toObject(d);return g.includeDefaultValues=f,v}),p=h.Object.prototype.toObject.call(this,d);return p.objects=c,p},toDatalessObject:function(d){var u,c=this.sourcePath;if(c)u=c;else{var p=this.includeDefaultValues;u=this._objects.map(function(f){var v=f.includeDefaultValues;f.includeDefaultValues=p;var C=f.toDatalessObject(d);return f.includeDefaultValues=v,C})}var g=h.Object.prototype.toDatalessObject.call(this,d);return g.objects=u,g},render:function(d){this._transformDone=!0,this.callSuper("render",d),this._transformDone=!1},shouldCache:function(){var d=h.Object.prototype.shouldCache.call(this);if(d)for(var u=0,c=this._objects.length;u<c;u++)if(this._objects[u].willDrawShadow())return this.ownCaching=!1,!1;return d},willDrawShadow:function(){if(h.Object.prototype.willDrawShadow.call(this))return!0;for(var d=0,u=this._objects.length;d<u;d++)if(this._objects[d].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(d){for(var u=0,c=this._objects.length;u<c;u++)this._objects[u].render(d);this._drawClipPath(d,this.clipPath)},isCacheDirty:function(d){if(this.callSuper("isCacheDirty",d))return!0;if(!this.statefullCache)return!1;for(var u=0,c=this._objects.length;u<c;u++)if(this._objects[u].isCacheDirty(!0)){if(this._cacheCanvas){var p=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-g/2,p,g)}return!0}return!1},_restoreObjectsState:function(){var d=this.calcOwnMatrix();return this._objects.forEach(function(u){h.util.addTransformToObject(u,d),delete u.group,u.setCoords()}),this},destroy:function(){return this._objects.forEach(function(d){d.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(d){d.dispose&&d.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var d=this._objects,u=this.canvas;this._objects=[];var c=this.toObject();delete c.objects;var p=new h.ActiveSelection([]);return p.set(c),p.type="activeSelection",u.remove(this),d.forEach(function(g){g.group=p,g.dirty=!0,u.add(g)}),p.canvas=u,p._objects=d,u._activeObject=p,p.setCoords(),p}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(u){u.setCoords(!0)}),this},_calcBounds:function(d){for(var p,g,f,E,u=[],c=[],v=["tr","br","bl","tl"],C=0,D=this._objects.length,R=v.length;C<D;++C){for(f=(p=this._objects[C]).calcACoords(),E=0;E<R;E++)u.push(f[g=v[E]].x),c.push(f[g].y);p.aCoords=f}this._getBounds(u,c,d)},_getBounds:function(d,u,c){var p=new h.Point(_(d),_(u)),g=new h.Point(b(d),b(u)),f=p.y||0,v=p.x||0,D=g.y-p.y||0;this.width=g.x-p.x||0,this.height=D,c||this.setPositionByOrigin({x:v,y:f},"left","top")},_toSVG:function(d){for(var u=["<g ","COMMON_PARTS"," >\n"],c=0,p=this._objects.length;c<p;c++)u.push("\t\t",this._objects[c].toSVG(d));return u.push("</g>\n"),u},getSvgStyles:function(){var u=this.visible?"":" visibility: hidden;";return[typeof this.opacity<"u"&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),u].join("")},toClipPathSVG:function(d){for(var u=[],c=0,p=this._objects.length;c<p;c++)u.push("\t",this._objects[c].toClipPathSVG(d));return this._createBaseClipPathSVGMarkup(u,{reviver:d})}}),h.Group.fromObject=function(d,u){var c=d.objects,p=h.util.object.clone(d,!0);delete p.objects,"string"!=typeof c?h.util.enlivenObjects(c,function(g){h.util.enlivenObjectEnlivables(d,p,function(){u&&u(new h.Group(g,p,!0))})}):h.loadSVGFromURL(c,function(g){var f=h.util.groupSVGElements(g,d,c),v=p.clipPath;delete p.clipPath,f.set(p),v?h.util.enlivenObjects([v],function(C){f.clipPath=C[0],u&&u(f)}):u&&u(f)})})}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={});h.ActiveSelection||(h.ActiveSelection=h.util.createClass(h.Group,{type:"activeSelection",initialize:function(_,b){b=b||{},this._objects=_||[];for(var d=this._objects.length;d--;)this._objects[d].group=this;b.originX&&(this.originX=b.originX),b.originY&&(this.originY=b.originY),this._calcBounds(),this._updateObjectsCoords(),h.Object.prototype.initialize.call(this,b),this.setCoords()},toGroup:function(){var _=this._objects.concat();this._objects=[];var b=h.Object.prototype.toObject.call(this),d=new h.Group([]);if(delete b.type,d.set(b),_.forEach(function(c){c.canvas.remove(c),c.group=d}),d._objects=_,!this.canvas)return d;var u=this.canvas;return u.add(d),u._activeObject=d,d.setCoords(),d},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(_,b,d){_.save(),_.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,typeof(d=d||{}).hasControls>"u"&&(d.hasControls=!1),d.forActiveSelection=!0;for(var u=0,c=this._objects.length;u<c;u++)this._objects[u]._renderControls(_,d);this.callSuper("_renderControls",_,b),_.restore()}}),h.ActiveSelection.fromObject=function(_,b){h.util.enlivenObjects(_.objects,function(d){delete _.objects,b&&b(new h.ActiveSelection(d,_,!0))})})}(ce),function(y){"use strict";var h=w.util.object.extend;y.fabric||(y.fabric={}),y.fabric.Image?w.warn("fabric.Image is already defined."):(w.Image=w.util.createClass(w.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:w.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:w.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(_,b){b||(b={}),this.filters=[],this.cacheKey="texture"+w.Object.__uid++,this.callSuper("initialize",b),this._initElement(_,b)},getElement:function(){return this._element||{}},setElement:function(_,b){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=_,this._originalElement=_,this._initConfig(b),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(_){var b=w.filterBackend;b&&b.evictCachesForKey&&b.evictCachesForKey(_)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(_){w.util.cleanUpJsdomNode(this[_]),this[_]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var _=this.getElement();return{width:_.naturalWidth||_.width,height:_.naturalHeight||_.height}},_stroke:function(_){if(this.stroke&&0!==this.strokeWidth){var b=this.width/2,d=this.height/2;_.beginPath(),_.moveTo(-b,-d),_.lineTo(b,-d),_.lineTo(b,d),_.lineTo(-b,d),_.lineTo(-b,-d),_.closePath()}},toObject:function(_){var b=[];this.filters.forEach(function(u){u&&b.push(u.toObject())});var d=h(this.callSuper("toObject",["cropX","cropY"].concat(_)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:b});return this.resizeFilter&&(d.resizeFilter=this.resizeFilter.toObject()),d},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var d,_=[],b=[],u=this._element,c=-this.width/2,p=-this.height/2,g="",f="";if(!u)return[];if(this.hasCrop()){var v=w.Object.__uid++;_.push('<clipPath id="imageCrop_'+v+'">\n','\t<rect x="'+c+'" y="'+p+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(f='" image-rendering="optimizeSpeed'),b.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',c-this.cropX,'" y="',p-this.cropY,'" width="',u.width||u.naturalWidth,'" height="',u.height||u.height,f,'"',g,"></image>\n"),this.stroke||this.strokeDashArray){var C=this.fill;this.fill=null,d=["\t<rect ",'x="',c,'" y="',p,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=C}return"fill"!==this.paintFirst?_.concat(d,b):_.concat(b,d)},getSrc:function(_){var b=_?this._element:this._originalElement;return b?b.toDataURL?b.toDataURL():this.srcFromAttribute?b.getAttribute("src"):b.src:this.src||""},setSrc:function(_,b,d){return w.util.loadImage(_,function(u,c){this.setElement(u,d),this._setWidthHeight(),b&&b(this,c)},this,d&&d.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var _=this.resizeFilter,b=this.minimumScaleTrigger,d=this.getTotalObjectScaling(),u=d.scaleX,c=d.scaleY,p=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!_||u>b&&c>b)return this._element=p,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=u,void(this._lastScaleY=c);w.filterBackend||(w.filterBackend=w.initFilterBackend());var g=w.util.createCanvasElement(),f=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=p.width,C=p.height;g.width=v,g.height=C,this._element=g,this._lastScaleX=_.scaleX=u,this._lastScaleY=_.scaleY=c,w.filterBackend.applyFilters([_],p,v,C,this._element,f),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(_){if(_=(_=_||this.filters||[]).filter(function(p){return p&&!p.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===_.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var b=this._originalElement,d=b.naturalWidth||b.width,u=b.naturalHeight||b.height;if(this._element===this._originalElement){var c=w.util.createCanvasElement();c.width=d,c.height=u,this._element=c,this._filteredEl=c}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,d,u),this._lastScaleX=1,this._lastScaleY=1;return w.filterBackend||(w.filterBackend=w.initFilterBackend()),w.filterBackend.applyFilters(_,this._originalElement,d,u,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(_){w.util.setImageSmoothing(_,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(_),this._renderPaintInOrder(_)},drawCacheOnCanvas:function(_){w.util.setImageSmoothing(_,this.imageSmoothing),w.Object.prototype.drawCacheOnCanvas.call(this,_)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(_){var b=this._element;if(b){var d=this._filterScalingX,u=this._filterScalingY,c=this.width,p=this.height,g=Math.min,f=Math.max,v=f(this.cropX,0),C=f(this.cropY,0),D=b.naturalWidth||b.width,E=b.naturalHeight||b.height,R=v*d,B=C*u,H=g(c*d,D-R),q=g(p*u,E-B),se=-c/2,he=-p/2,De=g(c,D/d-v),Pe=g(p,E/u-C);b&&_.drawImage(b,R,B,H,q,se,he,De,Pe)}},_needsResize:function(){var _=this.getTotalObjectScaling();return _.scaleX!==this._lastScaleX||_.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(_,b){this.setElement(w.util.getById(_),b),w.util.addClass(this.getElement(),w.Image.CSS_CANVAS)},_initConfig:function(_){_||(_={}),this.setOptions(_),this._setWidthHeight(_)},_initFilters:function(_,b){_&&_.length?w.util.enlivenObjects(_,function(d){b&&b(d)},"fabric.Image.filters"):b&&b()},_setWidthHeight:function(_){_||(_={});var b=this.getElement();this.width=_.width||b.naturalWidth||b.width||0,this.height=_.height||b.naturalHeight||b.height||0},parsePreserveAspectRatioAttribute:function(){var C,_=w.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),b=this._element.width,d=this._element.height,u=1,c=1,p=0,g=0,f=0,v=0,D=this.width,E=this.height,R={width:D,height:E};return!_||"none"===_.alignX&&"none"===_.alignY?(u=D/b,c=E/d):("meet"===_.meetOrSlice&&(C=(D-b*(u=c=w.util.findScaleToFit(this._element,R)))/2,"Min"===_.alignX&&(p=-C),"Max"===_.alignX&&(p=C),C=(E-d*c)/2,"Min"===_.alignY&&(g=-C),"Max"===_.alignY&&(g=C)),"slice"===_.meetOrSlice&&(C=b-D/(u=c=w.util.findScaleToCover(this._element,R)),"Mid"===_.alignX&&(f=C/2),"Max"===_.alignX&&(f=C),C=d-E/c,"Mid"===_.alignY&&(v=C/2),"Max"===_.alignY&&(v=C),b=D/u,d=E/c)),{width:b,height:d,scaleX:u,scaleY:c,offsetLeft:p,offsetTop:g,cropX:f,cropY:v}}}),w.Image.CSS_CANVAS="canvas-img",w.Image.prototype.getSvgSrc=w.Image.prototype.getSrc,w.Image.fromObject=function(_,b){var d=w.util.object.clone(_);w.util.loadImage(d.src,function(u,c){c?b&&b(null,!0):w.Image.prototype._initFilters.call(d,d.filters,function(p){d.filters=p||[],w.Image.prototype._initFilters.call(d,[d.resizeFilter],function(g){d.resizeFilter=g[0],w.util.enlivenObjectEnlivables(d,d,function(){var f=new w.Image(u,d);b(f,!1)})})})},null,d.crossOrigin)},w.Image.fromURL=function(_,b,d){w.util.loadImage(_,function(u,c){b&&b(new w.Image(u,d),c)},null,d&&d.crossOrigin)},w.Image.ATTRIBUTE_NAMES=w.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),w.Image.fromElement=function(_,b,d){var u=w.parseAttributes(_,w.Image.ATTRIBUTE_NAMES);w.Image.fromURL(u["xlink:href"],b,h(d?w.util.object.clone(d):{},u))})}(ce),w.util.object.extend(w.Object.prototype,{_getAngleValueForStraighten:function(){var y=this.angle%360;return y>0?90*Math.round((y-1)/90):90*Math.round(y/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(y){var h=function(){},_=(y=y||{}).onComplete||h,b=y.onChange||h,d=this;return w.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(u){d.rotate(u),b()},onComplete:function(){d.setCoords(),_()}})}}),w.util.object.extend(w.StaticCanvas.prototype,{straightenObject:function(y){return y.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(y){return y.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function y(_,b){var d="precision "+b+" float;\nvoid main(){}",u=_.createShader(_.FRAGMENT_SHADER);return _.shaderSource(u,d),_.compileShader(u),!!_.getShaderParameter(u,_.COMPILE_STATUS)}function h(_){_&&_.tileSize&&(this.tileSize=_.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}w.isWebglSupported=function(_){if(w.isLikelyNode)return!1;_=_||w.WebglFilterBackend.prototype.tileSize;var b=document.createElement("canvas"),d=b.getContext("webgl")||b.getContext("experimental-webgl"),u=!1;if(d){w.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),u=w.maxTextureSize>=_;for(var c=["highp","mediump","lowp"],p=0;p<3;p++)if(y(d,c[p])){w.webGlPrecision=c[p];break}}return this.isSupported=u,u},w.WebglFilterBackend=h,h.prototype={tileSize:2048,resources:{},setupGLContext:function(_,b){this.dispose(),this.createWebGLCanvas(_,b),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(_,b)},chooseFastestCopyGLTo2DMethod:function(_,b){var u,d=typeof window.performance<"u";try{new ImageData(1,1),u=!0}catch{u=!1}var c=typeof ArrayBuffer<"u",p=typeof Uint8ClampedArray<"u";if(d&&u&&c&&p){var g=w.util.createCanvasElement(),f=new ArrayBuffer(_*b*4);if(w.forceGLPutImageData)return this.imageBuffer=f,void(this.copyGLTo2D=Ae);var C,D,v={imageBuffer:f,destinationWidth:_,destinationHeight:b,targetCanvas:g};g.width=_,g.height=b,C=window.performance.now(),be.call(v,this.gl,v),D=window.performance.now()-C,C=window.performance.now(),Ae.call(v,this.gl,v),D>window.performance.now()-C?(this.imageBuffer=f,this.copyGLTo2D=Ae):this.copyGLTo2D=be}},createWebGLCanvas:function(_,b){var d=w.util.createCanvasElement();d.width=_,d.height=b;var u={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},c=d.getContext("webgl",u);c||(c=d.getContext("experimental-webgl",u)),c&&(c.clearColor(0,0,0,0),this.canvas=d,this.gl=c)},applyFilters:function(_,b,d,u,c,p){var f,g=this.gl;p&&(f=this.getCachedTexture(p,b));var v={originalWidth:b.width||b.originalWidth,originalHeight:b.height||b.originalHeight,sourceWidth:d,sourceHeight:u,destinationWidth:d,destinationHeight:u,context:g,sourceTexture:this.createTexture(g,d,u,!f&&b),targetTexture:this.createTexture(g,d,u),originalTexture:f||this.createTexture(g,d,u,!f&&b),passes:_.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:c},C=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,C),_.forEach(function(D){D&&D.applyTo(v)}),function pe(y){var h=y.targetCanvas,d=y.destinationWidth,u=y.destinationHeight;(h.width!==d||h.height!==u)&&(h.width=d,h.height=u)}(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(C),c.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(_,b,d,u,c){var p=_.createTexture();return _.bindTexture(_.TEXTURE_2D,p),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,c||_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,c||_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),u?_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,u):_.texImage2D(_.TEXTURE_2D,0,_.RGBA,b,d,0,_.RGBA,_.UNSIGNED_BYTE,null),p},getCachedTexture:function(_,b){if(this.textureCache[_])return this.textureCache[_];var d=this.createTexture(this.gl,b.width,b.height,b);return this.textureCache[_]=d,d},evictCachesForKey:function(_){this.textureCache[_]&&(this.gl.deleteTexture(this.textureCache[_]),delete this.textureCache[_])},copyGLTo2D:be,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var _=this.gl,b={renderer:"",vendor:""};if(!_)return b;var d=_.getExtension("WEBGL_debug_renderer_info");if(d){var u=_.getParameter(d.UNMASKED_RENDERER_WEBGL),c=_.getParameter(d.UNMASKED_VENDOR_WEBGL);u&&(b.renderer=u.toLowerCase()),c&&(b.vendor=c.toLowerCase())}return this.gpuInfo=b,b}}}(),function(){"use strict";var y=function(){};function h(){}w.Canvas2dFilterBackend=h,h.prototype={evictCachesForKey:y,dispose:y,clearWebGLCaches:y,resources:{},applyFilters:function(_,b,d,u,c){var p=c.getContext("2d");p.drawImage(b,0,0,d,u);var v={sourceWidth:d,sourceHeight:u,imageData:p.getImageData(0,0,d,u),originalEl:b,originalImageData:p.getImageData(0,0,d,u),canvasEl:c,ctx:p,filterBackend:this};return _.forEach(function(C){C.applyTo(v)}),(v.imageData.width!==d||v.imageData.height!==u)&&(c.width=v.imageData.width,c.height=v.imageData.height),p.putImageData(v.imageData,0,0),v}}}(),w.Image=w.Image||{},w.Image.filters=w.Image.filters||{},w.Image.filters.BaseFilter=w.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(y){y&&this.setOptions(y)},setOptions:function(y){for(var h in y)this[h]=y[h]},createProgram:function(y,h,_){h=h||this.fragmentSource,_=_||this.vertexSource,"highp"!==w.webGlPrecision&&(h=h.replace(/precision highp float/g,"precision "+w.webGlPrecision+" float"));var b=y.createShader(y.VERTEX_SHADER);if(y.shaderSource(b,_),y.compileShader(b),!y.getShaderParameter(b,y.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+y.getShaderInfoLog(b));var d=y.createShader(y.FRAGMENT_SHADER);if(y.shaderSource(d,h),y.compileShader(d),!y.getShaderParameter(d,y.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+y.getShaderInfoLog(d));var u=y.createProgram();if(y.attachShader(u,b),y.attachShader(u,d),y.linkProgram(u),!y.getProgramParameter(u,y.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+y.getProgramInfoLog(u));var c=this.getAttributeLocations(y,u),p=this.getUniformLocations(y,u)||{};return p.uStepW=y.getUniformLocation(u,"uStepW"),p.uStepH=y.getUniformLocation(u,"uStepH"),{program:u,attributeLocations:c,uniformLocations:p}},getAttributeLocations:function(y,h){return{aPosition:y.getAttribLocation(h,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(y,h,_){var b=h.aPosition,d=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,d),y.enableVertexAttribArray(b),y.vertexAttribPointer(b,2,y.FLOAT,!1,0,0),y.bufferData(y.ARRAY_BUFFER,_,y.STATIC_DRAW)},_setupFrameBuffer:function(y){var _,b,h=y.context;y.passes>1?(b=y.destinationHeight,(y.sourceWidth!==(_=y.destinationWidth)||y.sourceHeight!==b)&&(h.deleteTexture(y.targetTexture),y.targetTexture=y.filterBackend.createTexture(h,_,b)),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,y.targetTexture,0)):(h.bindFramebuffer(h.FRAMEBUFFER,null),h.finish())},_swapTextures:function(y){y.passes--,y.pass++;var h=y.targetTexture;y.targetTexture=y.sourceTexture,y.sourceTexture=h},isNeutralState:function(){var y=this.mainParameter,h=w.Image.filters[this.type].prototype;if(y){if(Array.isArray(h[y])){for(var _=h[y].length;_--;)if(this[y][_]!==h[y][_])return!1;return!0}return h[y]===this[y]}return!1},applyTo:function(y){y.webgl?(this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y)):this.applyTo2d(y)},retrieveShader:function(y){return y.programCache.hasOwnProperty(this.type)||(y.programCache[this.type]=this.createProgram(y.context)),y.programCache[this.type]},applyToWebGL:function(y){var h=y.context,_=this.retrieveShader(y);h.bindTexture(h.TEXTURE_2D,0===y.pass&&y.originalTexture?y.originalTexture:y.sourceTexture),h.useProgram(_.program),this.sendAttributeData(h,_.attributeLocations,y.aPosition),h.uniform1f(_.uniformLocations.uStepW,1/y.sourceWidth),h.uniform1f(_.uniformLocations.uStepH,1/y.sourceHeight),this.sendUniformData(h,_.uniformLocations),h.viewport(0,0,y.destinationWidth,y.destinationHeight),h.drawArrays(h.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(y,h,_){y.activeTexture(_),y.bindTexture(y.TEXTURE_2D,h),y.activeTexture(y.TEXTURE0)},unbindAdditionalTexture:function(y,h){y.activeTexture(h),y.bindTexture(y.TEXTURE_2D,null),y.activeTexture(y.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(y){this[this.mainParameter]=y},sendUniformData:function(){},createHelpLayer:function(y){if(!y.helpLayer){var h=document.createElement("canvas");h.width=y.sourceWidth,h.height=y.sourceHeight,y.helpLayer=h}},toObject:function(){var y={type:this.type},h=this.mainParameter;return h&&(y[h]=this[h]),y},toJSON:function(){return this.toObject()}}),w.Image.filters.BaseFilter.fromObject=function(y,h){var _=new w.Image.filters[y.type](y);return h&&h(_),_},function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.ColorMatrix=(0,h.util.createClass)(_.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(d){this.callSuper("initialize",d),this.matrix=this.matrix.slice(0)},applyTo2d:function(d){var f,v,C,D,E,c=d.imageData.data,p=c.length,g=this.matrix,R=this.colorsOnly;for(E=0;E<p;E+=4)f=c[E],v=c[E+1],C=c[E+2],R?(c[E]=f*g[0]+v*g[1]+C*g[2]+255*g[4],c[E+1]=f*g[5]+v*g[6]+C*g[7]+255*g[9],c[E+2]=f*g[10]+v*g[11]+C*g[12]+255*g[14]):(c[E]=f*g[0]+v*g[1]+C*g[2]+(D=c[E+3])*g[3]+255*g[4],c[E+1]=f*g[5]+v*g[6]+C*g[7]+D*g[8]+255*g[9],c[E+2]=f*g[10]+v*g[11]+C*g[12]+D*g[13]+255*g[14],c[E+3]=f*g[15]+v*g[16]+C*g[17]+D*g[18]+255*g[19])},getUniformLocations:function(d,u){return{uColorMatrix:d.getUniformLocation(u,"uColorMatrix"),uConstants:d.getUniformLocation(u,"uConstants")}},sendUniformData:function(d,u){var c=this.matrix,g=[c[4],c[9],c[14],c[19]];d.uniformMatrix4fv(u.uColorMatrix,!1,[c[0],c[1],c[2],c[3],c[5],c[6],c[7],c[8],c[10],c[11],c[12],c[13],c[15],c[16],c[17],c[18]]),d.uniform4fv(u.uConstants,g)}}),h.Image.filters.ColorMatrix.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Brightness=(0,h.util.createClass)(_.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(d){if(0!==this.brightness){var p,c=d.imageData.data,g=c.length,f=Math.round(255*this.brightness);for(p=0;p<g;p+=4)c[p]=c[p]+f,c[p+1]=c[p+1]+f,c[p+2]=c[p+2]+f}},getUniformLocations:function(d,u){return{uBrightness:d.getUniformLocation(u,"uBrightness")}},sendUniformData:function(d,u){d.uniform1f(u.uBrightness,this.brightness)}}),h.Image.filters.Brightness.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.extend,b=h.Image.filters;b.Convolute=(0,h.util.createClass)(b.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(u){var c=Math.sqrt(this.matrix.length),p=this.type+"_"+c+"_"+(this.opaque?1:0),g=this.fragmentSource[p];return u.programCache.hasOwnProperty(p)||(u.programCache[p]=this.createProgram(u.context,g)),u.programCache[p]},applyTo2d:function(u){var H,q,se,he,De,Pe,Re,Le,Ve,it,dt,ct,j,c=u.imageData,p=c.data,g=this.matrix,f=Math.round(Math.sqrt(g.length)),v=Math.floor(f/2),C=c.width,D=c.height,E=u.ctx.createImageData(C,D),R=E.data,B=this.opaque?1:0;for(dt=0;dt<D;dt++)for(it=0;it<C;it++){for(De=4*(dt*C+it),H=0,q=0,se=0,he=0,j=0;j<f;j++)for(ct=0;ct<f;ct++)Pe=it+ct-v,!((Re=dt+j-v)<0||Re>=D||Pe<0||Pe>=C)&&(H+=p[Le=4*(Re*C+Pe)]*(Ve=g[j*f+ct]),q+=p[Le+1]*Ve,se+=p[Le+2]*Ve,B||(he+=p[Le+3]*Ve));R[De]=H,R[De+1]=q,R[De+2]=se,R[De+3]=B?p[De+3]:he}u.imageData=E},getUniformLocations:function(u,c){return{uMatrix:u.getUniformLocation(c,"uMatrix"),uOpaque:u.getUniformLocation(c,"uOpaque"),uHalfSize:u.getUniformLocation(c,"uHalfSize"),uSize:u.getUniformLocation(c,"uSize")}},sendUniformData:function(u,c){u.uniform1fv(c.uMatrix,this.matrix)},toObject:function(){return _(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),h.Image.filters.Convolute.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Grayscale=(0,h.util.createClass)(_.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(d){var p,f,c=d.imageData.data,g=c.length,v=this.mode;for(p=0;p<g;p+=4)"average"===v?f=(c[p]+c[p+1]+c[p+2])/3:"lightness"===v?f=(Math.min(c[p],c[p+1],c[p+2])+Math.max(c[p],c[p+1],c[p+2]))/2:"luminosity"===v&&(f=.21*c[p]+.72*c[p+1]+.07*c[p+2]),c[p]=f,c[p+1]=f,c[p+2]=f},retrieveShader:function(d){var u=this.type+"_"+this.mode;return d.programCache.hasOwnProperty(u)||(d.programCache[u]=this.createProgram(d.context,this.fragmentSource[this.mode])),d.programCache[u]},getUniformLocations:function(d,u){return{uMode:d.getUniformLocation(u,"uMode")}},sendUniformData:function(d,u){d.uniform1i(u.uMode,1)},isNeutralState:function(){return!1}}),h.Image.filters.Grayscale.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Invert=(0,h.util.createClass)(_.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(d){var p,c=d.imageData.data,g=c.length;for(p=0;p<g;p+=4)c[p]=255-c[p],c[p+1]=255-c[p+1],c[p+2]=255-c[p+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(d,u){return{uInvert:d.getUniformLocation(u,"uInvert")}},sendUniformData:function(d,u){d.uniform1i(u.uInvert,this.invert)}}),h.Image.filters.Invert.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.extend,b=h.Image.filters;b.Noise=(0,h.util.createClass)(b.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(u){if(0!==this.noise){var g,f,C,p=u.imageData.data,v=this.noise;for(g=0,f=p.length;g<f;g+=4)C=(.5-Math.random())*v,p[g]+=C,p[g+1]+=C,p[g+2]+=C}},getUniformLocations:function(u,c){return{uNoise:u.getUniformLocation(c,"uNoise"),uSeed:u.getUniformLocation(c,"uSeed")}},sendUniformData:function(u,c){u.uniform1f(c.uNoise,this.noise/255),u.uniform1f(c.uSeed,Math.random())},toObject:function(){return _(this.callSuper("toObject"),{noise:this.noise})}}),h.Image.filters.Noise.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Pixelate=(0,h.util.createClass)(_.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(d){var f,v,C,D,E,R,B,H,q,se,he,u=d.imageData,c=u.data,p=u.height,g=u.width;for(v=0;v<p;v+=this.blocksize)for(C=0;C<g;C+=this.blocksize)for(D=c[f=4*v*g+4*C],E=c[f+1],R=c[f+2],B=c[f+3],se=Math.min(v+this.blocksize,p),he=Math.min(C+this.blocksize,g),H=v;H<se;H++)for(q=C;q<he;q++)c[f=4*H*g+4*q]=D,c[f+1]=E,c[f+2]=R,c[f+3]=B},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(d,u){return{uBlocksize:d.getUniformLocation(u,"uBlocksize"),uStepW:d.getUniformLocation(u,"uStepW"),uStepH:d.getUniformLocation(u,"uStepH")}},sendUniformData:function(d,u){d.uniform1f(u.uBlocksize,this.blocksize)}}),h.Image.filters.Pixelate.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.extend,b=h.Image.filters;b.RemoveColor=(0,h.util.createClass)(b.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(u){var g,v,C,D,p=u.imageData.data,f=255*this.distance,E=new h.Color(this.color).getSource(),R=[E[0]-f,E[1]-f,E[2]-f],B=[E[0]+f,E[1]+f,E[2]+f];for(g=0;g<p.length;g+=4)C=p[g+1],D=p[g+2],(v=p[g])>R[0]&&C>R[1]&&D>R[2]&&v<B[0]&&C<B[1]&&D<B[2]&&(p[g+3]=0)},getUniformLocations:function(u,c){return{uLow:u.getUniformLocation(c,"uLow"),uHigh:u.getUniformLocation(c,"uHigh")}},sendUniformData:function(u,c){var p=new h.Color(this.color).getSource(),g=parseFloat(this.distance),v=[p[0]/255+g,p[1]/255+g,p[2]/255+g,1];u.uniform4fv(c.uLow,[0+p[0]/255-g,0+p[1]/255-g,0+p[2]/255-g,1]),u.uniform4fv(c.uHigh,v)},toObject:function(){return _(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),h.Image.filters.RemoveColor.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters,b=h.util.createClass,d={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var u in d)_[u]=b(_.ColorMatrix,{type:u,matrix:d[u],mainParameter:!1,colorsOnly:!0}),h.Image.filters[u].fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric,_=h.Image.filters;_.BlendColor=(0,h.util.createClass)(_.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(d){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[d]+"}\n}"},retrieveShader:function(d){var c,u=this.type+"_"+this.mode;return d.programCache.hasOwnProperty(u)||(c=this.buildSource(this.mode),d.programCache[u]=this.createProgram(d.context,c)),d.programCache[u]},applyTo2d:function(d){var g,f,v,C,D,E,R,c=d.imageData.data,p=c.length,B=1-this.alpha;g=(R=new h.Color(this.color).getSource())[0]*this.alpha,f=R[1]*this.alpha,v=R[2]*this.alpha;for(var H=0;H<p;H+=4)switch(C=c[H],D=c[H+1],E=c[H+2],this.mode){case"multiply":c[H]=C*g/255,c[H+1]=D*f/255,c[H+2]=E*v/255;break;case"screen":c[H]=255-(255-C)*(255-g)/255,c[H+1]=255-(255-D)*(255-f)/255,c[H+2]=255-(255-E)*(255-v)/255;break;case"add":c[H]=C+g,c[H+1]=D+f,c[H+2]=E+v;break;case"diff":case"difference":c[H]=Math.abs(C-g),c[H+1]=Math.abs(D-f),c[H+2]=Math.abs(E-v);break;case"subtract":c[H]=C-g,c[H+1]=D-f,c[H+2]=E-v;break;case"darken":c[H]=Math.min(C,g),c[H+1]=Math.min(D,f),c[H+2]=Math.min(E,v);break;case"lighten":c[H]=Math.max(C,g),c[H+1]=Math.max(D,f),c[H+2]=Math.max(E,v);break;case"overlay":c[H]=g<128?2*C*g/255:255-2*(255-C)*(255-g)/255,c[H+1]=f<128?2*D*f/255:255-2*(255-D)*(255-f)/255,c[H+2]=v<128?2*E*v/255:255-2*(255-E)*(255-v)/255;break;case"exclusion":c[H]=g+C-2*g*C/255,c[H+1]=f+D-2*f*D/255,c[H+2]=v+E-2*v*E/255;break;case"tint":c[H]=g+C*B,c[H+1]=f+D*B,c[H+2]=v+E*B}},getUniformLocations:function(d,u){return{uColor:d.getUniformLocation(u,"uColor")}},sendUniformData:function(d,u){var c=new h.Color(this.color).getSource();c[0]=this.alpha*c[0]/255,c[1]=this.alpha*c[1]/255,c[2]=this.alpha*c[2]/255,c[3]=this.alpha,d.uniform4fv(u.uColor,c)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),h.Image.filters.BlendColor.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric,_=h.Image.filters;_.BlendImage=(0,h.util.createClass)(_.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(d){var u=this.type+"_"+this.mode,c=this.fragmentSource[this.mode];return d.programCache.hasOwnProperty(u)||(d.programCache[u]=this.createProgram(d.context,c)),d.programCache[u]},applyToWebGL:function(d){var u=d.context,c=this.createTexture(d.filterBackend,this.image);this.bindAdditionalTexture(u,c,u.TEXTURE1),this.callSuper("applyToWebGL",d),this.unbindAdditionalTexture(u,u.TEXTURE1)},createTexture:function(d,u){return d.getCachedTexture(u.cacheKey,u._element)},calculateMatrix:function(){var d=this.image;return[1/d.scaleX,0,0,0,1/d.scaleY,0,-d.left/d._element.width,-d.top/d._element.height,1]},applyTo2d:function(d){var C,D,E,R,B,H,q,se,he,De,Re,u=d.imageData,c=d.filterBackend.resources,p=u.data,g=p.length,f=u.width,v=u.height,Pe=this.image;c.blendImage||(c.blendImage=h.util.createCanvasElement()),De=(he=c.blendImage).getContext("2d"),he.width!==f||he.height!==v?(he.width=f,he.height=v):De.clearRect(0,0,f,v),De.setTransform(Pe.scaleX,0,0,Pe.scaleY,Pe.left,Pe.top),De.drawImage(Pe._element,0,0,f,v),Re=De.getImageData(0,0,f,v).data;for(var Le=0;Le<g;Le+=4)switch(B=p[Le],H=p[Le+1],q=p[Le+2],se=p[Le+3],C=Re[Le],D=Re[Le+1],E=Re[Le+2],R=Re[Le+3],this.mode){case"multiply":p[Le]=B*C/255,p[Le+1]=H*D/255,p[Le+2]=q*E/255,p[Le+3]=se*R/255;break;case"mask":p[Le+3]=R}},getUniformLocations:function(d,u){return{uTransformMatrix:d.getUniformLocation(u,"uTransformMatrix"),uImage:d.getUniformLocation(u,"uImage")}},sendUniformData:function(d,u){var c=this.calculateMatrix();d.uniform1i(u.uImage,1),d.uniformMatrix3fv(u.uTransformMatrix,!1,c)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),h.Image.filters.BlendImage.fromObject=function(d,u){h.Image.fromObject(d.image,function(c){var p=h.util.object.clone(d);p.image=c,u(new h.Image.filters.BlendImage(p))})}}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=Math.pow,b=Math.floor,d=Math.sqrt,u=Math.abs,c=Math.round,p=Math.sin,g=Math.ceil,f=h.Image.filters;f.Resize=(0,h.util.createClass)(f.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(C,D){return{uDelta:C.getUniformLocation(D,"uDelta"),uTaps:C.getUniformLocation(D,"uTaps")}},sendUniformData:function(C,D){C.uniform2fv(D.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),C.uniform1fv(D.uTaps,this.taps)},retrieveShader:function(C){var D=this.getFilterWindow(),E=this.type+"_"+D;if(!C.programCache.hasOwnProperty(E)){var R=this.generateShader(D);C.programCache[E]=this.createProgram(C.context,R)}return C.programCache[E]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var C=this.lanczosCreate(this.lanczosLobes),D=this.tempScale,E=this.getFilterWindow(),R=new Array(E),B=1;B<=E;B++)R[B-1]=C(B*D);return R},generateShader:function(R){for(var D=new Array(R),E=this.fragmentSourceTOP,B=1;B<=R;B++)D[B-1]=B+".0 * uDelta";return E+="uniform float uTaps["+R+"];\n",E+="void main() {\n",E+="  vec4 color = texture2D(uTexture, vTexCoord);\n",E+="  float sum = 1.0;\n",D.forEach(function(H,q){E+="  color += texture2D(uTexture, vTexCoord + "+H+") * uTaps["+q+"];\n",E+="  color += texture2D(uTexture, vTexCoord - "+H+") * uTaps["+q+"];\n",E+="  sum += 2.0 * uTaps["+q+"];\n"}),E+="  gl_FragColor = color / sum;\n",E+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(C){C.webgl?(C.passes++,this.width=C.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=C.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),C.destinationWidth=this.dW,this._setupFrameBuffer(C),this.applyToWebGL(C),this._swapTextures(C),C.sourceWidth=C.destinationWidth,this.height=C.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),C.destinationHeight=this.dH,this._setupFrameBuffer(C),this.applyToWebGL(C),this._swapTextures(C),C.sourceHeight=C.destinationHeight):this.applyTo2d(C)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(C){return function(D){if(D>=C||D<=-C)return 0;if(D<1.1920929e-7&&D>-1.1920929e-7)return 1;var E=(D*=Math.PI)/C;return p(D)/D*p(E)/E}},applyTo2d:function(C){var D=C.imageData,E=this.scaleX,R=this.scaleY;this.rcpScaleX=1/E,this.rcpScaleY=1/R;var he,B=D.width,H=D.height,q=c(B*E),se=c(H*R);"sliceHack"===this.resizeType?he=this.sliceByTwo(C,B,H,q,se):"hermite"===this.resizeType?he=this.hermiteFastResize(C,B,H,q,se):"bilinear"===this.resizeType?he=this.bilinearFiltering(C,B,H,q,se):"lanczos"===this.resizeType&&(he=this.lanczosResize(C,B,H,q,se)),C.imageData=he},sliceByTwo:function(C,D,E,R,B){var Le,Ve,H=C.imageData,q=.5,se=!1,he=!1,De=D*q,Pe=E*q,Re=h.filterBackend.resources,it=0,dt=0,ct=D,j=0;for(Re.sliceByTwo||(Re.sliceByTwo=document.createElement("canvas")),((Le=Re.sliceByTwo).width<1.5*D||Le.height<E)&&(Le.width=1.5*D,Le.height=E),(Ve=Le.getContext("2d")).clearRect(0,0,1.5*D,E),Ve.putImageData(H,0,0),R=b(R),B=b(B);!se||!he;)D=De,E=Pe,R<b(De*q)?De=b(De*q):(De=R,se=!0),B<b(Pe*q)?Pe=b(Pe*q):(Pe=B,he=!0),Ve.drawImage(Le,it,dt,D,E,ct,j,De,Pe),it=ct,dt=j,j+=Pe;return Ve.getImageData(it,dt,R,B)},lanczosResize:function(C,D,E,R,B){var q=C.imageData.data,se=C.ctx.createImageData(R,B),he=se.data,De=this.lanczosCreate(this.lanczosLobes),Pe=this.rcpScaleX,Re=this.rcpScaleY,Le=2/this.rcpScaleX,Ve=2/this.rcpScaleY,it=g(Pe*this.lanczosLobes/2),dt=g(Re*this.lanczosLobes/2),ct={},j={},te={};return function H(ee){var J,Se,X,U,de,ge,$,Y,ie,ue,Ie;for(j.x=(ee+.5)*Pe,te.x=b(j.x),J=0;J<B;J++){for(j.y=(J+.5)*Re,te.y=b(j.y),de=0,ge=0,$=0,Y=0,ie=0,Se=te.x-it;Se<=te.x+it;Se++)if(!(Se<0||Se>=D)){ue=b(1e3*u(Se-j.x)),ct[ue]||(ct[ue]={});for(var ne=te.y-dt;ne<=te.y+dt;ne++)ne<0||ne>=E||(Ie=b(1e3*u(ne-j.y)),ct[ue][Ie]||(ct[ue][Ie]=De(d(_(ue*Le,2)+_(Ie*Ve,2))/1e3)),(X=ct[ue][Ie])>0&&(de+=X,ge+=X*q[U=4*(ne*D+Se)],$+=X*q[U+1],Y+=X*q[U+2],ie+=X*q[U+3]))}he[U=4*(J*R+ee)]=ge/de,he[U+1]=$/de,he[U+2]=Y/de,he[U+3]=ie/de}return++ee<R?H(ee):se}(0)},bilinearFiltering:function(C,D,E,R,B){var De,Pe,Re,Le,Ve,it,dt,te,j=0,ee=this.rcpScaleX,J=this.rcpScaleY,Se=4*(D-1),U=C.imageData.data,de=C.ctx.createImageData(R,B),ge=de.data;for(Re=0;Re<B;Re++)for(Le=0;Le<R;Le++)for(Ve=ee*Le-(De=b(ee*Le)),it=J*Re-(Pe=b(J*Re)),te=4*(Pe*D+De),dt=0;dt<4;dt++)ge[j++]=U[te+dt]*(1-Ve)*(1-it)+U[te+4+dt]*Ve*(1-it)+U[te+Se+dt]*it*(1-Ve)+U[te+Se+4+dt]*Ve*it;return de},hermiteFastResize:function(C,D,E,R,B){for(var H=this.rcpScaleX,q=this.rcpScaleY,se=g(H/2),he=g(q/2),Pe=C.imageData.data,Re=C.ctx.createImageData(R,B),Le=Re.data,Ve=0;Ve<B;Ve++)for(var it=0;it<R;it++){for(var dt=4*(it+Ve*R),ct=0,j=0,te=0,ee=0,J=0,Se=0,X=0,U=(Ve+.5)*q,de=b(Ve*q);de<(Ve+1)*q;de++)for(var ge=u(U-(de+.5))/he,$=(it+.5)*H,Y=ge*ge,ie=b(it*H);ie<(it+1)*H;ie++){var ue=u($-(ie+.5))/se,Ie=d(Y+ue*ue);Ie>1&&Ie<-1||(ct=2*Ie*Ie*Ie-3*Ie*Ie+1)>0&&(X+=ct*Pe[3+(ue=4*(ie+de*D))],te+=ct,Pe[ue+3]<255&&(ct=ct*Pe[ue+3]/250),ee+=ct*Pe[ue],J+=ct*Pe[ue+1],Se+=ct*Pe[ue+2],j+=ct)}Le[dt]=ee/j,Le[dt+1]=J/j,Le[dt+2]=Se/j,Le[dt+3]=X/te}return Re},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),h.Image.filters.Resize.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Contrast=(0,h.util.createClass)(_.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(d){if(0!==this.contrast){var c,p=d.imageData.data,g=p.length,f=Math.floor(255*this.contrast),v=259*(f+255)/(255*(259-f));for(c=0;c<g;c+=4)p[c]=v*(p[c]-128)+128,p[c+1]=v*(p[c+1]-128)+128,p[c+2]=v*(p[c+2]-128)+128}},getUniformLocations:function(d,u){return{uContrast:d.getUniformLocation(u,"uContrast")}},sendUniformData:function(d,u){d.uniform1f(u.uContrast,this.contrast)}}),h.Image.filters.Contrast.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Saturation=(0,h.util.createClass)(_.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(d){if(0!==this.saturation){var f,v,c=d.imageData.data,p=c.length,g=-this.saturation;for(f=0;f<p;f+=4)v=Math.max(c[f],c[f+1],c[f+2]),c[f]+=v!==c[f]?(v-c[f])*g:0,c[f+1]+=v!==c[f+1]?(v-c[f+1])*g:0,c[f+2]+=v!==c[f+2]?(v-c[f+2])*g:0}},getUniformLocations:function(d,u){return{uSaturation:d.getUniformLocation(u,"uSaturation")}},sendUniformData:function(d,u){d.uniform1f(u.uSaturation,-this.saturation)}}),h.Image.filters.Saturation.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Vibrance=(0,h.util.createClass)(_.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(d){if(0!==this.vibrance){var f,v,D,c=d.imageData.data,p=c.length,g=-this.vibrance;for(f=0;f<p;f+=4)v=Math.max(c[f],c[f+1],c[f+2]),D=2*Math.abs(v-(c[f]+c[f+1]+c[f+2])/3)/255*g,c[f]+=v!==c[f]?(v-c[f])*D:0,c[f+1]+=v!==c[f+1]?(v-c[f+1])*D:0,c[f+2]+=v!==c[f+2]?(v-c[f+2])*D:0}},getUniformLocations:function(d,u){return{uVibrance:d.getUniformLocation(u,"uVibrance")}},sendUniformData:function(d,u){d.uniform1f(u.uVibrance,-this.vibrance)}}),h.Image.filters.Vibrance.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Blur=(0,h.util.createClass)(_.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(d){d.webgl?(this.aspectRatio=d.sourceWidth/d.sourceHeight,d.passes++,this._setupFrameBuffer(d),this.horizontal=!0,this.applyToWebGL(d),this._swapTextures(d),this._setupFrameBuffer(d),this.horizontal=!1,this.applyToWebGL(d),this._swapTextures(d)):this.applyTo2d(d)},applyTo2d:function(d){d.imageData=this.simpleBlur(d)},simpleBlur:function(d){var c,p,u=d.filterBackend.resources,g=d.imageData.width,f=d.imageData.height;u.blurLayer1||(u.blurLayer1=h.util.createCanvasElement(),u.blurLayer2=h.util.createCanvasElement()),p=u.blurLayer2,((c=u.blurLayer1).width!==g||c.height!==f)&&(p.width=c.width=g,p.height=c.height=f);var E,R,B,H,v=c.getContext("2d"),C=p.getContext("2d"),D=15,q=.06*this.blur*.5;for(v.putImageData(d.imageData,0,0),C.clearRect(0,0,g,f),H=-D;H<=D;H++)B=q*(R=H/D)*g+(E=(Math.random()-.5)/4),C.globalAlpha=1-Math.abs(R),C.drawImage(c,B,E),v.drawImage(p,0,0),C.globalAlpha=1,C.clearRect(0,0,p.width,p.height);for(H=-D;H<=D;H++)B=q*(R=H/D)*f+(E=(Math.random()-.5)/4),C.globalAlpha=1-Math.abs(R),C.drawImage(c,E,B),v.drawImage(p,0,0),C.globalAlpha=1,C.clearRect(0,0,p.width,p.height);d.ctx.drawImage(c,0,0);var se=d.ctx.getImageData(0,0,c.width,c.height);return v.globalAlpha=1,v.clearRect(0,0,c.width,c.height),se},getUniformLocations:function(d,u){return{delta:d.getUniformLocation(u,"uDelta")}},sendUniformData:function(d,u){var c=this.chooseRightDelta();d.uniform2fv(u.delta,c)},chooseRightDelta:function(){var c,d=1,u=[0,0];return this.horizontal?this.aspectRatio>1&&(d=1/this.aspectRatio):this.aspectRatio<1&&(d=this.aspectRatio),c=d*this.blur*.12,this.horizontal?u[0]=c:u[1]=c,u}}),_.Blur.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Gamma=(0,h.util.createClass)(_.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(d){this.gamma=[1,1,1],_.BaseFilter.prototype.initialize.call(this,d)},applyTo2d:function(d){var D,c=d.imageData.data,p=this.gamma,g=c.length,f=1/p[0],v=1/p[1],C=1/p[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),D=0,g=256;D<g;D++)this.rVals[D]=255*Math.pow(D/255,f),this.gVals[D]=255*Math.pow(D/255,v),this.bVals[D]=255*Math.pow(D/255,C);for(D=0,g=c.length;D<g;D+=4)c[D]=this.rVals[c[D]],c[D+1]=this.gVals[c[D+1]],c[D+2]=this.bVals[c[D+2]]},getUniformLocations:function(d,u){return{uGamma:d.getUniformLocation(u,"uGamma")}},sendUniformData:function(d,u){d.uniform3fv(u.uGamma,this.gamma)}}),h.Image.filters.Gamma.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.Composed=(0,h.util.createClass)(_.BaseFilter,{type:"Composed",subFilters:[],initialize:function(d){this.callSuper("initialize",d),this.subFilters=this.subFilters.slice(0)},applyTo:function(d){d.passes+=this.subFilters.length-1,this.subFilters.forEach(function(u){u.applyTo(d)})},toObject:function(){return h.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(d){return d.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(d){return!d.isNeutralState()})}}),h.Image.filters.Composed.fromObject=function(d,u){var p=(d.subFilters||[]).map(function(f){return new h.Image.filters[f.type](f)}),g=new h.Image.filters.Composed({subFilters:p});return u&&u(g),g}}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.Image.filters;_.HueRotation=(0,h.util.createClass)(_.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var d=this.rotation*Math.PI,u=h.util.cos(d),c=h.util.sin(d),p=1/3,g=Math.sqrt(p)*c,f=1-u;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=u+f/3,this.matrix[1]=p*f-g,this.matrix[2]=p*f+g,this.matrix[5]=p*f+g,this.matrix[6]=u+p*f,this.matrix[7]=p*f-g,this.matrix[10]=p*f-g,this.matrix[11]=p*f+g,this.matrix[12]=u+p*f},isNeutralState:function(d){return this.calculateMatrix(),_.BaseFilter.prototype.isNeutralState.call(this,d)},applyTo:function(d){this.calculateMatrix(),_.BaseFilter.prototype.applyTo.call(this,d)}}),h.Image.filters.HueRotation.fromObject=h.Image.filters.BaseFilter.fromObject}(ce),function(y){"use strict";var h=y.fabric||(y.fabric={}),_=h.util.object.clone;if(h.Text)h.warn("fabric.Text is already defined");else{var b="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");h.Text=h.util.createClass(h.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:h.Object.prototype.stateProperties.concat(b),cacheProperties:h.Object.prototype.cacheProperties.concat(b),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(d,u){this.styles=u&&u.styles||{},this.text=d,this.__skipDimension=!0,this.callSuper("initialize",u),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var d=this.path;d&&(d.segmentsInfo=h.util.getPathSegmentsInfo(d.path))},getMeasuringContext:function(){return h._measuringContext||(h._measuringContext=this.canvas&&this.canvas.contextCache||h.util.createCanvasElement().getContext("2d")),h._measuringContext},_splitText:function(){var d=this._splitTextIntoLines(this.text);return this.textLines=d.lines,this._textLines=d.graphemeLines,this._unwrappedTextLines=d._unwrappedLines,this._text=d.graphemeText,d},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var d=1.1*this.getHeightOfLine(0);this.width=this.path.width+d,this.height=this.path.height+d}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var d,u,p,g,f,v,C=0,D=this._textLines.length;C<D;C++)if(("justify"===this.textAlign||C!==D-1&&!this.isEndOfWrapping(C))&&(p=0,g=this._textLines[C],(u=this.getLineWidth(C))<this.width&&(v=this.textLines[C].match(this._reSpacesAndTabs)))){d=(this.width-u)/v.length;for(var E=0,R=g.length;E<=R;E++)f=this.__charBounds[C][E],this._reSpaceAndTab.test(g[E])?(f.width+=d,f.kernedWidth+=d,f.left+=p,p+=d):f.left+=p}},isEndOfWrapping:function(d){return d===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var d=this.callSuper("_getCacheCanvasDimensions"),u=this.fontSize;return d.width+=u*d.zoomX,d.height+=u*d.zoomY,d},_render:function(d){var u=this.path;u&&!u.isNotVisible()&&u._render(d),this._setTextStyles(d),this._renderTextLinesBackground(d),this._renderTextDecoration(d,"underline"),this._renderText(d),this._renderTextDecoration(d,"overline"),this._renderTextDecoration(d,"linethrough")},_renderText:function(d){"stroke"===this.paintFirst?(this._renderTextStroke(d),this._renderTextFill(d)):(this._renderTextFill(d),this._renderTextStroke(d))},_setTextStyles:function(d,u,c){if(d.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":d.textBaseline="middle";break;case"ascender":d.textBaseline="top";break;case"descender":d.textBaseline="bottom"}d.font=this._getFontDeclaration(u,c)},calcTextWidth:function(){for(var d=this.getLineWidth(0),u=1,c=this._textLines.length;u<c;u++){var p=this.getLineWidth(u);p>d&&(d=p)}return d},_renderTextLine:function(d,u,c,p,g,f){this._renderChars(d,u,c,p,g,f)},_renderTextLinesBackground:function(d){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var u,c,g,f,R,B,q,p=d.fillStyle,v=this._getLeftOffset(),C=this._getTopOffset(),D=0,E=0,H=this.path,se=0,he=this._textLines.length;se<he;se++)if(u=this.getHeightOfLine(se),this.textBackgroundColor||this.styleHas("textBackgroundColor",se)){g=this._textLines[se],c=this._getLineLeftOffset(se),E=0,D=0,f=this.getValueOfPropertyAt(se,0,"textBackgroundColor");for(var De=0,Pe=g.length;De<Pe;De++)R=this.__charBounds[se][De],B=this.getValueOfPropertyAt(se,De,"textBackgroundColor"),H?(d.save(),d.translate(R.renderLeft,R.renderTop),d.rotate(R.angle),d.fillStyle=B,B&&d.fillRect(-R.width/2,-u/this.lineHeight*(1-this._fontSizeFraction),R.width,u/this.lineHeight),d.restore()):B!==f?(q=v+c+D,"rtl"===this.direction&&(q=this.width-q-E),d.fillStyle=f,f&&d.fillRect(q,C,E,u/this.lineHeight),D=R.left,E=R.width,f=B):E+=R.kernedWidth;B&&!H&&(q=v+c+D,"rtl"===this.direction&&(q=this.width-q-E),d.fillStyle=B,d.fillRect(q,C,E,u/this.lineHeight)),C+=u}else C+=u;d.fillStyle=p,this._removeShadow(d)}},getFontCache:function(d){var u=d.fontFamily.toLowerCase();h.charWidthsCache[u]||(h.charWidthsCache[u]={});var c=h.charWidthsCache[u],p=d.fontStyle.toLowerCase()+"_"+(d.fontWeight+"").toLowerCase();return c[p]||(c[p]={}),c[p]},_measureChar:function(d,u,c,p){var E,R,B,q,g=this.getFontCache(u),C=c+d,D=this._getFontDeclaration(u)===this._getFontDeclaration(p),H=u.fontSize/this.CACHE_FONT_SIZE;if(c&&void 0!==g[c]&&(B=g[c]),void 0!==g[d]&&(q=E=g[d]),D&&void 0!==g[C]&&(q=(R=g[C])-B),void 0===E||void 0===B||void 0===R){var se=this.getMeasuringContext();this._setTextStyles(se,u,!0)}return void 0===E&&(q=E=se.measureText(d).width,g[d]=E),void 0===B&&D&&c&&(B=se.measureText(c).width,g[c]=B),D&&void 0===R&&(R=se.measureText(C).width,g[C]=R,q=R-B),{width:E*H,kernedWidth:q*H}},getHeightOfChar:function(d,u){return this.getValueOfPropertyAt(d,u,"fontSize")},measureLine:function(d){var u=this._measureLine(d);return 0!==this.charSpacing&&(u.width-=this._getWidthOfCharSpacing()),u.width<0&&(u.width=0),u},_measureLine:function(d){var c,p,f,v,R,B,u=0,g=this._textLines[d],D=new Array(g.length),E=0,H=this.path,q="right"===this.pathSide;for(this.__charBounds[d]=D,c=0;c<g.length;c++)v=this._getGraphemeBox(p=g[c],d,c,f),D[c]=v,u+=v.kernedWidth,f=p;if(D[c]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},H){switch(B=H.segmentsInfo[H.segmentsInfo.length-1].length,(R=h.util.getPointOnPath(H.path,0,H.segmentsInfo)).x+=H.pathOffset.x,R.y+=H.pathOffset.y,this.textAlign){case"left":E=q?B-u:0;break;case"center":E=(B-u)/2;break;case"right":E=q?0:B-u}for(E+=this.pathStartOffset*(q?-1:1),c=q?g.length-1:0;q?c>=0:c<g.length;q?c--:c++)E>B?E%=B:E<0&&(E+=B),this._setGraphemeOnPath(E,v=D[c],R),E+=v.kernedWidth}return{width:u,numOfSpaces:0}},_setGraphemeOnPath:function(d,u,c){var g=this.path,f=h.util.getPointOnPath(g.path,d+u.kernedWidth/2,g.segmentsInfo);u.renderLeft=f.x-c.x,u.renderTop=f.y-c.y,u.angle=f.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(d,u,c,p,g){var R,f=this.getCompleteStyleDeclaration(u,c),v=p?this.getCompleteStyleDeclaration(u,c-1):{},C=this._measureChar(d,f,p,v),D=C.kernedWidth,E=C.width;0!==this.charSpacing&&(E+=R=this._getWidthOfCharSpacing(),D+=R);var B={width:E,left:0,height:f.fontSize,kernedWidth:D,deltaY:f.deltaY};if(c>0&&!g){var H=this.__charBounds[u][c-1];B.left=H.left+H.width+C.kernedWidth-C.width}return B},getHeightOfLine:function(d){if(this.__lineHeights[d])return this.__lineHeights[d];for(var u=this._textLines[d],c=this.getHeightOfChar(d,0),p=1,g=u.length;p<g;p++)c=Math.max(this.getHeightOfChar(d,p),c);return this.__lineHeights[d]=c*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var d,u=0,c=0,p=this._textLines.length;c<p;c++)d=this.getHeightOfLine(c),u+=c===p-1?d/this.lineHeight:d;return u},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(d,u){d.save();for(var c=0,p=this._getLeftOffset(),g=this._getTopOffset(),f=0,v=this._textLines.length;f<v;f++){var C=this.getHeightOfLine(f),D=C/this.lineHeight,E=this._getLineLeftOffset(f);this._renderTextLine(u,d,this._textLines[f],p+E,g+c+D,f),c+=C}d.restore()},_renderTextFill:function(d){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(d,"fillText")},_renderTextStroke:function(d){(!this.stroke||0===this.strokeWidth)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(d),d.save(),this._setLineDash(d,this.strokeDashArray),d.beginPath(),this._renderTextCommon(d,"strokeText"),d.closePath(),d.restore())},_renderChars:function(d,u,c,p,g,f){var D,E,B,q,v=this.getHeightOfLine(f),C=-1!==this.textAlign.indexOf("justify"),R="",H=0,se=this.path,he=!C&&0===this.charSpacing&&this.isEmptyStyles(f)&&!se,De="ltr"===this.direction,Pe="ltr"===this.direction?1:-1,Le=u.canvas.getAttribute("dir");if(u.save(),Le!==this.direction&&(u.canvas.setAttribute("dir",De?"ltr":"rtl"),u.direction=De?"ltr":"rtl",u.textAlign=De?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,he)return this._renderChar(d,u,f,0,c.join(""),p,g,v),void u.restore();for(var Ve=0,it=c.length-1;Ve<=it;Ve++)q=Ve===it||this.charSpacing||se,R+=c[Ve],B=this.__charBounds[f][Ve],0===H?(p+=Pe*(B.kernedWidth-B.width),H+=B.width):H+=B.kernedWidth,C&&!q&&this._reSpaceAndTab.test(c[Ve])&&(q=!0),q||(D=D||this.getCompleteStyleDeclaration(f,Ve),E=this.getCompleteStyleDeclaration(f,Ve+1),q=h.util.hasStyleChanged(D,E,!1)),q&&(se?(u.save(),u.translate(B.renderLeft,B.renderTop),u.rotate(B.angle),this._renderChar(d,u,f,Ve,R,-H/2,0,v),u.restore()):this._renderChar(d,u,f,Ve,R,p,g,v),R="",D=E,p+=Pe*H,H=0);u.restore()},_applyPatternGradientTransformText:function(d){var c,u=h.util.createCanvasElement(),p=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return u.width=p,u.height=g,(c=u.getContext("2d")).beginPath(),c.moveTo(0,0),c.lineTo(p,0),c.lineTo(p,g),c.lineTo(0,g),c.closePath(),c.translate(p/2,g/2),c.fillStyle=d.toLive(c),this._applyPatternGradientTransform(c,d),c.fill(),c.createPattern(u,"no-repeat")},handleFiller:function(d,u,c){var p,g;return c.toLive?"percentage"===c.gradientUnits||c.gradientTransform||c.patternTransform?(d.translate(p=-this.width/2,g=-this.height/2),d[u]=this._applyPatternGradientTransformText(c),{offsetX:p,offsetY:g}):(d[u]=c.toLive(d,this),this._applyPatternGradientTransform(d,c)):(d[u]=c,{offsetX:0,offsetY:0})},_setStrokeStyles:function(d,u){return d.lineWidth=u.strokeWidth,d.lineCap=this.strokeLineCap,d.lineDashOffset=this.strokeDashOffset,d.lineJoin=this.strokeLineJoin,d.miterLimit=this.strokeMiterLimit,this.handleFiller(d,"strokeStyle",u.stroke)},_setFillStyles:function(d,u){return this.handleFiller(d,"fillStyle",u.fill)},_renderChar:function(d,u,c,p,g,f,v){var B,H,C=this._getStyleDeclaration(c,p),D=this.getCompleteStyleDeclaration(c,p),E="fillText"===d&&D.fill,R="strokeText"===d&&D.stroke&&D.strokeWidth;!R&&!E||(u.save(),E&&(B=this._setFillStyles(u,D)),R&&(H=this._setStrokeStyles(u,D)),u.font=this._getFontDeclaration(D),C&&C.textBackgroundColor&&this._removeShadow(u),C&&C.deltaY&&(v+=C.deltaY),E&&u.fillText(g,f-B.offsetX,v-B.offsetY),R&&u.strokeText(g,f-H.offsetX,v-H.offsetY),u.restore())},setSuperscript:function(d,u){return this._setScript(d,u,this.superscript)},setSubscript:function(d,u){return this._setScript(d,u,this.subscript)},_setScript:function(d,u,c){var p=this.get2DCursorLocation(d,!0),g=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"fontSize"),f=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"deltaY");return this.setSelectionStyles({fontSize:g*c.size,deltaY:f+g*c.baseline},d,u),this},_getLineLeftOffset:function(d){var u=this.getLineWidth(d),c=this.width-u,p=this.textAlign,g=this.direction,f=0,v=this.isEndOfWrapping(d);return"justify"===p||"justify-center"===p&&!v||"justify-right"===p&&!v||"justify-left"===p&&!v?0:("center"===p&&(f=c/2),"right"===p&&(f=c),"justify-center"===p&&(f=c/2),"justify-right"===p&&(f=c),"rtl"===g&&(f-=c),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var d=this._forceClearCache;return d||(d=this.hasStateChanged("_dimensionAffectingProps")),d&&(this.dirty=!0,this._forceClearCache=!1),d},getLineWidth:function(d){if(void 0!==this.__lineWidths[d])return this.__lineWidths[d];var c=this.measureLine(d).width;return this.__lineWidths[d]=c,c},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(d,u,c){var p=this._getStyleDeclaration(d,u);return p&&typeof p[c]<"u"?p[c]:this[c]},_renderTextDecoration:function(d,u){if(this[u]||this.styleHas(u)){d.save(),("overline"===u||"linethrough"===u)&&this._removeShadow(d);for(var c,p,g,f,v,C,D,E,H,q,se,he,De,Pe,Re,Le,R=this._getLeftOffset(),B=this._getTopOffset(),Ve=this.path,it=this._getWidthOfCharSpacing(),dt=this.offsets[u],ct=0,j=this._textLines.length;ct<j;ct++)if(c=this.getHeightOfLine(ct),this[u]||this.styleHas(u,ct)){D=this._textLines[ct],Pe=c/this.lineHeight,f=this._getLineLeftOffset(ct),q=0,se=0,E=this.getValueOfPropertyAt(ct,0,u),Le=this.getValueOfPropertyAt(ct,0,"fill"),H=B+Pe*(1-this._fontSizeFraction),p=this.getHeightOfChar(ct,0),v=this.getValueOfPropertyAt(ct,0,"deltaY");for(var te=0,ee=D.length;te<ee;te++)if(he=this.__charBounds[ct][te],De=this.getValueOfPropertyAt(ct,te,u),Re=this.getValueOfPropertyAt(ct,te,"fill"),g=this.getHeightOfChar(ct,te),C=this.getValueOfPropertyAt(ct,te,"deltaY"),Ve&&De&&Re)d.save(),d.fillStyle=Le,d.translate(he.renderLeft,he.renderTop),d.rotate(he.angle),d.fillRect(-he.kernedWidth/2,dt*g+C,he.kernedWidth,this.fontSize/15),d.restore();else if((De!==E||Re!==Le||g!==p||C!==v)&&se>0){var J=R+f+q;"rtl"===this.direction&&(J=this.width-J-se),E&&Le&&(d.fillStyle=Le,d.fillRect(J,H+dt*p+v,se,this.fontSize/15)),q=he.left,se=he.width,E=De,Le=Re,p=g,v=C}else se+=he.kernedWidth;J=R+f+q,"rtl"===this.direction&&(J=this.width-J-se),d.fillStyle=Re,De&&Re&&d.fillRect(J,H+dt*p+v,se-it,this.fontSize/15),B+=c}else B+=c;d.restore()}},_getFontDeclaration:function(d,u){var c=d||this,p=this.fontFamily,g=h.Text.genericFonts.indexOf(p.toLowerCase())>-1,f=void 0===p||p.indexOf("'")>-1||p.indexOf(",")>-1||p.indexOf('"')>-1||g?c.fontFamily:'"'+c.fontFamily+'"';return[h.isLikelyNode?c.fontWeight:c.fontStyle,h.isLikelyNode?c.fontStyle:c.fontWeight,u?this.CACHE_FONT_SIZE+"px":c.fontSize+"px",f].join(" ")},render:function(d){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",d)))},_splitTextIntoLines:function(d){for(var u=d.split(this._reNewline),c=new Array(u.length),p=["\n"],g=[],f=0;f<u.length;f++)c[f]=h.util.string.graphemeSplit(u[f]),g=g.concat(c[f],p);return g.pop(),{_unwrappedLines:c,lines:u,graphemeText:g,graphemeLines:c}},toObject:function(d){var u=b.concat(d),c=this.callSuper("toObject",u);return c.styles=h.util.stylesToArray(this.styles,this.text),c.path&&(c.path=this.path.toObject()),c},set:function(d,u){this.callSuper("set",d,u);var c=!1,p=!1;if("object"==typeof d)for(var g in d)"path"===g&&this.setPathInfo(),c=c||-1!==this._dimensionAffectingProps.indexOf(g),p=p||"path"===g;else c=-1!==this._dimensionAffectingProps.indexOf(d),p="path"===d;return p&&this.setPathInfo(),c&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),h.Text.ATTRIBUTE_NAMES=h.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),h.Text.DEFAULT_SVG_FONT_SIZE=16,h.Text.fromElement=function(d,u,c){if(!d)return u(null);var p=h.parseAttributes(d,h.Text.ATTRIBUTE_NAMES),g=p.textAnchor||"left";if((c=h.util.object.extend(c?_(c):{},p)).top=c.top||0,c.left=c.left||0,p.textDecoration){var f=p.textDecoration;-1!==f.indexOf("underline")&&(c.underline=!0),-1!==f.indexOf("overline")&&(c.overline=!0),-1!==f.indexOf("line-through")&&(c.linethrough=!0),delete c.textDecoration}"dx"in p&&(c.left+=p.dx),"dy"in p&&(c.top+=p.dy),"fontSize"in c||(c.fontSize=h.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in d?v=d.textContent:"firstChild"in d&&null!==d.firstChild&&"data"in d.firstChild&&null!==d.firstChild.data&&(v=d.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var C=c.strokeWidth;c.strokeWidth=0;var D=new h.Text(v,c),E=D.getScaledHeight()/D.height,B=((D.height+D.strokeWidth)*D.lineHeight-D.height)*E,H=D.getScaledHeight()+B,q=0;"center"===g&&(q=D.getScaledWidth()/2),"right"===g&&(q=D.getScaledWidth()),D.set({left:D.left-q,top:D.top-(H-D.fontSize*(.07+D._fontSizeFraction))/D.lineHeight,strokeWidth:typeof C<"u"?C:1}),u(D)},h.Text.fromObject=function(d,u){var c=_(d),p=d.path;return delete c.path,h.Object._fromObject("Text",c,function(g){g.styles=h.util.stylesFromArray(d.styles,d.text),p?h.Object._fromObject("Path",p,function(f){g.set("path",f),u(g)},"path"):u(g)},"text")},h.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],h.util.createAccessors&&h.util.createAccessors(h.Text)}}(ce),w.util.object.extend(w.Text.prototype,{isEmptyStyles:function(y){if(!this.styles||typeof y<"u"&&!this.styles[y])return!0;var h=typeof y>"u"?this.styles:{line:this.styles[y]};for(var _ in h)for(var b in h[_])for(var d in h[_][b])return!1;return!0},styleHas:function(y,h){if(!this.styles||!y||""===y||typeof h<"u"&&!this.styles[h])return!1;var _=typeof h>"u"?this.styles:{0:this.styles[h]};for(var b in _)for(var d in _[b])if(typeof _[b][d][y]<"u")return!0;return!1},cleanStyle:function(y){if(!this.styles||!y||""===y)return!1;var b,d,h=this.styles,_=0,u=!0,c=0;for(var g in h){for(var f in b=0,h[g]){var p;_++,(p=h[g][f]).hasOwnProperty(y)?(d?p[y]!==d&&(u=!1):d=p[y],p[y]===this[y]&&delete p[y]):u=!1,0!==Object.keys(p).length?b++:delete h[g][f]}0===b&&delete h[g]}for(var C=0;C<this._textLines.length;C++)c+=this._textLines[C].length;u&&_===c&&(this[y]=d,this.removeStyle(y))},removeStyle:function(y){if(this.styles&&y&&""!==y){var _,b,d,h=this.styles;for(b in h){for(d in _=h[b])delete _[d][y],0===Object.keys(_[d]).length&&delete _[d];0===Object.keys(_).length&&delete h[b]}}},_extendStyles:function(y,h){var _=this.get2DCursorLocation(y);this._getLineStyle(_.lineIndex)||this._setLineStyle(_.lineIndex),this._getStyleDeclaration(_.lineIndex,_.charIndex)||this._setStyleDeclaration(_.lineIndex,_.charIndex,{}),w.util.object.extend(this._getStyleDeclaration(_.lineIndex,_.charIndex),h)},get2DCursorLocation:function(y,h){typeof y>"u"&&(y=this.selectionStart);for(var _=h?this._unwrappedTextLines:this._textLines,b=_.length,d=0;d<b;d++){if(y<=_[d].length)return{lineIndex:d,charIndex:y};y-=_[d].length+this.missingNewlineOffset(d,h)}return{lineIndex:d-1,charIndex:_[d-1].length<y?_[d-1].length:y}},getSelectionStyles:function(y,h,_){typeof y>"u"&&(y=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||y);for(var b=[],d=y;d<h;d++)b.push(this.getStyleAtPosition(d,_));return b},getStyleAtPosition:function(y,h){var _=this.get2DCursorLocation(y);return(h?this.getCompleteStyleDeclaration(_.lineIndex,_.charIndex):this._getStyleDeclaration(_.lineIndex,_.charIndex))||{}},setSelectionStyles:function(y,h,_){typeof h>"u"&&(h=this.selectionStart||0),typeof _>"u"&&(_=this.selectionEnd||h);for(var b=h;b<_;b++)this._extendStyles(b,y);return this._forceClearCache=!0,this},_getStyleDeclaration:function(y,h){var _=this.styles&&this.styles[y];return _?_[h]:null},getCompleteStyleDeclaration:function(y,h){for(var d,_=this._getStyleDeclaration(y,h)||{},b={},u=0;u<this._styleProperties.length;u++)b[d=this._styleProperties[u]]=typeof _[d]>"u"?this[d]:_[d];return b},_setStyleDeclaration:function(y,h,_){this.styles[y][h]=_},_deleteStyleDeclaration:function(y,h){delete this.styles[y][h]},_getLineStyle:function(y){return!!this.styles[y]},_setLineStyle:function(y){this.styles[y]={}},_deleteLineStyle:function(y){delete this.styles[y]}}),function(){function y(h){h.textDecoration&&(h.textDecoration.indexOf("underline")>-1&&(h.underline=!0),h.textDecoration.indexOf("line-through")>-1&&(h.linethrough=!0),h.textDecoration.indexOf("overline")>-1&&(h.overline=!0),delete h.textDecoration)}w.IText=w.util.createClass(w.Text,w.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(h,_){this.callSuper("initialize",h,_),this.initBehavior()},setSelectionStart:function(h){h=Math.max(h,0),this._updateAndFire("selectionStart",h)},setSelectionEnd:function(h){h=Math.min(h,this.text.length),this._updateAndFire("selectionEnd",h)},_updateAndFire:function(h,_){this[h]!==_&&(this._fireSelectionChanged(),this[h]=_),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(h){this.clearContextTop(),this.callSuper("render",h),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(h){this.callSuper("_render",h)},clearContextTop:function(h){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var _=this.canvas.contextTop,b=this.canvas.viewportTransform;_.save(),_.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this.transform(_),this._clearTextArea(_),h||_.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var h=this._getCursorBoundaries(),_=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(h,_):this.renderSelection(h,_),_.restore()}},_clearTextArea:function(h){var _=this.width+4,b=this.height+4;h.clearRect(-_/2,-b/2,_,b)},_getCursorBoundaries:function(h){typeof h>"u"&&(h=this.selectionStart);var _=this._getLeftOffset(),b=this._getTopOffset(),d=this._getCursorBoundariesOffsets(h);return{left:_,top:b,leftOffset:d.left,topOffset:d.top}},_getCursorBoundariesOffsets:function(h){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var _,b,d,p,u=0,c=0,g=this.get2DCursorLocation(h);d=g.charIndex,b=g.lineIndex;for(var f=0;f<b;f++)u+=this.getHeightOfLine(f);_=this._getLineLeftOffset(b);var v=this.__charBounds[b][d];return v&&(c=v.left),0!==this.charSpacing&&d===this._textLines[b].length&&(c-=this._getWidthOfCharSpacing()),p={top:u,left:_+(c>0?c:0)},"rtl"===this.direction&&(p.left*=-1),this.cursorOffsetCache=p,this.cursorOffsetCache},renderCursor:function(h,_){var b=this.get2DCursorLocation(),d=b.lineIndex,u=b.charIndex>0?b.charIndex-1:0,c=this.getValueOfPropertyAt(d,u,"fontSize"),p=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/p,f=h.topOffset,v=this.getValueOfPropertyAt(d,u,"deltaY");f+=(1-this._fontSizeFraction)*this.getHeightOfLine(d)/this.lineHeight-c*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(h,_),_.fillStyle=this.cursorColor||this.getValueOfPropertyAt(d,u,"fill"),_.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,_.fillRect(h.left+h.leftOffset-g/2,f+h.top+v,g,c)},renderSelection:function(h,_){for(var b=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,d=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,u=-1!==this.textAlign.indexOf("justify"),c=this.get2DCursorLocation(b),p=this.get2DCursorLocation(d),g=c.lineIndex,f=p.lineIndex,v=c.charIndex<0?0:c.charIndex,C=p.charIndex<0?0:p.charIndex,D=g;D<=f;D++){var B,E=this._getLineLeftOffset(D)||0,R=this.getHeightOfLine(D),H=0,q=0;if(D===g&&(H=this.__charBounds[g][v].left),D>=g&&D<f)q=u&&!this.isEndOfWrapping(D)?this.width:this.getLineWidth(D)||5;else if(D===f)if(0===C)q=this.__charBounds[f][C].left;else{var se=this._getWidthOfCharSpacing();q=this.__charBounds[f][C-1].left+this.__charBounds[f][C-1].width-se}B=R,(this.lineHeight<1||D===f&&this.lineHeight>1)&&(R/=this.lineHeight);var he=h.left+E+H,De=q-H,Pe=R,Re=0;this.inCompositionMode?(_.fillStyle=this.compositionColor||"black",Pe=1,Re=R):_.fillStyle=this.selectionColor,"rtl"===this.direction&&(he=this.width-he-De),_.fillRect(he,h.top+h.topOffset+Re,De,Pe),h.topOffset+=B}},getCurrentCharFontSize:function(){var h=this._getCurrentCharIndex();return this.getValueOfPropertyAt(h.l,h.c,"fontSize")},getCurrentCharColor:function(){var h=this._getCurrentCharIndex();return this.getValueOfPropertyAt(h.l,h.c,"fill")},_getCurrentCharIndex:function(){var h=this.get2DCursorLocation(this.selectionStart,!0);return{l:h.lineIndex,c:h.charIndex>0?h.charIndex-1:0}}}),w.IText.fromObject=function(h,_){var b=w.util.stylesFromArray(h.styles,h.text),d=Object.assign({},h,{styles:b});if(delete d.path,y(d),d.styles)for(var u in d.styles)for(var c in d.styles[u])y(d.styles[u][c]);w.Object._fromObject("IText",d,function(p){h.path?w.Object._fromObject("Path",h.path,function(g){p.set("path",g),_(p)},"path"):_(p)},"text")}}(),function(){var y=w.util.object.clone;w.util.object.extend(w.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var h=this;this.on("added",function(){var _=h.canvas;_&&(_._hasITextHandlers||(_._hasITextHandlers=!0,h._initCanvasHandlers(_)),_._iTextInstances=_._iTextInstances||[],_._iTextInstances.push(h))})},initRemovedHandler:function(){var h=this;this.on("removed",function(){var _=h.canvas;_&&(_._iTextInstances=_._iTextInstances||[],w.util.removeFromArray(_._iTextInstances,h),0===_._iTextInstances.length&&(_._hasITextHandlers=!1,h._removeCanvasHandlers(_)))})},_initCanvasHandlers:function(h){h._mouseUpITextHandler=function(){h._iTextInstances&&h._iTextInstances.forEach(function(_){_.__isMousedown=!1})},h.on("mouse:up",h._mouseUpITextHandler)},_removeCanvasHandlers:function(h){h.off("mouse:up",h._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(h,_,b,d){var u;return u={isAborted:!1,abort:function(){this.isAborted=!0}},h.animate("_currentCursorOpacity",_,{duration:b,onComplete:function(){u.isAborted||h[d]()},onChange:function(){h.canvas&&h.selectionStart===h.selectionEnd&&h.renderCursorOrSelection()},abort:function(){return u.isAborted}}),u},_onTickComplete:function(){var h=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){h._currentTickCompleteState=h._animateCursor(h,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(h){var _=this,b=h?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){_._tick()},b)},abortCursorAnimation:function(){var h=this._currentTickState||this._currentTickCompleteState,_=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,h&&_&&_.clearContext(_.contextTop||_.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(h){var _=0,b=h-1;if(this._reSpace.test(this._text[b]))for(;this._reSpace.test(this._text[b]);)_++,b--;for(;/\S/.test(this._text[b])&&b>-1;)_++,b--;return h-_},findWordBoundaryRight:function(h){var _=0,b=h;if(this._reSpace.test(this._text[b]))for(;this._reSpace.test(this._text[b]);)_++,b++;for(;/\S/.test(this._text[b])&&b<this._text.length;)_++,b++;return h+_},findLineBoundaryLeft:function(h){for(var _=0,b=h-1;!/\n/.test(this._text[b])&&b>-1;)_++,b--;return h-_},findLineBoundaryRight:function(h){for(var _=0,b=h;!/\n/.test(this._text[b])&&b<this._text.length;)_++,b++;return h+_},searchWordBoundary:function(h,_){for(var b=this._text,d=this._reSpace.test(b[h])?h-1:h,u=b[d],c=w.reNonWord;!c.test(u)&&d>0&&d<b.length;)u=b[d+=_];return c.test(u)&&(d+=1===_?0:1),d},selectWord:function(h){var _=this.searchWordBoundary(h=h||this.selectionStart,-1),b=this.searchWordBoundary(h,1);this.selectionStart=_,this.selectionEnd=b,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(h){var _=this.findLineBoundaryLeft(h=h||this.selectionStart),b=this.findLineBoundaryRight(h);return this.selectionStart=_,this.selectionEnd=b,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(h){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(h),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(h){h._iTextInstances&&h._iTextInstances.forEach(function(_){_.selected=!1,_.isEditing&&_.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(h){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var _=this.getSelectionStartFromPointer(h.e),b=this.selectionStart,d=this.selectionEnd;(_!==this.__selectionStartOnMouseDown||b===d)&&(b===_||d===_)||(_>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=_):(this.selectionStart=_,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==b||this.selectionEnd!==d)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(h,_,b){var d=b.slice(0,h),u=w.util.string.graphemeSplit(d).length;if(h===_)return{selectionStart:u,selectionEnd:u};var c=b.slice(h,_);return{selectionStart:u,selectionEnd:u+w.util.string.graphemeSplit(c).length}},fromGraphemeToStringSelection:function(h,_,b){var u=b.slice(0,h).join("").length;return h===_?{selectionStart:u,selectionEnd:u}:{selectionStart:u,selectionEnd:u+b.slice(h,_).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var h=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=h.selectionStart,this.hiddenTextarea.selectionEnd=h.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var h=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=h.selectionEnd,this.inCompositionMode||(this.selectionStart=h.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var h=this._calcTextareaPosition();this.hiddenTextarea.style.left=h.left,this.hiddenTextarea.style.top=h.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var h=this.inCompositionMode?this.compositionStart:this.selectionStart,_=this._getCursorBoundaries(h),b=this.get2DCursorLocation(h),c=this.getValueOfPropertyAt(b.lineIndex,b.charIndex,"fontSize")*this.lineHeight,p=_.leftOffset,g=this.calcTransformMatrix(),f={x:_.left+p,y:_.top+_.topOffset+c},v=this.canvas.getRetinaScaling(),C=this.canvas.upperCanvasEl,D=C.width/v,E=C.height/v,R=D-c,B=E-c,H=C.clientWidth/D,q=C.clientHeight/E;return f=w.util.transformPoint(f,g),(f=w.util.transformPoint(f,this.canvas.viewportTransform)).x*=H,f.y*=q,f.x<0&&(f.x=0),f.x>R&&(f.x=R),f.y<0&&(f.y=0),f.y>B&&(f.y=B),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:f.x+"px",top:f.y+"px",fontSize:c+"px",charHeight:c}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var h=this._textBeforeEdit!==this.text,_=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,_&&(_.blur&&_.blur(),_.parentNode&&_.parentNode.removeChild(_)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),h&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),h&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var h in this.styles)this._textLines[h]||delete this.styles[h]},removeStyleFromTo:function(h,_){var f,v,b=this.get2DCursorLocation(h,!0),d=this.get2DCursorLocation(_,!0),u=b.lineIndex,c=b.charIndex,p=d.lineIndex,g=d.charIndex;if(u!==p){if(this.styles[u])for(f=c;f<this._unwrappedTextLines[u].length;f++)delete this.styles[u][f];if(this.styles[p])for(f=g;f<this._unwrappedTextLines[p].length;f++)(v=this.styles[p][f])&&(this.styles[u]||(this.styles[u]={}),this.styles[u][c+f-g]=v);for(f=u+1;f<=p;f++)delete this.styles[f];this.shiftLineStyles(p,u-p)}else if(this.styles[u]){v=this.styles[u];var D,E,C=g-c;for(f=c;f<g;f++)delete v[f];for(E in this.styles[u])(D=parseInt(E,10))>=g&&(v[D-C]=v[E],delete v[E])}},shiftLineStyles:function(h,_){var b=y(this.styles);for(var d in this.styles){var u=parseInt(d,10);u>h&&(this.styles[u+_]=b[u],b[u-_]||delete this.styles[u])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(h,_,b,d){var u,c={},p=!1,g=this._unwrappedTextLines[h].length,f=g===_;for(var v in b||(b=1),this.shiftLineStyles(h,b),this.styles[h]&&(u=this.styles[h][0===_?_:_-1]),this.styles[h]){var C=parseInt(v,10);C>=_&&(p=!0,c[C-_]=this.styles[h][v],f&&0===_||delete this.styles[h][v])}var D=!1;for(p&&!f&&(this.styles[h+b]=c,D=!0),(D||g>_)&&b--;b>0;)d&&d[b-1]?this.styles[h+b]={0:y(d[b-1])}:u?this.styles[h+b]={0:y(u)}:delete this.styles[h+b],b--;this._forceClearCache=!0},insertCharStyleObject:function(h,_,b,d){this.styles||(this.styles={});var u=this.styles[h],c=u?y(u):{};for(var p in b||(b=1),c){var g=parseInt(p,10);g>=_&&(u[g+b]=c[g],c[g-b]||delete u[g])}if(this._forceClearCache=!0,d)for(;b--;)Object.keys(d[b]).length&&(this.styles[h]||(this.styles[h]={}),this.styles[h][_+b]=y(d[b]));else if(u)for(var f=u[_?_-1:1];f&&b--;)this.styles[h][_+b]=y(f)},insertNewStyleBlock:function(h,_,b){for(var d=this.get2DCursorLocation(_,!0),u=[0],c=0,p=0;p<h.length;p++)"\n"===h[p]?u[++c]=0:u[c]++;for(u[0]>0&&(this.insertCharStyleObject(d.lineIndex,d.charIndex,u[0],b),b=b&&b.slice(u[0]+1)),c&&this.insertNewlineStyleObject(d.lineIndex,d.charIndex+u[0],c),p=1;p<c;p++)u[p]>0?this.insertCharStyleObject(d.lineIndex+p,0,u[p],b):b&&this.styles[d.lineIndex+p]&&b[0]&&(this.styles[d.lineIndex+p][0]=b[0]),b=b&&b.slice(u[p]+1);u[p]>0&&this.insertCharStyleObject(d.lineIndex+p,0,u[p],b)},setSelectionStartEndWithShift:function(h,_,b){b<=h?(_===h?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=h),this.selectionStart=b):b>h&&b<_?"right"===this._selectionDirection?this.selectionEnd=b:this.selectionStart=b:(_===h?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=_),this.selectionEnd=b)},setSelectionInBoundaries:function(){var h=this.text.length;this.selectionStart>h?this.selectionStart=h:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>h?this.selectionEnd=h:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),w.util.object.extend(w.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(y){if(this.canvas){this.__newClickTime=+new Date;var h=y.pointer;this.isTripleClick(h)&&(this.fire("tripleclick",y),this._stopEvent(y.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=h,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(y){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===y.x&&this.__lastPointer.y===y.y},_stopEvent:function(y){y.preventDefault&&y.preventDefault(),y.stopPropagation&&y.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(y){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(y.e))},tripleClickHandler:function(y){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(y.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(y){!this.canvas||!this.editable||y.e.button&&1!==y.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(y.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(y){!this.canvas||!this.editable||y.e.button&&1!==y.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(y){if(this.__isMousedown=!1,!(!this.editable||this.group||y.transform&&y.transform.actionPerformed||y.e.button&&1!==y.e.button)){if(this.canvas){var h=this.canvas._activeObject;if(h&&h!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(y.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(y){var h=this.getSelectionStartFromPointer(y);y.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,h):(this.selectionStart=h,this.selectionEnd=h),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(y){for(var g,h=this.getLocalPointer(y),_=0,b=0,d=0,u=0,c=0,f=0,v=this._textLines.length;f<v&&d<=h.y;f++)d+=this.getHeightOfLine(f)*this.scaleY,c=f,f>0&&(u+=this._textLines[f-1].length+this.missingNewlineOffset(f-1));b=this._getLineLeftOffset(c)*this.scaleX,g=this._textLines[c],"rtl"===this.direction&&(h.x=this.width*this.scaleX-h.x+b);for(var C=0,D=g.length;C<D&&(_=b,(b+=this.__charBounds[c][C].kernedWidth*this.scaleX)<=h.x);C++)u++;return this._getNewSelectionStartFromOffset(h,_,b,u,D)},_getNewSelectionStartFromOffset:function(y,h,_,b,d){var c=_-y.x,g=b+(c>y.x-h||c<0?0:1);return this.flipX&&(g=d-g),g>this._text.length&&(g=this._text.length),g}}),w.util.object.extend(w.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=w.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var y=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+y.top+"; left: "+y.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+y.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):w.document.body.appendChild(this.hiddenTextarea),w.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),w.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),w.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),w.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),w.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),w.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(w.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(y){if(this.isEditing){var h="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(y.keyCode in h)this[h[y.keyCode]](y);else{if(!(y.keyCode in this.ctrlKeysMapDown)||!y.ctrlKey&&!y.metaKey)return;this[this.ctrlKeysMapDown[y.keyCode]](y)}y.stopImmediatePropagation(),y.preventDefault(),y.keyCode>=33&&y.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(y){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:y.keyCode in this.ctrlKeysMapUp&&(y.ctrlKey||y.metaKey)&&(this[this.ctrlKeysMapUp[y.keyCode]](y),y.stopImmediatePropagation(),y.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(y){var h=this.fromPaste;if(this.fromPaste=!1,y&&y.stopPropagation(),this.isEditing){var u,c,C,D,E,_=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,b=this._text.length,d=_.length,p=d-b,g=this.selectionStart,f=this.selectionEnd,v=g!==f;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var R=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),B=g>R.selectionStart;v?(u=this._text.slice(g,f),p+=f-g):d<b&&(u=B?this._text.slice(f+p,f):this._text.slice(g,g-p)),c=_.slice(R.selectionEnd-p,R.selectionEnd),u&&u.length&&(c.length&&(C=this.getSelectionStyles(g,g+1,!1),C=c.map(function(){return C[0]})),v?(D=g,E=f):B?(D=f-u.length,E=f):(D=f,E=f+u.length),this.removeStyleFromTo(D,E)),c.length&&(h&&c.join("")===w.copiedText&&!w.disableStyleCopyPaste&&(C=w.copiedTextStyle),this.insertNewStyleBlock(c,g,C)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(y){this.compositionStart=y.target.selectionStart,this.compositionEnd=y.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(w.copiedText=this.getSelectedText(),w.copiedTextStyle=w.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(y){return y&&y.clipboardData||w.window.clipboardData},_getWidthBeforeCursor:function(y,h){var b,_=this._getLineLeftOffset(y);return h>0&&(_+=(b=this.__charBounds[y][h-1]).left+b.width),_},getDownCursorOffset:function(y,h){var _=this._getSelectionForOffset(y,h),b=this.get2DCursorLocation(_),d=b.lineIndex;if(d===this._textLines.length-1||y.metaKey||34===y.keyCode)return this._text.length-_;var u=b.charIndex,c=this._getWidthBeforeCursor(d,u),p=this._getIndexOnLine(d+1,c);return this._textLines[d].slice(u).length+p+1+this.missingNewlineOffset(d)},_getSelectionForOffset:function(y,h){return y.shiftKey&&this.selectionStart!==this.selectionEnd&&h?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(y,h){var _=this._getSelectionForOffset(y,h),b=this.get2DCursorLocation(_),d=b.lineIndex;if(0===d||y.metaKey||33===y.keyCode)return-_;var u=b.charIndex,c=this._getWidthBeforeCursor(d,u),p=this._getIndexOnLine(d-1,c),g=this._textLines[d].slice(0,u),f=this.missingNewlineOffset(d-1);return-this._textLines[d-1].length+p-g.length+(1-f)},_getIndexOnLine:function(y,h){for(var c,p,_=this._textLines[y],d=this._getLineLeftOffset(y),u=0,g=0,f=_.length;g<f;g++)if((d+=c=this.__charBounds[y][g].width)>h){p=!0;var C=d,D=Math.abs(d-c-h);u=Math.abs(C-h)<D?g:g-1;break}return p||(u=_.length-1),u},moveCursorDown:function(y){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",y)},moveCursorUp:function(y){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",y)},_moveCursorUpOrDown:function(y,h){var b=this["get"+y+"CursorOffset"](h,"right"===this._selectionDirection);h.shiftKey?this.moveCursorWithShift(b):this.moveCursorWithoutShift(b),0!==b&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(y){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+y:this.selectionEnd+y),0!==y},moveCursorWithoutShift:function(y){return y<0?(this.selectionStart+=y,this.selectionEnd=this.selectionStart):(this.selectionEnd+=y,this.selectionStart=this.selectionEnd),0!==y},moveCursorLeft:function(y){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",y)},_move:function(y,h,_){var b;if(y.altKey)b=this["findWordBoundary"+_](this[h]);else{if(!y.metaKey&&35!==y.keyCode&&36!==y.keyCode)return this[h]+="Left"===_?-1:1,!0;b=this["findLineBoundary"+_](this[h])}if(typeof b<"u"&&this[h]!==b)return this[h]=b,!0},_moveLeft:function(y,h){return this._move(y,h,"Left")},_moveRight:function(y,h){return this._move(y,h,"Right")},moveCursorLeftWithoutShift:function(y){var h=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(h=this._moveLeft(y,"selectionStart")),this.selectionEnd=this.selectionStart,h},moveCursorLeftWithShift:function(y){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(y,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(y,"selectionStart")):void 0},moveCursorRight:function(y){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",y)},_moveCursorLeftOrRight:function(y,h){var _="moveCursor"+y+"With";this._currentCursorOpacity=1,this[_+=h.shiftKey?"Shift":"outShift"](h)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(y){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(y,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(y,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(y){var h=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(h=this._moveRight(y,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,h},removeChars:function(y,h){typeof h>"u"&&(h=y+1),this.removeStyleFromTo(y,h),this._text.splice(y,h-y),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(y,h,_,b){typeof b>"u"&&(b=_),b>_&&this.removeStyleFromTo(_,b);var d=w.util.string.graphemeSplit(y);this.insertNewStyleBlock(d,_,h),this._text=[].concat(this._text.slice(0,_),d,this._text.slice(b)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var y=w.util.toFixed,h=w.util.radiansToDegrees,_=w.util.calcRotateMatrix,b=w.util.transformPoint,d=/  +/g;w.util.object.extend(w.Text.prototype,{_toSVG:function(){var u=this._getSVGLeftTopOffsets(),c=this._getSVGTextAndBg(u.textTop,u.textLeft);return this._wrapSVGTextAndBg(c)},toSVG:function(u){var c=this._createBaseSVGMarkup(this._toSVG(),{reviver:u,noStyle:!0,withShadow:!0}),p=this.path;return p?c+p._createBaseSVGMarkup(p._toSVG(),{reviver:u,withShadow:!0}):c},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(u){var p=this.getSvgTextDecoration(this);return[u.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",p?'text-decoration="'+p+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",u.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(u,c){var v,p=[],g=[],f=u;this._setSVGBg(g);for(var C=0,D=this._textLines.length;C<D;C++)v=this._getLineLeftOffset(C),(this.textBackgroundColor||this.styleHas("textBackgroundColor",C))&&this._setSVGTextLineBg(g,C,c+v,f),this._setSVGTextLineText(p,C,c+v,f),f+=this.getHeightOfLine(C);return{textSpans:p,textBgRects:g}},_createTextCharSpan:function(u,c,p,g,f){var v=u!==u.trim()||u.match(d),C=this.getSvgSpanStyles(c,v),D=C?'style="'+C+'"':"",E=c.deltaY,R="",B=w.Object.NUM_FRACTION_DIGITS,H="";if(E&&(R=' dy="'+y(E,B)+'" '),void 0!==f.renderLeft){var q=f.angle;H=' rotate="'+y(h(q),w.Object.NUM_FRACTION_DIGITS)+'" ';var se=f.width/2,he=_({angle:h(q)});he[4]=f.renderLeft,he[5]=f.renderTop;var De=b({x:-se,y:0},he);p=De.x,g=De.y}return['<tspan x="',y(p,B),'" y="',y(g,B),'" ',R,D,H,">",w.util.string.escapeXml(u),"</tspan>"].join("")},_setSVGTextLineText:function(u,c,p,g){var C,D,R,B,se,f=this.getHeightOfLine(c),v=-1!==this.textAlign.indexOf("justify"),E="",H=0,q=this._textLines[c];g+=f*(1-this._fontSizeFraction)/this.lineHeight;for(var he=0,De=q.length-1;he<=De;he++)se=he===De||this.charSpacing||this.path,E+=q[he],R=this.__charBounds[c][he],0===H?(p+=R.kernedWidth-R.width,H+=R.width):H+=R.kernedWidth,v&&!se&&this._reSpaceAndTab.test(q[he])&&(se=!0),se||(C=C||this.getCompleteStyleDeclaration(c,he),D=this.getCompleteStyleDeclaration(c,he+1),se=w.util.hasStyleChanged(C,D,!0)),se&&(B=this._getStyleDeclaration(c,he)||{},u.push(this._createTextCharSpan(E,B,p,g,R)),E="",C=D,p+=H,H=0)},_pushTextBgRect:function(u,c,p,g,f,v){var C=w.Object.NUM_FRACTION_DIGITS;u.push("\t\t<rect ",this._getFillAttributes(c),' x="',y(p,C),'" y="',y(g,C),'" width="',y(f,C),'" height="',y(v,C),'"></rect>\n')},_setSVGTextLineBg:function(u,c,p,g){for(var E,R,f=this._textLines[c],v=this.getHeightOfLine(c)/this.lineHeight,C=0,D=0,B=this.getValueOfPropertyAt(c,0,"textBackgroundColor"),H=0,q=f.length;H<q;H++)E=this.__charBounds[c][H],(R=this.getValueOfPropertyAt(c,H,"textBackgroundColor"))!==B?(B&&this._pushTextBgRect(u,B,p+D,g,C,v),D=E.left,C=E.width,B=R):C+=E.kernedWidth;R&&this._pushTextBgRect(u,R,p+D,g,C,v)},_getFillAttributes:function(u){var c=u&&"string"==typeof u?new w.Color(u):"";return c&&c.getSource()&&1!==c.getAlpha()?'opacity="'+c.getAlpha()+'" fill="'+c.setAlpha(1).toRgb()+'"':'fill="'+u+'"'},_getSVGLineTopOffset:function(u){for(var p,c=0,g=0;g<u;g++)c+=this.getHeightOfLine(g);return p=this.getHeightOfLine(g),{lineTop:c,offset:(this._fontSizeMult-this._fontSizeFraction)*p/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(u){return w.Object.prototype.getSvgStyles.call(this,u)+" white-space: pre;"}})}(),function(y){"use strict";var h=y.fabric||(y.fabric={});h.Textbox=h.util.createClass(h.IText,h.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:h.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(_){for(var b=0,d=0,u=0,c={},p=0;p<_.graphemeLines.length;p++)"\n"===_.graphemeText[u]&&p>0?(d=0,u++,b++):!this.splitByGrapheme&&this._reSpaceAndTab.test(_.graphemeText[u])&&p>0&&(d++,u++),c[p]={line:b,offset:d},u+=_.graphemeLines[p].length,d+=_.graphemeLines[p].length;return c},styleHas:function(_,b){if(this._styleMap&&!this.isWrapping){var d=this._styleMap[b];d&&(b=d.line)}return h.Text.prototype.styleHas.call(this,_,b)},isEmptyStyles:function(_){if(!this.styles)return!0;var u,c,b=0,p=!1,g=this._styleMap[_],f=this._styleMap[_+1];for(var v in g&&(_=g.line,b=g.offset),f&&(p=f.line===_,u=f.offset),c=typeof _>"u"?this.styles:{line:this.styles[_]})for(var C in c[v])if(C>=b&&(!p||C<u))for(var D in c[v][C])return!1;return!0},_getStyleDeclaration:function(_,b){if(this._styleMap&&!this.isWrapping){var d=this._styleMap[_];if(!d)return null;_=d.line,b=d.offset+b}return this.callSuper("_getStyleDeclaration",_,b)},_setStyleDeclaration:function(_,b,d){var u=this._styleMap[_];this.styles[_=u.line][b=u.offset+b]=d},_deleteStyleDeclaration:function(_,b){var d=this._styleMap[_];delete this.styles[_=d.line][b=d.offset+b]},_getLineStyle:function(_){return!!this.styles[this._styleMap[_].line]},_setLineStyle:function(_){this.styles[this._styleMap[_].line]={}},_wrapText:function(_,b){var u,d=[];for(this.isWrapping=!0,u=0;u<_.length;u++)d=d.concat(this._wrapLine(_[u],u,b));return this.isWrapping=!1,d},_measureWord:function(_,b,d){var c,u=0;d=d||0;for(var g=0,f=_.length;g<f;g++)u+=this._getGraphemeBox(_[g],b,g+d,c,!0).kernedWidth,c=_[g];return u},_wrapLine:function(_,b,d,he){var c=0,p=this.splitByGrapheme,g=[],f=[],v=p?h.util.string.graphemeSplit(_):_.split(this._wordJoiners),C="",D=0,E=p?"":" ",R=0,B=0,H=0,q=!0,se=this._getWidthOfCharSpacing();he=he||0,0===v.length&&v.push([]),d-=he;for(var De=0;De<v.length;De++)C=p?v[De]:h.util.string.graphemeSplit(v[De]),R=this._measureWord(C,b,D),D+=C.length,(c+=B+R-se)>d&&!q?(g.push(f),f=[],c=R,q=!0):c+=se,!q&&!p&&f.push(E),f=f.concat(C),B=p?0:this._measureWord([E],b,D),D++,q=!1,R>H&&(H=R);return De&&g.push(f),H+he>this.dynamicMinWidth&&(this.dynamicMinWidth=H-se+he),g},isEndOfWrapping:function(_){return!this._styleMap[_+1]||this._styleMap[_+1].line!==this._styleMap[_].line},missingNewlineOffset:function(_,b){return this.splitByGrapheme&&!b?this.isEndOfWrapping(_)?1:0:1},_splitTextIntoLines:function(_){for(var b=h.Text.prototype._splitTextIntoLines.call(this,_),d=this._wrapText(b.lines,this.width),u=new Array(d.length),c=0;c<d.length;c++)u[c]=d[c].join("");return b.lines=u,b.graphemeLines=d,b},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var _={};for(var b in this._styleMap)this._textLines[b]&&(_[this._styleMap[b].line]=1);for(var b in this.styles)_[b]||delete this.styles[b]},toObject:function(_){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(_))}}),h.Textbox.fromObject=function(_,b){var d=h.util.stylesFromArray(_.styles,_.text),u=Object.assign({},_,{styles:d});return delete u.path,h.Object._fromObject("Textbox",u,function(c){_.path?h.Object._fromObject("Path",_.path,function(p){c.set("path",p),b(c)},"path"):b(c)},"text")}}(ce),function(){var y=w.controlsUtils,h=y.scaleSkewCursorStyleHandler,_=y.scaleCursorStyleHandler,b=y.scalingEqually,d=y.scalingYOrSkewingX,u=y.scalingXOrSkewingY,c=y.scaleOrSkewActionName,p=w.Object.prototype.controls;if(p.ml=new w.Control({x:-.5,y:0,cursorStyleHandler:h,actionHandler:u,getActionName:c}),p.mr=new w.Control({x:.5,y:0,cursorStyleHandler:h,actionHandler:u,getActionName:c}),p.mb=new w.Control({x:0,y:.5,cursorStyleHandler:h,actionHandler:d,getActionName:c}),p.mt=new w.Control({x:0,y:-.5,cursorStyleHandler:h,actionHandler:d,getActionName:c}),p.tl=new w.Control({x:-.5,y:-.5,cursorStyleHandler:_,actionHandler:b}),p.tr=new w.Control({x:.5,y:-.5,cursorStyleHandler:_,actionHandler:b}),p.bl=new w.Control({x:-.5,y:.5,cursorStyleHandler:_,actionHandler:b}),p.br=new w.Control({x:.5,y:.5,cursorStyleHandler:_,actionHandler:b}),p.mtr=new w.Control({x:0,y:-.5,actionHandler:y.rotationWithSnapping,cursorStyleHandler:y.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),w.Textbox){var g=w.Textbox.prototype.controls={};g.mtr=p.mtr,g.tr=p.tr,g.br=p.br,g.tl=p.tl,g.bl=p.bl,g.mt=p.mt,g.mb=p.mb,g.mr=new w.Control({x:.5,y:0,actionHandler:y.changeWidth,cursorStyleHandler:h,actionName:"resizing"}),g.ml=new w.Control({x:-.5,y:0,actionHandler:y.changeWidth,cursorStyleHandler:h,actionName:"resizing"})}}()},314:(Rt,ce,Ee)=>{const le=Ee(836),oe=Ee(460),pe=Ee(30),be=Ee(511);function Ae(y,h,_,b,d){const u=[].slice.call(arguments,1),c=u.length,p="function"==typeof u[c-1];if(!p&&!le())throw new Error("Callback required as last argument");if(!p){if(c<1)throw new Error("Too few arguments provided");return 1===c?(_=h,h=b=void 0):2===c&&!h.getContext&&(b=_,_=h,h=void 0),new Promise(function(g,f){try{const v=oe.create(_,b);g(y(v,h,b))}catch(v){f(v)}})}if(c<2)throw new Error("Too few arguments provided");2===c?(d=_,_=h,h=b=void 0):3===c&&(h.getContext&&typeof d>"u"?(d=b,b=void 0):(d=b,b=_,_=h,h=void 0));try{const g=oe.create(_,b);d(null,y(g,h,b))}catch(g){d(g)}}Ae.bind(null,pe.render),ce.dY=Ae.bind(null,pe.renderToDataURL),Ae.bind(null,function(y,h,_){return be.render(y,_)})},836:Rt=>{Rt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},214:(Rt,ce,Ee)=>{const w=Ee(89).getSymbolSize;ce.getRowColCoords=function(oe){if(1===oe)return[];const pe=Math.floor(oe/7)+2,be=w(oe),Ae=145===be?26:2*Math.ceil((be-13)/(2*pe-2)),y=[be-7];for(let h=1;h<pe-1;h++)y[h]=y[h-1]-Ae;return y.push(6),y.reverse()},ce.getPositions=function(oe){const pe=[],be=ce.getRowColCoords(oe),Ae=be.length;for(let y=0;y<Ae;y++)for(let h=0;h<Ae;h++)0===y&&0===h||0===y&&h===Ae-1||y===Ae-1&&0===h||pe.push([be[y],be[h]]);return pe}},18:(Rt,ce,Ee)=>{const w=Ee(58),le=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function oe(pe){this.mode=w.ALPHANUMERIC,this.data=pe}oe.getBitsLength=function(be){return 11*Math.floor(be/2)+be%2*6},oe.prototype.getLength=function(){return this.data.length},oe.prototype.getBitsLength=function(){return oe.getBitsLength(this.data.length)},oe.prototype.write=function(be){let Ae;for(Ae=0;Ae+2<=this.data.length;Ae+=2){let y=45*le.indexOf(this.data[Ae]);y+=le.indexOf(this.data[Ae+1]),be.put(y,11)}this.data.length%2&&be.put(le.indexOf(this.data[Ae]),6)},Rt.exports=oe},662:Rt=>{function ce(){this.buffer=[],this.length=0}ce.prototype={get:function(Ee){const w=Math.floor(Ee/8);return 1==(this.buffer[w]>>>7-Ee%8&1)},put:function(Ee,w){for(let le=0;le<w;le++)this.putBit(1==(Ee>>>w-le-1&1))},getLengthInBits:function(){return this.length},putBit:function(Ee){const w=Math.floor(this.length/8);this.buffer.length<=w&&this.buffer.push(0),Ee&&(this.buffer[w]|=128>>>this.length%8),this.length++}},Rt.exports=ce},941:Rt=>{function ce(Ee){if(!Ee||Ee<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=Ee,this.data=new Uint8Array(Ee*Ee),this.reservedBit=new Uint8Array(Ee*Ee)}ce.prototype.set=function(Ee,w,le,oe){const pe=Ee*this.size+w;this.data[pe]=le,oe&&(this.reservedBit[pe]=!0)},ce.prototype.get=function(Ee,w){return this.data[Ee*this.size+w]},ce.prototype.xor=function(Ee,w,le){this.data[Ee*this.size+w]^=le},ce.prototype.isReserved=function(Ee,w){return this.reservedBit[Ee*this.size+w]},Rt.exports=ce},969:(Rt,ce,Ee)=>{const w=Ee(58);function le(oe){this.mode=w.BYTE,this.data="string"==typeof oe?(new TextEncoder).encode(oe):new Uint8Array(oe)}le.getBitsLength=function(pe){return 8*pe},le.prototype.getLength=function(){return this.data.length},le.prototype.getBitsLength=function(){return le.getBitsLength(this.data.length)},le.prototype.write=function(oe){for(let pe=0,be=this.data.length;pe<be;pe++)oe.put(this.data[pe],8)},Rt.exports=le},677:(Rt,ce,Ee)=>{const w=Ee(424),le=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],oe=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ce.getBlocksCount=function(be,Ae){switch(Ae){case w.L:return le[4*(be-1)+0];case w.M:return le[4*(be-1)+1];case w.Q:return le[4*(be-1)+2];case w.H:return le[4*(be-1)+3];default:return}},ce.getTotalCodewordsCount=function(be,Ae){switch(Ae){case w.L:return oe[4*(be-1)+0];case w.M:return oe[4*(be-1)+1];case w.Q:return oe[4*(be-1)+2];case w.H:return oe[4*(be-1)+3];default:return}}},424:(Rt,ce)=>{ce.L={bit:1},ce.M={bit:0},ce.Q={bit:3},ce.H={bit:2},ce.isValid=function(le){return le&&typeof le.bit<"u"&&le.bit>=0&&le.bit<4},ce.from=function(le,oe){if(ce.isValid(le))return le;try{return function Ee(w){if("string"!=typeof w)throw new Error("Param is not a string");switch(w.toLowerCase()){case"l":case"low":return ce.L;case"m":case"medium":return ce.M;case"q":case"quartile":return ce.Q;case"h":case"high":return ce.H;default:throw new Error("Unknown EC Level: "+w)}}(le)}catch{return oe}}},269:(Rt,ce,Ee)=>{const w=Ee(89).getSymbolSize;ce.getPositions=function(pe){const be=w(pe);return[[0,0],[be-7,0],[0,be-7]]}},254:(Rt,ce,Ee)=>{const w=Ee(89),pe=w.getBCHDigit(1335);ce.getEncodedBits=function(Ae,y){const h=Ae.bit<<3|y;let _=h<<10;for(;w.getBCHDigit(_)-pe>=0;)_^=1335<<w.getBCHDigit(_)-pe;return 21522^(h<<10|_)}},686:(Rt,ce)=>{const Ee=new Uint8Array(512),w=new Uint8Array(256);(function(){let oe=1;for(let pe=0;pe<255;pe++)Ee[pe]=oe,w[oe]=pe,oe<<=1,256&oe&&(oe^=285);for(let pe=255;pe<512;pe++)Ee[pe]=Ee[pe-255]})(),ce.log=function(oe){if(oe<1)throw new Error("log("+oe+")");return w[oe]},ce.exp=function(oe){return Ee[oe]},ce.mul=function(oe,pe){return 0===oe||0===pe?0:Ee[w[oe]+w[pe]]}},264:(Rt,ce,Ee)=>{const w=Ee(58),le=Ee(89);function oe(pe){this.mode=w.KANJI,this.data=pe}oe.getBitsLength=function(be){return 13*be},oe.prototype.getLength=function(){return this.data.length},oe.prototype.getBitsLength=function(){return oe.getBitsLength(this.data.length)},oe.prototype.write=function(pe){let be;for(be=0;be<this.data.length;be++){let Ae=le.toSJIS(this.data[be]);if(Ae>=33088&&Ae<=40956)Ae-=33088;else{if(!(Ae>=57408&&Ae<=60351))throw new Error("Invalid SJIS character: "+this.data[be]+"\nMake sure your charset is UTF-8");Ae-=49472}Ae=192*(Ae>>>8&255)+(255&Ae),pe.put(Ae,13)}},Rt.exports=oe},361:(Rt,ce)=>{ce.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function w(le,oe,pe){switch(le){case ce.Patterns.PATTERN000:return(oe+pe)%2==0;case ce.Patterns.PATTERN001:return oe%2==0;case ce.Patterns.PATTERN010:return pe%3==0;case ce.Patterns.PATTERN011:return(oe+pe)%3==0;case ce.Patterns.PATTERN100:return(Math.floor(oe/2)+Math.floor(pe/3))%2==0;case ce.Patterns.PATTERN101:return oe*pe%2+oe*pe%3==0;case ce.Patterns.PATTERN110:return(oe*pe%2+oe*pe%3)%2==0;case ce.Patterns.PATTERN111:return(oe*pe%3+(oe+pe)%2)%2==0;default:throw new Error("bad maskPattern:"+le)}}ce.isValid=function(oe){return null!=oe&&""!==oe&&!isNaN(oe)&&oe>=0&&oe<=7},ce.from=function(oe){return ce.isValid(oe)?parseInt(oe,10):void 0},ce.getPenaltyN1=function(oe){const pe=oe.size;let be=0,Ae=0,y=0,h=null,_=null;for(let b=0;b<pe;b++){Ae=y=0,h=_=null;for(let d=0;d<pe;d++){let u=oe.get(b,d);u===h?Ae++:(Ae>=5&&(be+=Ae-5+3),h=u,Ae=1),u=oe.get(d,b),u===_?y++:(y>=5&&(be+=y-5+3),_=u,y=1)}Ae>=5&&(be+=Ae-5+3),y>=5&&(be+=y-5+3)}return be},ce.getPenaltyN2=function(oe){const pe=oe.size;let be=0;for(let Ae=0;Ae<pe-1;Ae++)for(let y=0;y<pe-1;y++){const h=oe.get(Ae,y)+oe.get(Ae,y+1)+oe.get(Ae+1,y)+oe.get(Ae+1,y+1);(4===h||0===h)&&be++}return 3*be},ce.getPenaltyN3=function(oe){const pe=oe.size;let be=0,Ae=0,y=0;for(let h=0;h<pe;h++){Ae=y=0;for(let _=0;_<pe;_++)Ae=Ae<<1&2047|oe.get(h,_),_>=10&&(1488===Ae||93===Ae)&&be++,y=y<<1&2047|oe.get(_,h),_>=10&&(1488===y||93===y)&&be++}return 40*be},ce.getPenaltyN4=function(oe){let pe=0;const be=oe.data.length;for(let y=0;y<be;y++)pe+=oe.data[y];return 10*Math.abs(Math.ceil(100*pe/be/5)-10)},ce.applyMask=function(oe,pe){const be=pe.size;for(let Ae=0;Ae<be;Ae++)for(let y=0;y<be;y++)pe.isReserved(y,Ae)||pe.xor(y,Ae,w(oe,y,Ae))},ce.getBestMask=function(oe,pe){const be=Object.keys(ce.Patterns).length;let Ae=0,y=1/0;for(let h=0;h<be;h++){pe(h),ce.applyMask(h,oe);const _=ce.getPenaltyN1(oe)+ce.getPenaltyN2(oe)+ce.getPenaltyN3(oe)+ce.getPenaltyN4(oe);ce.applyMask(h,oe),_<y&&(y=_,Ae=h)}return Ae}},58:(Rt,ce,Ee)=>{const w=Ee(377),le=Ee(359);ce.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},ce.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},ce.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},ce.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},ce.MIXED={bit:-1},ce.getCharCountIndicator=function(be,Ae){if(!be.ccBits)throw new Error("Invalid mode: "+be);if(!w.isValid(Ae))throw new Error("Invalid version: "+Ae);return Ae>=1&&Ae<10?be.ccBits[0]:Ae<27?be.ccBits[1]:be.ccBits[2]},ce.getBestModeForData=function(be){return le.testNumeric(be)?ce.NUMERIC:le.testAlphanumeric(be)?ce.ALPHANUMERIC:le.testKanji(be)?ce.KANJI:ce.BYTE},ce.toString=function(be){if(be&&be.id)return be.id;throw new Error("Invalid mode")},ce.isValid=function(be){return be&&be.bit&&be.ccBits},ce.from=function(be,Ae){if(ce.isValid(be))return be;try{return function oe(pe){if("string"!=typeof pe)throw new Error("Param is not a string");switch(pe.toLowerCase()){case"numeric":return ce.NUMERIC;case"alphanumeric":return ce.ALPHANUMERIC;case"kanji":return ce.KANJI;case"byte":return ce.BYTE;default:throw new Error("Unknown mode: "+pe)}}(be)}catch{return Ae}}},628:(Rt,ce,Ee)=>{const w=Ee(58);function le(oe){this.mode=w.NUMERIC,this.data=oe.toString()}le.getBitsLength=function(pe){return 10*Math.floor(pe/3)+(pe%3?pe%3*3+1:0)},le.prototype.getLength=function(){return this.data.length},le.prototype.getBitsLength=function(){return le.getBitsLength(this.data.length)},le.prototype.write=function(pe){let be,Ae,y;for(be=0;be+3<=this.data.length;be+=3)Ae=this.data.substr(be,3),y=parseInt(Ae,10),pe.put(y,10);const h=this.data.length-be;h>0&&(Ae=this.data.substr(be),y=parseInt(Ae,10),pe.put(y,3*h+1))},Rt.exports=le},744:(Rt,ce,Ee)=>{const w=Ee(686);ce.mul=function(oe,pe){const be=new Uint8Array(oe.length+pe.length-1);for(let Ae=0;Ae<oe.length;Ae++)for(let y=0;y<pe.length;y++)be[Ae+y]^=w.mul(oe[Ae],pe[y]);return be},ce.mod=function(oe,pe){let be=new Uint8Array(oe);for(;be.length-pe.length>=0;){const Ae=be[0];for(let h=0;h<pe.length;h++)be[h]^=w.mul(pe[h],Ae);let y=0;for(;y<be.length&&0===be[y];)y++;be=be.slice(y)}return be},ce.generateECPolynomial=function(oe){let pe=new Uint8Array([1]);for(let be=0;be<oe;be++)pe=ce.mul(pe,new Uint8Array([1,w.exp(be)]));return pe}},460:(Rt,ce,Ee)=>{const w=Ee(89),le=Ee(424),oe=Ee(662),pe=Ee(941),be=Ee(214),Ae=Ee(269),y=Ee(361),h=Ee(677),_=Ee(289),b=Ee(252),d=Ee(254),u=Ee(58),c=Ee(868);function C(H,q,se){const he=H.size,De=d.getEncodedBits(q,se);let Pe,Re;for(Pe=0;Pe<15;Pe++)Re=1==(De>>Pe&1),H.set(Pe<6?Pe:Pe<8?Pe+1:he-15+Pe,8,Re,!0),H.set(8,Pe<8?he-Pe-1:Pe<9?15-Pe-1+1:15-Pe-1,Re,!0);H.set(he-8,8,1,!0)}function B(H,q,se,he){let De;if(Array.isArray(H))De=c.fromArray(H);else{if("string"!=typeof H)throw new Error("Invalid data");{let it=q;if(!it){const dt=c.rawSplit(H);it=b.getBestVersionForData(dt,se)}De=c.fromString(H,it||40)}}const Pe=b.getBestVersionForData(De,se);if(!Pe)throw new Error("The amount of data is too big to be stored in a QR Code");if(q){if(q<Pe)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+Pe+".\n")}else q=Pe;const Re=function E(H,q,se){const he=new oe;se.forEach(function(Ve){he.put(Ve.mode.bit,4),he.put(Ve.getLength(),u.getCharCountIndicator(Ve.mode,H)),Ve.write(he)});const Re=8*(w.getSymbolTotalCodewords(H)-h.getTotalCodewordsCount(H,q));for(he.getLengthInBits()+4<=Re&&he.put(0,4);he.getLengthInBits()%8!=0;)he.putBit(0);const Le=(Re-he.getLengthInBits())/8;for(let Ve=0;Ve<Le;Ve++)he.put(Ve%2?17:236,8);return function R(H,q,se){const he=w.getSymbolTotalCodewords(q),Pe=he-h.getTotalCodewordsCount(q,se),Re=h.getBlocksCount(q,se),Ve=Re-he%Re,it=Math.floor(he/Re),dt=Math.floor(Pe/Re),ct=dt+1,j=it-dt,te=new _(j);let ee=0;const J=new Array(Re),Se=new Array(Re);let X=0;const U=new Uint8Array(H.buffer);for(let ie=0;ie<Re;ie++){const ue=ie<Ve?dt:ct;J[ie]=U.slice(ee,ee+ue),Se[ie]=te.encode(J[ie]),ee+=ue,X=Math.max(X,ue)}const de=new Uint8Array(he);let $,Y,ge=0;for($=0;$<X;$++)for(Y=0;Y<Re;Y++)$<J[Y].length&&(de[ge++]=J[Y][$]);for($=0;$<j;$++)for(Y=0;Y<Re;Y++)de[ge++]=Se[Y][$];return de}(he,H,q)}(q,se,De),Le=w.getSymbolSize(q),Ve=new pe(Le);return function p(H,q){const se=H.size,he=Ae.getPositions(q);for(let De=0;De<he.length;De++){const Pe=he[De][0],Re=he[De][1];for(let Le=-1;Le<=7;Le++)if(!(Pe+Le<=-1||se<=Pe+Le))for(let Ve=-1;Ve<=7;Ve++)Re+Ve<=-1||se<=Re+Ve||H.set(Pe+Le,Re+Ve,Le>=0&&Le<=6&&(0===Ve||6===Ve)||Ve>=0&&Ve<=6&&(0===Le||6===Le)||Le>=2&&Le<=4&&Ve>=2&&Ve<=4,!0)}}(Ve,q),function g(H){const q=H.size;for(let se=8;se<q-8;se++){const he=se%2==0;H.set(se,6,he,!0),H.set(6,se,he,!0)}}(Ve),function f(H,q){const se=be.getPositions(q);for(let he=0;he<se.length;he++){const De=se[he][0],Pe=se[he][1];for(let Re=-2;Re<=2;Re++)for(let Le=-2;Le<=2;Le++)H.set(De+Re,Pe+Le,-2===Re||2===Re||-2===Le||2===Le||0===Re&&0===Le,!0)}}(Ve,q),C(Ve,se,0),q>=7&&function v(H,q){const se=H.size,he=b.getEncodedBits(q);let De,Pe,Re;for(let Le=0;Le<18;Le++)De=Math.floor(Le/3),Pe=Le%3+se-8-3,Re=1==(he>>Le&1),H.set(De,Pe,Re,!0),H.set(Pe,De,Re,!0)}(Ve,q),function D(H,q){const se=H.size;let he=-1,De=se-1,Pe=7,Re=0;for(let Le=se-1;Le>0;Le-=2)for(6===Le&&Le--;;){for(let Ve=0;Ve<2;Ve++)if(!H.isReserved(De,Le-Ve)){let it=!1;Re<q.length&&(it=1==(q[Re]>>>Pe&1)),H.set(De,Le-Ve,it),Pe--,-1===Pe&&(Re++,Pe=7)}if(De+=he,De<0||se<=De){De-=he,he=-he;break}}}(Ve,Re),isNaN(he)&&(he=y.getBestMask(Ve,C.bind(null,Ve,se))),y.applyMask(he,Ve),C(Ve,se,he),{modules:Ve,version:q,errorCorrectionLevel:se,maskPattern:he,segments:De}}ce.create=function(q,se){if(typeof q>"u"||""===q)throw new Error("No input text");let De,Pe,he=le.M;return typeof se<"u"&&(he=le.from(se.errorCorrectionLevel,le.M),De=b.from(se.version),Pe=y.from(se.maskPattern),se.toSJISFunc&&w.setToSJISFunction(se.toSJISFunc)),B(q,De,he,Pe)}},289:(Rt,ce,Ee)=>{const w=Ee(744);function le(oe){this.genPoly=void 0,this.degree=oe,this.degree&&this.initialize(this.degree)}le.prototype.initialize=function(pe){this.degree=pe,this.genPoly=w.generateECPolynomial(this.degree)},le.prototype.encode=function(pe){if(!this.genPoly)throw new Error("Encoder not initialized");const be=new Uint8Array(pe.length+this.degree);be.set(pe);const Ae=w.mod(be,this.genPoly),y=this.degree-Ae.length;if(y>0){const h=new Uint8Array(this.degree);return h.set(Ae,y),h}return Ae},Rt.exports=le},359:(Rt,ce)=>{let le="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";le=le.replace(/u/g,"\\u");const oe="(?:(?![A-Z0-9 $%*+\\-./:]|"+le+")(?:.|[\r\n]))+";ce.KANJI=new RegExp(le,"g"),ce.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ce.BYTE=new RegExp(oe,"g"),ce.NUMERIC=new RegExp("[0-9]+","g"),ce.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const pe=new RegExp("^"+le+"$"),be=new RegExp("^[0-9]+$"),Ae=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ce.testKanji=function(h){return pe.test(h)},ce.testNumeric=function(h){return be.test(h)},ce.testAlphanumeric=function(h){return Ae.test(h)}},868:(Rt,ce,Ee)=>{const w=Ee(58),le=Ee(628),oe=Ee(18),pe=Ee(969),be=Ee(264),Ae=Ee(359),y=Ee(89),h=Ee(243);function _(v){return unescape(encodeURIComponent(v)).length}function b(v,C,D){const E=[];let R;for(;null!==(R=v.exec(D));)E.push({data:R[0],index:R.index,mode:C,length:R[0].length});return E}function d(v){const C=b(Ae.NUMERIC,w.NUMERIC,v),D=b(Ae.ALPHANUMERIC,w.ALPHANUMERIC,v);let E,R;return y.isKanjiModeEnabled()?(E=b(Ae.BYTE,w.BYTE,v),R=b(Ae.KANJI,w.KANJI,v)):(E=b(Ae.BYTE_KANJI,w.BYTE,v),R=[]),C.concat(D,E,R).sort(function(H,q){return H.index-q.index}).map(function(H){return{data:H.data,mode:H.mode,length:H.length}})}function u(v,C){switch(C){case w.NUMERIC:return le.getBitsLength(v);case w.ALPHANUMERIC:return oe.getBitsLength(v);case w.KANJI:return be.getBitsLength(v);case w.BYTE:return pe.getBitsLength(v)}}function f(v,C){let D;const E=w.getBestModeForData(v);if(D=w.from(C,E),D!==w.BYTE&&D.bit<E.bit)throw new Error('"'+v+'" cannot be encoded with mode '+w.toString(D)+".\n Suggested mode is: "+w.toString(E));switch(D===w.KANJI&&!y.isKanjiModeEnabled()&&(D=w.BYTE),D){case w.NUMERIC:return new le(v);case w.ALPHANUMERIC:return new oe(v);case w.KANJI:return new be(v);case w.BYTE:return new pe(v)}}ce.fromArray=function(C){return C.reduce(function(D,E){return"string"==typeof E?D.push(f(E,null)):E.data&&D.push(f(E.data,E.mode)),D},[])},ce.fromString=function(C,D){const R=function p(v){const C=[];for(let D=0;D<v.length;D++){const E=v[D];switch(E.mode){case w.NUMERIC:C.push([E,{data:E.data,mode:w.ALPHANUMERIC,length:E.length},{data:E.data,mode:w.BYTE,length:E.length}]);break;case w.ALPHANUMERIC:C.push([E,{data:E.data,mode:w.BYTE,length:E.length}]);break;case w.KANJI:C.push([E,{data:E.data,mode:w.BYTE,length:_(E.data)}]);break;case w.BYTE:C.push([{data:E.data,mode:w.BYTE,length:_(E.data)}])}}return C}(d(C,y.isKanjiModeEnabled())),B=function g(v,C){const D={},E={start:{}};let R=["start"];for(let B=0;B<v.length;B++){const H=v[B],q=[];for(let se=0;se<H.length;se++){const he=H[se],De=""+B+se;q.push(De),D[De]={node:he,lastCount:0},E[De]={};for(let Pe=0;Pe<R.length;Pe++){const Re=R[Pe];D[Re]&&D[Re].node.mode===he.mode?(E[Re][De]=u(D[Re].lastCount+he.length,he.mode)-u(D[Re].lastCount,he.mode),D[Re].lastCount+=he.length):(D[Re]&&(D[Re].lastCount=he.length),E[Re][De]=u(he.length,he.mode)+4+w.getCharCountIndicator(he.mode,C))}}R=q}for(let B=0;B<R.length;B++)E[R[B]].end=0;return{map:E,table:D}}(R,D),H=h.find_path(B.map,"start","end"),q=[];for(let se=1;se<H.length-1;se++)q.push(B.table[H[se]].node);return ce.fromArray(function c(v){return v.reduce(function(C,D){const E=C.length-1>=0?C[C.length-1]:null;return E&&E.mode===D.mode?(C[C.length-1].data+=D.data,C):(C.push(D),C)},[])}(q))},ce.rawSplit=function(C){return ce.fromArray(d(C,y.isKanjiModeEnabled()))}},89:(Rt,ce)=>{let Ee;const w=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ce.getSymbolSize=function(oe){if(!oe)throw new Error('"version" cannot be null or undefined');if(oe<1||oe>40)throw new Error('"version" should be in range from 1 to 40');return 4*oe+17},ce.getSymbolTotalCodewords=function(oe){return w[oe]},ce.getBCHDigit=function(le){let oe=0;for(;0!==le;)oe++,le>>>=1;return oe},ce.setToSJISFunction=function(oe){if("function"!=typeof oe)throw new Error('"toSJISFunc" is not a valid function.');Ee=oe},ce.isKanjiModeEnabled=function(){return typeof Ee<"u"},ce.toSJIS=function(oe){return Ee(oe)}},377:(Rt,ce)=>{ce.isValid=function(w){return!isNaN(w)&&w>=1&&w<=40}},252:(Rt,ce,Ee)=>{const w=Ee(89),le=Ee(677),oe=Ee(424),pe=Ee(58),be=Ee(377),y=w.getBCHDigit(7973);function _(u,c){return pe.getCharCountIndicator(u,c)+4}function b(u,c){let p=0;return u.forEach(function(g){const f=_(g.mode,c);p+=f+g.getBitsLength()}),p}ce.from=function(c,p){return be.isValid(c)?parseInt(c,10):p},ce.getCapacity=function(c,p,g){if(!be.isValid(c))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=pe.BYTE);const C=8*(w.getSymbolTotalCodewords(c)-le.getTotalCodewordsCount(c,p));if(g===pe.MIXED)return C;const D=C-_(g,c);switch(g){case pe.NUMERIC:return Math.floor(D/10*3);case pe.ALPHANUMERIC:return Math.floor(D/11*2);case pe.KANJI:return Math.floor(D/13);default:return Math.floor(D/8)}},ce.getBestVersionForData=function(c,p){let g;const f=oe.from(p,oe.M);if(Array.isArray(c)){if(c.length>1)return function d(u,c){for(let p=1;p<=40;p++)if(b(u,p)<=ce.getCapacity(p,c,pe.MIXED))return p}(c,f);if(0===c.length)return 1;g=c[0]}else g=c;return function h(u,c,p){for(let g=1;g<=40;g++)if(c<=ce.getCapacity(g,p,u))return g}(g.mode,g.getLength(),f)},ce.getEncodedBits=function(c){if(!be.isValid(c)||c<7)throw new Error("Invalid QR Code version");let p=c<<12;for(;w.getBCHDigit(p)-y>=0;)p^=7973<<w.getBCHDigit(p)-y;return c<<12|p}},30:(Rt,ce,Ee)=>{const w=Ee(77);ce.render=function(be,Ae,y){let h=y,_=Ae;typeof h>"u"&&(!Ae||!Ae.getContext)&&(h=Ae,Ae=void 0),Ae||(_=function oe(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),h=w.getOptions(h);const b=w.getImageWidth(be.modules.size,h),d=_.getContext("2d"),u=d.createImageData(b,b);return w.qrToImageData(u.data,be,h),function le(pe,be,Ae){pe.clearRect(0,0,be.width,be.height),be.style||(be.style={}),be.height=Ae,be.width=Ae,be.style.height=Ae+"px",be.style.width=Ae+"px"}(d,_,b),d.putImageData(u,0,0),_},ce.renderToDataURL=function(be,Ae,y){let h=y;return typeof h>"u"&&(!Ae||!Ae.getContext)&&(h=Ae,Ae=void 0),h||(h={}),ce.render(be,Ae,h).toDataURL(h.type||"image/png",(h.rendererOpts||{}).quality)}},511:(Rt,ce,Ee)=>{const w=Ee(77);function le(be,Ae){const y=be.a/255,h=Ae+'="'+be.hex+'"';return y<1?h+" "+Ae+'-opacity="'+y.toFixed(2).slice(1)+'"':h}function oe(be,Ae,y){let h=be+Ae;return typeof y<"u"&&(h+=" "+y),h}ce.render=function(Ae,y,h){const _=w.getOptions(y),b=Ae.modules.size,d=Ae.modules.data,u=b+2*_.margin,c=_.color.light.a?"<path "+le(_.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",p="<path "+le(_.color.dark,"stroke")+' d="'+function pe(be,Ae,y){let h="",_=0,b=!1,d=0;for(let u=0;u<be.length;u++){const c=Math.floor(u%Ae),p=Math.floor(u/Ae);!c&&!b&&(b=!0),be[u]?(d++,u>0&&c>0&&be[u-1]||(h+=b?oe("M",c+y,.5+p+y):oe("m",_,0),_=0,b=!1),c+1<Ae&&be[u+1]||(h+=oe("h",d),d=0)):_++}return h}(d,b,_.margin)+'"/>',v='<svg xmlns="http://www.w3.org/2000/svg" '+(_.width?'width="'+_.width+'" height="'+_.width+'" ':"")+'viewBox="0 0 '+u+" "+u+'" shape-rendering="crispEdges">'+c+p+"</svg>\n";return"function"==typeof h&&h(null,v),v}},77:(Rt,ce)=>{function Ee(w){if("number"==typeof w&&(w=w.toString()),"string"!=typeof w)throw new Error("Color should be defined as hex string");let le=w.slice().replace("#","").split("");if(le.length<3||5===le.length||le.length>8)throw new Error("Invalid hex color: "+w);(3===le.length||4===le.length)&&(le=Array.prototype.concat.apply([],le.map(function(pe){return[pe,pe]}))),6===le.length&&le.push("F","F");const oe=parseInt(le.join(""),16);return{r:oe>>24&255,g:oe>>16&255,b:oe>>8&255,a:255&oe,hex:"#"+le.slice(0,6).join("")}}ce.getOptions=function(le){le||(le={}),le.color||(le.color={});const pe=le.width&&le.width>=21?le.width:void 0;return{width:pe,scale:pe?4:le.scale||4,margin:typeof le.margin>"u"||null===le.margin||le.margin<0?4:le.margin,color:{dark:Ee(le.color.dark||"#000000ff"),light:Ee(le.color.light||"#ffffffff")},type:le.type,rendererOpts:le.rendererOpts||{}}},ce.getScale=function(le,oe){return oe.width&&oe.width>=le+2*oe.margin?oe.width/(le+2*oe.margin):oe.scale},ce.getImageWidth=function(le,oe){const pe=ce.getScale(le,oe);return Math.floor((le+2*oe.margin)*pe)},ce.qrToImageData=function(le,oe,pe){const be=oe.modules.size,Ae=oe.modules.data,y=ce.getScale(be,pe),h=Math.floor((be+2*pe.margin)*y),_=pe.margin*y,b=[pe.color.light,pe.color.dark];for(let d=0;d<h;d++)for(let u=0;u<h;u++){let c=4*(d*h+u),p=pe.color.light;d>=_&&u>=_&&d<h-_&&u<h-_&&(p=b[Ae[Math.floor((d-_)/y)*be+Math.floor((u-_)/y)]?1:0]),le[c++]=p.r,le[c++]=p.g,le[c++]=p.b,le[c]=p.a}}},574:()=>{},748:()=>{},246:()=>{},73:()=>{"use strict";const Rt=":";Error;const U=function($,...Y){if(U.translate){const ue=U.translate($,Y);$=ue[0],Y=ue[1]}let ie=ge($[0],$.raw[0]);for(let ue=1;ue<$.length;ue++)ie+=Y[ue-1]+ge($[ue],$.raw[ue]);return ie},de=":";function ge($,Y){return Y.charAt(0)===de?$.substring(function Le($,Y){for(let ie=1,ue=1;ie<$.length;ie++,ue++)if("\\"===Y[ue])ue++;else if($[ie]===Rt)return ie;throw new Error(`Unterminated $localize metadata block in "${Y}".`)}($,Y)+1):$}globalThis.$localize=U}},Rt=>{var ce=w=>Rt(Rt.s=w);ce(73),ce(942)}]);